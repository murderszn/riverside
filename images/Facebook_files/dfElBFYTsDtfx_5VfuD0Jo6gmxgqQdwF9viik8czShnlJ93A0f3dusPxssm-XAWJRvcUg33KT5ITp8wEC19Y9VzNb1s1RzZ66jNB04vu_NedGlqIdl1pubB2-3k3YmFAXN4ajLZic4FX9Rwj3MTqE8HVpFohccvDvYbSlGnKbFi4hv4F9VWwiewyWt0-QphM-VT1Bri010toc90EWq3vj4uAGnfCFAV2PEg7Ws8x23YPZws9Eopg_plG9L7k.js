;/*FB_PKG_DELIM*/

__d("hyperionChannel",["hyperionHook"],(function(a,b,c,d,e,f,g){var h;a=function(){function a(){this.$1=new((h||(h=d("hyperionHook"))).Hook)()}var b=a.prototype;b.pipe=function(a,b){var c=this.$1.add(b?function(c){for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];b(function(){a.emit.apply(a,[c].concat(e))})}:function(b){for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];a.emit.apply(a,[b].concat(d))});c.$2=a;return a};b.unpipe=function(a){return this.$1.removeIf(function(b){return b.$2===a})};b.emit=function(a){var b;for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];(b=this.$1).call.apply(b,[a].concat(d))};return a}();b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$Channel1=Object.create(null),babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.$Channel2=function(a){var b=this.$Channel1[a];b||(b=this.$Channel1[a]=new((h||(h=d("hyperionHook"))).Hook)());return b};c.on=function(a){return this.$Channel2(a)};c.addListener=function(a,b){return this.on(a).add(b)};c.removeListener=function(a,b){this.on(a).remove(b);return b};c.emit=function(b){var c,d;for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];(c=this.$Channel2(b)).call.apply(c,f);(d=a.prototype.emit).call.apply(d,[this,b].concat(f))};return b}(a);c=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.$PausableChannel1=!1,babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.pause=function(){this.$PausableChannel1=!0};c.unpause=function(){this.$PausableChannel1=!1};c.isPaused=function(){return this.$PausableChannel1};c.emit=function(b){var c;if(this.$PausableChannel1)return;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};return b}(b);g.Channel=b;g.PausableChannel=c;g.PipeableEmitter=a}),98);
__d("ALChannel",["hyperionChannel"],(function(a,b,c,d,e,f,g){"use strict";a=new(d("hyperionChannel").Channel)();b=a;g["default"]=b}),98);
__d("ALReactUtils",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return!0},i=function(a){var b=Object.keys(a).find(function(a){return a.startsWith("__reactFiber$")});return b!=null?a[b]:null},j=function(a){var b;b=(b=a.displayName)!=null?b:a.name;if(b==null)return null;a=b.match(/.*\[from (.*)\.react\]/);return(a=a==null?void 0:a[1])!=null?a:b};function a(a,b){if(a==null){c("FBLogger")("ads_manager_auto_logging").warn("[AL] Null element passed to getReactComponentName_THIS_CAN_BREAK.");return null}b=b?b:h;a=a;try{a=i(a);while(a){var d=a.type;if(d==null||typeof d==="string"){a=a["return"];continue}var e=j(d);e==null&&d.render!=null&&(e=j(d.render));if(e!=null&&e!==""&&b(e))return e;a=a["return"]}}catch(a){c("FBLogger")("ads_manager_auto_logging").catching(a).warn("[AL] Caught exception in getReactComponentName_THIS_CAN_BREAK.");return null}}g.getReactComponentName_THIS_CAN_BREAK=a}),98);
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AcfToastImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1873550");b=d("FalcoLoggerInternal").create("acf_toast_impression",a);e=b;g["default"]=e}),98);
__d("AutoLoggingComponentValidatorListSitevarConfig.experimental",["cr:27482"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:27482")}),98);
__d("AutoLoggingComponentNameValidator",["AutoLoggingComponentValidatorListSitevarConfig.experimental","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h={COMPONENT_ALLOW_LIST:c("AutoLoggingComponentValidatorListSitevarConfig.experimental").COMPONENT_ALLOW_LIST,COMPONENT_BLOCK_LIST:c("AutoLoggingComponentValidatorListSitevarConfig.experimental").COMPONENT_BLOCK_LIST},i=function(a){return a.join("|")},j=null;function a(a){var b;j!=null&&j!==a&&c("FBLogger")("auto_logging").warn("Config name used to get validator changed, ensure you are using consistent init config across AutoLogging",j,a);j=a;a=(b=(b=c("AutoLoggingComponentValidatorListSitevarConfig.experimental").TOOL_CONFIG)==null?void 0:b[a])!=null?b:h;var d=i(a.COMPONENT_ALLOW_LIST),e=i(a.COMPONENT_BLOCK_LIST);return function(a){return a.match(d)!=null&&a.match(e)==null}}g.getComponentNameValidator=a}),98);
__d("AdsALReactUtils",["ALReactUtils","AutoLoggingComponentNameValidator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("AutoLoggingComponentNameValidator").getComponentNameValidator("ads");function a(a,b){b===void 0&&(b=null);return d("ALReactUtils").getReactComponentName_THIS_CAN_BREAK(a,((a=b)==null?void 0:a.skipValidator)===!0?function(){return!0}:h)}function b(a){return!h(a)}g.getReactComponentName_THIS_CAN_BREAK=a;g.isComponentNameBlocked=b}),98);
__d("AutoLoggingComponentValidatorListSitevarConfigJSModuleWrapper",["AutoLoggingComponentValidatorListSitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AutoLoggingComponentValidatorListSitevarConfig")}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData"],(function(a,b,c,d,e,f,g){"use strict";function a(){c("BDClientSignalCollectionTrigger").startSignalCollection(c("BDSignalCollectionData"))}g.initSignalCollection=a}),98);
__d("Chromedome",["fbt"],(function(a,b,c,d,e,f,g,h){function i(){if(document.domain==null)return null;var a=document.domain,b=/^intern\./.test(a);if(b)return null;b=/(^|\.)facebook\.(com|sg)$/.test(a);if(b)return"facebook";b=/(^|\.)instagram\.com$/.test(a);if(b)return"instagram";b=/(^|\.)threads\.(com|net)$/.test(a);if(b)return"threads";b=/(^|\.)messenger\.com$/.test(a);return b?"messenger":null}function j(a){if(a==="instagram")return h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable an Instagram feature or \"hack\" someone's account, it is a scam and will give them access to your Instagram account.");return a==="threads"?h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Threads feature or \"hack\" someone's account, it is a scam and will give them access to your Threads account."):h._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy and paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account.")}function a(a){if(top!==window)return;a=i();if(a==null)return;var b=h._(/*BTDS*/"Stop!");a=j(a);var c=h._(/*BTDS*/"See {url} for more information.",[h._param("url","https://www.facebook.com/selfxss")]),d="font-family:helvetica; font-size:20px; ";[[b,d+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[a,d],[c,d],["",""]].map(function(a){window.setTimeout(console.log.bind(console,"\n%c"+a[0].toString(),a[1]))})}g.start=a}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1764786");b=d("FalcoLoggerInternal").create("client_consistency",a);e=b;g["default"]=e}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=!1,k={height:0,width:0};function l(){i===null&&(i=c("getViewportDimensions")());return i}function m(){var a=c("getViewportDimensions")(),b=a.height;a=a.width;(k.width!==a||k.height!==b)&&(k={height:b,width:a},c("Cookie").set("wd",a+"x"+b))}function n(){if(!(h||(h=c("ExecutionEnvironment"))).canUseDOM||c("isInIframe")()||j)return;j=!0;m();window.addEventListener("resize",c("CometDebounce")(m,{wait:250}),{passive:!0});window.addEventListener("focus",m,{passive:!0})}function a(a){var b,d=l();n();b={client_hint_width:a==null?void 0:a.clientHintWidth,pixel_ratio:(b=window.devicePixelRatio)!=null?b:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:c("SiteData").pr,server_viewport_x:a==null?void 0:a.viewportWidth,server_viewport_y:a==null?void 0:a.viewportHeight,viewport_x:d.width,viewport_y:d.height};window.navigator&&window.navigator.hardwareConcurrency&&(b.cpu_cores_count=window.navigator.hardwareConcurrency);if(window.innerWidth>0&&window.outerWidth>0){a=Math.round(window.outerWidth/window.innerWidth*100)/100;b.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){d=window.getComputedStyle(document.documentElement);d!=null&&(b.document_font_size=d.fontSize)}c("WebBrowserDimensionsTypedLoggerLite").log(b)}g.init=a}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("Chromedome").__setRef("CometChromeDome");function a(){i.onReady(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){a.start({})})})}g.init=a}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("CometContentArea.react"),{verticalAlign:"middle",children:j.jsx(c("FDSNullState.react"),{headline:h._(/*BTDS*/"Sorry! Something went wrong :("),icon:c("NullStateGeneral")})})})),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("GhlTestUbtFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1942319");b=d("FalcoLoggerInternal").create("ghl_test_ubt",a);e=b;g["default"]=e}),98);
__d("CometGHLTestUBT",["GhlTestUbtFalcoEvent","JSScheduler","ghlTestUBT"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){c("ghlTestUBT")(function(b,d){(b||d)&&a.addGlobalMetadata("adblocker_enabled",1);return c("GhlTestUbtFalcoEvent").log(function(){return{recent:d,ubt:b}})})})}g["default"]=a}),98);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"}),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("CometSVGIcon.react"),babelHelpers["extends"]({viewBox:"0 0 24 24"},a,{children:e})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometLogoutHandlerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"logout_hash",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"has_confirmed_contactpoints",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e=[d],f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometLogoutHandlerQuery",selections:[a,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pending_contactpoints",plural:!0,selections:[{kind:"InlineFragment",selections:e,type:"PendingEmail",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Phone",abstractKey:null}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"CometLogoutHandlerQuery",selections:[a,{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[d,f,{kind:"InlineFragment",selections:[c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"pending_contactpoints",plural:!0,selections:[d,{kind:"InlineFragment",selections:[f],type:"Node",abstractKey:"__isNode"}],storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:"29300489429598867",metadata:{},name:"CometLogoutHandlerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useLogoutWithPendingContactpointConfirmation",["fbt","react","react-compiler-runtime","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i;(i||d("react")).useCallback;function a(a,b){var e=d("react-compiler-runtime").c(4),f=c("useCometConfirmationDialog")(),g;e[0]!==a||e[1]!==b||e[2]!==f?(g=function(){f({body:a==="PhoneNumber"?h._(/*BTDS*/"Are you sure that you want to log out of Facebook before you confirm your mobile number? Confirming the mobile number on your account ensures that you will be able to log in again."):h._(/*BTDS*/"Are you sure that you want to log out of Facebook before confirming your email address? Confirming the email address on your account ensures that you will be able to log in again."),cancel:h._(/*BTDS*/"Confirm Account"),confirm:h._(/*BTDS*/"Log Out"),title:h._(/*BTDS*/"Log out of Facebook?")},b)},e[0]=a,e[1]=b,e[2]=f,e[3]=g):g=e[3];e=g;return a==="PendingEmail"||a==="PhoneNumber"?e:null}g["default"]=a}),226);
__d("CometLogoutHandler.react",["Banzai","CometLogoutHandlerQuery.graphql","CometRelay","CometVisualCompletionAttributes","FBLogger","ServiceWorkerLoginAndLogout","WebStorageMonster","XLogoutControllerRouteBuilder","react","react-compiler-runtime","useLogoutWithPendingContactpointConfirmation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect,l=e.useImperativeHandle,m=e.useRef;function a(a){var e,f,g=d("react-compiler-runtime").c(17),i=a.ref,n=a.shouldInitiateLogout,o=m(!1);a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("CometLogoutHandlerQuery.graphql"),{});var p=a.logout_whitelist;a=a.viewer;var q=m(),r;g[0]!==p?(r=function(){if(o.current)return;o.current=!0;var a=q.current;if(a==null){c("FBLogger")("web_navigation_and_bookmarks").mustfix("Unable to get logout form ref to submit");return}c("WebStorageMonster").cleanOnLogout(p,"CometLogoutHandler");c("ServiceWorkerLoginAndLogout").logout();c("Banzai").flush();a.submit()},g[0]=p,g[1]=r):r=g[1];var s=r,t=c("useLogoutWithPendingContactpointConfirmation")((a==null||(e=a.actor)==null?void 0:e.has_confirmed_contactpoints)!==!0?a==null||(f=a.actor)==null||(f=f.pending_contactpoints)==null||(f=f[0])==null?void 0:f.__typename:null,s);g[2]!==s||g[3]!==t?(r=function(){t?t():s()},g[2]=s,g[3]=t,g[4]=r):r=g[4];var u=r;g[5]!==u?(r=function(){return{logout:u}},g[5]=u,g[6]=r):r=g[6];l(i,r);g[7]!==u||g[8]!==n?(i=function(){q.current==null?c("FBLogger")("web_navigation_and_bookmarks").mustfix("Expected logout form ref to be valid"):n===!0&&u()},r=[u,n],g[7]=u,g[8]=n,g[9]=i,g[10]=r):(i=g[9],r=g[10]);k(i,r);g[11]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("XLogoutControllerRouteBuilder").buildURL({button_location:"settings",button_name:"logout"}),g[11]=i):i=g[11];r=i;i=a==null?void 0:a.logout_hash;g[12]!==i?(a=j.jsx("input",{name:"h",type:"hidden",value:i}),g[12]=i,g[13]=a):a=g[13];g[14]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx("input",{name:"ref",type:"hidden",value:"mb"}),g[14]=i):i=g[14];g[15]!==a?(r=j.jsxs("form",babelHelpers["extends"]({action:r,method:"POST",ref:q},c("CometVisualCompletionAttributes").IGNORE,{children:[a,i]})),g[15]=a,g[16]=r):r=g[16];return r}g["default"]=a}),98);
__d("CometNetworkStatusToast",["fbt","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","FDSIcon.react","FDSWirelessFilled24Icon","NetworkStatus","SVGIcon","cometPushToast","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=null,l=null,m=c("gkx")("22885");function n(a){a=a.online;var b=c("BaseToasterStateManager").getInstance();k!=null&&(b.expire(k),k=null);a&&!m&&(k=d("cometPushToast").cometPushToast({icon:j.jsx(c("FDSIcon.react"),{color:"positive",icon:c("FDSWirelessFilled24Icon"),size:24}),message:h._(/*BTDS*/"Your Internet connection was restored.")},4e3,b));a||(k=d("cometPushToast").cometPushToast({action:m?void 0:{label:h._(/*BTDS*/"Refresh"),onPress:function(){d("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(a,b,c){c.invalidateStore()})}},icon:j.jsx(c("FDSIcon.react"),{color:"disabled",icon:d("SVGIcon").legacySVGIcon(c("CometIconWirelessSlashFilled.react")),size:24}),message:h._(/*BTDS*/"You are currently offline.")},Infinity,b))}function a(){l=c("NetworkStatus").onChange(n)}function b(){var a;(a=l)==null||a.remove();l=null}g.subscribe=a;g.unsubscribe=b}),226);
__d("CometOnBeforeUnloadDialog.react",["fbt","CometTrackingNodeProvider.react","FDSButtonGroup.react","FDSCardedDialogLegacy.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(33),e=a.body,f=a.cancel,g=a.confirm,i=a.disabled,k=a.onClose,l=a.onCloseButtonPress,m=a.primaryAction,n=a.secondaryAction;a=a.title;i=i===void 0?!1:i;var o;b[0]!==k||b[1]!==m?(o=function(){m(),k()},b[0]=k,b[1]=m,b[2]=o):o=b[2];o=o;var p;b[3]!==k||b[4]!==n?(p=function(){n(),k()},b[3]=k,b[4]=n,b[5]=p):p=b[5];p=p;var q;b[6]!==k||b[7]!==l?(q=function(){l(),k()},b[6]=k,b[7]=l,b[8]=q):q=b[8];var r;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"xz9dl7a xsag5q8 xf7dkkf xv54qhq x1n2onr6"},b[9]=r):r=b[9];b[10]!==e?(r=j.jsx("div",babelHelpers["extends"]({},r,{children:j.jsx(c("FDSText.react"),{type:"body3",children:e})})),b[10]=e,b[11]=r):r=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x78zum5 x1q0g3np x13a6bvl x1l90r2v xyri2b x1c1uobl xexx8yu"},b[12]=e):e=b[12];var s;b[13]!==g?(s=g!=null?g:h._(/*BTDS*/"Confirm"),b[13]=g,b[14]=s):s=b[14];b[15]!==i||b[16]!==o||b[17]!==s?(g={disabled:i,label:s,onPress:o,testid:"CometOnBeforeUnloadDialogConfirmButton"},b[15]=i,b[16]=o,b[17]=s,b[18]=g):g=b[18];b[19]!==f?(o=f!=null?f:h._(/*BTDS*/"Cancel"),b[19]=f,b[20]=o):o=b[20];b[21]!==i||b[22]!==p||b[23]!==o?(s={disabled:i,label:o,onPress:p,reduceEmphasis:!0,testid:"CometOnBeforeUnloadDialogCancelButton"},b[21]=i,b[22]=p,b[23]=o,b[24]=s):s=b[24];b[25]!==s||b[26]!==g?(f=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("FDSButtonGroup.react"),{direction:"backward",paddingHorizontal:16,primary:g,secondary:s})})),b[25]=s,b[26]=g,b[27]=f):f=b[27];b[28]!==f||b[29]!==q||b[30]!==r||b[31]!==a?(i=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:163,children:j.jsxs(c("FDSCardedDialogLegacy.react"),{onClose:q,testid:void 0,title:a,titleHorizontalAlignment:"start",withCloseButton:!0,children:[r,f]})}),b[28]=f,b[29]=q,b[30]=r,b[31]=a,b[32]=i):i=b[32];return i}g["default"]=a}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h="dpr";function i(a){c("Cookie").set(h,String(a))}function j(){window.devicePixelRatio!==d("WebPixelRatio").get()&&i(window.devicePixelRatio)}function a(){j(),d("Run").onBeforeUnload(j,!1),"onpagehide"in window&&window.addEventListener("pageHide",j)}g.startDetecting=a}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=null;function j(){i||(i=window.addEventListener("blur",function(){h=null,k()}))}function k(){i&&(i.remove(),i=null)}function a(a){h=a.keyCode,j()}function d(a){h=null,k()}if(typeof window!=="undefined"&&window.document&&window.document.createElement){f=document.documentElement;if(f)if(f.addEventListener)f.addEventListener("keydown",a,!0),f.addEventListener("keyup",d,!0);else if(f.attachEvent){f=f.attachEvent;f("onkeydown",a);f("onkeyup",d)}}var l={getKeyDownCode:function(){return h},isKeyDown:function(){return!!h}},m=!1,n=!1,o=null,p=!1;function q(a){var b=new Set(),d=l.isKeyDown(),e=a.WEBKIT_FORCE_AT_MOUSE_DOWN,f=a.clientX,g=a.clientY,h=a.isTrusted,i=a.mozInputSource,j=a.offsetX,k=a.offsetY,o=a.webkitForce;f===0&&g===0&&j>=0&&k>=0&&n&&h&&i==null&&b.add("Chrome");m&&n&&!d&&o!=null&&o<e&&j===0&&k===0&&i==null&&b.add("Safari-edge");f===0&&g===0&&j<0&&k<0&&n&&i==null&&b.add("Safari-old");if(!m&&!n&&!d&&h&&c("UserAgent").isBrowser("IE >= 10")&&i==null){o=a.target;e=o.clientHeight;d=o.clientWidth;f<0&&g<0?b.add("IE"):(j<0||j>d)&&(k<0||k>e)&&b.add("MSIE")}i===0&&h&&b.add("Firefox");return b}function r(){m=!0,c("setTimeout")(function(){m=!1},0)}function s(){n=!0,c("setTimeout")(function(){n=!1},0)}function t(a){p&&b("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:o,is_virtual_cursor_action:a})}function u(a){o===null&&(o=Array.from(q(a)));p=o!=null&&o.length>0;a=a.target!=null&&a.target.getAttribute!=null&&a.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";t(a);c("setTimeout")(function(){p=!1,o=null},0)}function e(){document.addEventListener("click",u,!0),document.addEventListener("mousedown",r,!0),document.addEventListener("mouseup",s,!0)}g.initLogging=e}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){(i||(i=d("ODS"))).bumpEntityKey(1678,"www_client_navigations",j())}function j(){if((h||(h=c("performance"))).navigation==null||(h||(h=c("performance"))).navigation.type==null)return"UNSUPPORTED";switch((h||(h=c("performance"))).navigation.type){case(h||(h=c("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(h||(h=c("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(h||(h=c("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(h||(h=c("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}g.logPageNavigationType=a}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j=new Set();function a(a){i?a():j.add(a)}function b(a){Object.entries(a).forEach(function(a){var b=a[0];a=a[1];var d=a.expiration_for_js,e=a.first_party_only,f=a.path,g=a.secure;a=a.value;c("DeferredCookie").addToQueue(b,a,d,f,e,!1,g)}),i=!0,j.forEach(function(a){return(h||(h=c("ErrorGuard"))).applyWithGuard(a,null,[])}),j.clear()}g.onCometDeferredCookieSet=a;g.setCometDeferredCookies=b}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","gkx","setCometDeferredCookies","vc-tracker"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=null;function a(a){var e=a.blLoggingCavalryFields,f=a.deferredCookies;a=a.networkStatusToast;var g=a===void 0?b("cr:17080"):a;(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return d("CometBootloaderLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometBootloaderErrorLoggerUtil").initLogging(e)},null,[]);i.applyWithGuard(function(){return d("CometVirtualCursorStatus").initLogging()},null,[]);g!=null&&!c("gkx")("11394")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return g.subscribe()},null,[]);i.applyWithGuard(function(){return d("CometOfflineTracing").initialize()},null,[]);i.applyWithGuard(function(){return d("SimplePageLoadLogger").logPageNavigationType()},null,[]);(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("WebStorageMonster").schedule()});b("cr:1201738")&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&b("cr:1201738").init("comet.idle")});j&&c("vc-tracker").VisualCompletionTraceObserver.subscribe(function(a){a.interactionType==="INITIAL_LOAD"&&j.init()});d("setCometDeferredCookies").setCometDeferredCookies(f);b("cr:1332233")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1332233")()},null,[]);b("cr:1516609")!=null&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1516609").initSignalCollection()},null,[]);b("cr:1813330")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:1813330").init()},null,[]);b("cr:2718")&&(i||(i=c("ErrorGuard"))).applyWithGuard(function(){return b("cr:2718").init()},null,[]);if(b("cr:22915"))var k=d("RunComet").onAfterLoad(function(){(i||(i=c("ErrorGuard"))).applyWithGuard(function(){b("cr:22915")==null||b("cr:22915").startRSTFromMainThread(),k.remove()},null,[])})}g.initDeferred=a}),98);
__d("XDOMScannerResultsControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/shared/user_preferences/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("DOMScanner",["Base64","ConstUriUtils","DOMScannerConfig","FBLogger","JSScheduler","Promise","WebStorage","XDOMScannerResultsControllerRouteBuilder","cometAsyncFetch","getErrorSafe","isFacebookURI"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=0,l=!1,m=!1;function n(a){return a.startsWith("data:")}function o(a){return n(a)?!1:q(a)}function p(){var a=[],b=document.getElementsByTagName("*");for(var c=0;c<b.length;++c)b[c].shadowRoot!=null&&a.push(b[c]);return a}function q(a){a=d("ConstUriUtils").getUri(a.toString());return a==null?!1:!c("isFacebookURI")(a)}function r(){var a=[],b=p();for(b of b){var c=b.getBoundingClientRect();c=JSON.stringify({position:{b:c.bottom,l:c.left,r:c.right,t:c.top},size:{h:c.height,w:c.width}},null,2);a.push(["shadow_root",b.tagName,b.id,b.className,c])}return a}function s(){var a=[],b=document.querySelectorAll("script");for(var c=0;c<b.length;++c){var d=b[c];if(d.src&&o(String(d.src))){var e=d.src,f=null,g=null;d.className&&(f=d.className);d.id&&(g=d.id);d=["script",e,g,f,null];a.push(d)}}return a}function t(){var a=[],b=document.getElementsByTagName("iframe");for(var c=0;c<b.length;++c){var d=b[c];if(d.src&&o(d.src)){var e=d.src,f=null,g=null,h=d.getBoundingClientRect();h=JSON.stringify({position:{b:h.bottom,l:h.left,r:h.right,t:h.top},size:{h:d.height,w:d.width},src:d.src,visibility:d.style.visibility},null,2);d.className&&(f=d.className);d.id&&(g=d.id);d=["iframe",e,g,f,h];a.push(d)}}return a}function u(){var a=[],b=(j||(j=c("WebStorage"))).getLocalStorage();if(!b||!b.length)return a;for(var d=0;d<b.length;++d)a.push(b.key(d));return a}function v(){var a=[],b=document.getElementsByTagName("link");for(var c=0;c<b.length;++c){var d=b[c];if(d.href&&o(String(d.href))){var e=d.href;e=["link",e,d.type,d.as,null];a.push(e)}}return a}function w(a,b,d,e){e={event:e?"scan_result":"logged_out_scan_result",local_storage:b,results:a,runtime:k,scan_id:d};c("cometAsyncFetch")(c("XDOMScannerResultsControllerRouteBuilder").buildUri({}).toString(),{data:{data:c("Base64").encodeObject(e)},method:"POST"})["catch"](function(a){a=c("getErrorSafe")(a);c("FBLogger")("domscanner").catching(a).mustfix("Send response failed. %s",a.message)})}function x(a){var e=new Date().valueOf(),f=[],g=[],j=new(i||(i=b("Promise")))(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){try{f=f.concat(s())}catch(a){c("FBLogger")("domscanner").catching(c("getErrorSafe")(a)).mustfix("Check Scripts failed")}a()})}),l=new i(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){try{g=g.concat(u())}catch(a){c("FBLogger")("domscanner").catching(c("getErrorSafe")(a)).mustfix("Check local storage failed")}a()})}),m=new i(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){try{f=f.concat(v())}catch(a){c("FBLogger")("domscanner").catching(c("getErrorSafe")(a)).mustfix("Check link tags failed")}a()})}),n=new i(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){try{f=f.concat(r())}catch(a){c("FBLogger")("domscanner").catching(c("getErrorSafe")(a)).mustfix("Check shadow roots failed")}a()})}),o=new i(function(a){(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){try{f=f.concat(t())}catch(a){c("FBLogger")("domscanner").catching(c("getErrorSafe")(a)).mustfix("Check iframes failed")}a()})});i.all([j,l,m,n,o])["finally"](function(){k=new Date().valueOf()-e,(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return w(f,g,a,!0)})})}function a(){!l&&c("DOMScannerConfig").needs_scan&&(l=!0,window.setTimeout(function(){return(h||(h=d("JSScheduler"))).scheduleLoggingPriCallback(function(){return x(c("DOMScannerConfig").scan_id)})},c("DOMScannerConfig").delay))}function e(){if(!m&&c("DOMScannerConfig").needs_scan){m=!0;var a=new Date().valueOf(),b=[],d=[];try{b=s(),d=u()}catch(a){var e=c("getErrorSafe")(a);c("FBLogger")("domscanner_loginpage").catching(e).mustfix("Scanning failed on login page %s",e.message)}k=new Date().valueOf()-a;w(b,d,c("DOMScannerConfig").scan_id,!1)}}f={checkIframes:t,checkLinkTags:v,checkScripts:s,checkShadowRoots:r};g.scheduleScan=a;g.scanLoginPage=e;g.exportedForTesting=f}),98);
__d("CometRootDeferredSharedWithDomScanner",["CometRootDeferredShared","DOMScanner","ErrorGuard"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){(h||(h=c("ErrorGuard"))).applyWithGuard(function(){return d("DOMScanner").scheduleScan()},null,[]),d("CometRootDeferredShared").initDeferred(a)}g.initDeferred=a}),98);
__d("XUpdateTimezoneControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/ajax/autoset_timezone_ajax/",Object.freeze({is_forced:!1}),["/ajax/autoset_timezone_ajax.php","/ajax/timezone/update/","/ajax/timezone/update.php"],void 0);b=a;g["default"]=b}),98);
__d("CometTimezoneUpdater",["UserTimezoneServerTimeData","XUpdateTimezoneControllerRouteBuilder","cometAsyncFetch","getBrowserGMTOffsetAdjustedForSkew","getBrowserTimezone"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a,b=(a=d("UserTimezoneServerTimeData")).force_update,e=a.server_gmt_offset,f=a.server_time;a=a.timezone;if(f==null||e==null)return;f=-c("getBrowserGMTOffsetAdjustedForSkew")(f);var g=c("getBrowserTimezone")();(b===!0||f!==e||g!=null&&g!==a)&&c("cometAsyncFetch")(c("XUpdateTimezoneControllerRouteBuilder").buildExtraURL("/ajax/timezone/update.php",{}),{data:{gmt_off:f,is_forced:b,tz:g},method:"POST"})}b={updateTimezoneIfNecessary:a};e=b;g["default"]=e}),98);
__d("CometRootDeferred",["CometRootDeferredSharedWithDomScanner","CometTimezoneUpdater","JSScheduler","SketchComet","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=["sketchInfo"],i;function a(a){var b=a.sketchInfo;a=babelHelpers.objectWithoutPropertiesLoose(a,h);b!=null&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){c("promiseDone")(c("SketchComet").solveAllPrimitivesAndCallAsyncController(b.seed1,b.seed2,b.rounds))});d("CometRootDeferredSharedWithDomScanner").initDeferred(a);c("CometTimezoneUpdater").updateTimezoneIfNecessary()}g.initDeferred=a}),98);
__d("CometRouteActorToasterBlocklist.experimental",["cr:19583"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:19583")}),98);
__d("CometRouteActorToasterQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9631929610237732"}),null);
__d("CometRouteActorToasterQuery.graphql",["CometRouteActorToasterQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},e={alias:"toast_icon",args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,d,e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[c,d,e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometRouteActorToasterQuery_facebookRelayOperation"),metadata:{},name:"CometRouteActorToasterQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometRouteActorToaster.react",["fbt","Actor","CometRelay","CometRouteActorToasterBlocklist.experimental","CometRouteActorToasterQuery.graphql","FDSProfilePhoto.react","FDSText.react","WebPixelRatio","cometPushToast","getTopMostRoute","promiseDone","react","react-compiler-runtime","requireDeferred","useCometRouterState","useCurrentRoute","useProfileCometIsViewAs","useRouteReferrer"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useEffect,m=e.useRef,n=c("requireDeferred")("AcfToastImpressionFalcoEvent").__setRef("CometRouteActorToaster.react");function o(a,b){if(b)return k.jsx(c("FDSText.react"),{color:"primary",type:"body3",children:h._(/*BTDS*/"You're now interacting as {=m2}",[h._implicitParam("=m2",k.jsx(c("FDSText.react"),{type:"bodyLink3",children:h._(/*BTDS*/"your profile")}))])});else return k.jsx(c("FDSText.react"),{color:"primary",type:"body3",children:h._(/*BTDS*/"You're now interacting as {actor}",[h._param("actor",k.jsx(c("FDSText.react"),{type:"bodyLink3",children:a}))])})}var p=i!==void 0?i:i=b("CometRouteActorToasterQuery.graphql");function a(){var a=d("react-compiler-runtime").c(9),b=d("CometRelay").useRelayEnvironment(),e=d("Actor").useActor(),f=e[0];e=c("useCometRouterState")();var g=c("useCurrentRoute")(),h=c("useRouteReferrer")(),i=c("useProfileCometIsViewAs")(),j=h==null?void 0:h.actorID;h=h==null?void 0:h.tracePolicy;var q;a[0]!==j||a[1]!==h?(q={actorID:j,tracePolicy:h},a[0]=j,a[1]=h,a[2]=q):q=a[2];var r=m(q);j=c("CometRouteActorToasterBlocklist.experimental").route_trace_policies;var s=g==null?void 0:g.tracePolicy;h=j.includes(s);q=e!=null?c("getTopMostRoute")(e):null;j=g===q;var t=j&&!h&&!i;a[3]!==f||a[4]!==s||a[5]!==b||a[6]!==t?(e=function(){var a,e=(a=r.current)==null?void 0:a.actorID,g=(a=r.current)==null?void 0:a.tracePolicy;if(e!=null&&e!==f&&t){a=function(a){var b,f=a==null||(b=a.viewer)==null||(b=b.actor)==null?void 0:b.name;if(f!=null){var h,i,j=(a==null||(h=a.viewer)==null||(h=h.actor)==null?void 0:h.__typename)==="User";a=a==null||(i=a.viewer)==null||(i=i.actor)==null||(i=i.toast_icon)==null?void 0:i.uri;a=a!=null?k.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:32,source:{uri:a}}):null;f=o(f,j);d("cometPushToast").cometPushToast({icon:a,message:f});n.onReady(function(a){a=a.log;a(function(){return{destination:s!=null?s:"comet.app",destination_type:"comet_route",source:g,source_type:"comet_route",source_userid:e}})})}};var h={scale:d("WebPixelRatio").get()};c("promiseDone")(d("CometRelay").fetchQuery(b,p,h).toPromise(),a)}r.current={actorID:f,tracePolicy:s}},g=[f,s,b,t],a[3]=f,a[4]=s,a[5]=b,a[6]=t,a[7]=e,a[8]=g):(e=a[7],g=a[8]);l(e,g);return null}g["default"]=a}),226);
__d("CometRouteActorToasterBlocklistJSModuleWrapper",["CometRouteActorToasterBlocklist"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("CometRouteActorToasterBlocklist")}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","CometVisualCompletionAttributes","XPlatReactToasterView.react","gkx","react","react-compiler-runtime","useToasterStateManager"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l={root:{display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x17syakg",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",width:"xh8yej3",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},m={bottom:{bottom:"x1ey2m1c",$$css:!0},top:{top:"x13vifvy",$$css:!0}},n={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},o={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"x1xi1syu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.align,f=a.filterToasts,g=a.maxVisible,h=a.maxWidth,p=a.position;a=a.xstyle;e=e===void 0?"start":e;g=g===void 0?1:g;var q=h===void 0?"full":h,r=p===void 0?"bottom":p,s=c("useToasterStateManager")();b[0]!==s?(h=function(){return s.getEmptyState()},b[0]=s,b[1]=h):h=b[1];p=k(h);h=p[0];var t=p[1],u;b[2]!==s?(p=function(){var a=s.registerView(t,0);return a.remove},u=[s],b[2]=s,b[3]=p,b[4]=u):(p=b[3],u=b[4]);j(p,u);p=n[e];u=m[r];b[5]!==p||b[6]!==u||b[7]!==a?(e=[l.root,c("gkx")("20935")?null:c("gkx")("22885")?l.rootWorkplaceLegacy:l.rootBlue,p,u,a],b[5]=p,b[6]=u,b[7]=a,b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x78zum5 xdt5ytf x3ct3a4 x193iq5w"},b[9]=p):p=b[9];b[10]!==s?(u=function(a){s.expire(a)},b[10]=s,b[11]=u):u=b[11];b[12]!==q||b[13]!==r?(a=function(a,b,d,e){return i.jsx(c("BaseToastAnimationInternal.react"),{expired:d,id:b,position:e,toasterPosition:r,xstyle:[l.toast,o[c("gkx")("22886")?"regular":q]],children:i.jsx(c("BaseContextualLayerAnchorRoot.react"),{children:a})},e)},b[12]=q,b[13]=r,b[14]=a):a=b[14];b[15]!==f||b[16]!==g||b[17]!==u||b[18]!==a||b[19]!==h?(p=i.jsx("ul",babelHelpers["extends"]({},p,{children:i.jsx(c("XPlatReactToasterView.react"),{filterToasts:f,maxVisible:g,onExpireToast:u,toasterState:h,children:a})})),b[15]=f,b[16]=g,b[17]=u,b[18]=a,b[19]=h,b[20]=p):p=b[20];b[21]!==e||b[22]!==p?(f=i.jsx(c("BasePortal.react"),babelHelpers["extends"]({target:document.body,xstyle:e},c("CometVisualCompletionAttributes").IGNORE,{children:p})),b[21]=e,b[22]=p,b[23]=f):f=b[23];return f}g["default"]=a}),98);
__d("FacebookAppIDs",[],(function(a,b,c,d,e,f){a=Object.freeze({ABRA_WEB:1358015658191005,ACCOUNT_QUALITY:293651901511648,ADS_AMI_BRAZIL_ONBOARDING:616624215510791,ADS_AMI_ONBOARDING:2806896492660535,ADS_EVENTS_MANAGER:2094176354154603,ADS_INCUBATOR:306597163753304,ADS_PAYMENT:123097351040126,ADS_POWER_EDITOR:119211728144504,ADS_WHATSAPP_MARKETING_MESSAGE_APP:871411417255253,ADS_WHATSAPP_MARKETING_MESSAGE_TEST_APP:755928642753606,ARMADILLO_WEB_DEVSERVER_CLIENT:1019394685547802,AT_WORK_FOR_ANDROID:1442593136019356,AT_WORK_FOR_IOS:234162453451062,BIG_COMMERCE_CATALOG_SYNC:483365901841566,BIZWEB:514771569228061,BOOSTED_INSTAGRAM_MEDIA_MOBILE:871306629649317,BOOSTED_PAGE:1146105192114219,BUSINESS_ACCOUNTS:436761779744620,BUSINESS_MANAGER_WORKPLACE_LOGIN:190532008697732,CHATPROXY_WEB:229895473858072,COMMERCE_MANAGER:515496645328243,DOLLY:218968626708284,EVENTS:2344061033,FACEBOOK_FOR_ANDROID:74769995908,FACEBOOK_FOR_ANDROID2:350685531728,FACEBOOK_FOR_EMERGING_MARKET_ANDROID:275254692598279,FACEBOOK_FOR_IPAD:173847642670370,FACEBOOK_FOR_IPHONE:6628568379,FACEBOOK_MEDIA_EFFECTS:1779302845618373,FACEBOOK_MESSENGER_FOR_ANDROID:256002347743983,FACEBOOK_SPACES_2:2057013231240274,FBPAGES:2530096808,GAMES_INSTANT_SOAP_MITIGATION:1259518021923582,HORIZON_WEB:351299233827255,INSTAGRAM:124024574287414,INSTAGRAM_BARCELONA_ANDROID:3419628305025917,INSTAGRAM_BARCELONA_DESKTOP_WEB:238260118697367,INSTAGRAM_BARCELONA_IOS:1546306509211461,INSTAGRAM_BARCELONA_MOBILE_WEB:1412234116260832,INSTAGRAM_CARBON:905593853150754,INSTAGRAM_FOR_ANDROID_ANALYTICS_ONLY:567067343352427,INSTAGRAM_WEB:1217981644879628,INSTAGRAM_WEB_DESKTOP:936619743392459,INSTAGRAM_WEB_OCULUS_PWA:1035956773910536,INSTAGRAM_WEB_PWA_FOR_WINSTORE:487152425211411,INTERN_ADS_PREVIEW_GENERATION_APP:2004203579636813,KADABRA_VOICE:949958857019662,LIFT_STUDY_CREATION:367378623468359,LIFT_STUDY_VIEW:1501349520163380,M_SITE:412378670482,M_TOUCH_SITE:333176286769482,MAGENTO_CATALOG_SYNC:195311308289826,MARKETPLACE:1606854132932955,MARKETPLACE_SOAP_MITIGATION:359197717007187,MEDIA_MANAGER:2007914219485853,MESSENGER_DESKTOP:195376314393036,MESSENGER_DESKTOP_ARCHON_MACOS:451384735309667,MESSENGER_DESKTOP_ARCHON_WINDOWS:1931350367173590,MESSENGERDOTCOM:772021112871879,MOBILE_ADS_MANAGER_FOR_ANDROID:438142079694454,MOBILE_ADS_MANAGER_FOR_IOS:1479723375646806,MOST_RECENT_FEED:608920319153834,MQTT_WEB:219994525426954,OCULUS_ANDROID_TWILIGHT:624536201004543,OCULUS_IOS_TWILIGHT:147781309031234,OCULUS_IOS_TWILIGHT_DEV:1635404796768116,OCULUS_IOS_TWILIGHT_IN_HOUSE:1543576032349914,OCULUS_IOS_TWILIGHT_LOCAL:1680871178595114,OCULUS_MSITE:1013624499181349,OCULUS_WEBSITE:2763362503905702,PAGE_INBOX:263902037430900,PHOTOS:2305272732,POSTS:1042244359201256,SAVED_FOR_LATER:586254444758776,SFCC_CATALOG_SYNC:414303402113306,SHOPIFY_API_INTEGRATION_2P:699341854433150,SHOPIFY_CONFIGURATION:3046464678944642,SHOPIFY_PARTNER_INTEGRATION:372033192897621,TRANSLATIONS:4329892722,TURDUCKEN:400954310366822,UNIFIED_AMI_ONBOARDING:685960845183976,WHATSAPP_ANDROID:994766073959253,WHATSAPP_BUSINESS_ACCOUNT_MANAGER:225181538219344,WHATSAPP_IPHONE:306069495113,WHATSAPP_KAIOS:412254059643627,WHATSAPP_MAC:346387865799334,WHATSAPP_SMB_ANDROID:473039703209605,WHATSAPP_SMB_IPHONE:450645302121512,WHATSAPP_SMB_WEB:656096963291760,WHATSAPP_VR:132060743086318,WHATSAPP_WEB:167028690535322,WHATSAPP_WINDOWS:120781038571451,WHATSAPP_WINDOWS_PHONE:1904280676561321,WIT:197968810559097,WORKPLACE_BILLING:1350397358363828,WORKPLACE_DESKTOP:267999183646265,WORKPLACE_FOR_EVERY_PHONE:1263749867021676,WORKPLACE_FOR_WEB:1586666294789976,WORKROOMS:305152727005396,WORKROOMS_WEB:424940172743869,WWW:256281040558,WWW_COMET:2220391788200892});f["default"]=a}),66);
__d("ImmutableValue",["invariant","isNode"],(function(a,b,c,d,e,f,g){"use strict";var h="_DONT_EVER_TYPE_THIS_SECRET_KEY";a=function(){function a(b){b===a[h]||g(0,5608)}a.mergeAllPropertiesInto=function(a,b){var c=b.length;for(var d=0;d<c;d++)Object.assign(a,b[d])};a.deepFreezeRootNode=function(c){if(b("isNode")(c))return;Object.freeze(c);for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&a.recurseDeepFreeze(c[d]);Object.seal(c)};a.recurseDeepFreeze=function(c){if(b("isNode")(c)||!a.shouldRecurseFreeze(c))return;Object.freeze(c);for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&a.recurseDeepFreeze(c[d]);Object.seal(c)};a.shouldRecurseFreeze=function(b){return typeof b==="object"&&!(b instanceof a)&&b!==null};return a}();a._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random();f["default"]=a}),66);
__d("ImmutableObject",["invariant","ImmutableValue","mergeHelpers"],(function(a,b,c,d,e,f,g){"use strict";var h=b("mergeHelpers").checkMergeObjectArgs,i=b("mergeHelpers").isTerminal,j="_DONT_EVER_TYPE_THIS_SECRET_KEY";function k(a){a instanceof b("ImmutableValue")||g(0,3884)}var l=function(a){function c(){var c;c=a.call(this,b("ImmutableValue")[j])||this;b("ImmutableValue").mergeAllPropertiesInto(c,arguments);return c}babelHelpers.inheritsLoose(c,a);c.set=function(a,b){k(a);typeof b==="object"&&b!==void 0&&!Array.isArray(b)||g(0,3885);return new c(a,b)};c.setProperty=function(a,b,d){var e={};e[b]=d;return c.set(a,e)};c.deleteProperty=function(a,b){var d={};for(var e in a)e!==b&&Object.prototype.hasOwnProperty.call(a,e)&&(d[e]=a[e]);return new c(d)};c.setDeep=function(a,b){k(a);return m(a,b)};c.values=function(a){return Object.keys(a).map(function(b){return a[b]})};return c}(b("ImmutableValue"));function m(a,c){h(a,c);var d={},e=Object.keys(a);for(var f=0;f<e.length;f++){var g=e[f];!Object.prototype.hasOwnProperty.call(c,g)?d[g]=a[g]:i(a[g])||i(c[g])?d[g]=c[g]:d[g]=m(a[g],c[g])}g=Object.keys(c);for(f=0;f<g.length;f++){e=g[f];if(Object.prototype.hasOwnProperty.call(a,e))continue;d[e]=c[e]}return a instanceof b("ImmutableValue")?new l(d):c instanceof b("ImmutableValue")?new l(d):d}e.exports=l}),null);
__d("LogBrowserCrashReportsLowerRetentionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("856");b=d("FalcoLoggerInternal").create("log_browser_crash_reports_lower_retention",a);e=b;g["default"]=e}),98);
__d("MDSIcon.react",["BaseTheme.react","Box.react","FDSIcon.react","SVGIcon","XPlatReactEnvironment","getMDSIconColorCometFallback","react","react-compiler-runtime","useMDSIconColors"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","backgroundEnabled","color"],i,j=i||(i=d("react"));i.useMemo;var k={iconBackground:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"xd4w7er",borderStartEndRadius:"x1u1g78z",borderEndEndRadius:"x3n7fbn",borderEndStartRadius:"xljgxep",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},themeWrapper:{display:"xt0psk2",$$css:!0}},l={dark:{"secondary-button-background":"rgba(255, 255, 255, 0.14)"},light:{"secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"};function a(a){var b=d("react-compiler-runtime").c(19),e,f,g,i;b[0]!==a?(g=a.ref,i=a.backgroundEnabled,e=a.color,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i):(e=b[1],f=b[2],g=b[3],i=b[4]);a=i===void 0?!1:i;i=c("useMDSIconColors")(!0);i=e!=null&&e!=="primary"?i[e]:void 0;var m;b[5]!==i?(m=i!=null?{dark:{"primary-icon":i},light:{"primary-icon":i},type:"VARIABLES"}:void 0,b[5]=i,b[6]=m):m=b[6];i=m;m=i;i=f.icon instanceof d("SVGIcon").SVGIcon;var n;b[7]!==e||b[8]!==i?(n=i?"primary":d("getMDSIconColorCometFallback").getMDSIconColorCometFallback(e),b[7]=e,b[8]=i,b[9]=n):n=b[9];b[10]!==f||b[11]!==g||b[12]!==n?(e=j.jsx(c("FDSIcon.react"),babelHelpers["extends"]({color:n,ref:g},f)),b[10]=f,b[11]=g,b[12]=n,b[13]=e):e=b[13];i=e;if(m!=null){b[14]!==m||b[15]!==i?(f=j.jsx(c("BaseTheme.react"),{config:m,xstyle:d("XPlatReactEnvironment").isWeb()?k.themeWrapper:null,children:i}),b[14]=m,b[15]=i,b[16]=f):f=b[16];i=f}if(a){b[17]!==i?(g=j.jsx(c("BaseTheme.react"),{config:l,children:j.jsx(c("Box.react"),{xstyle:k.iconBackground,children:i})}),b[17]=i,b[18]=g):g=b[18];return g}return i}g["default"]=a}),98);
__d("MDSLegacyStyleXDarkTheme",[],(function(a,b,c,d,e,f){a=Object.freeze({accent:"hsl(214, 100%, 59%)","alert-banner-corner-radius":"8px","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-white":"white","attachment-footer-background":"rgba(255,255,255,0.1)","background-deemphasized":"rgba(255,255,255,0.1)","badge-accent":"#429AFF","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#4599FF","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(235,245,255)","blue-tertiary":"rgb(4,59,114)","blueprint-button-height-large":"48px","blueprint-button-height-medium":"40px","border-focused":"#8A8D91","button-corner-radius":"6px","button-corner-radius-large":"12px","button-corner-radius-medium":"10px","button-height-large":"40px","button-height-medium":"36px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","card-background":"#2E2E2E","card-background-flat":"#323436","card-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-corner-radius":"12px","card-padding-horizontal":"10px","card-padding-vertical":"20px","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(226,255,152)","chartreuse-tertiary":"rgb(50,65,19)","chat-bubble-border-radius":"18px","chat-bubble-emphasis-ring-after":"white","chat-bubble-emphasis-ring-before":"black","chat-bubble-padding-horizontal":"12px","chat-bubble-padding-vertical":"8px","chat-incoming-message-bubble-background-color":"#4C4C4C","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(255, 255, 255, 0.12)","chat-text-blockquote-color-background-line":"rgba(255, 255, 255, 0.19)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chip-button-green":"#24832C","chip-corner-radius":"6px","circle-button-green-background-color":"#30A13A","circle-button-normal-background-color":"rgba(255, 255, 255, 0.18)","circle-button-overlay-raised-background-color":"#1F1F1F","circle-button-overlay-raised-shadow-color":"rgba(255, 255, 255, 0.18)","circle-button-red-background-color":"#E91D16","circle-button-secondary-on-media-background-color":"rgba(0, 0, 0, 0.6)","comment-background":"#3A3B3C","comment-bubble":"18px","comment-footer-background":"#4E4F50","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(231,245,255)","cyan-tertiary":"rgb(15,63,93)","dataviz-blue-primary":"#1D85FC","dataviz-blue-secondary":"#EBF5FF","dataviz-orange":"#D06C14","dataviz-primary-1":"rgb(0,174,143)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(92,87,210)","dataviz-secondary-2":"rgb(142,129,255)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(232,234,238)","destructive-button-background":"#E91D16","destructive-button-text":"#FFFFFF","dialog-anchor-horizontal-padding":"8px","dialog-anchor-vertical-padding":"64px","dialog-border-radius":"12px","dialog-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1), inset 0 0 0 1px var(--shadow-inset)","dialog-corner-radius":"8px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","disabled-button-background":"rgba(255, 255, 255, 0.18)","disabled-button-text":"rgba(255, 255, 255, 0.34)","disabled-icon":"rgba(255, 255, 255, 0.3)","disabled-text":"rgba(255, 255, 255, 0.3)",divider:"#3E4042","divider-on-color":"#3E4042","event-date":"#F3425F","fb-logo":"#0866FF","fb-wordmark":"#FFFFFF","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-black":"black","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"black","fds-blue-30":"black","fds-blue-40":"black","fds-blue-60":"black","fds-blue-70":"black","fds-blue-80":"black","fds-button-text":"black","fds-comment-background":"black","fds-dark-mode-gray-100":"black","fds-dark-mode-gray-35":"black","fds-dark-mode-gray-50":"black","fds-dark-mode-gray-70":"black","fds-dark-mode-gray-80":"black","fds-dark-mode-gray-90":"black","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-none":"0ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-fast":"200ms","fds-gray-00":"black","fds-gray-05":"black","fds-gray-10":"black","fds-gray-100":"black","fds-gray-20":"black","fds-gray-25":"black","fds-gray-30":"black","fds-gray-45":"black","fds-gray-70":"black","fds-gray-80":"black","fds-gray-90":"black","fds-green-55":"black","fds-green-65":"black","fds-highlight":"black","fds-highlight-cell-background":"black","fds-primary-icon":"white","fds-primary-text":"white","fds-red-55":"black","fds-slow":"400ms","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"black","fds-spectrum-blue-gray-tint-70":"black","fds-spectrum-cherry":"black","fds-spectrum-cherry-tint-70":"black","fds-spectrum-grape-tint-70":"black","fds-spectrum-grape-tint-90":"black","fds-spectrum-lemon-dark-1":"black","fds-spectrum-lemon-tint-70":"black","fds-spectrum-lime":"black","fds-spectrum-lime-tint-70":"black","fds-spectrum-orange-tint-70":"black","fds-spectrum-orange-tint-90":"black","fds-spectrum-seafoam-tint-70":"black","fds-spectrum-slate-dark-2":"black","fds-spectrum-slate-tint-70":"black","fds-spectrum-teal":"black","fds-spectrum-teal-dark-1":"black","fds-spectrum-teal-dark-2":"black","fds-spectrum-teal-tint-70":"black","fds-spectrum-teal-tint-90":"black","fds-spectrum-tomato":"black","fds-spectrum-tomato-tint-30":"black","fds-spectrum-tomato-tint-90":"black","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"black","fds-unified-gray-20":"black","fds-white":"black","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"black","filter-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-always-white":"invert(100%)","filter-blue-link-icon":"invert(73%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(103.25%) hue-rotate(189deg) brightness(101%) contrast(101%)","filter-disabled-icon":"invert(100%) opacity(30%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-accent":"invert(40%) sepia(52%) saturate(200%) saturate(200%) saturate(200%) saturate(189%) hue-rotate(191deg) brightness(103%) contrast(102%)","filter-primary-deemphasized-button-icon":"brightness(0) saturate(100%) invert(63%) sepia(20%) saturate(1290%) hue-rotate(185deg) brightness(107%) contrast(101%)","filter-primary-icon":"invert(89%) sepia(6%) hue-rotate(185deg)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(62%) sepia(98%) saturate(12%) hue-rotate(175deg) brightness(90%) contrast(96%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","focus-ring-blue":"#429AFF","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(255,241,246)","fuschia-tertiary":"rgb(118,14,62)","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"steps(10, end)","glimmer-base-opaque":"#FFFFFF","glimmer-corner-radius":"8px","glimmer-high-contrast-base-opaque":"#FFFFFF","glimmer-opacity-high-contrast-max":"0.48","glimmer-opacity-high-contrast-min":"0.1","glimmer-opacity-max":"1","glimmer-opacity-min":"0.25","glimmer-spinner-icon":"white","global-panel-width":"0px","global-panel-width-expanded":"0px","green-primary":"rgb(43,154,53)","green-secondary":"rgb(227,250,224)","green-tertiary":"rgb(26,68,27)","header-height":"0px","hero-banner-background":"#E85D07","highlight-bg":"rgba(24, 119, 242, .31)","hosted-view-selected-state":"rgba(45, 136, 255, 0.1)","hover-overlay":"rgba(255, 255, 255, 0.1)","icon-accent-color":"#429AFF","icon-destructive-color":"#FF4942","icon-inactive-color":"rgba(155, 160, 168, 0.75)","icon-nux-color":"rgba(255, 255, 255, 0.34)","icon-primary-color":"#FFFFFF","icon-secondary-color":"rgba(255, 255, 255, 0.45)","icon-selected-color":"rgba(255, 255, 255, 0.45)","icon-tertiary-color":"rgba(255, 255, 255, 0.19)","icon-white-color":"#FFFFFF","image-corner-radius":"4px","infochip-medium-radius":"12px","input-background":"#242526","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-disabled":"#18191A","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-hover":"var(--input-background)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-border-color":"#3E4042","input-border-color-hover":"var(--placeholder-text)","input-border-width":"1px","input-corner-radius":"6px","input-label-color-disabled":"var(--disabled-text)","input-label-color-error":"var(--negative)","input-label-color-highlighted":"hsl(214, 100%, 59%)","input-label-color-inside":"var(--secondary-text)","inverse-text":"var(--always-white)","last-active-state-background":"#1F391E","last-active-state-text":"#31CC46","list-cell-chevron":"#B0B3B8","list-cell-corner-radius":"8px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(255,239,254)","magenta-tertiary":"rgb(96,36,91)","mds-green":"#31CC46","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(255, 255, 255, 0.05)","media-outer-border":"#33363A","media-pressed":"rgba(68, 73, 80, 0.35)","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-horizontal":"8px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","messenger-application-max-width":"2560px","messenger-card-background":"#1F1F1F","messenger-card-box-shadow":"0px 0px 16px rgba(0, 0, 0, 0.3)","messenger-card-corner-radius":"12px","messenger-card-max-width":"480px","messenger-card-min-width":"300px","messenger-card-spacing":"16px","messenger-reply-background":"#18191A","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","nav-bar-background":"#1A1A1A","nav-bar-background-gradient":"linear-gradient(to top, #242526, rgba(36,37,38,.9), rgba(36,37,38,.7), rgba(36,37,38,.4), rgba(36,37,38,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #18191A, rgba(24,25,26,.9), rgba(24,25,26,.7), rgba(24,25,26,.4), rgba(24,25,26,0))","nav-list-cell-corner-radius":"8px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","nux-card-body-padding-end":"24px","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(255,241,239)","orange-tertiary":"rgb(94,49,14)","overlay-alpha-80":"rgba(11, 11, 11, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","page-footer-padding-vertical":"16px","placeholder-icon":"#8A8D91","placeholder-image":"rgb(164, 167, 171)","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#3E4042","popover-border-color":"transparent","popover-border-style":"none","popover-border-width":"0px","popover-card-background":"var(--card-background)",positive:"#31A24C","positive-background":"#1F3520","press-overlay":"rgba(255, 255, 255, 0.2)","pressable-background-color-hover":"rgba(255, 255, 255, 0.18)","pressable-background-color-selected":"rgba(255, 255, 255, 0.12)","primary-button-background":"#0070F6","primary-button-icon":"#FFFFFF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#0D1F3A","primary-deemphasized-button-pressed":"rgba(24, 119, 242, 0.2)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#429AFF","primary-icon":"#E4E6EB","primary-text":"#E4E6EB","primary-text-on-media":"white","primary-web-focus-indicator":"#D24294","progress-ring-blue-background":"rgba(45, 136, 255, 0.2)","progress-ring-blue-foreground":"hsl(214, 100%, 59%)","progress-ring-disabled-background":"rgba(122,125,130, 0.2)","progress-ring-disabled-foreground":"#7A7D82","progress-ring-neutral-background":"rgba(255, 255, 255, 0.2)","progress-ring-neutral-foreground":"#ffffff","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(245,241,255)","purple-tertiary":"rgb(55,50,121)","qp-card-box-shadow":"0 4px 8px 0 rgba(0,0,0,0.08)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"var(--accent)","radio-border-width":"2px","radio-checked-icon-color":"var(--accent)","radio-checked-icon-color-disabled":"var(--disabled-button-background)","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-size-large":"24px","radio-size-medium":"20px","rating-star-active":"#FF9831","red-primary":"rgb(251,60,68)","red-secondary":"rgb(255,241,239)","red-tertiary":"rgb(118,22,27)","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(255, 255, 255, 0.05) inset","scroll-thumb":"rgba(255, 255, 255, 0.45)","scrollbar-thumb-color":"rgba(255, 255, 255, 0.19)","scrollbar-track-color":"transparent","secondary-button-background":"rgba(255, 255, 255, 0.18)","secondary-button-background-floating":"#4B4C4F","secondary-button-background-on-dark":"rgba(255, 255, 255, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#FFFFFF","secondary-deemphasized-button-background":"rgba(0, 0, 0, 0)","secondary-icon":"#B0B3B8","secondary-text":"#B0B3B8","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","section-header-text":"#BCC0C4","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.05)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(28, 43, 51, 0.6)","shadow-primary":"0px 0px 12px rgba(28, 43, 51, 0.1)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","story-seen":"#84878B","story-unseen":"#0866FF","surface-background":"#1F1F1F","switch-active":"hsl(214, 100%, 59%)","switch-inactive":"#3E4042","switch-unchecked-background-color":"#6F7276","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(227,247,241)","teal-tertiary":"rgb(10,68,56)","text-accent":"#429AFF","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-corner-radius":"4px","text-badge-critical-background":"#e41e3f","text-badge-info-background":"hsl(214, 100%, 59%)","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-badge-success-background":"#31A24C","text-blue-link":"#429AFF","text-disabled":"rgba(255, 255, 255, 0.34)","text-highlight":"rgba(24, 119, 242, 0.45)","text-input-active-text":"#3E93F8","text-input-caption-margin-top":"10px","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-outside-label":"#FFFFFF","text-input-padding-vertical":"12px","text-negative":"#FF4942","text-placeholder":"rgba(255, 255, 255, 0.5)","text-positive":"#31CC46","text-primary":"#FFFFFF","text-primary-on-media":"#FFFFFF","text-secondary":"rgba(255, 255, 255, 0.5)","text-secondary-on-media":"rgba(255, 255, 255, 0.8)","text-white":"#FFFFFF","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"6px","toast-background":"#242526","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toast-container-max-width":"100%","toast-container-min-width":"288px","toast-container-padding-horizontal":"10px","toast-container-padding-vertical":"16px","toast-corner-radius":"8px","toast-text":"#FFFFFF","toast-text-link":"#4599FF","toaster-view-max-width":"328px","toggle-active-background":"rgb(45, 136, 255)","toggle-active-icon":"#FFFFFF","toggle-active-text":"#FFFFFF","toggle-button-active-background":"#E6F2FF","toggle-handle-off":"#FFFFFF","toggle-handle-on":"#FFFFFF","toggle-track-off":"rgba(255, 255, 255, 0.45)","toggle-track-on":"#0070F6","tombstoned-message-border-color":"rgba(255, 255, 255, 0.18)","tooltip-background":"rgba(11, 11, 11, 0.8)","tooltip-box-shadow":"0 2px 4px 0 var(--shadow-5)","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"2px",warning:"hsl(40, 89%, 52%)",wash:"#3E4042","web-wash":"#1A1A1A","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(255,246,161)","yellow-tertiary":"rgb(72,59,12)"});f["default"]=a}),66);
__d("MDSLegacyStyleXLightTheme",[],(function(a,b,c,d,e,f){a=Object.freeze({accent:"#0099FF","alert-banner-corner-radius":"8px","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-white":"#FFFFFF","attachment-footer-background":"#F0F2F5","background-deemphasized":"#F0F2F5","badge-accent":"#0070F6","badge-background-color-blue":"var(--accent)","badge-background-color-dark-gray":"var(--secondary-icon)","badge-background-color-gray":"var(--disabled-icon)","badge-background-color-green":"var(--positive)","badge-background-color-light-blue":"var(--highlight-bg)","badge-background-color-red":"var(--notification-badge)","badge-background-color-yellow":"var(--base-lemon)","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#216FDB","blue-primary":"rgb(0,136,244)","blue-secondary":"rgb(4,59,114)","blue-tertiary":"rgb(235,245,255)","blueprint-button-height-large":"48px","blueprint-button-height-medium":"40px","border-focused":"#65676B","button-corner-radius":"6px","button-corner-radius-large":"12px","button-corner-radius-medium":"10px","button-height-large":"40px","button-height-medium":"36px","button-icon-padding-large":"16px","button-icon-padding-medium":"16px","button-inner-icon-spacing-large":"3px","button-inner-icon-spacing-medium":"3px","button-padding-horizontal-large":"16px","button-padding-horizontal-medium":"16px","button-padding-icon-only":"16px","card-background":"#FFFFFF","card-background-flat":"#F7F8FA","card-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1)","card-corner-radius":"12px","card-padding-horizontal":"10px","card-padding-vertical":"20px","chartreuse-primary":"rgb(106,147,22)","chartreuse-secondary":"rgb(50,65,19)","chartreuse-tertiary":"rgb(226,255,152)","chat-bubble-border-radius":"18px","chat-bubble-emphasis-ring-after":"black","chat-bubble-emphasis-ring-before":"white","chat-bubble-padding-horizontal":"12px","chat-bubble-padding-vertical":"8px","chat-incoming-message-bubble-background-color":"#F0F0F0","chat-outgoing-message-bubble-background-color":"var(--accent)","chat-replied-message-background-color":"rgba(0, 0, 0, 0.03)","chat-text-blockquote-color-background-line":"rgba(0, 0, 0, 0.12)","chat-text-blockquote-color-text-primary-media":"rgba(255, 255, 255, 0.7)","chip-button-green":"#24832C","chip-corner-radius":"6px","circle-button-green-background-color":"#30A13A","circle-button-normal-background-color":"rgba(0, 0, 0, 0.04)","circle-button-overlay-raised-background-color":"#FFFFFF","circle-button-overlay-raised-shadow-color":"rgba(0, 0, 0, 0.12)","circle-button-red-background-color":"#E91D16","circle-button-secondary-on-media-background-color":"rgba(0, 0, 0, 0.6)","comment-background":"rgba(134, 142, 153, 0.1)","comment-bubble":"18px","comment-footer-background":"#F6F9FA","cyan-primary":"rgb(0,142,213)","cyan-secondary":"rgb(15,63,93)","cyan-tertiary":"rgb(231,245,255)","dataviz-blue-primary":"#1D85FC","dataviz-blue-secondary":"#043B72","dataviz-orange":"#D06C14","dataviz-primary-1":"rgb(0,174,143)","dataviz-primary-2":"rgb(156,219,255)","dataviz-primary-3":"rgb(73,156,255)","dataviz-secondary-1":"rgb(83,78,191)","dataviz-secondary-2":"rgb(103,96,228)","dataviz-secondary-3":"rgb(119,45,88)","dataviz-supplementary-1":"rgb(253,91,67)","dataviz-supplementary-2":"rgb(161,132,0)","dataviz-supplementary-3":"rgb(36,131,44)","dataviz-supplementary-4":"rgb(51,51,52)","destructive-button-background":"#E91D16","destructive-button-text":"#FFFFFF","dialog-anchor-horizontal-padding":"8px","dialog-anchor-vertical-padding":"64px","dialog-border-radius":"12px","dialog-box-shadow":"0 12px 28px 0 var(--shadow-2), 0 2px 4px 0 var(--shadow-1), inset 0 0 0 1px var(--shadow-inset)","dialog-corner-radius":"8px","dialog-size-medium-width":"100%","dialog-size-small-width":"100%","disabled-button-background":"rgba(0, 0, 0, 0.04)","disabled-button-text":"rgba(0, 0, 0, 0.2)","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","divider-on-color":"#CED0D4","event-date":"#F3425F","fb-logo":"#0866FF","fb-wordmark":"#0866FF","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-100":"#1C1C1C","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-none":"0ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-fast":"200ms","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-100":"#1C1E21","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-green-55":"#00A400","fds-green-65":"#51CE70","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-slow":"400ms","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-unified-blue-35":"#1455B0","fds-unified-gray-20":"#323436","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00","filter-accent":"invert(50%) sepia(94%) saturate(3979%) hue-rotate(183deg) brightness(104%) contrast(103%)","filter-always-white":"invert(100%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-primary-accent":"invert(39%) sepia(57%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(147.75%) hue-rotate(202deg) brightness(97%) contrast(96%)","filter-primary-deemphasized-button-icon":"invert(28%) sepia(100%) saturate(6042%) hue-rotate(202deg) brightness(96%) contrast(101%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-button-icon-on-media":"invert(100%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","focus-ring-blue":"#0070F6","focus-ring-outline-forced-colors":"2px auto transparent !important","focus-ring-outline-link":"2px auto var(--focus-ring-blue)","focus-ring-shadow-default":"0 0 0 2px var(--always-white), 0 0 0 4px var(--focus-ring-blue)","focus-ring-shadow-inset":"0 0 0 2px var(--focus-ring-blue) inset, 0 0 0 4px var(--always-white) inset","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","font-family-system-fds":"system-ui, -apple-system, BlinkMacSystemFont, Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","fuschia-primary":"rgb(250,45,138)","fuschia-secondary":"rgb(118,14,62)","fuschia-tertiary":"rgb(255,241,246)","glimmer-animation-direction":"alternate","glimmer-animation-duration":"1000ms","glimmer-animation-timing-function":"steps(10, end)","glimmer-base-opaque":"#979A9F","glimmer-corner-radius":"8px","glimmer-high-contrast-base-opaque":"#65686C","glimmer-opacity-high-contrast-max":"1","glimmer-opacity-high-contrast-min":"0.08","glimmer-opacity-max":"1","glimmer-opacity-min":"0.25","glimmer-spinner-icon":"#65676B","global-panel-width":"0px","global-panel-width-expanded":"0px","green-primary":"rgb(43,154,53)","green-secondary":"rgb(26,68,27)","green-tertiary":"rgb(227,250,224)","header-height":"0px","hero-banner-background":"#FFFFFF","highlight-bg":"#E7F3FF","hosted-view-selected-state":"rgba(0, 0, 0, 0.04)","hover-overlay":"rgba(0, 0, 0, 0.05)","icon-accent-color":"#0070F6","icon-destructive-color":"#E91D16","icon-inactive-color":"rgba(134, 142, 153, 0.75)","icon-nux-color":"rgba(0, 0, 0, 0.2)","icon-primary-color":"#000000","icon-secondary-color":"rgba(0, 0, 0, 0.44)","icon-selected-color":"rgba(0, 0, 0, 0.44)","icon-tertiary-color":"rgba(0, 0, 0, 0.2)","icon-white-color":"#FFFFFF","image-corner-radius":"4px","infochip-medium-radius":"12px","input-background":"#FFFFFF","input-background-active":"hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.05)","input-background-disabled":"#F0F2F5","input-background-error-active":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-error-hover":"hsla(var(--negative-h), var(--negative-s), var(--negative-l), 0.05)","input-background-hover":"var(--input-background)","input-background-warn-active":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-background-warn-hover":"hsla(var(--warning-h), var(--warning-s), var(--warning-l), 0.05)","input-border-color":"#CED0D4","input-border-color-hover":"var(--placeholder-text)","input-border-width":"1px","input-corner-radius":"6px","input-label-color-disabled":"var(--disabled-text)","input-label-color-error":"var(--negative)","input-label-color-highlighted":"hsl(214, 89%, 52%)","input-label-color-inside":"var(--secondary-text)","inverse-text":"var(--always-white)","last-active-state-background":"#E8FBE2","last-active-state-text":"#1B7027","list-cell-chevron":"#65676B","list-cell-corner-radius":"8px","list-cell-min-height":"52px","list-cell-padding-vertical":"20px","list-cell-padding-vertical-with-addon":"14px","magenta-primary":"rgb(215,77,204)","magenta-secondary":"rgb(96,36,91)","magenta-tertiary":"rgb(255,239,254)","mds-green":"#31CC46","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","menu-base-list-item-padding-horizontal":"8px","menu-base-list-item-padding-vertical":"12px","menu-base-size-full-margin-end":"48px","menu-item-base-margin-horizontal":"8px","menu-item-base-margin-vertical":"0px","menu-item-base-overlay-radius":"4px","menu-item-base-padding-horizontal":"8px","menu-item-base-padding-vertical":"12px","menu-item-base-with-icon-padding-horizontal":"var(--menu-item-base-padding-horizontal)","messenger-application-max-width":"2560px","messenger-card-background":"#FFFFFF","messenger-card-box-shadow":"0px 0px 8px rgba(52,72,84,.05)","messenger-card-corner-radius":"12px","messenger-card-max-width":"480px","messenger-card-min-width":"300px","messenger-card-spacing":"16px","messenger-reply-background":"#F0F2F5","messenger-sidebar-collapsed-width":"44px","messenger-sidebar-expanded-width":"240px","mwp-header-background-color":"var(--messenger-card-background)","mwp-header-button-color":"var(--accent)","mwp-message-row-background":"var(--messenger-card-background)","nav-bar-background":"#F5F5F5","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))","nav-list-cell-corner-radius":"8px","nav-list-cell-min-height":"0px","nav-list-cell-padding-vertical":"16px","nav-list-cell-padding-vertical-with-addon":"16px",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#e41e3f","nux-card-body-padding-end":"24px","orange-primary":"rgb(208,108,20)","orange-secondary":"rgb(94,49,14)","orange-tertiary":"rgb(255,241,239)","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","page-footer-padding-vertical":"16px","placeholder-icon":"#65676B","placeholder-image":"rgb(164, 167, 171)","placeholder-text":"#65676B","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF","popover-border-color":"transparent","popover-border-style":"none","popover-border-width":"0px","popover-card-background":"var(--card-background)",positive:"#5AD539","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","pressable-background-color-hover":"rgba(0, 0, 0, 0.04)","pressable-background-color-selected":"rgba(0, 0, 0, 0.06)","primary-button-background":"#0070F6","primary-button-icon":"#FFFFFF","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#EAF3FE","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#0069E0","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","primary-web-focus-indicator":"#D24294","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","purple-primary":"rgb(125,116,255)","purple-secondary":"rgb(55,50,121)","purple-tertiary":"rgb(245,241,255)","qp-card-box-shadow":"0 4px 8px 0 rgba(0,0,0,0.1)","radio-border-color":"var(--primary-icon)","radio-border-color-disabled":"var(--disabled-button-background)","radio-border-color-selected":"#000000","radio-border-width":"2px","radio-checked-icon-color":"#000000","radio-checked-icon-color-disabled":"var(--disabled-button-background)","radio-checked-icon-size-large":"12px","radio-checked-icon-size-medium":"12px","radio-size-large":"24px","radio-size-medium":"20px","rating-star-active":"#EB660D","red-primary":"rgb(251,60,68)","red-secondary":"rgb(118,22,27)","red-tertiary":"rgb(255,241,239)","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(0, 0, 0, 0.1) inset","scroll-thumb":"rgba(0, 0, 0, 0.44)","scrollbar-thumb-color":"rgba(0, 0, 0, 0.2)","scrollbar-track-color":"transparent","secondary-button-background":"rgba(0, 0, 0, 0.04)","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#000000","secondary-deemphasized-button-background":"rgba(0, 0, 0, 0)","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-addOnEnd-button-padding-horizontal":"0px","section-header-addOnEnd-button-padding-vertical":"0px","section-header-addOnEnd-margin-horizontal":"8px","section-header-addOnStart-margin-horizontal":"12px","section-header-padding-vertical":"16px","section-header-subtitle-margin-vertical":"14px","section-header-subtitle-with-addOnEnd-margin-vertical":"6px","section-header-text":"#4B4C4F","separator-menu-item-margin-horizontal":"16px","separator-menu-item-margin-vertical":"4px","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-base":"0 1px 2px var(--shadow-2)","shadow-elevated":"0 8px 20px 0 rgba(0, 0, 0, 0.2), 0 2px 4px 0 rgba(0, 0, 0, 0.1)","shadow-emphasis":"0 2px 12px var(--shadow-2)","shadow-inset":"rgba(255, 255, 255, 0.5)","shadow-on-media":"0px 0px 1px rgba(0, 0, 0, 0.62)","shadow-persistent":"0px 0px 12px rgba(52, 72, 84, 0.05)","shadow-primary":"0px 5px 12px rgba(52, 72, 84, 0.2)","shadow-responsive":"0px 8px 16px 0px rgba(0, 0, 0, 0.1)","story-seen":"#84878B","story-unseen":"#0866FF","surface-background":"#FFFFFF","switch-active":"hsl(214, 89%, 52%)","switch-inactive":"#CED0D4","switch-unchecked-background-color":"#8F9297","tab-height":"60px","tab-icon-padding-end":"0px","tab-text-icon-gap":"4px","tab-underline-color":"transparent","tab-underline-height":"3px","teal-primary":"rgb(0,152,124)","teal-secondary":"rgb(10,68,56)","teal-tertiary":"rgb(227,247,241)","text-accent":"#0A7CFF","text-badge-attention-background":"hsl(40, 89%, 52%)","text-badge-corner-radius":"4px","text-badge-critical-background":"#e41e3f","text-badge-info-background":"hsl(214, 89%, 52%)","text-badge-padding-horizontal":"6px","text-badge-padding-vertical":"6px","text-badge-success-background":"#31A24C","text-blue-link":"#0069E0","text-disabled":"rgba(0, 0, 0, 0.2)","text-highlight":"rgba(24, 119, 242, 0.2)","text-input-active-text":"#0064D1","text-input-caption-margin-top":"10px","text-input-field-font-family":"Placeholder Font","text-input-field-font-size":"1rem","text-input-field-font-stretch":"initial","text-input-field-font-weight":"500","text-input-field-line-height":"1.2941","text-input-label-font-family":"Placeholder Font","text-input-label-font-size":"17px","text-input-label-font-size-scale-multiplier":"0.75","text-input-label-font-stretch":"initial","text-input-label-font-weight":"400","text-input-label-line-height":"1.2941","text-input-multi-padding-between-text-scrollbar":"20px","text-input-multi-padding-scrollbar":"16px","text-input-outside-label":"#000000","text-input-padding-vertical":"12px","text-negative":"#D41A14","text-placeholder":"rgba(0, 0, 0, 0.55)","text-positive":"#1B7027","text-primary":"#000000","text-primary-on-media":"#FFFFFF","text-secondary":"rgba(0, 0, 0, 0.55)","text-secondary-on-media":"rgba(255, 255, 255, 0.8)","text-white":"#FFFFFF","toast-addon-padding-horizontal":"6px","toast-addon-padding-vertical":"6px","toast-background":"#FFFFFF","toast-border-color":"transparent","toast-border-style":"none","toast-border-width":"0px","toast-container-max-width":"100%","toast-container-min-width":"288px","toast-container-padding-horizontal":"10px","toast-container-padding-vertical":"16px","toast-corner-radius":"8px","toast-text":"#1C2B33","toast-text-link":"#216FDB","toaster-view-max-width":"328px","toggle-active-background":"#E7F3FF","toggle-active-icon":"rgb(24, 119, 242)","toggle-active-text":"rgb(24, 119, 242)","toggle-button-active-background":"#E7F3FF","toggle-handle-off":"#FFFFFF","toggle-handle-on":"#FFFFFF","toggle-track-off":"rgba(0, 0, 0, 0.44)","toggle-track-on":"#0070F6","tombstoned-message-border-color":"rgba(0, 0, 0, 0.12)","tooltip-background":"rgba(244, 244, 244, 0.8)","tooltip-box-shadow":"0 2px 4px 0 var(--shadow-5)","tooltip-corner-radius":"8px","typeahead-list-outer-padding-vertical":"2px",warning:"hsl(40, 89%, 52%)",wash:"#E4E6EB","web-wash":"#F5F5F5","yellow-primary":"rgb(161,132,0)","yellow-secondary":"rgb(72,59,12)","yellow-tertiary":"rgb(255,246,161)"});f["default"]=a}),66);
__d("MDSThemeConfig",["cr:5386","cr:5559"],(function(a,b,c,d,e,f,g){"use strict";a={dark:b("cr:5386"),light:b("cr:5559"),type:"VARIABLES"};g["default"]=a}),98);
__d("MDSTheme.react",["BaseTheme.react","MDSThemeConfig","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=["displayMode"],i,j=i||(i=d("react"));i.useMemo;var k={root:{boxSizing:"x1afcbsf",position:"x1uhb9sk",zIndex:"x1swf91x",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(e=a.displayMode,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=c("useCurrentDisplayMode")();var g;bb0:{if(e==="invert"){g=a==="dark"?"light":"dark";break bb0}g=e!=null?e:a}e=g;b[3]!==f||b[4]!==e?(a=j.jsx(c("BaseTheme.react"),babelHelpers["extends"]({config:c("MDSThemeConfig"),displayMode:e,xstyle:k.root},f)),b[3]=f,b[4]=e,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSTooltipImpl.react",["BaseAnchorPositioningUtils","BaseContextualLayerLayerAdjustmentContext","CometPlaceholder.react","FDSProgressRingIndeterminate.react","MDSText.react","MDSTheme.react","clearTimeout","cr:20267","cr:20391","react","react-compiler-runtime","setTimeout","stylex","useCometDisplayTimingTrackerForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=["align","contentColor","contentKey","contentType","contextualLayerXstyle","delayContentMs","headline","id","isVisible","themeWrapper","tooltip","tooltipTheme"],i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.useLayoutEffect,n=e.useRef,o=e.useState,p={arrowAbove:{backgroundColor:"xlhe6ec",borderEndEndRadius:"xt6ovg4",bottom:"xuvo3zv",clipPath:"xinh0ix",height:"x1v9usgg",insetInlineStart:"x3nj053",left:null,right:null,position:"x10l6tqk",transform:"x1158fpu",width:"x6jxa94",$$css:!0},arrowBelow:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1fqc64z",clipPath:"x1ii9esy",height:"x1v9usgg",insetInlineStart:"x3nj053",left:null,right:null,position:"x10l6tqk",top:"x1ans9ou",transform:"x1158fpu",width:"x6jxa94",$$css:!0},contextualLayer:{$$css:!0},outerContainerArrowAboveMarginSpacing:{marginBottom:"xvrx75z",marginTop:"xr9ek0c",$$css:!0},outerContainerArrowBelowMarginSpacing:{marginBottom:"xjpr12u",marginTop:"x1is9kpn",$$css:!0}};function q(a){var b=d("react-compiler-runtime").c(4),c=a.contextualLayerRef;b[0]!==c.current?(a=function(){var a=c.current;a&&a.reposition({autoflip:!0})},b[0]=c.current,b[1]=a):a=b[1];var e;b[2]!==c?(e=[c],b[2]=c,b[3]=e):e=b[3];m(a,e);return null}function r(a){var b,e=d("react-compiler-runtime").c(8);a=a.position;b=(b=l(c("BaseContextualLayerLayerAdjustmentContext")))!=null?b:0;if(a==null)return null;var f=a==="above"&&p.arrowAbove;a=a==="below"&&p.arrowBelow;var g;e[0]!==f||e[1]!==a?(g=(i||(i=c("stylex")))(f,a),e[0]=f,e[1]=a,e[2]=g):g=e[2];f="translate("+-b+"px, 0px) rotate(45deg)";e[3]!==f?(a={transform:f},e[3]=f,e[4]=a):a=e[4];e[5]!==g||e[6]!==a?(b=k.jsx("div",{className:g,style:a}),e[5]=g,e[6]=a,e[7]=b):b=e[7];return b}function a(a){var e,f=d("react-compiler-runtime").c(54),g;if(f[0]!==a){var j=a.align;a.contentColor;var l=a.contentKey;a.contentType;var s=a.contextualLayerXstyle,t=a.delayContentMs;a.headline;var u=a.id,v=a.isVisible;a.themeWrapper;var w=a.tooltip,x=a.tooltipTheme,y=babelHelpers.objectWithoutPropertiesLoose(a,h);j=j;l=l;s=s;t=t;u=u;g=v;v=w;w=x;x=y;f[0]=a;f[1]=j;f[2]=l;f[3]=s;f[4]=u;f[5]=g;f[6]=x;f[7]=t;f[8]=w;f[9]=v}else j=f[1],l=f[2],s=f[3],u=f[4],g=f[5],x=f[6],t=f[7],w=f[8],v=f[9];var z=t===void 0?0:t;y=w===void 0?"invert":w;a=x;t=a.position;w=n(null);a=c("useCometDisplayTimingTrackerForInteraction")("ToolTip");var A=n(null),B=n(g),C;f[10]!==z||f[11]!==g?(C=function(){return g===!0&&B.current===!1&&z>0},f[10]=z,f[11]=g,f[12]=C):C=f[12];C=o(C);var D=C[0],E=C[1];C=n(null);var F=x.anchorPosName;e=(e=x.anchorPosRef)!=null?e:C;f[13]!==j||f[14]!==t?(C=d("BaseAnchorPositioningUtils").contextualLayerToAnchorPositionAreaCompat(t,j),f[13]=j,f[14]=t,f[15]=C):C=f[15];j=C;C=j[0];j=j[1];var G;f[16]!==C||f[17]!==j?(G={blockPositionArea:C,inlinePositionArea:j,tryFallbacks:"flip-block"},f[16]=C,f[17]=j,f[18]=G):G=f[18];C=b("cr:20267")(F,e,G);j=d("BaseAnchorPositioningUtils").passesAnchorPositionExperiment();var H,I;C!=null&&j&&(H=C[0],I=C[1]);F=s!=null?s:p.contextualLayer;f[19]!==a||f[20]!==x||f[21]!==F?(e=babelHelpers["extends"]({align:"middle"},x,{imperativeRef:w,ref:a,xstyle:F}),f[19]=a,f[20]=x,f[21]=F,f[22]=e):e=f[22];G=e;f[23]!==z||f[24]!==g?(j=function(){if(g===!0&&B.current===!1&&z>0){E(!0);A.current=c("setTimeout")(function(){E(!1),A.current=null},z);return function(){c("clearTimeout")(A.current),A.current=null}}else A.current!=null&&(E(!1),c("clearTimeout")(A.current),A.current=null);B.current=g},C=[z,g],f[23]=z,f[24]=g,f[25]=j,f[26]=C):(j=f[25],C=f[26]);m(j,C);if(v==null||!g)return null;f[27]===Symbol["for"]("react.memo_cache_sentinel")?(s=k.jsx("div",{className:"x78zum5 xl56j7k",children:k.jsx(c("FDSProgressRingIndeterminate.react"),{color:"dark",size:20})}),f[27]=s):s=f[27];a=s;x=I;f[28]!==H||f[29]!==t?(F=(i||(i=c("stylex"))).props(t==="below"&&p.outerContainerArrowBelowMarginSpacing,t==="above"&&p.outerContainerArrowAboveMarginSpacing,H),f[28]=H,f[29]=t,f[30]=F):F=f[30];f[31]!==g?(e={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x152obne x17o27uk xg01cxk xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6"},1:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x152obne x17o27uk xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1n2onr6 x1hc1fzr"}}[!!g<<0],f[31]=g,f[32]=e):e=f[32];f[33]!==l||f[34]!==D||f[35]!==v?(j=k.jsx(c("MDSText.react"),{type:"body4",children:D?a:k.jsxs(c("CometPlaceholder.react"),{fallback:a,name:"MDSTooltipImpl",children:[k.jsx(q,{contextualLayerRef:w}),v]},l)}),f[33]=l,f[34]=D,f[35]=v,f[36]=j):j=f[36];f[37]!==t?(C=k.jsx(r,{position:t}),f[37]=t,f[38]=C):C=f[38];f[39]!==u||f[40]!==e||f[41]!==j||f[42]!==C?(s=k.jsxs("div",babelHelpers["extends"]({},e,{"data-testid":void 0,id:u,role:"tooltip",children:[j,C]})),f[39]=u,f[40]=e,f[41]=j,f[42]=C,f[43]=s):s=f[43];f[44]!==I||f[45]!==F||f[46]!==s?(a=k.jsx("div",babelHelpers["extends"]({ref:x},F,{children:s})),f[44]=I,f[45]=F,f[46]=s,f[47]=a):a=f[47];f[48]!==a||f[49]!==y?(w=k.jsx(c("MDSTheme.react"),{displayMode:y,children:a}),f[48]=a,f[49]=y,f[50]=w):w=f[50];l=w;f[51]!==G||f[52]!==l?(D=k.jsx(b("cr:20391"),babelHelpers["extends"]({},G,{children:l})),f[51]=G,f[52]=l,f[53]=D):D=f[53];return D}g["default"]=a}),98);
__d("QPLCrashResiliencePlugin",["FBLogger","QPLEvent","QPLMarkerMap","QuickPerformanceLogger","RSTLogForCrash","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){if(c("gkx")("11050")===!1)return;var a=new l().getListener();(i||(i=c("QuickPerformanceLogger"))).addListener(a)}var j=100,k=10,l=function(){function a(){var a=this;this.$2=!1;this.$1=new(c("QPLMarkerMap"))({totalLimit:j,perMarkerLimit:k});d("RSTLogForCrash").logForCrashReadyPromise.getPromise().then(function(){a.$2=!0,a.$3()})["catch"](function(){})}var b=a.prototype;b.$3=function(){var a=this;(i||(i=c("QuickPerformanceLogger"))).activeMarkers.forEach(function(b,c){b.forEach(function(b,d){if(!b.isCrashResilient)return;a.$1.set(c,d,1)})});this.$4()};b.$4=function(){if(!this.$2)return;var a=this.$1.toString();d("RSTLogForCrash").isValidStringValue(a)||(a="{}",c("FBLogger")("qpl-crash-resilience-js").warn("Exceeded RST log limit"));d("RSTLogForCrash").logForCrash("active_qpls",a,d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE,{immediateFlush:!0})};b.getListener=function(){var a=this,b=this;return{onMarkerStarted:function(a,c,d,e){b.onMarkerStarted(a,c,d,e)},onMarkerEnd:function(b,c,d,e,f){return a.onMarkerEnd(b,c,d,e,f)},onMarkerDrop:function(a,c,d,e){b.onMarkerDrop(a,c,d,e)}}};b.onMarkerStarted=function(a,b,c,e){e=(c=e.isCrashResilient)!=null?c:!1;if(!e)return;this.$1.set((h||(h=d("QPLEvent"))).getMarkerId(a),b,1);this.$4()};b.onMarkerEnd=function(a,b,c,e,f){e=(a=f.isCrashResilient)!=null?a:!1;if(!f.passesSampling||!e)return;this.$1["delete"]((h||(h=d("QPLEvent"))).getMarkerId(b),c);this.$4()};b.onMarkerDrop=function(a,b,c,e){c=(c=e.isCrashResilient)!=null?c:!1;if(!e.passesSampling||!c)return;this.$1["delete"]((h||(h=d("QPLEvent"))).getMarkerId(a),b);this.$4()};return a}();g.startQPLCrashResilience=a}),98);
__d("RSTAdsManagerUtilsMainThread",["requireWeak"],(function(a,b,c,d,e,f,g){"use strict";var h=null;c("requireWeak")("AdsAccountStore",function(a){h=a});var i=null;c("requireWeak")("AdsPERouterHelper",function(a){i=a});function a(){try{var a;a=(a=(a=i)==null||(a=a.getRouter())==null?void 0:a.getQueryParams())!=null?a:{};var b=a.selected_campaign_ids,c=a.selected_adset_ids;a=a.selected_ad_ids;a=(a=a==null?void 0:a.toArray())!=null?a:[];c=(c=c==null?void 0:c.toArray())!=null?c:[];b=(b=b==null?void 0:b.toArray())!=null?b:[];return{adIds:a.map(function(a){return String(a)}),adsetIds:c.map(function(a){return String(a)}),campaignIds:b.map(function(a){return String(a)})}}catch(a){return{adIds:[],adsetIds:[],campaignIds:[]}}}function b(){var a;return(a=(a=h)==null?void 0:a.getSelectedAccountID())!=null?a:"0"}function d(){var a;return(a=(a=h)==null?void 0:a.getSelectedBusinessID())!=null?a:"0"}function e(){return{}}g.getAdEntityIds=a;g.getAdAccountID=b;g.getBusinessID=d;g.getAdsAnnotations=e}),98);
__d("RSTExternalLoggingDataStoreMainThread",["FBLogger","RSTConfig","RSTLogForCrash","getErrorSafe","nextCrashLoggingSpanId"],(function(a,b,c,d,e,f,g){var h=500,i=5e3,j=500;a=function(){function a(){this.$5=!1,this.$1=new Map(),this.$2=new Map(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.isValidValue=function(a){return a==null||a.length<=i};b.$6=function(a,b,d){if(a.length>h||!this.isValidValue(b)){this.$5||c("FBLogger")("responsive-tracker").warn(d,a,b);this.$5=!0;return!1}if(this.totalStoredPairCount()>j){this.$5||c("FBLogger")("responsive-tracker").warn("Too many key-value pairs for external span logging data (ignored)");this.$5=!0;return!1}return!0};b.logSpanEnd=function(a){this.$4["delete"](a)};b.logSpanStart=function(a,b){b===void 0&&(b=null);if(!this.$6(a,b,"Invalid key or annotation for external logging data (ignored), key: %s, annotation: %s"))return-1;b=this.$7(a,b);var c=d("nextCrashLoggingSpanId").nextCrashLoggingSpanId();this.$4.set(c,{id:c,name:a,start:Date.now(),annotation:b});return c};b.log=function(a,b,e){if(!this.$6(a,b,"Invalid key or value for external logging data (ignored), key: %s, value: %s"))return!1;var f=!1;if(e===d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_HEARTBEAT)f=this.$8(this.$2,a,b),this.$2.set(a,b);else if(e===d("RSTLogForCrash").RSTLogMode.VALID_UNTIL_NEXT_WRITE)f=this.$8(this.$1,a,b),this.$1.set(a,b);else if(e===d("RSTLogForCrash").RSTLogMode.VALID_FOR_5_SECONDS||e===d("RSTLogForCrash").RSTLogMode.VALID_FOR_2_MINUTES){f=!0;this.$3.set(a,{value:b,createTime:Date.now(),expirationTime:(a=d("RSTLogForCrash").getExpirationTime(e))!=null?a:Date.now()})}else c("FBLogger")("responsive-tracker").warn("Invalid logMode");return f};b.$8=function(a,b,c){return!a.has(b)||a.get(b)!==c};b.totalStoredPairCount=function(){return this.$1.size+this.$2.size+this.$3.size+this.$4.size};b.get=function(a){if(this.$2.has(a))return this.$2.get(a)||null;if(this.$1.has(a))return this.$1.get(a)||null;var b=this.$3.get(a);if(b!=null)if(Date.now()<b.expirationTime)return b.value;else this.$3["delete"](a);return null};b.clear=function(){this.$1.clear(),this.clearNextHeartbeatStore()};b.clearNextHeartbeatStore=function(){this.$2.clear()};b.clearSpanStore=function(){this.$4.clear()};b.getAllSpanData=function(){var a={};this.$4.forEach(function(b,c){a[""+c]=b});return a};b.$9=function(){var a=Date.now();for(var b of this.$3){var c=b[0],d=b[1];a>=d.expirationTime&&this.$3["delete"](c)}};b.getTimedStoreData=function(){this.$9();return Object.fromEntries(Array.from(this.$3.entries()).map(function(a){var b=a[0];a=a[1];return[b,a.value]}))};b.getAll=function(){return babelHelpers["extends"]({},this.getTimedStoreData(),Object.fromEntries(this.$1),Object.fromEntries(this.$2))};b.$7=function(a,b){var d=c("RSTConfig").logSpanAnnotationsMapping.get(a);if(d!=null)try{return d(a,b)}catch(b){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(b)).warn("Failed to attach built-in annotations for key %s",a)}return b};return a}();b=new a();g.loggingDataStore=b}),98);
__d("RSTClearExternalLoggingDataStoreMainThread",["RSTEvents","RSTEventsMessageQueue","RSTExternalLoggingDataStoreMainThread"],(function(a,b,c,d,e,f,g){"use strict";function h(){d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.clearNextHeartbeatStore()}function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.HEART_BEAT,h),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,h),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,h)}g.registerClearExternalLoggingData=a}),98);
__d("RSTUtilsMainThread",["CurrentUser","FacebookAppIDs","RSTConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){if(h.has(a)){var b;b=(b=h.get(a))!=null?b:0;if(b<=0){h["delete"](a);return!1}h.set(a,b-1);return!0}h.set(a,Math.floor(Math.random()*10));return!0}f=c("CurrentUser").getAppID();function b(a){switch(a){case""+c("FacebookAppIDs").ADS_POWER_EDITOR:return"Ads";case""+c("FacebookAppIDs").WWW_COMET:return"Comet";case""+c("FacebookAppIDs").ADS_EVENTS_MANAGER:return"Business";default:return"(Unset-in-RST)"}}var i=new Set([c("FacebookAppIDs").ADS_POWER_EDITOR,c("FacebookAppIDs").ADS_EVENTS_MANAGER,c("FacebookAppIDs").BIZWEB].map(function(a){return""+a}));i=f!=null&&i.has(f);b=b(f);function d(a){if(a==null)return null;for(a of a)if(!c("RSTConfig").isReactComponentNameBlocked(a))return a;return null}function e(a,b,d){d===void 0&&(d=c("RSTConfig").DEFAULT_REACT_COMPONENT_CONTEXT_SIZE);if(a==null)return null;var e=new Set(),f=[];for(a of a){if(f.length>=d)break;!e.has(a)&&!b(a)&&(f.push(a),e.add(a))}return f}g.shouldSkipProcessingIncident=a;g.isMonetizationApp=i;g.appName=b;g.getAllowListedComponentName=d;g.getReactComponentContext=e}),98);
__d("RSTIncidentLoggingMainThread",["Env","InteractionTracingConfigDefault","QPLEvent","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTUtils","RSTUtilsMainThread","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("LogBrowserCrashReportsLowerRetentionFalcoEvent").__setRef("RSTIncidentLoggingMainThread"),k=new Set();function a(){return k}function l(a){var b,e,f,g,h,i=a.unresponsiveEvent,j=i!=null?Date.now()-(i==null?void 0:i.detectTime):0,k=i==null?void 0:i.lastHeartBeatMetadata,l=(k==null?void 0:k.brsid)!=null?String(k.brsid):null;b=(b=k==null?void 0:k.cpp)!=null?b:null;e=(e=k==null?void 0:k.ccrt)!=null?e:null;f=(f=k==null?void 0:k.cr)!=null?f:null;g=(g=k==null?void 0:k.annotations)!=null?g:{};h=(h=k==null?void 0:k.spans)!=null?h:{};a=a.isRecoverable?c("RSTConstants").reportReason.recoverable:(i==null?void 0:i.incidentType)!==c("RSTConstants").incidentType.unexpectedExit?c("RSTConstants").reportReason.unrecoverable:c("RSTConstants").reportReason.unexpectedExit;var n=i==null?void 0:i.traces;n=p(n);var q=n.qplMarkerId;n=n.tracePolicy;var r=o(i==null?void 0:i.lastTrace);return{application_name:d("RSTUtilsMainThread").appName,reason:a,url:d("RSTUtils").sanitizeURL(k==null?void 0:k.url),age:String(j),brsid:l,qpl_event_marker_id:d("RSTUtils").intToString(q),trace_policy:n,last_qpl_event_marker_id:d("RSTUtils").intToString(r.qplMarkerId),last_trace_policy:r.tracePolicy,ad_account_id:(a=k==null?void 0:k.i2)!=null?a:"0",business_id:(j=k==null?void 0:k.i3)!=null?j:"0",canonical_route:e,client_push_phase:b,client_revision:f,freeze_time_in_ms:String((l=i==null?void 0:i.unrecoverLastsForMs)!=null?l:0),normalized_component_stack:(q=k==null?void 0:k.rcs)!=null?q:[],session_start_timestamp_in_ms:String((n=k==null?void 0:k.st)!=null?n:""),rst_annotations:m(g,h,i)}}function m(a,b,d){var e=[];for(var f of Object.keys(a))e.push(f+":"+a[f]);a=d==null?void 0:d.detectTime;for(f of Object.keys(b)){var g=b[f],h=a!=null?a-g.start:0;e.push("span:"+g.name+":"+((g=g.annotation)!=null?g:"")+":"+h)}e.push("processingBrsid:"+((g=(i||(i=c("Env"))).brsid)!=null?g:""));n(e,d);return e}function n(a,b){if(!c("RSTConfig").shouldCollectAdditionalMetadata())return a;var d=b==null?void 0:b.lastTrace;d=d==null?void 0:d.endTimestamp;var e=b==null?void 0:b.detectTime;d!=null&&e!=null&&a.push("msSinceLastInteractionEnds:"+(e-d));e=b!=null?b:{};d=e.incidentID;d!=null&&a.push("incidentID:"+d);(b==null?void 0:b.isFirstUnrecoverable)===!0&&a.push("isFirstUnrecoverable:true");(b==null?void 0:b.hasOverlappingResponsiveIndicents)===!0&&a.push("hasOverlappingResponsiveIndicents:true");(b==null?void 0:b.hasDecryptionError)===!0&&a.push("hasDecryptionError:true");return a}function o(a){if(a==null)return{qplMarkerId:null,tracePolicy:null};if(a.qplEvent==null)return{qplMarkerId:null,tracePolicy:null};var b=(h||(h=d("QPLEvent"))).getMarkerId(a.qplEvent);a=a.tracePolicy;return{qplMarkerId:b,tracePolicy:a}}function p(a){if(a==null)return{qplMarkerId:null,tracePolicy:null};var b=0,c=null;a.forEach(function(a){if((a==null?void 0:a.qplEvent)==null||a.tracePolicy===d("InteractionTracingConfigDefault").DEFAULT_TRACING_CONFIG.defaultTracePolicy)return;a.startTime>b&&(b=a.startTime,c=a)});return o(c)}function q(a,b){j.onReady(function(c){c=c.log;c(function(){return l({unresponsiveEvent:a,isRecoverable:b})})})}function b(){c("RSTConfig").SHOULD_SAMPLE_RECOVERABLE&&d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,function(a){a=a.unresponsiveEventRecord;if(a==null||k.has(a.incidentID))return;k.add(a.incidentID);d("RSTUtils").debugLogImportant("logging recoverable unresponsiveness event");q(a,!0)}),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.CRASH_INCIDENT,function(a){a=a.unresponsiveEventRecord;if(a==null||k.has(a.incidentID)){d("RSTUtils").debugLogImportant("not logging incident because it was already logged");return}if(c("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION&&a.isFirstUnrecoverable!==!0){var b;b=(b=a.incidentType)!=null?b:"";d("RSTUtils").debugLogImportant("not logging unrecoverable "+b+" event (because it's not the first incident in the session)");return}k.add(a.incidentID);d("RSTUtils").debugLogImportant("logging unrecoverable unresponsiveness event:");q(a,!1)})}g.getLoggedIncidentIDs=a;g.registerIncidentLogging=b}),98);
__d("RSTLocalStorageMainThread",["FBLogger","WebStorage","fb-error"],(function(a,b,c,d,e,f,g){"use strict";var h,i="RSTData",j=200,k=2*24*60*60*1e3;a=function(){function a(){this.$2=!0,this.$1=(h||(h=c("WebStorage"))).getLocalStorage(),this.probeAndInit()}var b=a.prototype;b.$3=function(a,b){a=c("fb-error").getErrorSafe(a);c("FBLogger")("responsive-tracker").catching(a).warn("%s error in RSTLocalStorage",b)};b.$4=function(){if(!this.$2)return{};try{var a;a=(a=this.$1)==null?void 0:a.getItem(i);a=a!=null?JSON.parse(a):{};return typeof a==="object"&&a!==null?a:{}}catch(a){this.$3(a,"readStore");return{}}};b.$5=function(a){if(!this.$2)return;try{var b;(b=this.$1)==null||b.setItem(i,JSON.stringify(a))}catch(a){this.$3(a,"writeStore");return}};b.probeAndInit=function(){if(this.$1==null){this.$2=!1;return}var a=this.$1;try{var b=a.getItem(i);if(b!=null)return;a.setItem(i,"{}")}catch(a){this.$3(a,"probeAndInit"),this.$2=!1}};b.cleanUpExpiredEntries=function(){if(!this.$2)return;try{var a=this.$6(this.$4());this.$5(a)}catch(a){this.$3(a,"cleanUpExpiredEntries");return}};b.$6=function(a){var b=Date.now();for(var c of Object.entries(a)){var d=c[0],e=c[1];(b-e.lastWriteTime>k||typeof e.lastWriteTime!=="number")&&delete a[d]}return a};b.$7=function(a){var b=Object.entries(a);if(b.length<=j)return a;b.sort(function(a,b){return a[1].lastWriteTime-b[1].lastWriteTime});a=b.slice(b.length-j);return Object.fromEntries(a)};b.set=function(a,b){if(!this.$2)return;var c=this.$4();c=this.$6(c);c[a]={value:b,lastWriteTime:Date.now()};c=this.$7(c);this.$5(c)};b.get=function(a){if(!this.$2)return null;var b=this.$4();b=b[a];return!b?null:b.value};b["delete"]=function(a){try{if(!this.$2)return;var b=this.$4();delete b[a];this.$5(b)}catch(a){this.$3(a,"delete");return}};b.has=function(a){if(!this.$2)return!1;var b=this.$4();b=b[a];return!b?!1:Date.now()-b.lastWriteTime<=k};b.clear=function(){if(!this.$2)return;this.$5({})};b.keys=function(){if(!this.$2)return[];var a=this.$6(this.$4());return Object.keys(a)};b.entries=function(){if(!this.$2)return[];var a=this.$6(this.$4());return Object.entries(a).map(function(a){var b=a[0];a=a[1];return[b,a.value]})};return a}();b=new a();d=b;g["default"]=d}),98);
__d("RSTMarkFirstUnrecoverableMainThread",["FBLogger","RSTLocalStorageMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h="rst-first-unrecoverable-marking";async function a(a){var b=a.sessionID,d=a.incidentID,e=b+":first-unrecoverable";try{"locks"in navigator&&await navigator.locks.request(h,function(){if(c("RSTLocalStorageMainThread").has(e))return;c("RSTLocalStorageMainThread").set(e,d);a.isFirstUnrecoverable=!0})}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to acquire lock for marking first unrecoverable incident")}}g.markFirstUnrecoverableIncident=a}),98);
__d("RSTSessionID",["Env","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null;function a(){if(i!=null)return i;var a=(h||(h=c("Env"))).brsid!=null?""+(h||(h=c("Env"))).brsid:c("uuidv4")(),b="rst-"+Date.now();i=b+"-"+a;return i}g.getSessionID=a}),98);
__d("ResponsiveTrackerMainThread",["ClientServiceWorkerMessage","FBLogger","RSTCloseObserver","RSTConfig","RSTConstants","RSTEvents","RSTEventsMessageQueue","RSTEventsRegisterUseCasesMainThread","RSTIncidentLoggingMainThread","RSTIndexedDBSafe","RSTLocalStorageMainThread","RSTMarkFirstUnrecoverableMainThread","RSTMetadataCollectorMainThread","RSTMetadataMainThread","RSTSessionID","RSTUtils","RSTUtilsMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";c("RSTEventsRegisterUseCasesMainThread")();a=function(){function a(){this.$1=null,this.$2=new Set(),this.$3=!1,this.$4=!1}var b=a.prototype;b.init=function(a){this.$1=a,this.startLoggingUnresponsiveEvents(),this.startSendingHeartBeatToWorker(),this.startMonitorPageHiding(),this.startMonitoringPageUnload(),d("RSTMetadataCollectorMainThread").start(),c("RSTLocalStorageMainThread").probeAndInit(),void c("RSTIndexedDBSafe").maybeClearObsoleteIncidents()};b.startLoggingUnresponsiveEvents=function(){var a=this;void this.logAndDeleteUnresponsiveEvents();window.setInterval(function(){void a.logAndDeleteUnresponsiveEvents()},c("RSTConfig").MAIN_THREAD_LOGGING_INTERVAL_MS)};b.startSendingHeartBeatToWorker=function(){var a=this;window.setInterval(function(){a.postEvent(d("RSTEvents").RSTEvent.HEART_BEAT)},c("RSTConfig").HEART_BEAT_INTERVAL_MS)};b.startMonitorPageHiding=function(){var a=this;document.addEventListener("visibilitychange",function(){document.hidden?a.postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND):a.postEvent(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND)})};b.startMonitoringPageUnload=function(){d("RSTCloseObserver").initPageCloseObserver()};b.postEvent=function(a,b){b===void 0&&(b=d("RSTMetadataMainThread").getMainThreadMetadata());b={type:c("RSTConfig").MESSAGE_TYPE,event:a,eventTime:Date.now(),DOMData:{hidden:document.hidden},sessionID:d("RSTSessionID").getSessionID(),metadata:b};d("RSTEventsMessageQueue").notify(a,{mainToWorkerMessage:b});this.$5(b);this.$6(b)};b.postEventLightweight=function(a,b){b===void 0&&(b=d("RSTMetadataMainThread").getMainThreadMetadataWithExternalAnnotationsOnly());b={type:c("RSTConfig").MESSAGE_TYPE,event:a,eventTime:Date.now(),DOMData:{hidden:document.hidden},sessionID:d("RSTSessionID").getSessionID(),metadata:b};d("RSTEventsMessageQueue").notify(a,{mainToWorkerMessage:b});this.$5(b);this.$6(b)};b.$6=function(a){try{var b;(b=this.$1)==null||b.postMessage(a)}catch(d){if(this.$4)return;b=c("getErrorSafe")(d);c("FBLogger")("responsive-tracker").catching(b).warn((a=b.message)!=null?a:"Failed to post message to web worker");this.$4=!0}};b.$5=function(a){if(!c("RSTConfig").ENABLE_SERVICE_WORKER)return;try{new(c("ClientServiceWorkerMessage"))(c("RSTConfig").MESSAGE_TYPE,a).sendViaController()}catch(b){if(this.$3)return;a=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(a).warn((a=a.message)!=null?a:"Failed to post message to service worker");this.$3=!0}};b.$7=function(a){return Date.now()-((a=a.remoteLoggerProposeTime)!=null?a:0)>c("RSTConfig").INCIDENT_PROPOSED_PROCESSOR_OWNERSHIP_EXPIRE_MS};b.$8=async function(a,b){if(a==null)return;var e=a.incidentID;if(d("RSTIncidentLoggingMainThread").getLoggedIncidentIDs().has(e)){b.add(e);return}var f=a.sessionID===d("RSTSessionID").getSessionID();if(f){a.hasRecovered=!0;d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:a});b.add(e);return}f=Date.now()-a.lastHeartBeatTimeStamp;if(f<c("RSTConfig").WAIT_MS_FOR_OTHER_SESSION_BEFORE_PROCESSING)return;if(f>c("RSTConfig").OBSOLETE_PENDING_INCIDENT_THRESHOLD_MS){if(d("RSTUtilsMainThread").shouldSkipProcessingIncident(e))return;d("RSTUtils").debugLogImportant("pending incident "+e+" cleaned");b.add(e);return}f=a.remoteLoggerSessionID==null||this.$7(a);if(f){await c("RSTIndexedDBSafe").updateIncidentInDB(function(a){if(a.incidentID!==e)return!1;d("RSTUtils").debugLogImportant("propose as logger for incident "+a.incidentID);a.remoteLoggerSessionID=d("RSTSessionID").getSessionID();a.remoteLoggerProposeTime=Date.now();return!0});return}if(a.remoteLoggerSessionID===d("RSTSessionID").getSessionID()&&!this.$7(a)){d("RSTUtils").debugLogImportant("act as logger for incident "+e);if(a.hasRecovered)d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.RECOVERABLE_UNRESPONSIVENESS,{unresponsiveEventRecord:a}),b.add(e);else{if(a.incidentType!==c("RSTConstants").incidentType.unexpectedExit&&a.unrecoverLastsForMs<c("RSTConfig").UNRECOVER_LASTS_THRESHOLD_MS)return;!c("RSTConfig").ONE_UNRECOVERABLE_INCIDENT_PER_SESSION||!this.$2.has(a.sessionID)?(await d("RSTMarkFirstUnrecoverableMainThread").markFirstUnrecoverableIncident(a),d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.CRASH_INCIDENT,{unresponsiveEventRecord:a}),this.$2.add(a.sessionID)):d("RSTUtils").debugLogImportant("skip logging unrecoverable incident "+e+" "+("from session "+a.sessionID+" since it has been logged"));b.add(e)}}};b.logAndDeleteUnresponsiveEvents=async function(){try{d("RSTEventsMessageQueue").notify(d("RSTEvents").RSTEvent.CHECKING_INDEXDB_FOR_EVENTS,{});var a=await c("RSTIndexedDBSafe").readEventsFromDB(),b=new Set();for(a of a)try{await d("RSTUtils").scheduleYield(),await this.$8(a,b)}catch(a){var e=c("getErrorSafe")(a);c("FBLogger")("responsive-tracker").catching(e).warn((e=e.message)!=null?e:"Failed to process incident")}await c("RSTIndexedDBSafe").clearIncidentFromDB(b)}catch(b){e=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(e).warn((a=e.message)!=null?a:"Failed to log incidents")}};return a}();b=new a();e=b;g.default=e}),98);
__d("RSTDebugConsoleMainThread",["RSTEvents","RSTEventsMessageQueue","RSTUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.registerDebugConsole=a}),98);
__d("RSTEventsRegisterUseCasesMainThread",["RSTClearExternalLoggingDataStoreMainThread","RSTClearInteractionDataMainThread","RSTDebugConsoleMainThread","RSTIncidentLoggingMainThread"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTDebugConsoleMainThread").registerDebugConsole(),d("RSTIncidentLoggingMainThread").registerIncidentLogging(),d("RSTClearInteractionDataMainThread").registerClearInteractionData(),d("RSTClearExternalLoggingDataStoreMainThread").registerClearExternalLoggingData()}g["default"]=a}),98);
__d("RSTClearInteractionDataMainThread",["RSTEvents","RSTEventsMessageQueue","RSTInteractionDataMainThread"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.HEART_BEAT,d("RSTInteractionDataMainThread").clearInteractionData),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND,d("RSTInteractionDataMainThread").clearInteractionData),d("RSTEventsMessageQueue").subscribe(d("RSTEvents").RSTEvent.BROWSER_TAB_FOREGROUND,d("RSTInteractionDataMainThread").clearInteractionData)}g.registerClearInteractionData=a}),98);
__d("RSTInteractionTrackingMainThread",["RSTConfig","RSTEvents","RSTMetadataMainThread","ResponsiveTrackerMainThread","one-trace"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["RESPONSIVENESS","INP","LONGTASK","UNKNOWN"]);function a(){if(!c("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA)return;c("one-trace").subscribe("trace-policy-set",function(a){if(h.has(a.traceType))return;var b=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.TRACE_POLICY_SET,babelHelpers["extends"]({trace:babelHelpers["extends"]({},a)},b))});c("one-trace").subscribe("trace-end",function(a){if(h.has(a.traceType))return;var b=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.TRACE_END,babelHelpers["extends"]({trace:babelHelpers["extends"]({},a,{endTimestamp:Date.now()})},b))})}g.start=a}),98);
__d("RSTRecoverableUnresponsivenessTrackingMainThread",["RSTConfig","one-trace","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Set(["INP","LONGTASK"]);function a(){c("one-trace").subscribe("trace-end",function(a){i.has(a.traceType)&&j.getInstance().addEvent(babelHelpers["extends"]({},a))})}function b(){return j.getInstance().getStats()}var j=function(){function a(){this.WINDOW_MS=c("RSTConfig").TRACE_STATS_WINDOW_SIZE_MS,this.MAX_EVENTS=c("RSTConfig").TRACE_STATS_MAX_QUEUE_SIZE,this.eventQueue=[]}a.getInstance=function(){a.instance||(a.instance=new a());return a.instance};var b=a.prototype;b.addEvent=function(a){if(a.startTime==null||a.endTime==null)return;a={traceType:a.traceType,startTime:a.startTime,duration:a.endTime-a.startTime,endTime:a.endTime};this.eventQueue.push(a);this.cleanupOldEvents();this.eventQueue.length>=this.MAX_EVENTS&&this.eventQueue.shift()};b.getStats=function(){this.cleanupOldEvents();var a={};this.eventQueue.forEach(function(b){b.traceType in a?(a[b.traceType].count++,a[b.traceType].totalDurationMs+=b.duration):a[b.traceType]={count:1,totalDurationMs:b.duration,averageDurationMs:0}});for(var b of Object.keys(a)){var c=a[b].totalDurationMs/a[b].count;a[b].averageDurationMs=Math.floor(c)}return a};b.cleanupOldEvents=function(){var a=(h||(h=c("performanceNow")))();while(this.eventQueue.length>0){var b=this.eventQueue[0];if(b.endTime>=a-this.WINDOW_MS)break;this.eventQueue.shift()}};return a}();j.instance=null;g.start=a;g.getStats=b}),98);
__d("RSTMetadataCollectorMainThread",["FBLogger","QPLCrashResiliencePlugin","RSTInteractionTrackingMainThread","RSTRecoverableUnresponsivenessTrackingMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=!1;function a(){if(h)return;try{d("RSTInteractionTrackingMainThread").start(),d("RSTRecoverableUnresponsivenessTrackingMainThread").start(),d("QPLCrashResiliencePlugin").startQPLCrashResilience(),h=!0}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to start RST metadata collector")}}g.start=a}),98);
__d("RSTCloseObserver",["FBLogger","RSTConfig","RSTEvents","RSTSessionID","ResponsiveTrackerMainThread","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(!c("RSTConfig").ENABLE_SERVICE_WORKER)return;a=a.persisted?d("RSTEvents").RSTEvent.BROWSER_TAB_BACKGROUND:d("RSTEvents").RSTEvent.BROWSER_TAB_CLOSED;var b={type:c("RSTConfig").MESSAGE_TYPE,event:a,eventTime:Date.now(),DOMData:{hidden:!1},sessionID:d("RSTSessionID").getSessionID(),metadata:null};try{if("serviceWorker"in navigator){var e;(e=navigator.serviceWorker)==null||(e=e.controller)==null||e.postMessage({command:"responsiveness",data:b})}}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).warn("Failed to send quick browser tab close event to worker")}try{c("ResponsiveTrackerMainThread").postEvent(a)}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).mustfix("Failed to send browser tab close/background event to worker")}}function a(){window.addEventListener("pagehide",h)}g.initPageCloseObserver=a}),98);
__d("RSTInteractionDataMainThread",["ALChannel","AdsALReactUtils","FBLogger","RSTConfig","RSTEvents","RSTMetadataMainThread","RSTUtilsMainThread","ResponsiveTrackerMainThread","getErrorSafe","getReactComponentStackFromDOMElement_THIS_CAN_BREAK"],(function(a,b,c,d,e,f,g){"use strict";var h=5,i=[],j=100,k=10,l=[];function m(a){i.push(a),i.length>h&&i.shift(),l.push(a),l.length>j&&l.shift()}function a(){i.length=0}function b(){var a=i;return a[a.length-1]}function e(){return[].concat(i)}function f(a){a===void 0&&(a=k);return l.slice(-1*a)}function n(a,b){a=a!=null?a:{};var e=a.name,f=a.stack;a=a.context;(e!=null||f!=null)&&m({componentName:e,componentStack:f,componentContext:a,eventType:"click",eventTime:Date.now(),componentText:b});try{e=d("RSTMetadataMainThread").getMainThreadMetadata();c("ResponsiveTrackerMainThread").postEvent(d("RSTEvents").RSTEvent.INTERACTION_DATA,babelHelpers["extends"]({},e))}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).mustfix("Failed to send interaction data to worker")}}o();function o(){c("RSTConfig").SHOULD_CAPTURE_INTERACTION_DATA&&(d("RSTUtilsMainThread").isMonetizationApp?q():p())}function p(){window.addEventListener("click",function(a){a=a.target;if(!(a instanceof Element))return;try{var b=c("getReactComponentStackFromDOMElement_THIS_CAN_BREAK")(a);b={name:d("RSTUtilsMainThread").getAllowListedComponentName(b),stack:b!=null?b:[],context:d("RSTUtilsMainThread").getReactComponentContext(b,c("RSTConfig").isReactComponentNameBlocked)};a=r(a,b);n(b,a)}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).mustfix("Failed to get react component stack from Shim")}},!0)}function q(){c("ALChannel").addListener("al_ui_event_capture",function(a){if(a.event!=="click")return;try{var b;b={name:a.reactComponentName,stack:(b=a.reactComponentStack)!=null?b:[],context:d("RSTUtilsMainThread").getReactComponentContext(a.reactComponentStack,d("AdsALReactUtils").isComponentNameBlocked)};a=a.targetElement;a=r(a,b);n(b,a)}catch(a){c("FBLogger")("responsive-tracker").catching(c("getErrorSafe")(a)).mustfix("Failed to get react component stack from AL")}})}function r(a,b){if(!c("RSTConfig").SHOULD_CAPTURE_INTERACTION_ELEMENT_TEXT)return null;if((b==null?void 0:b.stack)==null)return null;for(b of b.stack)if(c("RSTConfig").isReactComponentTextBlocked(b))return null;a=(b=a==null?void 0:a.textContent)!=null?b:null;if(typeof a==="string"){a=a.trim();b=c("RSTConfig").ELEMENT_TEXT_SIZE_LIMIT;a.length>b&&(a=a.substr(0,b)+("... ("+(a.length-b)+" code units omitted)"))}return a===""?null:a}g.clearInteractionData=a;g.getLastInteractionDataSinceLastMessageToWorker=b;g.getInteractionDataSinceLastMessageToWorker=e;g.getInteractionHistory=f}),98);
__d("RSTMetadataMainThread",["CurrentCanonicalRoute","CurrentUser","Env","MemoryUtils","RSTAdsManagerUtilsMainThread","RSTConfig","RSTExternalLoggingDataStoreMainThread","RSTInteractionDataMainThread","RSTRecoverableUnresponsivenessTrackingMainThread","RSTUtils","SiteData","performance"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=Date.now(),b=babelHelpers["extends"]({},d("RSTAdsManagerUtilsMainThread").getAdsAnnotations());m(b);var c=Date.now();b.rstAnnotationsCollectedInMs=""+(c-a);return b}function k(){var a=babelHelpers["extends"]({},d("RSTAdsManagerUtilsMainThread").getAdsAnnotations());c("RSTConfig").shouldCollectAdditionalMetadata()&&s(a);return a}function l(){return c("RSTConfig").shouldCollectAdditionalMetadata()?d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAllSpanData():{}}function m(a){c("RSTConfig").shouldCollectAdditionalMetadata()&&(q(a),t(a),u(a),s(a),n(a),r(a))}function n(a){var b=d("RSTAdsManagerUtilsMainThread").getAdEntityIds();a.selectedAdIds=b.adIds.join(",");a.selectedAdSetIds=b.adsetIds.join(",");a.selectedCampaignIds=b.campaignIds.join(",")}function o(){try{var a;a=(a=d("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:a.componentStack;return a!=null?a:[]}catch(a){return[]}}function p(){try{var a;a=(a=d("RSTInteractionDataMainThread").getLastInteractionDataSinceLastMessageToWorker())==null?void 0:a.componentContext;return a!=null?a:[]}catch(a){return[]}}function q(a){if(!c("RSTConfig").SHOULD_COLLECT_RST_ANNOTATIONS_INTERACTION_DATA)return;var b=d("RSTInteractionDataMainThread").getInteractionDataSinceLastMessageToWorker().map(function(a){return a.componentName}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactedComponentsSinceLastResponsiveState=b);b=p();b.length>0&&(a.interactedComponentContextSinceLastResponsiveState=b.join(" < "));b=d("RSTInteractionDataMainThread").getInteractionHistory().map(function(a){return a.componentName}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactedComponentHistory=b);b=d("RSTInteractionDataMainThread").getInteractionHistory().map(function(a){return d("RSTUtils").getInteractionDetail(a)}).filter(function(a){return a!=null}).join(",");b!==""&&(a.interactionDetailHistory=b)}function r(a){a.crashDataOncall=c("RSTConfig").PROJECT_ONCALL,a.crashLogger=c("RSTConfig").PROJECT_NAME}function s(a){if(c("RSTConfig").SHOULD_COLLECT_RST_ANNOTATIONS_LOG_FOR_CRASH){var b=d("RSTExternalLoggingDataStoreMainThread").loggingDataStore.getAll(),e=function(e){c("RSTConfig").BLOCKED_ANNOTATION_KEYS.some(function(a){return a.test(e)})||(a[d("RSTUtils").getExternalAnnotationKey(e)]=b[e])};for(var f of Object.keys(b))e(f)}}function t(a){var b=d("MemoryUtils").getCurrentMemory({runGC:!1}),c=b.jsHeapSizeLimit,e=b.usedJSHeapSize;b=b.totalJSHeapSize;c!=null&&(a.js_heap_size_limit=c.toString());e!=null&&(a.used_js_heap_size=e.toString());b!=null&&(a.total_js_heap_size=b.toString())}function u(a){var b=d("RSTRecoverableUnresponsivenessTrackingMainThread").getStats();if(b==null)return;for(var c of Object.keys(b)){var e=b[c];if(e==null)continue;var f=c.toLowerCase();for(var g of Object.keys(e)){var h=e[g];if(h==null)continue;a[f+"-"+g]=h.toString()}}}function a(){var a=document.URL,b=(h||(h=c("Env"))).brsid;try{var e;return{url:a,brsid:b,i1:(e=c("CurrentUser").getID())!=null?e:"0",i2:(e=d("RSTAdsManagerUtilsMainThread").getAdAccountID())!=null?e:"0",i3:(e=d("RSTAdsManagerUtilsMainThread").getBusinessID())!=null?e:"0",cpp:(e=c("SiteData").push_phase)!=null?e:"unknown",cr:""+c("SiteData").client_revision,rcs:o(),st:Math.floor(Date.now()-(i||(i=c("performance"))).now()),annotations:j(),spans:l(),ccrt:d("CurrentCanonicalRoute").getForGlobalLoggingOnly()}}catch(c){return{url:a,brsid:b,i1:"0",i2:"0",i3:"0"}}}function b(){var a=document.URL,b=(h||(h=c("Env"))).brsid;try{var e;return{url:a,brsid:b,i1:(e=c("CurrentUser").getID())!=null?e:"0",i2:(e=d("RSTAdsManagerUtilsMainThread").getAdAccountID())!=null?e:"0",i3:(e=d("RSTAdsManagerUtilsMainThread").getBusinessID())!=null?e:"0",externalAnnotations:k(),spans:l(),isLightweight:!0}}catch(c){return{url:a,brsid:b,i1:"0",i2:"0",i3:"0"}}}g.getMainThreadMetadata=a;g.getMainThreadMetadataWithExternalAnnotationsOnly=b}),98);
__d("RSTWebWorkerClientMainThreadImpl",["ErrorGuard","FBLogger","RSTConfig","RSTUtils","ResponsiveTrackerMainThread","Run","WorkerMessagePort","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("gkx")("4909");a=function(){function a(a){this.$1=null,this.$2=!1,this.$3=a}var b=a.prototype;b.$4=function(){this.$1==null&&(this.$1=this.$3());return this.$1};b.startRSTFromMainThread=function(a){var b=this;a===void 0&&(a={});if(!i||this.$2||!d("RSTUtils").isIndexedDBSupported())return;a=Math.max((a=a.extraDelayInMs)!=null?a:0,c("RSTConfig").START_RST_FROM_MAIN_THREAD_EXTRA_DELAY_IN_MS);window.setTimeout(function(){try{var a=b.$4();a=new(d("WorkerMessagePort").WorkerSyncedMessagePort)(a,"RSTWorkerClient");c("ResponsiveTrackerMainThread").init(a);b.$2=!0}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("responsive-tracker").catching(a).warn("Failed to start worker: "+a.message)}},a)};b.startRSTAfterPageLoadFromMainThread=function(a){var b=this;a===void 0&&(a={});d("Run").onAfterLoad(function(){(h||(h=c("ErrorGuard"))).applyWithGuard(function(){return b.startRSTFromMainThread(a)},null,[])})};return a}();g["default"]=a}),98);
__d("RSTWebWorkerClientMainThreadSwitch",["cr:22916"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:22916")}),98);
__d("RSTWebWorkerClientMainThreadV2",["RSTWebV2WorkerResource","RSTWebWorkerClientMainThreadImpl","WebWorkerV2Resource"],(function(a,b,c,d,e,f,g){"use strict";a=new(c("RSTWebWorkerClientMainThreadImpl"))(function(){return d("WebWorkerV2Resource").createDedicatedV2WebWorker(c("RSTWebV2WorkerResource"),"RSTWebWorker").worker});b=a;g["default"]=b}),98);
__d("RTWebCometCallMessageLayout.react",["FDSEntityHeaderFacepile.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="/images/chat/webrtc/no_profile_pic.png";function a(a){var b=d("react-compiler-runtime").c(26),e=a.caller,f=a.mainMessage,g=a.participants;a=a.subMessage;var h;b[0]!==g?(h=k(g),b[0]=g,b[1]=h):h=b[1];h=h;g=g.length>1;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x78zum5 x1q0g3np x1nhvcw1"},b[2]=j):j=b[2];var m;b[3]!==e?(m=l(e),b[3]=e,b[4]=m):m=b[4];b[5]!==m?(e=i.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:60,source:{uri:m}}),b[5]=m,b[6]=e):e=b[6];var n;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(m={className:"x78zum5 xdt5ytf xl56j7k x1hm9lzh"},n={className:"xzsf02u x1lkfr7t x117nqv4 xu06os2"},b[7]=m,b[8]=n):(m=b[7],n=b[8]);b[9]!==f?(n=i.jsx("div",babelHelpers["extends"]({},n,{children:f})),b[9]=f,b[10]=n):n=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xi81zsa x1nxh6w3 xyqdw3p"},b[11]=f):f=b[11];var o;b[12]!==h||b[13]!==g?(o=g?i.jsx(c("FDSEntityHeaderFacepile.react"),{profiles:h}):null,b[12]=h,b[13]=g,b[14]=o):o=b[14];b[15]!==a?(h=i.jsx("div",{children:a}),b[15]=a,b[16]=h):h=b[16];b[17]!==h||b[18]!==o?(g=i.jsxs("div",babelHelpers["extends"]({},f,{children:[o,h]})),b[17]=h,b[18]=o,b[19]=g):g=b[19];b[20]!==g||b[21]!==n?(a=i.jsxs("div",babelHelpers["extends"]({},m,{children:[n,g]})),b[20]=g,b[21]=n,b[22]=a):a=b[22];b[23]!==a||b[24]!==e?(f=i.jsxs("div",babelHelpers["extends"]({},j,{children:[e,a]})),b[23]=a,b[24]=e,b[25]=f):f=b[25];return f}function k(a){return a.length>0?a.map(function(a){return{name:a.name,pictureURI:l(a),profileURL:"#",size:32}}):[]}function l(a){return(a=a.profilePictureUrl)!=null?a:j}g["default"]=a}),98);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1871697");b=d("FalcoLoggerInternal").create("web_perf_device_info_log",a);e=b;g["default"]=e}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=document.createElement("canvas");b=b.getContext("webgl")||b.getContext("experimental-webgl");if(!b)return;var c=b.getExtension("WEBGL_debug_renderer_info");if(!c)return;var d=b.getParameter(c.UNMASKED_RENDERER_WEBGL);b=b.getParameter(c.UNMASKED_VENDOR_WEBGL);a.gpu_vendor=b;a.gpu_renderer=d}function j(){var a=window.navigator,b={};a&&a.hardwareConcurrency!==void 0&&(b.cpu_cores=a.hardwareConcurrency);a&&a.deviceMemory!==void 0&&(b.ram=a.deviceMemory);c("WebDevicePerfInfoData").needsFullUpdate&&i(b);return b}function k(){var a=j();c("WebPerfDeviceInfoLogFalcoEvent").log(function(){var b;return{cpu_cores:(b=a.cpu_cores)!=null?b:null,ram:(b=a.ram)!=null?b:null,gpu_renderer:(b=a.gpu_renderer)!=null?b:null,gpu_vendor:(b=a.gpu_vendor)!=null?b:null}})}async function l(){var a=j();a=await new(c("AsyncTypedRequest"))(c("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(a).promisePayload();return a.devicePerfClassLevel}function a(){(c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate)&&(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(k)}function b(){return new Promise(function(a,b){c("WebDevicePerfInfoData").needsFullUpdate||c("WebDevicePerfInfoData").needsPartialUpdate?(h||(h=d("JSScheduler"))).scheduleSpeculativeCallback(function(){l().then(a).catch(b)}):a()})}g.doLog=a;g.doLogPromise=b}),98);
__d("WellbeingGenericFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("255");b=d("FalcoLoggerInternal").create("wellbeing_generic",a);e=b;g["default"]=e}),98);
__d("addCometProfileSwitchAnnotation",["JSScheduler","QuickPerformanceLogger","isRecentProfileSwitchSessionStorage","profileSwitchOriginSessionStorage","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){(i||(i=d("JSScheduler"))).scheduleLoggingPriCallback(function(){var b=c("isRecentProfileSwitchSessionStorage").getAndRemove();b&&((h||(h=c("QuickPerformanceLogger"))).markerEnd(c("qpl")._(30606395,"1860"),2,0,h.currentTimestamp()),a.addAnnotationInt("is_recent_profile_switch",b.didSwitchToMainProfile?2:1));b=c("profileSwitchOriginSessionStorage").getAndRemove();b&&a.addMetadata("origin",b.origin)})}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(aa,ba,ca,da,ea,fa){"use strict";aa=function(){var aa={defaultValue:null,kind:"LocalArgument",name:"before"},ba={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},ca={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},da={defaultValue:480,kind:"LocalArgument",name:"height"},ea={defaultValue:null,kind:"LocalArgument",name:"ig_params"},fa={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},ga={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},ha={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},ia={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},ja={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},ka={defaultValue:null,kind:"LocalArgument",name:"item_after"},la={defaultValue:null,kind:"LocalArgument",name:"item_limit"},ma={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},na={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},oa={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},pa={defaultValue:!0,kind:"LocalArgument",name:"load_items"},qa={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},ra={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},sa={defaultValue:null,kind:"LocalArgument",name:"message_limit"},ta={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},ua={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},va={defaultValue:null,kind:"LocalArgument",name:"page_id"},wa={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},xa={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},ya={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},za={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},Aa={defaultValue:null,kind:"LocalArgument",name:"source"},Ba={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},Ca={defaultValue:null,kind:"LocalArgument",name:"wa_params"},Da={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},Ea={defaultValue:480,kind:"LocalArgument",name:"width"},Fa={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},Ga=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],Ha={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},Ia={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[Ha]},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},Ja={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},Ka={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ja,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},La=[{kind:"Literal",name:"last",value:1}],c={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},d=[a],Ma={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},Na={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},f=[e],Pa={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:f,storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},i=[g,h,Qa,Ra,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}];i={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null};var j={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},k=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],l={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},m=[l],Sa=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null};k=[a,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:d,storageKey:null},j,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:m,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:k,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:m,storageKey:"padded_sprite_image(height:240,width:240)"},n,o,p];var Ta={kind:"InlineFragment",selections:k,type:"Sticker",abstractKey:null},q=[l,o,p],Ua={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:null},Va={kind:"Literal",name:"sizing",value:"contain-fit"},Wa=[Va],Xa={alias:null,args:Wa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(sizing:"contain-fit")'},r={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ta,Ua,Xa,r,Ya,s],storageKey:null},Za={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:f,storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},ab={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},bb={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[u,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:f,storageKey:null}],storageKey:null},cb={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},db={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},eb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[h,n],storageKey:null},fb={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},gb={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},hb={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},w={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[a,ib,jb,v,kb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},lb={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},mb={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},nb={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},ob={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},pb={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},qb={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},rb={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null},sb={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},tb={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},ub={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"form_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_num_screens",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIFormScreenObject",kind:"LinkedField",name:"form_first_screen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"screen_title",storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIQuestionObject",kind:"LinkedField",name:"questions",plural:!0,selections:[a,g,h,y,sb,z,tb,{alias:null,args:null,kind:"ScalarField",name:"mask",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerPIIBusinessPrivacyObject",kind:"LinkedField",name:"business_privacy",plural:!1,selections:[e,n],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"form_color_theme",storageKey:null}],type:"MessengerDirectSendCallToActionData",abstractKey:null};y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[a,h,g,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[g,y],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[e,j,n],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null};var A={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[ub,y],storageKey:null},vb={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},wb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[gb,hb,w,lb,mb,a,nb,ob,pb,qb,rb,x,A,vb,Ra],storageKey:null},xb={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},yb={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:m,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:m,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},zb={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Ab={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Bb={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Cb={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},Db={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},C={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},D={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},E=[a,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},D,n],Eb={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:E,storageKey:null};E={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:E,storageKey:null};var Fb={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null};u={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[B,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[u,Fb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},z,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null};var Gb={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},Hb={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},Ib={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:f,storageKey:null},Jb={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:f,storageKey:null},a,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},sb,h],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},Ib],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},F={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},Kb={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},G=[F,Kb,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],H={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:G,storageKey:null},I=[B,u,Gb,Hb,h,Jb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[C,Eb,E,H],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Lb={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},Mb={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null};G={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:G,storageKey:null},Mb],type:"P2PBubbleAmountComponent",abstractKey:null};var J=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},o,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},b,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},l,p],Nb={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:J,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null};J={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},Mb,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[a,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:J,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:J,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},e],type:"P2PBubbleTextComponent",abstractKey:null};var Ob={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null};I={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:I,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Lb,G,Nb,J],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:I,storageKey:null},Mb,Ob,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:I,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};var Pb={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Qb={kind:"InlineFragment",selections:[Pb,n],type:"User",abstractKey:null},Rb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},Sb={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},Tb={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Ub={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Vb={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},K={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null},Wb=[K],Xb={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:d,storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},Yb=[L],Zb={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:Yb,storageKey:null},$b={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},M={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},ac={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},bc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[Kb],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},cc=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[a,b,D,Qb],storageKey:null},Rb,Sb,C,Tb,Ub,Vb,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:Wb,storageKey:null},Xb],storageKey:null},Zb,$b,M,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,N,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:Wb,storageKey:null},n],storageKey:null},a,ac,bc,O,I];L={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[L,Kb],storageKey:null};var dc={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[F],storageKey:null},P=[b,a,D,Qb],Q={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:P,storageKey:null};P={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:P,storageKey:null};var ec={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},fc={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:d,storageKey:null},R={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:cc,storageKey:null},gc={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},hc={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},ic={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null};w=[gb,hb,w,lb,mb,a,nb,ob,pb,qb,rb,x,A];A={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:w,storageKey:null};var jc={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},kc={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},lc={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},mc={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null};w={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:w,storageKey:null};var nc=[a,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null}],oc={kind:"InlineFragment",selections:nc,type:"MessageImage",abstractKey:null};nc={kind:"InlineFragment",selections:nc,type:"Photo",abstractKey:null};var pc={kind:"Literal",name:"media_type",value:"image/gif"},qc={alias:null,args:[pc],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(media_type:"image/gif")'};pc={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},pc,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:q,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'};var rc={kind:"InlineFragment",selections:[qc,pc,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},Va,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},sc={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[a,b,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:m,storageKey:null}],storageKey:null},tc={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},uc=[o,p,l],vc=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],wc={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:vc,storageKey:null};uc={kind:"InlineFragment",selections:[sc,tc,zb,s,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},Va,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:uc,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},Oa,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},wc,r,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},Va,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:uc,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},Va,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:uc,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null};var xc={kind:"InlineFragment",selections:[p,o,a,s],type:"Video",abstractKey:null},S=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,N,jc,kb,kc,b,lc,mc,w,A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,oc,nc,rc,uc,xc],storageKey:null}],storageKey:null}],yc={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},zc={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},Bc={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},Cc=[Ac,Bc],Dc={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},zc,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:Cc,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Ac,Bc,j],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Ec={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:d,storageKey:null},Fc={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},Gc={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},Hc={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Ic=[s,n,K],Jc={kind:"InlineFragment",selections:Ic,type:"MessageVideo",abstractKey:null};Ic={kind:"InlineFragment",selections:Ic,type:"MessageImage",abstractKey:null};var Kc={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},Lc={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Mc={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Nc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[a,Mc,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Oc={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Pc={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null},Qc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Sc={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Tc={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Uc={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Vc={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Wc=[a,b,D],Xc={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Wc,storageKey:null},Yc={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},Zc={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},$c=[Yc,Zc],ad={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:$c,storageKey:null},bd={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},cd={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},dd=[{kind:"Literal",name:"first",value:1}],ed={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"cover-fill-cropped")'},fd={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},gd={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},hd={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},id={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},jd={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},kd={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},ld={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},md={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},nd={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:d,storageKey:null},od={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[a,Pb,D],storageKey:null},pd={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},Fb,j],storageKey:null},qd={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},rd={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},sd={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:d,storageKey:null},td={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"consumer",plural:!1,selections:d,storageKey:null},ud={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"formatted_available_time_ranges",plural:!0,selections:$c,storageKey:null},vd={alias:null,args:null,kind:"ScalarField",name:"has_booking_request_created",storageKey:null},wd={alias:null,args:null,kind:"ScalarField",name:"cta_click_events",storageKey:null},xd={alias:null,args:null,kind:"ScalarField",name:"cta_texts",storageKey:null},yd={alias:null,args:null,concreteType:"ServicesWWWURL",kind:"LinkedField",name:"www_url",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_async",storageKey:null},l],storageKey:null},zd={alias:null,args:null,kind:"ScalarField",name:"render_template",storageKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},Bd={alias:null,args:null,kind:"ScalarField",name:"visible_on_platforms",storageKey:null},Cd=[a,b],Dd=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:Cd,storageKey:null}],Ed={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Fd={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},Gd={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},Hd={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Id=[b],Jd={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:f,storageKey:null},Kd={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},Ld={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},Md={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Nd={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(width:300)"},Od={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Pd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},Qd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Rd={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Sd={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Td={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Ud={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Vd={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},Wd={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Xd={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Yd={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},Zd={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},$d={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:d,storageKey:null},ae={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},ce={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},de={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},ee={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:f,storageKey:null},fe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:f,storageKey:null},T=[l,p,o],ge={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},je={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},ke={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},me={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},ne={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},oe={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},pe={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},qe={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},re={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},te={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},ue={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[qe,re,U,se,te],storageKey:null},ve={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},we={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},ye={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},ze={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},Ae={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},Be={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},Ce={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:m,storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},Fe={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:f,storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},He={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:f,storageKey:null};F=[F,Kb];Kb={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:F,storageKey:null};var Ie={alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:m,storageKey:"images(height:120,width:120)"},Je={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null};Sa={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[Ib,He,{alias:null,args:Sa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:120,width:120)"}],storageKey:null};var Ke=[te,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:f,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],Le={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Ke,storageKey:null},Me={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Ke,storageKey:null};Ke={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Ke,storageKey:null};var Ne={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null};F={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:F,storageKey:null};var Pe={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Qe={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[jd],storageKey:null},Re={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},Te={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},Ve={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:f,storageKey:null},We={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:f,storageKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null};Wa={alias:null,args:Wa,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:'image(sizing:"contain-fit")'};var Ye={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Wa],storageKey:null},Ze={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null};Va={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:720},Va,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:T,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null};var af={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:Cc,storageKey:null};Fb={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[Fb],storageKey:null};var bf={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},cf={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},df={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},ef={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},cf,df],type:"MessengerEventReminder",abstractKey:null},ff={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},gf={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},hf={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},jf={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null};U=[U,re,se,Bc,Ac,te,qe,jf];se={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:U,storageKey:null};Bc={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:U,storageKey:null};Ac={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,A],storageKey:null}],storageKey:null};qe={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null};var kf=[p,o,l],lf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:kf,storageKey:null},mf={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,qe,lf],storageKey:null};U={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:U,storageKey:null};var nf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,U],storageKey:null}],storageKey:null},of={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},pf={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},qf={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null};qe={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[b,qe,lf,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:f,storageKey:null}],storageKey:null};lf={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,pf,U],storageKey:null}],storageKey:null};var rf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:T,storageKey:null},sf={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},tf={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Cd,storageKey:null},uf={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[j,b,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},vf=[e,g];vf={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:vf,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:vf,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null};var wf={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},xf={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:q,storageKey:null},yf={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},zf={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},Af={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[yf,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},zf],type:"IceBreakerMessageAttachment",abstractKey:null},Bf={kind:"Literal",name:"height",value:280},Cf={kind:"Literal",name:"width",value:280},Df=[Bf,Cf],Ef={alias:"preview",args:Df,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:280,width:280)"},Ff={kind:"Literal",name:"height",value:480},Gf={kind:"Literal",name:"width",value:480},Hf={alias:"large_preview",args:[Ff,Gf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:"image(height:480,width:480)"},If={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},Jf={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},Kf={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},Lf={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},Mf={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},Nf={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},Of={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:d,storageKey:null}],storageKey:null},Pf={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},Qf=[Pb],Rf={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},Sf={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},Tf={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},Uf={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},Vf={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Uf],storageKey:null}],storageKey:null},Wf={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},Xf={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},Yf={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},Zf={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},z,Uf],storageKey:null},$f={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},ag={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},bg={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},cg={kind:"Literal",name:"first",value:3},dg=[cg,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],eg={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},fg={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},gg={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},hg={kind:"InlineFragment",selections:Qf,type:"User",abstractKey:null},ig=[n],jg={kind:"InlineFragment",selections:ig,type:"Entity",abstractKey:"__isEntity"},kg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,hg,jg,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:q,storageKey:null}],storageKey:null},lg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:null},mg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ya,lg],storageKey:null},ng={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:f,storageKey:null};cg=[cg];var og={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},pg=[{kind:"Literal",name:"if_style",value:"file_upload"}],qg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:Wb,storageKey:null},rg=[{kind:"Literal",name:"if_style",value:"photo"}],sg={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:f,storageKey:null},tg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[B,b,a,hg,jg],storageKey:null},ug={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:Wb,storageKey:null},vg={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[ug],storageKey:null},wg={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},xg={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[wg],storageKey:null},yg={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},zg={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},Ag={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:f,storageKey:null},Bg={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Cg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:d,storageKey:null},Dg={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Eg={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},Fg={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Gg={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Hg={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:m,storageKey:'logo(size:"D32")'},Ig={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},Jg={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:m,storageKey:null},Kg={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},Lg={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},Mg={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},Ng={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},Og={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},zf,Ng,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},x,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},Pg={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},Qg={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null};cc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,yb,{kind:"InlineFragment",selections:[a,zb,s,Ab,Bb,Cb,Db],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Eb,E,I],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:cc,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[L,dc,Q,P,ec,fc,a,O,R,gc,M,hc,ac,I,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[L,dc,Q,P,ec,fc,a,O,R,gc,M,hc,ac,I],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},I,{kind:"InlineFragment",selections:[ic,A,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:S,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[ic,A,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:S,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},yc,Dc,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:d,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Ec,Fc,Gc,Hc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Jc,Ic],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[a,Kc,c,Lc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Nc,Oc,Pc,Qc,Rc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Sc,Tc,Uc,a,Mc,Vc,Xc,ad,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,N,bd,cd,{alias:null,args:dd,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[ed],storageKey:"images(first:1)"},fd],storageKey:null}],storageKey:null},gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,Qc,Rc,rd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[a,sd,td,ud,vd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[a,wd,xd,yd,zd,Ad,Bd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Dd,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,t,Za,$a,ab,bb,cb,db,eb,fb,wb,xb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Ed,Fd,Gd,Hd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Id,storageKey:null},Jd,Kd,Ld,Md,Nd,b,Od],type:"Event",abstractKey:null},Pd,Qd,{kind:"InlineFragment",selections:[a,b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,w,A],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[a,Rd,Xd,Yd,mc,Sd,Zd,$d,ae,be,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[a,ce,de,ee,fe,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[ge],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[a,he,ie,je,ke,le,me,ne,oe,pe,ue,jd,ve,we,xe,ye,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:S,storageKey:null},ze,Ae,Be,Ce],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[De,Ee,Fe,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Ge,b,He,N,Kb,Ie,Je],storageKey:null},Sa,Le,Me,Ke,Ne,Oe,F,Pe,Qe,Re,Se,Te,Ue],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:d,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[Ve,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:d,storageKey:null},We,Xe,Ye,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[We,Ye],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Ze,$e,Va,af,b,Fb,a,bf],type:"Page",abstractKey:null},ef,{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,ff,gf,hf,se,Bc,Ac,mf,nf],storageKey:null},of,pf,U,qf,ze],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[a,ff,gf,hf,se,Bc,Ac,qe,lf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ke],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Id,storageKey:null},ze],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[a,rf,sf,b,tf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[a,uf],type:"UserLeadGenInfo",abstractKey:null},vf,{kind:"InlineFragment",selections:[a,b,wf,l,Bb,Cb],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[a,s,Ab,Bb,Cb,zb,o,xf,p],type:"WECMessageVideo",abstractKey:null},Af,{kind:"InlineFragment",selections:[a,Bb,Ef,Hf],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[a,If,Jf,Kf,Lf,Mf,Nf,Of],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[a,Pf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Qf,storageKey:null}],storageKey:null},Rf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[a,Rf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[a,Rf,Sf,Tf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Wf,Xf,Yf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B],storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[$f,ag,bg,{alias:null,args:dg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[eg],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},fg,gc,gg,kg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,hg,jg],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[$a,n,Za,Pa,mg,ng,{alias:null,args:cg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[og,{alias:"files",args:pg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[ng,qg],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:rg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[qg],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[sg,tg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[mg],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[a,b,D,vg,xg,yg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,b,zg,Ag,Bg,vg,Cg,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:d,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[a,Dg,Eg,Fg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Gg,b,Hg,Ig],storageKey:null},Jg,Kg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Mb,tb,Lg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:d,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[w],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[a,Mg],type:"ApplicationReferralXMA",abstractKey:null},Og,{kind:"InlineFragment",selections:[a,Pg],type:"XFBP2MXMA",abstractKey:null},Qg],storageKey:null};Q={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,t,Za,$a,ab,bb,cb,db,eb,fb,wb,xb,cc,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Pa,i,t,Za,$a,ab,bb,cb,db,eb,fb,wb,xb,cc],storageKey:null}],storageKey:null};P={kind:"InlineFragment",selections:d,type:"Node",abstractKey:"__isNode"};R={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Oa,Q,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[a,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[P,b],storageKey:null}],storageKey:null},Q],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null};I={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:k,storageKey:null};A={kind:"Literal",name:"sizing",value:"cover-fill"};S={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null};Ye={kind:"InlineFragment",selections:[sc,tc,zb,{alias:"preview",args:[Bf,A,Cf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[Ff,A,Gf],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:q,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[a,p,o,S,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:kf,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},l],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[S,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},Oa,wc,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null};Ac={kind:"InlineFragment",selections:[sc,tc,zb,qc,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},Oa,pc,wc],type:"MessageAnimatedImage",abstractKey:null};Qf={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null};qg={kind:"InlineFragment",selections:[sc,tc,zb,s,r,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Ab,Qf],type:"MessageAudio",abstractKey:null};mg={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null};vg={kind:"InlineFragment",selections:[sc,tc,zb,n,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},mg,wf,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Ab,Qf,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:null}],type:"MessageFile",abstractKey:null};w=[B,Ye,Ac,qg,uc,vg];t={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:w,storageKey:null};eb={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null};wb={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:d,storageKey:null};cc={kind:"InlineFragment",selections:[wb],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null};Bf={alias:"last_message",args:La,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:d,storageKey:null}],storageKey:null},Ma,Na,{kind:"InlineFragment",selections:[R,I,t],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[eb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[cc],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},Q,k],storageKey:null}],storageKey:"messages(last:1)"};Cf={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null};Ff={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null};A={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null};Gf={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null};q={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Ff,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Gf],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};S={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Wc,storageKey:null};qc={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null};pc={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]};sc={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null};tc={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:m,storageKey:"square_image(size:60)"};Qf={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null};Wc={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null};var Rg={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Sg={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},Tg={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},Ug={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},Vg={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Wg={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Xg={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},Yg={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},Zg={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},$g={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},ah={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},bh={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},ch={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},dh={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},fh={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},gh={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[eh,fh],storageKey:null},hh={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},ih={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[dh,gh,hh],storageKey:null},jh={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},kh={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},lh={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},mh={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},nh={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},oh={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},ph={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},qh={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:m,storageKey:null},rh={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,jh,kh,lh,mh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[nh,oh,ph,qh],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},sh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:d,storageKey:null},th={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},uh={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},vh={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},wh=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:d,storageKey:null}],xh={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:wh,storageKey:null},yh={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[xh],storageKey:null},zh={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:d,storageKey:null},Ah={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},Bh={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null};Cc={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:Cc,storageKey:null};var Ch={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Dh={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},Eh={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},Fh={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Gh={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Hh={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Ih={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:d,storageKey:null},Jh={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Kh={alias:null,args:dd,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,zh,df,Ah,Bh,Cc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Ch],storageKey:null},Dh,Eh,Fh,cf,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V],storageKey:null},Gh,Hh,Ih,Jh],storageKey:null}],storageKey:"event_reminders(first:1)"},Lh={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:d,storageKey:null},Mh=[Ma],Nh={alias:"last_read_receipt",args:La,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Mh,storageKey:null}],storageKey:"read_receipts(last:1)"},Oh={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Ph={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},Qh={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},Rh={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},Sh={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,W,Qh,Rh],storageKey:null}],storageKey:null},Th=[a,b,Mb],Uh={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:Th,storageKey:null}],storageKey:null},Vh={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},Wh={alias:null,args:null,kind:"ScalarField",name:"is_ai_handoff_label",storageKey:null},Xh={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,Qh,W,Vh,Wh,Rh],storageKey:null}],storageKey:null},Yh={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Oh,sd,Sh,Uh,Xh],storageKey:null},Zh={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},$h={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},ai={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Zh,$h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:d,storageKey:null}],storageKey:null};re={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[re,te],storageKey:null}],storageKey:null};var bi={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},ci={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},di={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},fi={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},gi={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},hi={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},ii={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},ji={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},ki={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},li={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[ki],storageKey:null}],type:"User",abstractKey:null},mi={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},ni={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},mi],storageKey:null},oi={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Lc,Xe,We,re,bi,ci,di,ei,fi,gi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:Wb,storageKey:null},hi,ii],storageKey:null},ji,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[a,li],storageKey:null},ni],storageKey:null},pi={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},qi={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},ri={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},si={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},ti={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:Cd,storageKey:null},ui=[og],vi={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:ui,storageKey:null},wi={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},xi={kind:"InlineFragment",selections:[b,Ze],type:"Page",abstractKey:null};Cg={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[pi,a,b,D,Cg,qi,ri,si,ti,vi,wi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[pi,a,b,D,qi,ri,si,Od,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[xi],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};var yi={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},zi={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},Ai={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},Bi={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Ci={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Di={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Ei={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null};eh={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[eh,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null};var Fi={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Gi={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Hi={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Ii={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},Ki={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Li=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},Ki],Mi={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Li,storageKey:null},Ni={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},Oi=[a,b,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:20,width:20)"}],Pi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:Oi,storageKey:null},Qi={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null};Wb={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Fi,Gi,Hi,Ii,Ji,Mi,Ni,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pi],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:Wb,storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},Qi],storageKey:null};var Ri={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Si={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null};ig={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:ig,storageKey:null}],storageKey:null};var Ti={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Ui={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[a,j,g,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[Lg,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},zc],storageKey:null},Vi={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},Xi={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[a,Wi],storageKey:null},Yi={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},Zi={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},$i={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},aj={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},bj={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},cj={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},dj={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},ej={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[V,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},c],storageKey:null},fj={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},gj={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[fj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:d,storageKey:null}],storageKey:null},hj={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},ij={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,b,hg],storageKey:null}],storageKey:null},jj={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},kj={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},lj={kind:"InlineFragment",selections:d,type:"Profile",abstractKey:"__isProfile"},mj={kind:"InlineFragment",selections:d,type:"MessengerViewerGroupThread",abstractKey:null};Ja={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[Ja],storageKey:null}],type:"MessageThread",abstractKey:null};var nj={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},oj={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[z,Uf,g,Xf],storageKey:null};mi={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},b,mi,x,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null};R={kind:"InlineFragment",selections:[kj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Uf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,lj,mj,Ja],storageKey:null},nj],storageKey:null}],storageKey:null},oj,R,I,t,mi],type:"UserMessage",abstractKey:null};t={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null};var pj={kind:"InlineFragment",selections:[t,c],type:"VoiceCallMessage",abstractKey:null};w=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:w,storageKey:null}];var qj={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},c],type:"ThreadNameMessage",abstractKey:null};Df={alias:"preview",args:Df,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:m,storageKey:"image(height:280,width:280)"};var sj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Df,Oa,wc],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null},tj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:d,storageKey:null},c],type:"ParticipantsAddedMessage",abstractKey:null},uj={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:d,storageKey:null},c],type:"ParticipantLeftMessage",abstractKey:null},vj={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null};vj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[a,e,vj,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,e,vj,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:wh,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null};wh={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null};jf={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[a,df,cf,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},Bh,Ah,Hh,Gh,zh,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:d,storageKey:null},Cc,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[wh,jf,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},Jh],storageKey:null};var X=[jf],wj={kind:"InlineFragment",selections:X,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},xj={kind:"InlineFragment",selections:X,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},yj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},zj={kind:"InlineFragment",selections:X,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Aj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Bj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Cj={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null};X={kind:"InlineFragment",selections:X,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null};var Dj={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null};jf={kind:"InlineFragment",selections:[Dj,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},jf],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null};var Ej={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Fj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null};fh={kind:"InlineFragment",selections:[fh,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null};var Gj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Hj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Ij={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Jj={kind:"InlineFragment",selections:[Ij,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},$h],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Kj={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},Lj={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},Mj={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Nj={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Oj={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Pj={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Qj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Rj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Sj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},Tj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},Uj={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},Vj={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},Wj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Sj,Tj,Uj,Vj],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},Xj={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},Yj={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},Xj,h,N,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},Ng,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},Zj={kind:"InlineFragment",selections:[Ad,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},$j={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},ak={kind:"InlineFragment",selections:[Ad,$j,Nj,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null};zc={kind:"InlineFragment",selections:[zc],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null};$j={kind:"InlineFragment",selections:[$j,Nj,V,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null};var dk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},ek={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},fk={kind:"InlineFragment",selections:[ek],type:"MessengerAdContextAdminText",abstractKey:null},gk={kind:"InlineFragment",selections:[aj,zf,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},hk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},ik=[x],jk={kind:"InlineFragment",selections:ik,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},kk={kind:"InlineFragment",selections:ik,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null};ik={kind:"InlineFragment",selections:ik,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null};var lk={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},mk={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},nk={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},ok={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},pk={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},qk={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},rk={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null};Sj={kind:"InlineFragment",selections:[Sj,Tj,Uj,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},Vj],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null};Tj={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null};Uj={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null};Vj=[x,Tj,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Uj,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}];var sk={kind:"InlineFragment",selections:Vj,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null};Vj={kind:"InlineFragment",selections:Vj,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null};var tk={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},uk={kind:"InlineFragment",selections:[x,Tj,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},tk,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},vk={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null};ek={kind:"InlineFragment",selections:[ek,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null};var wk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},xk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},yk={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},zk={kind:"InlineFragment",selections:[yk,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null};yk={kind:"InlineFragment",selections:[yk,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null};var Ak={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},Bk={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},Ck={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null};ug={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,vj,wj,xj,yj,zj,Aj,Bj,Cj,X,jf,Ej,Fj,fh,Gj,Hj,Jj,{kind:"InlineFragment",selections:[wb,Kj,Lj,Mj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Nj,Ng,ug,Oj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Pj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Qj,Rj,Wj,Yj,Zj,ak,bk,ck,zc,$j,dk,fk,gk,hk,jk,kk,ik,{kind:"InlineFragment",selections:[lk,mk,nk,Ij,ok,pk,qk,rk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:w,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Sj,sk,Vj,uk,vk,ek,wk,xk,zk,yk,Ak,Bk,Ck],storageKey:null},eb,c],type:"GenericAdminTextMessage",abstractKey:null};w=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:Yb,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:d,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:d,storageKey:null},c];Yb={kind:"InlineFragment",selections:w,type:"P2PPaymentRequestMessage",abstractKey:null};w={kind:"InlineFragment",selections:w,type:"P2PPaymentMessage",abstractKey:null};gj=[Ui,B,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,gj,hj,ij,jj,k,R,pj,qj,rj,sj,tj,uj,ug,Yb,w,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[jd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Ui,B,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,gj,hj,ij,jj,k,R,pj,qj,rj,sj,tj,uj,ug,Yb,w],storageKey:null}],storageKey:null}];ij={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ti,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:gj,storageKey:null}]}],storageKey:null};R={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null};qj={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null};sj={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,zg,R,D,vi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[qj],storageKey:null}],storageKey:null}],storageKey:null};ug={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:gj,storageKey:null}]};var Dk={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},Ek={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},Fk={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[a,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null};Cd={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:Cd,storageKey:null};var Gk={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},Hk={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},Ik={alias:null,args:dd,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Fk,Cd,{alias:null,args:dd,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gk,Hk],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Jk={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},Kk={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},Lk={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null};ki={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[ki,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Uj,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},Ki,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},ff,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null};Uj={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Li,storageKey:null};Ki={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null};Li={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null};var Y={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:"profile_picture(height:60,width:60)"},Mk={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},Nk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},Ok={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Pk={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Qk={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Rk={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Sk={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},Tk={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},Uk={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null};Id={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Id,storageKey:null},wg],storageKey:null};var Vk={kind:"InlineFragment",selections:[Li,n,Y,Pb,Nk,Ok,Pk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},Wk={kind:"InlineFragment",selections:[n,Y,Mk,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},Ok,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Pk,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:d,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},Xk=[n,Y,Pk],Yk={kind:"InlineFragment",selections:Xk,type:"SmsMessagingParticipant",abstractKey:null},Zk={kind:"InlineFragment",selections:[Y,Pk],type:"InstagramMessagingUser",abstractKey:null},$k=[Y],al={kind:"InlineFragment",selections:$k,type:"LiveChatOnlyPerson",abstractKey:null};Xk={kind:"InlineFragment",selections:Xk,type:"UnavailableMessagingActor",abstractKey:null};var bl={kind:"InlineFragment",selections:$k,type:"UnifiedMessagingInstagramUser",abstractKey:null},cl={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},dl=[n,Y,Mk],el={kind:"InlineFragment",selections:dl,type:"Group",abstractKey:null};dl={kind:"InlineFragment",selections:dl,type:"Event",abstractKey:null};j={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},j,g],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"};var fl=[n,Y,Pb,Pk],gl={kind:"InlineFragment",selections:fl,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"};fl={kind:"InlineFragment",selections:fl,type:"XFBWorkroomsSystemUser",abstractKey:null};var hl={kind:"InlineFragment",selections:$k,type:"MessengerCallGuestUser",abstractKey:null},il={kind:"InlineFragment",selections:$k,type:"WorkVCEndpointUser",abstractKey:null},jl={kind:"InlineFragment",selections:$k,type:"WECMailboxAccount",abstractKey:null};$k={kind:"InlineFragment",selections:$k,type:"WECCustomer",abstractKey:null};var kl={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},ll={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null};Dd={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Dd,storageKey:null};Id={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Ki,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[a,B,b,{kind:"InlineFragment",selections:[Li,n,Y,Pb,Mk,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Id],type:"User",abstractKey:null},Vk,Wk,Yk,Zk,al,Xk,bl,{kind:"InlineFragment",selections:[n,Y,Mk,cl,Pk,Id],type:"ReducedMessagingActor",abstractKey:null},el,dl,j,gl,fl,hl,il,jl,$k,{kind:"InlineFragment",selections:[Y,kl,ll,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Dd,og],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Dd],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};Dd={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null};var ml={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},nl={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Dd,ml,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:d,storageKey:null}],storageKey:null}],storageKey:null};Mh=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Mh,storageKey:null}],storageKey:null}];var ol={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:Mh},pl=[Ia,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ka,b,Bf,Cf,q,S,qc,pc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,ih,rh,sh,th,uh,vh,yh,Kh,Lh,Nh,Yh,ai,oi,Cg,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,Wb,Ri,Si,ig,ij,sj,ug,N,Dk,Ek,Ik,Jk,Kk,Lk,ki,Uj,Id,nl,ol],storageKey:null}],ql={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},rl=[ql,D],sl={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},tl={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},vl={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},xl={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},Al={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[Ge,Lg,Tj],storageKey:null},Bl={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},Cl={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[sl,Bl],storageKey:null},Dl={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,W,Qh],storageKey:null}],storageKey:null},El={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Ph,W],storageKey:null}],storageKey:null};Oi={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:Oi,storageKey:null};var Fl={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Il={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},ql,Mk,b,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:m,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},Ol={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[h,yf],storageKey:null},Pl=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],Ql={alias:null,args:Pl,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:m,storageKey:null},Rl={alias:null,args:Pl,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:T,storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Tl=[ql,Mk,b,D],Ul={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Tl,storageKey:null},Vl={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[Bl,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Ql,Rl,Sl],storageKey:null}],storageKey:null};Tl={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Tl,storageKey:null};var Wl={alias:null,args:Pl,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:T,storageKey:null},Xl={kind:"InlineFragment",selections:f,type:"IGMessageThreadItemMediaShare",abstractKey:null},Yl={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},Zl={kind:"InlineFragment",selections:[Yl,e,g],type:"IGMessageThreadItemReelShare",abstractKey:null};Yl={kind:"InlineFragment",selections:[Yl,yf,h,e],type:"IGMessageThreadItemStoryShare",abstractKey:null};yf={kind:"InlineFragment",selections:[h,e],type:"IGMessageThreadItemFelixShare",abstractKey:null};var $l={kind:"InlineFragment",selections:[h,sb,e,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},l],type:"IGMessageThreadItemProductShare",abstractKey:null},am={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},cm={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:T,storageKey:null};$c={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[N,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:$c,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[Yc,Zc,Mb,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null};Yc={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[Nl,e,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null};Zc={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:kf,storageKey:null};kf={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},Db],storageKey:null};var Z=[Bl,Wl],dm={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:Z,storageKey:null},em={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[h,sb,l,dm],storageKey:null},fm={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},im={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[fm,gm,hm,h,sb,mc,dm],storageKey:null};sb={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},sb,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:T,storageKey:null},dm,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:T,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},mc,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Qa,h],storageKey:null}],storageKey:null};dm={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[fm,gm,hm,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:Z,storageKey:null},mc],storageKey:null};T={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[h,Qa],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:Z,storageKey:null}],storageKey:null};fm={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null};gm={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[e,V,Lg,Tj],storageKey:null};hm={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null};Qa={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null};Z={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[hm,Qa],storageKey:null};Ul=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,Ge,Xj,Ll,Ml,e,Nl,Ol,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Bl,Ql,Rl,Sl,Ul],storageKey:null},Vl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Tl,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Bl,Wl,Rl,Sl,Ul],storageKey:null},Xl,Zl,Yl,yf,$l],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[am,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:rl,storageKey:null},bm],storageKey:null},{alias:null,args:Pl,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Tl,cm],storageKey:null},$c,Yc,Zc,kf,em,im,sb,dm,T,fm,gm],storageKey:null},Z];Tl={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null};var jm=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],km=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],lm={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null};Mh={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:Mh};var mm={kind:"Variable",name:"page_id",variableName:"page_id"},nm=[mm],om={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},pm={kind:"RootArgument",name:"page_id"},qm={kind:"Variable",name:"business_assets",variableName:"businessAssets"};mm={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[qm,mm],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]};var rm=[sl];rm={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:rm,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:rm,storageKey:null}]}],storageKey:null};var sm={alias:null,args:nm,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null};qm=[qm];var $=[B,a],tm={kind:"InlineFragment",selections:d,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},um={kind:"InlineFragment",selections:d,type:"GenericAttachmentMedia",abstractKey:null},vm={kind:"InlineFragment",selections:d,type:"MontageImage",abstractKey:null},wm={kind:"InlineFragment",selections:d,type:"MontageVideo",abstractKey:null};Ta={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ta,Ua,Xa,r,Ya,s,P,tm,um,vm,wm],storageKey:null};Ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[B,h,n],storageKey:null};Xa={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[B,a,{kind:"InlineFragment",selections:[ib,jb,v,kb],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null};r={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[B,ub,y],storageKey:null};ib={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[gb,hb,Xa,lb,mb,a,nb,ob,pb,qb,rb,x,r,vb,Ra],storageKey:null};jb=[B,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},u,Gb,Hb,h,Jb,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[B,C,Eb,E,H,a],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}];v={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:jb,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[B,Lb,G,Nb,J],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:jb,storageKey:null},Mb,Ob,e],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:jb,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"};ub={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[B,a,b,D,Qb],storageKey:null};y=[K,a];vb={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:y,storageKey:null},Xb,a],storageKey:null};Ra={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[b,N,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:y,storageKey:null},n,a],storageKey:null};u=[B,b,a,D,Qb];Gb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:u,storageKey:null};Jb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:u,storageKey:null};H={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[Eb,ub,Rb,Sb,C,Tb,Ub,Vb,vb,Zb,$b,M,Ra,a,ac,bc,O,v],storageKey:null};Lb=[gb,hb,Xa,lb,mb,a,nb,ob,pb,qb,rb,x,r];G={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Lb,storageKey:null};Nb={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Lb,storageKey:null};J=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,N,jc,kb,kc,b,lc,mc,Nb,G,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[B,oc,nc,rc,uc,xc,P,tm,um,vm,wm],storageKey:null}],storageKey:null}];Ob=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b],storageKey:null},a];jb={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,Wa,a],storageKey:null};Xb={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,G],storageKey:null}],storageKey:null};Qb=[b,a];u={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,Ya,lg,P,tm,um,vm,wm],storageKey:null};gb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[B,K,P,tm,um,vm,wm],storageKey:null};hb={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:y,storageKey:null};Xa={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[hb],storageKey:null};lb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$,storageKey:null};mb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,yb,{kind:"InlineFragment",selections:[zb,s,Ab,Bb,Cb,Db],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[C,Eb,E,v],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[Eb,ub,Rb,Sb,C,Tb,Ub,Vb,vb,Zb,$b,M,Ra,ac,bc,O,v],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[L,dc,Gb,Jb,ec,fc,O,H,gc,M,hc,ac,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[L,dc,Gb,Jb,ec,fc,a,O,H,gc,M,hc,ac,v],storageKey:null},v],type:"PeerToPeerPaymentRequest",abstractKey:null},v,{kind:"InlineFragment",selections:[ic,G,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:J,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[ic,G,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:J,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},yc,Dc,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Ec,Fc,Gc,Hc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[B,Jc,Ic,P],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Kc,c,Lc],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Nc,Oc,Pc,Qc,Rc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[Sc,Tc,Uc,Mc,Vc,Xc,ad,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,b,N,bd,cd,{alias:null,args:dd,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[ed,a],storageKey:"images(first:1)"},fd],storageKey:null}],storageKey:null},gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,Qc,Rc,rd],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[sd,td,ud,vd],type:"ServicesAppointmentAvailability",abstractKey:null},{kind:"InlineFragment",selections:[wd,xd,yd,zd,Ad,Bd],type:"ServicesGenericAdminText",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Ob,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,Ta,Za,$a,ab,bb,cb,db,Ua,fb,ib,xb],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Ed,Fd,Gd,Hd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,b,P],storageKey:null},Jd,Kd,Ld,Md,Nd,b,Od],type:"Event",abstractKey:null},Pd,Qd,{kind:"InlineFragment",selections:[b,Rd,Sd,Td,Ud,jc,kc,Vd,Wd,Nb,G],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Rd,Xd,Yd,mc,Sd,Zd,$d,ae,be,b],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[ce,de,ee,fe,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[ge,a],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[he,ie,je,ke,le,me,ne,oe,pe,ue,jd,ve,we,xe,ye,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:J,storageKey:null},ze,Ae,Be,Ce],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[De,Ee,Fe,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Ge,b,He,N,Kb,Ie,Je,a],storageKey:null},Sa,Le,Me,Ke,Ne,Oe,F,Pe,Qe,Re,Se,Te,Ue],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[Ve,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$,storageKey:null},We,Xe,jb,n],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[We,jb],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Ze,$e,Va,af,b,Fb,bf],type:"Page",abstractKey:null},ef,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[a,ff,gf,hf,se,Bc,Xb,mf,nf],storageKey:null},of,pf,U,qf,ze],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[ff,gf,hf,se,Bc,Xb,qe,lf,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ke,a],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Qb,storageKey:null},ze],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[rf,sf,b,tf],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[uf],type:"UserLeadGenInfo",abstractKey:null},vf,{kind:"InlineFragment",selections:[b,wf,l,Bb,Cb],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[s,Ab,Bb,Cb,zb,o,xf,p],type:"WECMessageVideo",abstractKey:null},Af,{kind:"InlineFragment",selections:[Bb,Ef,Hf],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[If,Jf,Kf,Lf,Mf,Nf,Of],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[Pf],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[B,Pb,a],storageKey:null}],storageKey:null},Rf],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[Rf],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[Rf,Sf,Tf],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[Vf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[B,Wf,Xf,Yf,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,P],storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[$f,ag,bg,{alias:null,args:dg,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[eg,a],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},a],storageKey:null},fg,gc,gg,kg,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[B,b,hg,jg,a],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[$a,n,Za,Pa,u,ng,{alias:null,args:cg,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[og,{alias:"files",args:pg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[ng,gb],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:rg,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[gb],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[sg,tg,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[u],storageKey:null},a],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[b,D,Xa,xg,yg],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[b,zg,Ag,Bg,Xa,lb,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Dg,Eg,Fg,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Gg,b,Hg,Ig,a],storageKey:null},Jg,Kg,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[h,e,Mb,tb,Lg,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[D,b,a],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[Nb],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[Mg],type:"ApplicationReferralXMA",abstractKey:null},Og,{kind:"InlineFragment",selections:[Pg],type:"XFBP2MXMA",abstractKey:null},Qg],storageKey:null};nb={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[Pa,i,Ta,Za,$a,ab,bb,cb,db,Ua,fb,ib,xb,mb,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[Pa,i,Ta,Za,$a,ab,bb,cb,db,Ua,fb,ib,xb,mb],storageKey:null}],storageKey:null};ob={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[Oa,nb,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,b,a,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},nb],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},a],storageKey:null};pb=[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},Ye,Ac,qg,uc,vg,P];qb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:pb,storageKey:null};rb={alias:"last_message",args:La,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[B,c,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$,storageKey:null},a],storageKey:null},Ma,Na,Q,k,a,{kind:"InlineFragment",selections:[ob,I,qb],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[eb,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,cc],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"};x={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Ff,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[A,Gf,a],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};r={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[dh,gh,hh,a],storageKey:null};Lb={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[a,jh,kh,lh,mh,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[nh,oh,ph,qh,a],storageKey:null}],storageKey:null},a],storageKey:null}],storageKey:null};lc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$,storageKey:null};oc={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[B,xh,a],storageKey:null};nc={alias:null,args:dd,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,zh,df,Ah,Bh,Cc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[Ch,a],storageKey:null},Dh,Eh,Fh,cf,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[V,a],storageKey:null},Gh,Hh,Ih,Jh],storageKey:null}],storageKey:"event_reminders(first:1)"};rc={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[Oh,sd,Sh,Uh,Xh,a],storageKey:null};xc={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Zh,$h,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$,storageKey:null}],storageKey:null};Wa={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[a,Lc,Xe,We,re,bi,ci,di,ei,fi,gi,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[B,K,a],storageKey:null},hi,ii],storageKey:null},ji,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[B,a,li],storageKey:null},ni],storageKey:null};Ya={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[B,a,{kind:"InlineFragment",selections:[pi,b,D,lb,qi,ri,si,ti,vi,wi],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[pi,b,D,qi,ri,si,Od,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[B,xi,P],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null};lg={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[a,Fi,Gi,Hi,Ii,Ji,Mi,Ni,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Pi,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[B,K,P,{kind:"InlineFragment",selections:d,type:"CatalogMarketplaceEnhancementTransformedImage",abstractKey:null},{kind:"InlineFragment",selections:d,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},z,Uf],storageKey:null},Zf,e],storageKey:null},Qi],storageKey:null};tm={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a],storageKey:null}],storageKey:null};um={kind:"TypeDiscriminator",abstractKey:"__isMessage"};vm={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[fj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$,storageKey:null}],storageKey:null};wm={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,a,b,hg],storageKey:null},a],storageKey:null};y={kind:"InlineFragment",selections:[kj,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[e,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[z,Uf,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,lj,mj,Ja,P],storageKey:null},nj],storageKey:null}],storageKey:null},oj,ob,I,qb,mi],type:"UserMessage",abstractKey:null};yb=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:pb,storageKey:null}];Db={kind:"InlineFragment",selections:[t,c,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:yb,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null};E={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Df,Oa,wc,a],storageKey:null},c],type:"ThreadImageMessage",abstractKey:null};Eb={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[B,vj,wj,xj,yj,zj,Aj,Bj,Cj,X,jf,Ej,Fj,fh,Gj,Hj,Jj,{kind:"InlineFragment",selections:[wb,Kj,Lj,Mj,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[B,{kind:"InlineFragment",selections:[Nj,Ng,hb,Oj],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Pj],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Qj,Rj,Wj,Yj,Zj,ak,bk,ck,zc,$j,dk,fk,gk,hk,jk,kk,ik,{kind:"InlineFragment",selections:[lk,mk,nk,Ij,ok,pk,qk,rk,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[og,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:yb,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},Sj,sk,Vj,uk,vk,ek,wk,xk,zk,yk,Ak,Bk,Ck],storageKey:null},eb,c],type:"GenericAdminTextMessage",abstractKey:null};ub=[B,um,Ui,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,vm,hj,wm,jj,k,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[jd,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[B,um,Ui,V,Vi,Xi,Yi,Ma,Zi,$i,zf,aj,Na,bj,cj,Q,dj,ej,vm,hj,wm,jj,k,a,y,pj,Db,rj,E,tj,uj,Eb,Yb,w],storageKey:null}],storageKey:null},a,y,pj,Db,rj,E,tj,uj,Eb,Yb,w];Rb={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[V,Ti,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:ub,storageKey:null}]}],storageKey:null};Sb={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[n,a,b,zg,R,D,vi,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[qj,a],storageKey:null}],storageKey:null}],storageKey:null};C={alias:null,args:dd,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Fk,Cd,{alias:null,args:dd,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[Gk,Hk,a],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"};Tb={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Qb,storageKey:null},wg],storageKey:null};Ub={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Ob,storageKey:null};Vb={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[Ki,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},a,b,{kind:"InlineFragment",selections:[Li,n,Y,Pb,Mk,Nk,Ok,Pk,Qk,Rk,Sk,Tk,Uk,Tb],type:"User",abstractKey:null},Vk,Wk,Yk,Zk,al,Xk,bl,{kind:"InlineFragment",selections:[n,Y,Mk,cl,Pk,Tb],type:"ReducedMessagingActor",abstractKey:null},el,dl,j,gl,fl,hl,il,jl,$k,{kind:"InlineFragment",selections:[Y,kl,ll,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Ub,og],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Ub],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},a],storageKey:null}],storageKey:null}],storageKey:null};vb={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[Dd,ml,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$,storageKey:null}],storageKey:null}],storageKey:null};Zb={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:ub,storageKey:null}]};$b=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,Ka,b,rb,Cf,x,S,qc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,r,Lb,lc,th,uh,vh,oc,nc,Lh,Nh,rc,xc,Wa,Ya,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,lg,Ri,Si,tm,Rb,Sb,N,Dk,Ek,C,Jk,Kk,Lk,ki,Uj,Vb,vb,pc,Zb,ol],storageKey:null},Ia];Ra=[ql,D,a];bc=[ql,Mk,b,D,a];L={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:bc,storageKey:null};dc={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:bc,storageKey:null};Gb=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,Ge,Xj,Ll,Ml,e,Nl,Ol,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[Bl,Ql,Rl,Sl,L],storageKey:null},Vl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[B,dc,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Bl,Wl,Rl,Sl,L],storageKey:null},Xl,Zl,Yl,yf,$l],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[am,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:Ra,storageKey:null},bm],storageKey:null},{alias:null,args:Pl,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[dc,cm],storageKey:null},$c,Yc,Zc,kf,em,im,sb,dm,T,fm,gm,a],storageKey:null},Z];Jb={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null};ec=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}];fc=[{kind:"Literal",name:"first",value:20}];O={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null};H={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null};M={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]};hc={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null};ac=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}];v={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null};ic={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:vc,storageKey:null};yc={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[Qa,hm],storageKey:null};Dc=[{kind:"Literal",name:"first",value:400}];Ec={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null};Fc={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null};Gc={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null};Hc=[{kind:"Literal",name:"first",value:2}];Jc=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}];Ic=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];Kc={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'};Nc={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null};Oc=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}];Pc={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null};Sc={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null};Tc={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null};Uc={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null};Mc={alias:null,args:Dc,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,O,W,Qh,Rh,Ec,Uc,Fc,Gc,{alias:null,args:null,kind:"ScalarField",name:"is_immutable",storageKey:null},B],storageKey:null},H],storageKey:null},Z],storageKey:"custom_labels(first:400)"};Vc={alias:null,args:Dc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"};Xc={alias:null,args:Dc,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"};ad={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:d,storageKey:null};bd=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}];cd=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];ed=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}];fd=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];gd=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}];hd=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[Fa,{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:pl,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:pl,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:rl,storageKey:null},Ha,sl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:dd,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Ul,storageKey:"thread_items(first:1)"}]}],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Tl,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:jm,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Ul,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,Ka,b,Bf,Cf,q,S,qc,pc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,ih,rh,sh,th,uh,vh,yh,Kh,Lh,Nh,Yh,ai,oi,Cg,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,Wb,Ri,Si,ig,ij,sj,ug,N,Dk,Ek,Ik,Jk,Kk,Lk,ki,Uj,Id,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[lm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:gj,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[nl]},Mh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[om],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:nm,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[pm]}]}],storageKey:null},mm],storageKey:null},rm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},sm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:nm,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:qm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},pm,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ia,fa,ga,ja,Ba,Aa,Ea,da,na,ma,wa,ea,ta,Ca,ua,Da,sa,aa,qa,ra,oa,la,ka,pa,va,ca,ya,xa,za,ha,ba],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[Fa,{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:$b,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:Ra,storageKey:null},Ha,sl,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:dd,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Gb,storageKey:"thread_items(first:1)"}]},a],storageKey:null},Z]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[Tl,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[tl,ul,vl,wl,xl,yl,zl,Al,Cl,Dl,El,Oi,Fl,Gl,Hl,Il,Jl,Kl,Ii,Ji,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:jm,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Gb,storageKey:null}]},a],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[a,Ka,b,rb,Cf,x,S,qc,sc,tc,K,Qf,Wc,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,ah,bh,ch,r,Lb,lc,th,uh,vh,oc,nc,Lh,Nh,rc,xc,Wa,Ya,ri,yi,zi,Ai,Bi,Ci,Di,Ei,eh,lg,Ri,Si,tm,Rb,Sb,N,Dk,Ek,C,Jk,Kk,Lk,ki,Uj,Vb,pc,Zb,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:km,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[lm,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:ub,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[vb]},Mh],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[om,g,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},a,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Jb,{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Dj,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:m,storageKey:null},{alias:null,args:ec,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:m,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},Wi,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},te,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_wec_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Hi,{alias:null,args:fc,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,Qh,O,W,Vh,Wh,Rh,B],storageKey:null},H],storageKey:null},Z,M],storageKey:"corp_label_list(first:20)"},{alias:null,args:fc,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:fc,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,a,b,Ph,{kind:"InlineFragment",selections:[wh,mg,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},H],storageKey:null},Z,M],storageKey:"suggested_labels(first:20)"},{alias:null,args:fc,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"},{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[hc,e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Tj,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[B,n,P],storageKey:null},z,Uf],storageKey:null},e],storageKey:null},hc],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:ac,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},P,{kind:"InlineFragment",selections:[v,K,ic],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[v,K,ic,s],type:"MessageVideo",abstractKey:null}],storageKey:null},H],storageKey:null},yc],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:ac,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},a],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:Dc,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,O,W,Qh,Rh,Ec,Fc,Gc,B],storageKey:null},H],storageKey:null},Z,M],storageKey:"label_list(first:400)"},{alias:null,args:Dc,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:Th,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:Hc,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:f,storageKey:null},Lg,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[B,b,a],storageKey:null},B],storageKey:null},H],storageKey:null},yc,M],storageKey:"notes_list(first:2)"},{alias:null,args:Hc,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ic,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},Kc,a,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null},{alias:null,args:[{kind:"Literal",name:"tab",value:"DATA_SHARING"}],kind:"ScalarField",name:"wa_settings_uri_in_business_view",storageKey:'wa_settings_uri_in_business_view(tab:"DATA_SHARING")'},{alias:null,args:null,concreteType:"WhatsAppBusinessAccount",kind:"LinkedField",name:"linked_whatsapp_business_account",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_ctwa_data_sharing",storageKey:null},a],storageKey:null}],storageKey:null},Nc,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:Oc,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[B,Lg,Ib,g,He,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:f,storageKey:null},kb,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},Hb,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},tk,Pc],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:d,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[tk,W,Pc,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[W],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},H],storageKey:null},yc],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:Oc,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},Sc,{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Tc],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Tc,a],storageKey:null}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:ec,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:m,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Mc,Vc,{alias:null,args:Dc,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,Qh,O,W,Vh,Wh,Rh,Uc,B],storageKey:null},H],storageKey:null},Z],storageKey:"corp_labels(first:400)"},Xc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},ad,{alias:"is_in_kbank_rollout",args:bd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:cd,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ic,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Mc,Vc,{alias:null,args:Dc,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[a,b,Ph,O,W,Qh,Vh,Wh,Rh,Uc,B],storageKey:null},H],storageKey:null},Z],storageKey:"corp_labels(first:400)"},Xc,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:$,storageKey:null},ad,{alias:"is_in_kbank_rollout",args:bd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:cd,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:nm,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null}],storageKey:null}]}],storageKey:null},mm],storageKey:null},rm,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:Ga,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:nm,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:Hc,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[B,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},H],storageKey:null},yc,M],storageKey:"actions(first:2)"},{alias:null,args:Hc,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:ui,storageKey:null}],storageKey:null},a,Nc,{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[Tj],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Jb],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},Sc,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Kc,a,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ic,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:Jc,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},sm],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:nm,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:ed,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:fd,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:hd,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:qm,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:ed,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:fd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:gd,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:hd,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},a],storageKey:null}]}]}]},params:{id:"24450288948004961",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}}();ba("relay-runtime").PreloadableQueryRegistry.set(aa.params.id,aa);ea.exports=aa}),null);/*FB_PKG_DELIM*/
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);
__d("CometFriendNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9754477301332178"}),null);
__d("CometFriendNotificationsStateChangeSubscription.graphql",["CometFriendNotificationsStateChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometFriendNotificationsStateChangeSubscription",selections:d,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometFriendNotificationsStateChangeSubscription",selections:d},params:{id:b("CometFriendNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometFriendNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("FriendingCometSubscriptionToastHelper",["react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("requireDeferred")("FriendingCometConfirmedFriendRequestToast.react").__setRef("FriendingCometSubscriptionToastHelper"),k=c("requireDeferred")("FriendingCometFriendRequestToast.react").__setRef("FriendingCometSubscriptionToastHelper"),l=new Set(),m={};function a(a,b){var c,d,e=a==null?void 0:a.friend_request_receive_subscribe,f=e==null||(c=e.notif)==null?void 0:c.seen_state,g=e==null||(d=e.notif)==null?void 0:d.notif_id;f==="UNSEEN_AND_UNREAD"&&g!=null&&(l.add(g),k.onReadyImmediately(function(c){if(!l.has(g))return;l["delete"](g);var d=b.push(i.jsx(c,{onCloseClick:function(){return b.expire(d)},response:a}),5e3);m[g]=d}))}function b(a,b){var c,d,e=a==null?void 0:a.friend_request_confirm_subscribe,f=e==null||(c=e.notif)==null?void 0:c.seen_state,g=e==null||(d=e.notif)==null?void 0:d.notif_id;f==="UNSEEN_AND_UNREAD"&&g!=null&&(l.add(g),j.onReadyImmediately(function(c){if(!l.has(g))return;l["delete"](g);var d=b.push(i.jsx(c,{onCloseClick:function(){return b.expire(d)},response:a}),5e3);m[g]=d}))}function e(a,b,c){var d=c.getState();a!=="UNSEEN_AND_UNREAD"&&b in m&&((a=d[m[b]])==null?void 0:a.shown)!==!0&&(c["delete"](m[b]),delete m[b],l["delete"](b))}g.pushFriendingCometToast=a;g.pushFriendingConfirmedCometToast=b;g.deleteToastIfSeen=e}),98);
__d("CometFriendNotificationsStateChangeSubscription",["CometFriendNotificationsStateChangeSubscription.graphql","CometRelay","FriendingCometSubscriptionToastHelper"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometFriendNotificationsStateChangeSubscription.graphql");function a(a,b){var c=function(a){var c;a=a==null||(c=a.notification_state_change_subscribe)==null?void 0:c.notification;var e=a==null?void 0:a.seen_state;a=a==null?void 0:a.notif_id;e!=null&&a!=null&&d("FriendingCometSubscriptionToastHelper").deleteToastIfSeen(e,a,b)};return d("CometRelay").requestSubscription(a,{onNext:c,subscription:i,variables:{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB"}}})}g.subscription=i;g.subscribeToFriendNotifs=a}),98);
__d("DedupMiThreadCreationCache",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set();a=function(a){var b=c("justknobx")._("4749");b&&h.add(a)};g.DedupMiThreadCreationCache=h;g.addToDedupMiThreadCreationCache=a}),98);
__d("EBSMMainthreadAPI",["EBAPIQPLPoints","EBDeps","EBGating","EBMainThreadEBDBApiDeferred","EBSMWorkerThreadAPI","I64","LSIntEnum","MAWBridgeSendAndReceive","MAWWaitForBackendSetup","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLFlow","ReQL","WAHashStringToNumber","WebSession","gkx","justknobx","qpl","requireDeferred","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(a=c("requireDeferred"))("EBAddDeviceWithRecoveryCode").__setRef("EBSMMainthreadAPI"),k=a("EBAddVirtualDevice").__setRef("EBSMMainthreadAPI"),l=a("EBFetchBackupIds").__setRef("EBSMMainthreadAPI"),m=a("EBInitializeBackup").__setRef("EBSMMainthreadAPI"),n=a("EBOtcAddDevice").__setRef("EBSMMainthreadAPI");b=babelHelpers.extends({},c("EBSMWorkerThreadAPI"),{addDeviceWithRecoveryCode:function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];if(b.length===0||b[0]==null)return Promise.reject("Missing args");var g=d("QPLFlow").startQPLFlow(c("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:d("MAWWaitForBackendSetup").isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1}},timeoutInMs:c("justknobx")._("2444")});void d("EBMainThreadEBDBApiDeferred").trackOverprompting(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent);if(c("gkx")("17731")&&b.length>0&&b[0]!=null)return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithRecoveryCodeInWorker",{qplInstanceKeyMainthread:g.getQPLAttrs().instanceKey,recoveryCode:b[0].recoveryCode,userId:b[0].userId});else return j.load().then(function(a){return a.addDeviceWithRecoveryCode(babelHelpers.extends({},b[0],{qplFlow:g}))})},addVirtualDevice:async function(a){var b=a.actionType,e=d("QPLFlow").startQPLFlow(c("qpl")._(521483240,"615"),{annotations:{int:{actionType:b}},timeoutInMs:c("justknobx")._("4211")});e.addPoint("add_virtual_device_start");var g=await o();if(g==null){e.addPoint("add_virtual_device_no_recovery_code_data");return Promise.reject("Missing recovery code data for addVirtualDevice")}if(c("gkx")("12707"))return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addVirtualDeviceInWorker",{actionType:b,qplInstanceKeyMainthread:e.getQPLAttrs().instanceKey,recoveryCodeData:g});else return k.load().then(function(a){return a.addVirtualDevice({actionType:b,qplFlow:e,recoveryCodeData:g})})},fetchBackupIds:function(a,b){var e=d("QPLFlow").startQPLFlow(c("qpl")._(521471024,"2275"),{annotations:{bool:{isBackendSetupOnStart:d("MAWWaitForBackendSetup").isBackendSetupSuccessful()},string:{ebSessionIdentifier:d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime(),fetchBackupIdsVersion:"msys",sessionTabId:d("WebSession").getId(),source:a}}});e.addPoint("eb_fetch_backup_ids_start");if(d("EBGating").isFetchBackupIdsFromWorker()){e.addPoint("eb_fetch_backup_ids_bridge_call_start");return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","fetchBackupIdsInWorker",{qplInstanceKeyMainthread:e.getQPLAttrs().instanceKey,source:a})}else return l.load().then(function(b){return b.fetchBackupIds(a,e)})},initializeBackup:async function(a){var b=a.virtualDeviceId,e=a.virtualDeviceType;a=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")());var g=d("QPLFlow").startQPLFlow(c("qpl")._(521478750,"2850"),{annotations:{int:{instanceKey:a,virtualDeviceType:(h||(h=d("I64"))).to_int32(e)}},instanceKey:a,timeoutInMs:c("justknobx")._("4211")});g.addPoint(d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_START);b!=null&&g.addAnnotations({string:{virtualDeviceId:b}});if(c("gkx")("17731")){a=(h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(16));b=a?null:await o();if(b==null&&!a){g.endFail(d("EBAPIQPLPoints").EBBackupInitQPLPoints.INITIALIZE_BACKUP_FAIL_NO_RECOVERY_CODE);return Promise.reject("Missing recovery code data for initializeBackup")}b!=null&&void p();return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","initializeBackupInWorker",{qplInstanceKeyMainthread:g.getQPLAttrs().instanceKey,recoveryCodeData:b,virtualDeviceType:e})}else return m.load().then(function(a){return a.initializeBackup(g,e)})},otcAddDevice:function(){for(var a=arguments.length,b=new Array(a),e=0;e<a;e++)b[e]=arguments[e];var g=d("QPLFlow").startQPLFlow(c("qpl")._(521473756,"2768"),{annotations:{bool:{isBackendSetupOnStart:d("EBDeps").getDeps().isBackendSetupSuccessful(),isEBAddDeviceWithKeys:!1,isInWorker:!1,isOtc:!0}},timeoutInMs:c("justknobx")._("2444")});if(c("gkx")("17731")&&b.length>0&&b[0]!=null)return d("MAWBridgeSendAndReceive").sendAndReceive("ebsmapi","addDeviceWithOtcInWorker",{initiatorId:b[0].initiatorId,qplInstanceKeyMainthread:g.getQPLAttrs().instanceKey,secrets:b[0].secrets});else return n.load().then(function(a){return a.otcAddDevice(babelHelpers.extends({},b[0],{qplFlow:g}))})}});async function o(){var a=await d("EBDeps").getDeps().getLSDB();a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_generated_recovery_code));if(a.length===0)return Promise.resolve(null);a=a[0];return Promise.resolve({cloud_service_account:a.cloudServiceAccount,hsm_pin_normalization_status:a.hsmPinNormalizationStatus,recovery_code:a.recoveryCode,security_question_type:null,trusted_contact_id:null,virtual_device_type:a.virtualDeviceType})}async function p(){var a=await d("EBDeps").getDeps().getLSDB();return a.runInTransaction(async function(a){a=a.secure_encrypted_backups_generated_recovery_code;var b=a.entries(new WeakMap()),c=await b.next();while(!c.done)await a.delete.apply(a,c.value[0]),c=await b.next()},"readwrite")}e=b;g.default=e}),98);
__d("EncryptedBackupdDYIFileSaver",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("EncryptedBackupdDYIFileSaver");function a(a,b){h.onReadyImmediately(function(c){c=c.saveAs;c(b,a)})}g.saveFile=a}),98);
__d("FDSMinusCircleOutline20Icon",["cr:15284"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15284")}),98);
__d("FriendingCometConfirmedFriendRequestToast.react",["fbt","CometNotificationsListItem.react","CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l="MARK_SEEN",m="comet_toast",n="beeper";function a(a){var b,e,f=d("react-compiler-runtime").c(18),g=a.onCloseClick;a=a.response;a=a==null?void 0:a.friend_request_confirm_subscribe;var i=a==null?void 0:a.notif,p=i==null?void 0:i.id,q=i==null?void 0:i.seen_state,r=a==null?void 0:a.new_friend;a=a==null||(b=a.viewer)==null?void 0:b.actor;var s=i==null||(e=i.body)==null?void 0:e.text,t=k(!1),u=d("CometRelay").useRelayEnvironment(),v;f[0]!==u||f[1]!==p||f[2]!==q?(v=function(){if(p==null||q!=="UNSEEN_AND_UNREAD"||t.current===!0)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(u,{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB",is_comet:!0,last_notif_sync_time:0,notif_ids:[p],source:m,update_type:l}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAsSeenStart,onError:o,onSuccess:function(){t.current=!0},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateSingleNotifReadState(a,p)}})},f[0]=u,f[1]=p,f[2]=q,f[3]=v):v=f[3];v=v;if(r==null||i==null)return null;f[4]!==p||f[5]!==s?(r=p==null||s==null?null:{id:p,text:s},f[4]=p,f[5]=s,f[6]=r):r=f[6];s=r;f[7]!==a||f[8]!==i||f[9]!==g?(r=j.jsx("div",{role:"grid",children:j.jsx(c("CometNotificationsListItem.react"),{actor:a,loggerContext:n,notification:i,onClick:g})}),f[7]=a,f[8]=i,f[9]=g,f[10]=r):r=f[10];f[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"New notification"),f[11]=a):a=f[11];f[12]!==s||f[13]!==v||f[14]!==g||f[15]!==r||f[16]!==a?(i=j.jsx(c("CometToastCard.react"),{accessibilityAnnouncement:s,content:r,headline:a,onCloseClick:g,onMouseEnter:v}),f[12]=s,f[13]=v,f[14]=g,f[15]=r,f[16]=a,f[17]=i):i=f[17];return i}function o(a){c("FBLogger")("growth_friending").catching(a).mustfix("Failed to mark friend confirmed notification as seen in the toast")}g["default"]=a}),226);
__d("FriendingCometFriendRequestToast.react",["fbt","CometNotificationsListItem.react","CometNotificationsMutationLogger","CometNotificationsUpdateSeenStateMutation","CometRelay","CometToastCard.react","FBLogger","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useRef,l="MARK_SEEN",m="comet_toast",n="beeper";function a(a){var b,e,f=d("react-compiler-runtime").c(18),g=a.onCloseClick;a=a.response;a=a==null?void 0:a.friend_request_receive_subscribe;var i=a==null?void 0:a.notif,p=i==null?void 0:i.id,q=i==null?void 0:i.seen_state;a=a==null||(b=a.viewer)==null?void 0:b.actor;var r=i==null||(e=i.body)==null?void 0:e.text,s=k(!1),t=d("CometRelay").useRelayEnvironment(),u;f[0]!==t||f[1]!==p||f[2]!==q?(u=function(){if(p==null||q!=="UNSEEN_AND_UNREAD"||s.current===!0)return;d("CometNotificationsUpdateSeenStateMutation").CometNotificationsUpdateSeenStateMutation(t,{environment:"FRIENDS_TAB",input:{environment:"FRIENDS_TAB",is_comet:!0,last_notif_sync_time:0,notif_ids:[p],source:m,update_type:l}},{mutationLogger:d("CometNotificationsMutationLogger").notificationMarkAsSeenStart,onError:o,onSuccess:function(){s.current=!0},updater:function(a){d("CometNotificationsUpdateSeenStateMutation").updateSingleNotifSeenState(a,p),d("CometNotificationsUpdateSeenStateMutation").lowerBadgeCountByOne(a)}})},f[0]=t,f[1]=p,f[2]=q,f[3]=u):u=f[3];u=u;if(i==null)return null;var v;f[4]!==p||f[5]!==r?(v=p==null||r==null?null:{id:p,text:r},f[4]=p,f[5]=r,f[6]=v):v=f[6];r=v;f[7]!==a||f[8]!==i||f[9]!==g?(v=j.jsx("div",{role:"grid",children:j.jsx(c("CometNotificationsListItem.react"),{actor:a,loggerContext:n,notification:i,onClick:g})}),f[7]=a,f[8]=i,f[9]=g,f[10]=v):v=f[10];f[11]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"New notification"),f[11]=a):a=f[11];f[12]!==r||f[13]!==u||f[14]!==g||f[15]!==v||f[16]!==a?(i=j.jsx(c("CometToastCard.react"),{accessibilityAnnouncement:r,content:v,headline:a,onCloseClick:g,onMouseEnter:u}),f[12]=r,f[13]=u,f[14]=g,f[15]=v,f[16]=a,f[17]=i):i=f[17];return i}function o(a){c("vulture")("2RjYPjnZKGeXehXQgTvWJwJ6z9k="),c("FBLogger")("growth_friending").catching(a).mustfix("Failed to mark friend notification as seen in the toast: ")}g["default"]=a}),226);
__d("LSBumpE2EEMetadataThread",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("bump_timestamp_ms",a[1]),d[0].set("thread_key",a[0]),d[0].set("bumped_by_local_device_send",a[2]),d[0].set("tam_thread_subtype",c.i64.cast([0,0])),d[0].set("wa_jid",void 0),d[0].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[0].set("message_product_type",void 0),d[0].set("is_message_deletion",!1),d[0].set("is_unbump",a[3]),d[1]=d[0].get("thread_key"),c.storedProcedure(b("LSCancelTaskByQueueName"),c.i64.to_string(d[1]),c.i64.cast([0,389]))},function(e){return d[2]=new c.Map(),d[2].set("bump_timestamp_ms",a[1]),d[2].set("thread_key",a[0]),d[2].set("bumped_by_local_device_send",a[2]),d[2].set("tam_thread_subtype",c.i64.cast([0,0])),d[2].set("wa_jid",void 0),d[2].set("message_ephemeral_duration_in_sec",c.i64.cast([0,0])),d[2].set("message_product_type",void 0),d[2].set("is_message_deletion",!1),d[2].set("is_unbump",a[3]),d[3]=d[2].get("thread_key"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,389]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxBumpE2EEMetadataThreadStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSBumpE2EEMetadataThreadStoredProcedure",["LSBumpE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBumpE2EEMetadataThread"),e.threadKey,e.serverAuthoritativeTimestampMs,e.bumpedByLocalDeviceSend,e.isUnbump);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateE2EEMetadataThread",["LSArrayGetObjectAt","LSBase64Encode.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSQplAnnotateInt.nop","LSQplAnnotateString.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][createE2EEMetadataThread] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[19]=new c.Map(),d[19].set("error_msg","Expected a nonempty query result"),d[19].set("code",c.i64.cast([0,3])),d[19].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[20]=c.createArray(),d[21]=(d[20].push(d[19]),d[20]),e=[void 0,d[20]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[19]=new c.Map(),d[19].set("backup_id",b.backupId),d[19].set("device_public_key_blob",b.devicePublicKeyBlob),d[19].set("device_private_key_blob",b.devicePrivateKeyBlob),d[19].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[19].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[19].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[19].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[19].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[19].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[19].set("orf_client_state_v2_blob",void 0),d[19].set("orf_v2_authority_level",void 0),d[19].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[19].set("device_id",b.deviceId),d[19].set("backup_tenancy",b.backupTenancy),d[19].set("encryption_version",b.encryptionVersion),d[19].set("revision_version",b.revisionVersion),d[19].set("initialize_restore_result",void 0),d[19].set("device_creation_timestamp_sec",void 0),d[19].set("authority_level",b.authorityLevel),e=[d[19],void 0],d[2]=e[0],d[3]=e[1])})},function(a){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(a){return d[19]=d[6].get("backup_id"),d[20]=d[6].get("device_public_key_blob"),d[21]=d[6].get("device_private_key_blob"),d[22]=d[6].get("epoch_storage_public_key_blob"),d[23]=d[6].get("epoch_storage_private_key_blob"),d[24]=d[6].get("epoch_auth_public_key_blob"),d[25]=d[6].get("epoch_auth_private_key_blob"),d[26]=d[6].get("mailbox_root_key_blob"),d[27]=d[6].get("ocmf_client_state_blob"),d[28]=d[6].get("orf_client_state_v2_blob"),d[29]=d[6].get("orf_v2_authority_level"),d[30]=d[6].get("oblivious_validation_token_blob"),d[31]=d[6].get("device_id"),d[32]=d[6].get("backup_tenancy"),d[33]=d[6].get("encryption_version"),d[34]=d[6].get("revision_version"),d[35]=d[6].get("initialize_restore_result"),d[36]=d[6].get("device_creation_timestamp_sec"),d[37]=d[6].get("authority_level"),c.i64.neq(d[31],void 0)?c.sequence([function(a){return d[39]=void 0,c.i64.neq(d[39],void 0)?c.resolve(d[40]=d[39]):c.sequence([function(a){return d[52]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[53]?d[62]=(d[52].push(c.i64.cast([0,0])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[54]=a[0],a})},function(a){return d[54]?d[62]=(d[52].push(c.i64.cast([0,2])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[62]=(d[52].push(c.i64.cast([0,3])),d[52]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[56]=a[0],a})},function(a){return d[56]?d[62]=(d[52].push(c.i64.cast([0,4])),d[52]):0,d[57]=c.createArray(),d[58]=c.i64.of_int32(d[52].length),c.i64.gt(d[58],c.i64.cast([0,0]))?c.loopAsync(d[58],function(a){return d[62]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[52],d[62]).then(function(a){return a=a,d[63]=a[0],d[64]=a[1],a})},function(a){return d[65]=(d[57].push(d[63]),d[57])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[62]=c.createArray(),d[63]=c.i64.of_int32(d[57].length),c.i64.gt(d[63],c.i64.cast([0,0]))?c.loopAsync(d[63],function(a){return d[65]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[57],d[65]).then(function(a){return a=a,d[66]=a[0],d[67]=a[1],a})},function(a){return d[68]=(d[62].push(c.i64.to_string(d[66])),d[62])}])}):c.resolve()},function(a){return d[64]=d[62].join(","),d[59]=d[64]}])},function(a){return d[57].some(function(a){return c.i64.eq(d[33],a)})?d[60]=d[33]:d[60]=void 0,c.i64.neq(d[60],void 0)?d[61]=d[60]:d[61]=void 0,d[40]=d[61]}])},function(a){return c.i64.neq(d[40],void 0)?d[41]=d[40]:d[41]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[42]=d[32]:d[42]=c.i64.cast([0,1]),c.nativeOperation(b("LSBase64Encode.nop"),d[27]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[26]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[45]=new c.Map(),d[45].set("ocmf_client_state_blob",d[43]==null?"":d[43]),d[45].set("mailbox_root_key",d[44]==null?"":d[44]),d[46]=c.createArray(),c.forEach(c.filter(c.db.table(169).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),function(a){a=a.item;return d[52]=(d[46].push(a.epochId),d[46])})},function(a){return d[50]="Queried locally available epochs. Count: ",d[47]=c.i64.of_int32(d[46].length),d[51]=c.i64.to_string(d[47]),d[48]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBEpochClientUtils] ",d[48],d[50],d[48],d[51]].join("")),c.resolve()},function(a){return d[49]=new c.Map(),d[49].set("device_id",d[31]),d[49].set("raw_tokens",d[45]),d[49].set("locally_available_epochs",d[46]),d[38]=d[49]}]):c.resolve(d[38]=void 0)},function(a){return d[7]=d[38]}]):c.resolve((d[19]=d[5].get("errors"),d[20]=d[5].get("errors"),d[7]=void 0))},function(a){return d[8]=c.i64.random(),d[9]=void 0==null?c.i64.to_string(d[8]):void 0,d[9]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679677570]),d[9],!0,void 0):c.resolve()},function(a){return d[9]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679677570]),d[9],"issue_task"):c.resolve()},function(a){return d[9]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679677570]),d[9],"request_type","THREAD_POINT_QUERY"):c.resolve()},function(a){return d[9]!==void 0?c.nativeOperation(b("LSQplAnnotateInt.nop"),c.i64.cast([0,679677570]),d[9],"task_creation_source",c.i64.cast([0,76])==null?c.i64.cast([-1,4294967295]):c.i64.cast([0,76])):c.resolve()},function(e){return d[10]=new c.Map(),d[10].set("wa_jid",a[0]),d[10].set("offline_thread_key",a[1]),d[10].set("thread_type",a[2]),d[10].set("folder_type",a[3]),d[10].set("bump_timestamp_ms",a[4]),d[10].set("tam_thread_subtype",c.i64.cast([0,0])),d[10].set("created_by_local_device",a[5]),d[10].set("device_context",d[7]),d[10].set("qpl_instance_key",d[9]),d[10].set("should_run_privacy_and_folder_checks",!1),d[10].set("should_only_create_server_thread",!1),d[11]=d[10].get("offline_thread_key"),d[12]=c.toJSON(d[10]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[11]),c.i64.cast([0,388]),d[12],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[13]=c.i64.of_float(Date.now()),d[14]=c.i64.random(),d[16]="Finishing execution. Execution time: ",d[17]=c.i64.to_string(c.i64.sub(d[13],d[0])),d[18]=" ms",d[15]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][createE2EEMetadataThread] ",d[15],d[16],d[15],d[17],d[15],d[18]].join("")),c.i64.eq(c.i64.mod_(d[14],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[19]=",",d[20]=c.createArray(),void 0!==void 0?d[21]=(d[20].push(void 0),d[20]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"createE2EEMetadataThread",[d[16],d[19],d[17],d[19],d[18]].join(""),d[20],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxCreateE2EEMetadataThreadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","secure_encrypted_backups_epochs"];e.exports=a}),null);
__d("LSCreateE2EEMetadataThreadStoredProcedure",["LSCreateE2EEMetadataThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateE2EEMetadataThread"),e.waJid,e.offlineThreadKey,e.threadType,e.folderType,e.bumpTimestampMs,e.createdByLocalDevice);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCreateOfflineThreadingIDStoredProcedure",["LSCreateOfflineThreadingID","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateOfflineThreadingID"),e.timestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSEncryptedBackupsOnboardingDecision",[],(function(a,b,c,d,e,f){a=Object.freeze({FAILURE:-1,NO_DECISION_MADE:0,BACKUP_CREATED:1,STORE_ON_DEVICE_ONLY:2});f["default"]=a}),66);
__d("LSEncryptedBackupsVirtualDeviceType",[],(function(a,b,c,d,e,f){a=Object.freeze({OFFLINE:1,HSM:2,BLOCK_STORE:3,KEYCHAIN:5,ICLOUD_KVS:6,GOOGLE_DRIVE:7,CLOUDKIT:8,ICLOUD_DRIVE:9,PASSKEY:10,ICLOUD_KEYCHAIN:11,GOOGLE_ONE_AUTO_BACKUP:12,SECURITY_QUESTION_HSM:13,TRUSTED_CONTACT:14,META_OWNED:15,AUTOMATIC_EB:16});f["default"]=a}),66);
__d("LSIssueAttachmentBackupTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] Beginning execution."),a[5]!==void 0?c.resolve(d[1]=a[5]):c.sequence([function(a){return d[27]=c.i64.random(),d[28]=c.i64.to_string(d[27]),d[28]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,637738637]),d[28],!0,void 0):c.resolve()},function(a){return d[1]=d[28]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,637738637]),d[1],"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[32]=e.backupTenancy,d[31]=e.encryptionVersion,d[27]=void 0,c.i64.neq(d[27],void 0)?c.resolve(d[28]=d[27]):c.sequence([function(a){return d[33]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[43]=(d[33].push(c.i64.cast([0,0])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[43]=(d[33].push(c.i64.cast([0,2])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[43]=(d[33].push(c.i64.cast([0,3])),d[33]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[43]=(d[33].push(c.i64.cast([0,4])),d[33]):0,d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[33],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[38].push(d[44]),d[38])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[43]=c.createArray(),d[44]=c.i64.of_int32(d[38].length),c.i64.gt(d[44],c.i64.cast([0,0]))?c.loopAsync(d[44],function(a){return d[46]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[38],d[46]).then(function(a){return a=a,d[47]=a[0],d[48]=a[1],a})},function(a){return d[49]=(d[43].push(c.i64.to_string(d[47])),d[43])}])}):c.resolve()},function(a){return d[45]=d[43].join(","),d[40]=d[45]}])},function(a){return d[38].some(function(a){return c.i64.eq(d[31],a)})?d[41]=d[31]:d[41]=void 0,c.i64.neq(d[41],void 0)?d[42]=d[41]:d[42]=void 0,d[28]=d[42]}])},function(a){return c.i64.neq(d[28],void 0)?d[29]=d[28]:d[29]=c.i64.cast([0,0]),c.i64.neq(d[32],void 0)?d[30]=d[32]:d[30]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[29],d[30],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?(d[27]=c.i64.to_string(d[2]),d[27]!==void 0?c.sequence([function(e){return d[28]=c.createArray(),d[63]=(d[28].push(d[27]),d[28]),d[63]=(d[28].push(a[0]),d[28]),d[29]=c.toJSON(d[28]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[27]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(e){return d[38]=new c.Map(),d[38].set("attachment_index_key",d[33]==null?"":d[33]),d[38].set("delivery_object_id",a[0]),d[38].set("device_id",d[3]),d[38].set("mailbox_partial_id",d[37]==null?"":d[37]),d[38].set("media_type",a[2]),d[38].set("product_type",a[1]),d[38].set("trace_id",d[1]),d[39]=new c.Map(),d[39].set("otid",a[3]),d[39].set("server_thread_key",a[6]),d[39].set("timestamp",void 0),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(e){return d[38].set("salt_partial_id",d[43]==null?"":d[43]),c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return d[38].set("thread_partial_id",d[47]==null?"":d[47]),c.nativeOperation(b("LSGetBlobFromString.nop"),a[3]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return d[38].set("message_partial_id",d[51]==null?"":d[51]),d[52]=c.createArray(),d[63]=(d[52].push(a[3]),d[52]),d[63]=(d[52].push(a[0]),d[52]),d[53]=c.toJSON(d[52]),d[38].set("raw_identifiers",d[39]),d[38].set("backup_id",d[27]),d[38].set("thread_id",a[4]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return d[38].set("salt_partial_access_token",d[57]==null?"":d[57]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return d[38].set("salt_partial_attachment_index_key",d[61]==null?"":d[61]),d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!0):c.resolve()},function(a){return d[62]=c.toJSON(d[38]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_upload",c.i64.cast([0,50012]),d[62],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[29]="Missing backup_id for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))},function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}])):c.sequence([function(a){return d[28]="Missing device_id for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[28]].join("")),d[27]=c.createArray(),void 0!==void 0?d[30]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[28],d[27],c.i64.cast([0,3]))},function(a){return d[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[29]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[29]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}]):c.sequence([function(a){return d[28]="Missing ocmf_client_state_blob for IssueAttachmentBackupTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ","",d[28]].join("")),d[27]=c.createArray(),void 0!==void 0?d[30]=(d[27].push(void 0),d[27]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",d[28],d[27],c.i64.cast([0,3]))},function(a){return d[29]=["LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[29]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,637738637]),d[1],"error",d[29]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,637738637]),d[1],!1):c.resolve()}])},function(a){return d[21]=c.i64.of_float(Date.now()),d[22]=c.i64.random(),d[24]="Finishing execution. Execution time: ",d[25]=c.i64.to_string(c.i64.sub(d[21],d[0])),d[26]=" ms",d[23]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure] ",d[23],d[24],d[23],d[25],d[23],d[26]].join("")),c.i64.eq(c.i64.mod_(d[22],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[27]=",",d[28]=c.createArray(),void 0!==void 0?d[29]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure",[d[24],d[27],d[25],d[27],d[26]].join(""),d[28],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentBackupTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentBackupTaskStoredProcedure",["LSIssueAttachmentBackupTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentBackupTask"),e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.traceId,e.serverThreadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueAttachmentRestoreTask",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIssueNewTask","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSQplAnnotateString.nop","LSQplMarkEnd.nop","LSQplMarkPoint.nop","LSQplStartTrace.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] Beginning execution."),a[7]!==void 0?c.resolve(d[1]=a[7]):c.sequence([function(a){return d[28]=c.i64.random(),d[29]=c.i64.to_string(d[28]),d[29]!==void 0?c.nativeOperation(b("LSQplStartTrace.nop"),c.i64.cast([0,679684335]),d[29],!0,void 0):c.resolve()},function(a){return d[1]=d[29]}])},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkPoint.nop"),c.i64.cast([0,679684335]),d[1],"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure_start"):c.resolve()},function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[33]=e.backupTenancy,d[32]=e.encryptionVersion,d[28]=void 0,c.i64.neq(d[28],void 0)?c.resolve(d[29]=d[28]):c.sequence([function(a){return d[34]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[32],a)})?d[42]=d[32]:d[42]=void 0,c.i64.neq(d[42],void 0)?d[43]=d[42]:d[43]=void 0,d[29]=d[43]}])},function(a){return c.i64.neq(d[29],void 0)?d[30]=d[29]:d[30]=c.i64.cast([0,0]),c.i64.neq(d[33],void 0)?d[31]=d[33]:d[31]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[30],d[31],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.i64.neq(d[3],void 0)?d[21]!==void 0?c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[28]=c.createArray(),d[35]=(d[28].push(d[21]),d[28]),d[35]=(d[28].push(a[1]),d[28]),d[29]=c.toJSON(d[28]),d[30]=c.createArray(),d[35]=(d[30].push(c.i64.cast([0,32])),d[30]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[31],void 0,d[4],d[30]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!1:d[33]=!0,d[33]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[36]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[37]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[36],d[35],c.i64.cast([0,3]))},function(a){return d[34]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[32],c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],d[36]=a[1],a})},function(a){return d[34]=d[35]}])},function(e){return c.blobs.neq(d[34],void 0)?c.sequence([function(e){return c.i64.neq(a[9],void 0)?d[35]=a[9]:d[35]=c.i64.cast([-1,4294967295]),c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[34],d[37],c.i64.cast([0,16])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[38]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[42]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[46]).then(function(a){return a=a,d[47]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[58]).then(function(a){return a=a,d[59]=a[0],a})},function(e){return d[60]=new c.Map(),d[60].set("attachment_index_key",d[43]==null?"":d[43]),d[60].set("backup_ent_fbid",a[0]),d[60].set("delivery_object_id",a[1]),d[60].set("device_id",d[3]),d[60].set("mailbox_partial_id",d[47]==null?"":d[47]),d[60].set("media_type",a[3]),d[60].set("message_partial_id",d[51]==null?"":d[51]),d[60].set("product_type",a[2]),d[60].set("salt_partial_id",d[55]==null?"":d[55]),d[60].set("sort_key",d[39]==null?"":d[39]),d[60].set("thread_partial_id",d[59]==null?"":d[59]),d[60].set("trace_id",d[1]),d[60].set("source",d[35]),d[61]=new c.Map(),d[61].set("otid",a[4]),d[61].set("server_thread_key",a[8]),d[61].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[62]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[63]=a[0],a})},function(e){return d[64]=new c.Map(),d[64].set("ocmf_client_state_blob",d[62]==null?"":d[62]),d[64].set("mailbox_root_key",d[63]==null?"":d[63]),d[65]=c.createArray(),d[76]=(d[65].push(a[4]),d[65]),d[76]=(d[65].push(a[1]),d[65]),d[66]=c.toJSON(d[65]),d[60].set("raw_identifiers",d[61]),d[60].set("backup_id",d[21]),d[60].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[67]).then(function(a){return a=a,d[68]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[68]).then(function(a){return a=a,d[69]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return d[60].set("salt_partial_access_token",d[70]==null?"":d[70]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[29]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[73]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return d[60].set("salt_partial_attachment_index_key",d[74]==null?"":d[74]),d[60].set("raw_tokens",d[64]),void 0!==void 0?d[60].set("access_token_secret",void 0):0,void 0!==void 0?d[60].set("primary_key_secret",void 0):0,d[75]=c.toJSON(d[60]),c.storedProcedure(b("LSIssueNewTask"),"encrypted_backups_attachment_restore",c.i64.cast([0,50020]),d[75],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}]):c.sequence([function(a){return d[37]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","OPE_key_is_null"].join(""),d[1]!==void 0?d[37]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[37]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[36]="OPE key is null for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[36]].join("")),d[35]=c.createArray(),void 0!==void 0?d[38]=(d[35].push(void 0),d[35]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[36],d[35],c.i64.cast([0,3]))}])}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_mailbox_root_key"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing mailbox_root_key for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_backup_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing backup_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_device_id"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing device_id for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}]):c.sequence([function(a){return d[30]=["LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",".","missing_ocmf_client_state_blob"].join(""),d[1]!==void 0?d[30]!==void 0?c.nativeOperation(b("LSQplAnnotateString.nop"),c.i64.cast([0,679684335]),d[1],"error",d[30]):c.resolve():c.resolve()},function(a){return d[1]!==void 0?c.nativeOperation(b("LSQplMarkEnd.nop"),c.i64.cast([0,679684335]),d[1],!1):c.resolve()},function(a){return d[29]="Missing ocmf_client_state_blob for IssueAttachmentRestoreTask",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ","",d[29]].join("")),d[28]=c.createArray(),void 0!==void 0?d[31]=(d[28].push(void 0),d[28]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",d[29],d[28],c.i64.cast([0,3]))}])},function(a){return d[22]=c.i64.of_float(Date.now()),d[23]=c.i64.random(),d[25]="Finishing execution. Execution time: ",d[26]=c.i64.to_string(c.i64.sub(d[22],d[0])),d[27]=" ms",d[24]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure] ",d[24],d[25],d[24],d[26],d[24],d[27]].join("")),c.i64.eq(c.i64.mod_(d[23],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[28]=",",d[29]=c.createArray(),void 0!==void 0?d[30]=(d[29].push(void 0),d[29]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure",[d[25],d[28],d[26],d[28],d[27]].join(""),d[29],c.i64.cast([0,4]))):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueAttachmentRestoreTaskStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSIssueAttachmentRestoreTaskStoredProcedure",["LSIssueAttachmentRestoreTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueAttachmentRestoreTask"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.traceId,e.serverThreadKey,e.source);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),d[1]=c.i64.of_float(Date.now()),c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))||!1}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){var e=a.done;a=a.value;return e?(d[15]=new c.Map(),d[15].set("error_msg","Expected a nonempty query result"),d[15].set("code",c.i64.cast([0,3])),d[15].set("src_line","MEBClientStateUtils.php:256 MEBClientStateUtils::maybeClientStateFromDatabaseDirectly()"),d[16]=c.createArray(),d[17]=(d[16].push(d[15]),d[16]),e=[void 0,d[16]],d[2]=e[0],d[3]=e[1]):(b=a.item,d[15]=new c.Map(),d[15].set("backup_id",b.backupId),d[15].set("device_public_key_blob",b.devicePublicKeyBlob),d[15].set("device_private_key_blob",b.devicePrivateKeyBlob),d[15].set("epoch_storage_public_key_blob",b.epochStoragePublicKeyBlob),d[15].set("epoch_storage_private_key_blob",b.epochStoragePrivateKeyBlob),d[15].set("epoch_auth_public_key_blob",b.epochAuthPublicKeyBlob),d[15].set("epoch_auth_private_key_blob",b.epochAuthPrivateKeyBlob),d[15].set("mailbox_root_key_blob",b.mailboxRootKeyBlob),d[15].set("ocmf_client_state_blob",b.ocmfClientStateBlob),d[15].set("orf_client_state_v2_blob",void 0),d[15].set("orf_v2_authority_level",void 0),d[15].set("oblivious_validation_token_blob",b.obliviousValidationTokenBlob),d[15].set("device_id",b.deviceId),d[15].set("backup_tenancy",b.backupTenancy),d[15].set("encryption_version",b.encryptionVersion),d[15].set("revision_version",b.revisionVersion),d[15].set("initialize_restore_result",void 0),d[15].set("device_creation_timestamp_sec",void 0),d[15].set("authority_level",b.authorityLevel),e=[d[15],void 0],d[2]=e[0],d[3]=e[1])})},function(e){return d[5]=new c.Map(),d[5].set("value",d[2]),d[5].set("errors",d[3]),d[6]=d[5].get("value"),d[6]!==void 0?c.sequence([function(e){return d[15]=d[6].get("backup_id"),d[16]=d[6].get("device_public_key_blob"),d[17]=d[6].get("device_private_key_blob"),d[18]=d[6].get("epoch_storage_public_key_blob"),d[19]=d[6].get("epoch_storage_private_key_blob"),d[20]=d[6].get("epoch_auth_public_key_blob"),d[21]=d[6].get("epoch_auth_private_key_blob"),d[22]=d[6].get("mailbox_root_key_blob"),d[23]=d[6].get("ocmf_client_state_blob"),d[24]=d[6].get("orf_client_state_v2_blob"),d[25]=d[6].get("orf_v2_authority_level"),d[26]=d[6].get("oblivious_validation_token_blob"),d[27]=d[6].get("device_id"),d[28]=d[6].get("backup_tenancy"),d[29]=d[6].get("encryption_version"),d[30]=d[6].get("revision_version"),d[31]=d[6].get("initialize_restore_result"),d[32]=d[6].get("device_creation_timestamp_sec"),d[33]=d[6].get("authority_level"),c.i64.neq(d[27],void 0)?c.sequence([function(a){return d[36]=void 0,c.i64.neq(d[36],void 0)?c.resolve(d[37]=d[36]):c.sequence([function(a){return d[43]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[44]=a[0],a})},function(a){return d[44]?d[53]=(d[43].push(c.i64.cast([0,0])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[53]=(d[43].push(c.i64.cast([0,2])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[46]=a[0],a})},function(a){return d[46]?d[53]=(d[43].push(c.i64.cast([0,3])),d[43]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[47]=a[0],a})},function(a){return d[47]?d[53]=(d[43].push(c.i64.cast([0,4])),d[43]):0,d[48]=c.createArray(),d[49]=c.i64.of_int32(d[43].length),c.i64.gt(d[49],c.i64.cast([0,0]))?c.loopAsync(d[49],function(a){return d[53]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[43],d[53]).then(function(a){return a=a,d[54]=a[0],d[55]=a[1],a})},function(a){return d[56]=(d[48].push(d[54]),d[48])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[53]=c.createArray(),d[54]=c.i64.of_int32(d[48].length),c.i64.gt(d[54],c.i64.cast([0,0]))?c.loopAsync(d[54],function(a){return d[56]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[48],d[56]).then(function(a){return a=a,d[57]=a[0],d[58]=a[1],a})},function(a){return d[59]=(d[53].push(c.i64.to_string(d[57])),d[53])}])}):c.resolve()},function(a){return d[55]=d[53].join(","),d[50]=d[55]}])},function(a){return d[48].some(function(a){return c.i64.eq(d[29],a)})?d[51]=d[29]:d[51]=void 0,c.i64.neq(d[51],void 0)?d[52]=d[51]:d[52]=void 0,d[37]=d[52]}])},function(e){return c.i64.neq(d[37],void 0)?d[38]=d[37]:d[38]=c.i64.cast([0,0]),c.i64.neq(d[28],void 0)?d[39]=d[28]:d[39]=c.i64.cast([0,1]),d[40]=c.i64.of_float(Date.now()),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),c.i64.cast([0,50026]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),void 0,c.i64.le(c.i64.cast([0,0]),c.i64.cast([0,0]))?c.i64.cast([0,0]):c.i64.add(d[40],c.i64.sub(c.i64.cast([0,0]),c.i64.mod_(d[40],c.i64.cast([0,0])))),c.i64.cast([0,0])).then(function(a){return a=a,d[41]=a[0],a})},function(b){return c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[41],actionType:c.i64.cast([0,2]),contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[0],sortKey:a[1],persistentId:"",isInstamadillo:!1,lsTraceId:a[3],error:a[4]})},function(b){return c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?c.i64.eq(c.i64.cast([0,2]),c.i64.cast([0,1]))?(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message backup task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued message remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[45]=(d[43].push(", otid = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve()):(d[43]=c.createArray(),d[45]=(d[43].push("Successfully issued thread remove task. act thread id = "),d[43]),d[45]=(d[43].push(a[0]),d[43]),d[44]=d[43].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[44]].join("")),c.resolve())},function(a){return d[42]=new c.Map(),d[42].set("task_id",d[41]),a=[d[42],void 0],d[34]=a[0],d[35]=a[1]}]):c.sequence([function(b){return d[36]=c.createArray(),d[39]=(d[36].push("Skipping thread remove since EB is disabled. act thread id = "),d[36]),d[39]=(d[36].push(a[0]),d[36]),d[37]=d[36].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[37]].join("")),c.resolve()},function(a){return d[38]=new c.Map(),d[38].set("error_code",c.i64.cast([0,24])),d[38].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[38].set("error_message",""),a=[void 0,d[38]],d[34]=a[0],d[35]=a[1]}])},function(a){return a=[d[34],d[35]],d[7]=a[0],d[8]=a[1],a}]):c.sequence([function(b){return d[15]=d[5].get("errors"),d[16]=d[5].get("errors"),d[17]=c.createArray(),d[20]=(d[17].push("Skipping thread remove since EB is disabled. act thread id = "),d[17]),d[20]=(d[17].push(a[0]),d[17]),d[18]=d[17].join(void 0||""),function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",d[18]].join("")),c.resolve()},function(a){return d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,1])),d[19].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),d[19].set("error_message",""),a=[void 0,d[19]],d[7]=a[0],d[8]=a[1]}])},function(a){return d[9]=c.i64.of_float(Date.now()),d[10]=c.i64.random(),d[12]="Finishing execution. Execution time: ",d[13]=c.i64.to_string(c.i64.sub(d[9],d[0])),d[14]=" ms",d[11]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",d[11],d[12],d[11],d[13],d[11],d[14]].join("")),c.i64.eq(c.i64.mod_(d[10],c.i64.cast([0,1e3])),c.i64.cast([0,0]))?(d[15]=",",d[16]=c.createArray(),void 0!==void 0?d[17]=(d[16].push(void 0),d[16]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[d[12],d[15],d[13],d[15],d[14]].join(""),d[16],c.i64.cast([0,4]))):c.resolve()},function(a){return a=[d[7],d[8]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsIssueThreadRemoveStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state","pending_backups_context_v2"];e.exports=a}),null);
__d("LSIssueThreadRemoveStoredProcedure",["LSIssueThreadRemove","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssueThreadRemove"),e.actThreadId,e.sortKey,e.source,e.traceId,e.error);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,c.i64.le(f.authorityLevel,c.i64.cast([0,80]))?(d[0]=new c.Map(),d[0].set("contact_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"cpq_v2",c.i64.cast([0,207]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):c.resolve())})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure";a.__tables__=["contacts"];e.exports=a}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRefetchContactRowIfExists"),e.id);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateBackupsTableStoredProcedure",["LSSynchronousPromise","LSUpdateBackupsTable","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateBackupsTable"),e.isSuccess,e.backupIds,e.virtualDevices,e.deviceIds,e.backupMetadata,e.traceId,e.isUserOptedOut,e.hasOtcEligibleDevices,e.encryptionManagementDelegatorId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateE2EEMetadataParticipants",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("user_self_remove",!1),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[1]),c.i64.cast([0,394]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxUpdateE2EEMetadataParticipantsStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateE2EEMetadataParticipantsStoredProcedure",["LSSynchronousPromise","LSUpdateE2EEMetadataParticipants","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateE2EEMetadataParticipants"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWFTSRawStringMatcher",["JSResourceForInteraction","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("WAFtsMultiLangTokenizer").__setRef("MAWFTSRawStringMatcher"),i=null;async function a(){i=await h.load();return k}function j(a){return new(c("nullthrows")(i))().tokenize(a)}function k(a,b){a=Array.from(j(a)).filter(function(a){return a.length>1});if(a.length===0)return!1;var c=Array.from(j(b));return a.every(function(a){return c.some(function(b){return b.startsWith(a)})})}g.load=a}),98);
__d("addMAWBridgeSearchMessagesToUniversalSearch",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWUniversalMessageSearch","MWContentSearchUtils","MWSearchThreadUtils","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("LSIntEnum")).ofNumber(c("LSMessageSearchType").THREAD);async function a(a,b,e,g,h){var k;d("MAWUniversalMessageSearch").updateSecureMsgMatchCountForThread(b,g.length);var l=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.message_search_results).getKeyRange(j,e,b)),m=l==null;k=(i||(i=d("I64"))).to_int32((k=l==null?void 0:l.matchCount)!=null?k:(i||(i=d("I64"))).zero);var n=k+g.length;k=await d("MWSearchThreadUtils").getThreadDataByThreadKey(a,b,i.of_string(d("MAWCurrentUser").getID()),j);if(k==null)return;var o=k.profilePicUrl,p=k.secondaryProfilePicUrl,q=k.threadDisplayName,r=k.threadType,s=l==null?void 0:l.globalIndex,t=d("MWContentSearchUtils").getGlobalIndex(g[0].sortOrderMs,l==null?void 0:l.globalIndex),u=async function(a){var c;await a.message_search_results.upsert([j,e,b,s!=null?s:t],babelHelpers.extends({},d("MWContentSearchUtils").getContextLineAndMatches(e,n,(c=g[0].msg)==null?void 0:c.content,j),{displayName:q,globalIndex:t,matchCount:(i||(i=d("I64"))).of_int32(n),messageTimestampMs:d("MWContentSearchUtils").getMessageTimestamp(g[0].sortOrderMs),profilePicUrl:o,query:e,secondaryProfilePicUrl:p,threadKey:b,threadType:r,type_:j}));m&&await a.message_search_queries.put(babelHelpers.extends({},h,{resultCount:(i||(i=d("I64"))).add(h.resultCount,i.one)}))};c("promiseDone")(a.runInTransaction(async function(a){await u(a)},"readwrite",void 0,void 0,f.id+":113"))}g.default=a}),98);
__d("MAWBridgeAddMessageSearchResultHandler",["I64","LSIntEnum","LSMessageSearchType","MAWCurrentUser","MAWFTSRawStringMatcher","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MWInboxSecureContentSearch","ReQL","addMAWBridgeSearchMessagesToUniversalSearch","emptyFunction","isMAWUniversalSearchWithEBEnabled","promiseDone","waitForMiActMappingForUniversalSearch"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageSearchType").MESSAGE),k=h.ofNumber(c("LSMessageSearchType").THREAD);function a(a,b,d){return d.length===0?Promise.resolve():Promise.all([m(a,b,d),n(a,b,d)]).then(c("emptyFunction"))}async function l(a,b){var c=await d("MAWFTSRawStringMatcher").load();return b.filter(function(b){b=(b=b.msg)==null?void 0:b.content;return b==null?!1:c(a,b)})}async function m(a,b,e){var f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.message_search_queries).getKeyRange(j));if(f.length===0)return;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(b,e[0].chatJid,"MAWBridgeAddMessageSearchResultHandler",function(b,g){return async function(){var c=f.filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,g)})[0];if(c==null)return;var h=c.query;if(h==null||h.length<2)return;var j=(i||(i=d("I64"))).to_int32(c.resultCount);h=await l(h,e);if(h.length===0)return;await d("MWInboxSecureContentSearch").addBridgeSearchMsgsToSearchResult(a,b,c.query,h,j+h.length,i.of_string(d("MAWCurrentUser").getID()))}().then(c("emptyFunction"))})}async function n(a,b,e){if(!c("isMAWUniversalSearchWithEBEnabled")())return;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.message_search_queries).getKeyRange(k).filter(function(a){return(i||(i=d("I64"))).equal(a.threadKeyV2,i.one)}));if(f==null)return;var g=f.query;if(g==null||g.length<2)return;var h=await l(g,e);if(h.length===0)return;c("promiseDone")(c("waitForMiActMappingForUniversalSearch")(a,e[0].chatJid),function(b){if(b!=null)return c("addMAWBridgeSearchMessagesToUniversalSearch")(a,b.serverThreadKey,g,h,f)})}g.call=a}),98);
__d("MAWBridgeCallRestoreNativeOpHandler",["I64","MAWMpsGating","Promise","WAJids","WALogger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSProtobufRestoreHandler").__setRef("MAWBridgeCallRestoreNativeOpHandler"),l=c("requireDeferred")("LSRestoreEchoBlobs.nop").__setRef("MAWBridgeCallRestoreNativeOpHandler");function a(a,c){var e=c.chatJid,f=c.decryptedMessagesProtobufs,g=c.echoMessages,m=c.hasMoreAfter,n=c.hasMoreBefore,o=c.isPointQuery,p=c.nextMessageTimestampMsAfter,q=c.nextMessageTimestampMsBefore,r=c.referenceTimestamp,s=c.requestId,t=c.taskSource;if(d("MAWMpsGating").isFullMpsEnabled())return(j||(j=b("Promise"))).resolve();if(f!=null)return k.load().then(function(a){return a.handleProtobufRestoreHelper(d("WAJids").threadIdForChatJid(e),{convertedProtobufs:f,type:"convertedProtobufs"},n,q,m,p,o,s,r,void 0,void 0,t,e)});else if(g!=null)return l.load().then(function(c){return c(a,0,(i||(i=d("I64"))).zero,g,n,q,m,p,o,d("WAJids").threadIdForChatJid(e),s,r,t,e).then(function(){return(j||(j=b("Promise"))).resolve()})});else d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Unable to call restore native op - echo and protobuf messages are both null"])));return(j||(j=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeDeleteGroupInviteHandler",["LSThreadBitOffset","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteGroupInviteHandler",async function(b,e){var f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.group_invites).getKeyRange(e));return Promise.all(f.map(function(a){return b.group_invites.delete(a.threadKey,a.inviterId,a.inviteeId)})).then(function(){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e)),function(b){if(b==null)return;var c=d("LSThreadBitOffset").clear([105],b.capabilities,b.capabilities2,b.capabilities3,b.capabilities4,b.capabilities5),e=c[0],f=c[1],g=c[2],h=c[3];c=c[4];return a.threads.put(babelHelpers.extends({},b,{capabilities:e,capabilities2:f,capabilities3:g,capabilities4:h,capabilities5:c,snippet:void 0}))})})})}g.call=a}),98);
__d("MAWBridgeDeleteMessagesOfThreadHandler",["EBIsEbEnabled","LSFactory","LSIntEnum","LSIssueThreadRemoveStoredProcedure","LSMEBTaskCreationSource"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){if(b.actionType===2){if(!await d("EBIsEbEnabled").isEbEnabledLS(a))return;await c("LSIssueThreadRemoveStoredProcedure")(c("LSFactory")(a),{actThreadId:b.threadId,sortKey:b.ts.toString(),source:(h||(h=d("LSIntEnum"))).ofNumber(c("LSMEBTaskCreationSource").TAM_WEB)})}}g.call=a}),98);
__d("MAWBridgeEphemeralSettingsUpdatedForUIHandler",["MAWChatJid","MAWEphemeralSettingsUpdate","cr:17100"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,c){var e=await d("MAWChatJid").toThreadKeyMaybe(a,c.chatJid);return e!=null?d("MAWEphemeralSettingsUpdate").updateEphemeralSettingsWithTxn(a,c.ephemeralSettingArgs.ephemeralExpirationInSec,await b("cr:17100").castUnixTimeToMillisTime(c.ephemeralSettingArgs.ephemeralLastUpdatedOrSetTimestamp),c.isEphemeralSettingReset,e,!1,c.author):Promise.resolve()}g.call=a}),98);
__d("MAWBridgeFulfillRestorePromisePayloadHandler",["MAWAsyncEBPendingQueryPromise","MAWEBRestoreTrackingUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a.success?(d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(a.value.traceId),d("MAWEBRestoreTrackingUtils").markEBRestoreSuccess(a.value.traceId)):(d("MAWAsyncEBPendingQueryPromise").rejectPendingQueryIfPresent(a.error.traceId,c("err")(a.error.message)),d("MAWEBRestoreTrackingUtils").markEBRestoreFail(a.error.traceId));return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeGroupInfoUpdatedHandler",["I64","MAWMiActMappingTableAPI","MWFBLogger","ODS","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=d("MWFBLogger").MWLogger().tags(["bridgeUIEvent","Occam","Middleware"]);async function a(a,b){var c,e=await d("MAWMiActMappingTableAPI").getMappingRowForChatJid(a,b.chatJid);if(e==null){m.WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Missing thread key for chatJid: ",""])),b.chatJid);return}c=(c=b.threadName)!=null?c:void 0;e=e.serverThreadKey;a=a.threads;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(e));if(f==null){(k||(k=d("ODS"))).bumpEntityKey(3185,"armadillo_group_info_update","missing_thread");m.WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Missing thread for updating group with threadKey: ",""])),(l||(l=d("I64"))).to_string(e));return}else c==null&&(c=f.threadName,m.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(['MAWDB groupInfo is missing "name" field for threadKey: ',""])),(l||(l=d("I64"))).to_string(e)));e=b.memberAddMode!=="all_member_add";await a.put(babelHelpers.extends({},f,{needsAdminApprovalForNewParticipant:e,threadName:c}))}g.call=a}),98);
__d("MAWBridgeGroupInviteUpdateHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeGroupInviteUpdateHandler",function(a,f){var g=(i||(i=d("I64"))).of_string(e.inviterId);return(h||(h=b("Promise"))).all([d("MAWUpdateLSThreadCapabilities").setGroupInviteTxn(a,f,g)]).then(c("emptyFunction"))})}g.call=a}),98);
__d("MAWBridgeHandleCOPDigest",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeMediaExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeMediaExpiredHandler.bs",function(a,c){return a.attachments["delete"](c,b.msgId,String(b.plaintextHash))})}g.call=a}),98);
__d("MAWBridgeMsgUpdatedHandler",["FBLogger","MAWAdminMsgCTA","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsgFetchLSReplyMsgAndAttachment","MAWUpdateMsg","MsgrWebGating","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeMsgUpdatedHandler",async function(e,f){var g,i=await (g=d("ReQL")).firstAsync(g.fromTableAscending(e.messages.index("messageId")).getKeyRange(b.msgId));g=await g.firstAsync(g.fromTableAscending(e.attachments).getKeyRange(f,b.msgId));if(i==null){c("FBLogger")("messenger_web").info("existing message is null for type %s, and attachment is null: %s",b.type_,g==null);return}g=await d("MAWAdminMsgCTA").getAdminMsgCtaStep(e,f,b);f=await h(a,b);return d("MAWUpdateMsg").call(e,f,i,g)})}async function h(a,b){if(d("MsgrWebGating").isQuotedMessagesInLsEnabled()){a=await d("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(a,b);return a!=null?a:b}return Promise.resolve(b)}g.call=a}),98);
__d("MAWBridgeNoteReplyStartCountdownHandler",["MAWMessageExpirationStorage","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){return c.msgs.reduce(function(a,b){return a.then(function(){d("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:b,expirationEvent:d("MAWMessageExpirationStorage").expirationNoteReplyEvent})})},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWCreateOptimisticThread",["I64","LSAuthorityLevel","LSCreateOfflineThreadingIDStoredProcedure","LSFactory","LSIntEnum","LSMailboxType","LSRtcCallState"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a){a=await c("LSCreateOfflineThreadingIDStoredProcedure")(c("LSFactory")(a),{timestampMs:(h||(h=d("I64"))).of_float(Date.now())});a=a[0];return a}async function k(a,b){var e={authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),folderName:"inbox",lastReadWatermarkTimestampMs:(h||(h=d("I64"))).of_float(0),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),ongoingCallState:i.ofNumber(c("LSRtcCallState").NO_ONGOING_CALL),parentThreadKey:h.zero,threadKey:b,threadType:i.ofNumber(15)};await a.threads.put(e);return b}async function a(a){var b=await j(a);await k(a,b);return b}g.createOfflineThreadingId=j;g.createOptimisticThreadWithThreadKey=k;g.createOptimisticThread=a}),98);
__d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2",["DedupMiThreadCreationCache","FBLogger","I64","LSAuthorityLevel","LSCreateE2EEMetadataThreadStoredProcedure","LSFactory","LSIntEnum","MAWCreateOptimisticThread","MAWFolderUtils","MAWJids","MAWThreadLoadingState","MAWThreadUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="[Occamadillo][CreateE2EEMetadataThreadHandlerV2]";async function a(a,b){var e=b.bumpTimestampMs,f=b.creationSource,g=b.folderId,i=b.jid;b=b.optimisticThreadKey;m(f,i);b=b!=null?await a.threads.get((h||(h=d("I64"))).of_string(b)):null;if(b!=null&&d("DedupMiThreadCreationCache").DedupMiThreadCreationCache.has(i)){q(i);return}if(b!=null&&k(b)){n(i,(h||(h=d("I64"))).to_string(b.threadKey));return}e={bumpTimestampMs:e,createdByLocalDevice:f==="outgoing_message",folderType:d("MAWFolderUtils").systemFolderToLSCoreClientFolder(g),offlineThreadKey:await l(b,i,a),threadType:d("MAWThreadUtils").getLSThreadTypeFromJid(i),waJid:d("MAWJids").convertChatJidToIntJid(i)};p(e);return c("LSCreateE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),e).then(function(){d("DedupMiThreadCreationCache").addToDedupMiThreadCreationCache(i)})}function k(a){a=(i||(i=d("LSIntEnum"))).unwrapIntEnum(a.authorityLevel);switch(a){case c("LSAuthorityLevel").CLIENT_PARTIAL:case c("LSAuthorityLevel").OPTIMISTIC:case c("LSAuthorityLevel").SERVER_PARTIAL:return!1;case c("LSAuthorityLevel").AUTHORITATIVE:case c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT:case c("LSAuthorityLevel").CLIENT_AUTHORITATIVE_DELETE:return!0;default:a;throw c("FBLogger")("messenger_web").mustfixThrow("Unknown authority level")}}async function l(a,b,c){if(a!=null)return Promise.resolve(a.threadKey);a=await d("MAWCreateOptimisticThread").createOfflineThreadingId(c);o(b,a);await Promise.all([d("MAWCreateOptimisticThread").createOptimisticThreadWithThreadKey(c,a),d("MAWThreadLoadingState").markActThreadLoadingAsCompleted(c,{intJid:d("MAWJids").convertChatJidToIntJid(b),threadKey:a})]);return a}function m(a,b){c("FBLogger")("messenger_web").info(j+" handler called from %s for jid %s",a,b)}function n(a,b){c("FBLogger")("messenger_web").info(j+" handler returned early for jid %s because thread %s was already authoritative",a,b)}function o(a,b){c("FBLogger")("messenger_web").info(j+" no thread exists for jid %s, creating optimistic thread with key %s",a,(h||(h=d("I64"))).to_string(b))}function p(a){c("FBLogger")("messenger_web").info(j+" Calling LSCreateE2EEMetadataThreadStoredProcedure with params: bumpTimestampMs: %s, createdByLocalDevice: %s, folderType: %s, offlineThreadKey: %s, offlineThreadKeySource: %s, threadType: %s, waJid: %s",(h||(h=d("I64"))).to_string(a.bumpTimestampMs),a.createdByLocalDevice,h.to_string(a.folderType),h.to_string(a.offlineThreadKey),h.to_string(a.threadType),h.to_string(a.waJid))}function q(a){c("FBLogger")("messenger_web").info(j+" LSCreateE2EEMetadataThreadStoredProcedure has already been called for jid %s, early returning",a)}g.call=a}),98);
__d("MAWBridgeParticipantRemovedHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeParticipantRemovedHandler",function(a,c){return a.participants["delete"](c,(h||(h=d("I64"))).of_string(b.userId))})}g.call=a}),98);
__d("MAWBridgeRavenActionMsgForUIHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMsg","MAWRavenUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h=["ephemeralMediaState"],i;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeRavenActionMsgForUIHandler",async function(a,c){a=a.attachments;c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a).getKeyRange(c,b.ravenMsgId));if(c==null)return Promise.resolve();if(c.ephemeralMediaState==null)return Promise.resolve();var e=(i||(i=d("I64"))).to_int32(c.ephemeralMediaState);if(c.ephemeralMediaViewMode==null)return Promise.resolve();var f=i.to_int32(c.ephemeralMediaViewMode);e=d("MAWMsg").MAWRavenMsgEphemeralMediaState.cast(e);f=d("MAWMsg").MAWRavenMsgEphemeralType.cast(f);if(e==null||f==null)return Promise.resolve();e=d("MAWRavenUtils").getNextRavenMessageEphemeralState(e,f);if(e==null)return Promise.resolve();c.ephemeralMediaState;f=babelHelpers.objectWithoutPropertiesLoose(c,h);c=babelHelpers.extends({ephemeralMediaState:i.of_int32(e)},f,{transportKey:"WhatsApp"});e=[f.threadKey,f.messageId,f.attachmentFbid];return a.upsert(e,c)})}g.call=a}),98);
__d("MAWBridgeReceivedReceiptHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b,c){var e=(h||(h=d("I64"))).of_string(b.fbid);b=d("MAWTimeUtils").toTimestamp(b.deliveredWatermarkTs);c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.participants).getKeyRange(c,e));c!=null&&await a.participants.put({authorityLevel:c.authorityLevel,contactId:c.contactId,deliveredWatermarkTimestampMs:(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)?c.deliveredWatermarkTimestampMs:b,groupParticipantJoinState:c.groupParticipantJoinState,isAdmin:c.isAdmin,isModerator:c.isModerator,isSuperAdmin:c.isSuperAdmin,nickname:c.nickname,normalizedSearchTerms:c.normalizedSearchTerms,participantCapabilities:c.participantCapabilities,readActionTimestampMs:c.readActionTimestampMs,readWatermarkTimestampMs:c.readWatermarkTimestampMs,subscribeSource:c.subscribeSource,threadKey:c.threadKey,threadRoles:(h||(h=d("I64"))).zero})}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReceivedReceiptHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeRefreshContactHandler",["LSFactory","LSRefetchContactRowIfExistsStoredProcedure"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return c("LSRefetchContactRowIfExistsStoredProcedure")(c("LSFactory")(a),{id:b})}g.call=a}),98);
__d("MAWBridgeRemoveMessageSearchResultHandler",["ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return async function(){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.message_search_results).filter(function(a){return b.includes(a.messageOtid)}));await Promise.all(c.map(function(b){return a.message_search_results.delete(b.type_,b.query,b.threadKey,b.globalIndex)}))}().then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeResignAttachmentCDNUrlHandler",["I64","LSFactory","LSIssueAttachmentRestoreTaskStoredProcedure","MAWAsyncEBMediaDownloadPromise","MAWBridgeFireAndForget","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h,i="-8";function a(a,b){var e,f=b.traceId,g=(e=b.skipLegacyMediaDownloadFlow)!=null?e:!1;function j(a,b,c){!g&&f!=null&&d("MAWBridgeFireAndForget").fireAndForget("backend","addMediaDownloadQpl",{annotations:c!=null?c:void 0,pointName:b,qplInstanceKey:f,qplType:a})}j("point","resign_cdn_url_bridge_handler_start");return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeResignAttachmentCDNUrlHandler",function(a,e){e={backupEntFbid:(h||(h=d("I64"))).of_string(i),deliveryObjectId:b.deliveryObjectId,mediaType:b.mediaType,messageId:b.messageId,productType:b.productType,serverThreadKey:h.to_string(e),sortOrder:h.of_float(b.sortOrder),threadId:b.threadId,traceId:f.toString()};b.skipLegacyMediaDownloadFlow!==!0&&d("MAWAsyncEBMediaDownloadPromise").setMediaDownloadPayload({messageId:b.msgId,objectId:b.deliveryObjectId,plaintextHash:b.plaintextHash,threadId:b.threadId});j("point","resign_cdn_url_issue_attachment_task",{string:{taskTraceId:e.traceId}});return c("LSIssueAttachmentRestoreTaskStoredProcedure")(c("LSFactory")(a),e).then(function(){j("point","resign_cdn_url_issue_attachment_task_end")})["catch"](function(a){j("fail","resign_cdn_url_issue_attachment_task_fail",{string:{error:a.toString()}})})})}g.call=a}),98);
__d("MAWBridgeXMAShareTombstonedHandler",["FBLogger","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=String(b.xmaId);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareTombstonedHandler",function(a,f){return a.attachments.get(f,b.msgId,e).then(function(g){if(g==null)return Promise.resolve();g=[g.defaultCtaId,g.attachmentCta1Id,g.attachmentCta2Id,g.attachmentCta3Id].filter(Boolean);g=g.map(function(b){return a.attachment_ctas.delete(b)});return Promise.all(g).then(function(){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(f,b.msgId,e)).then(async function(b){if(b!=null){b=babelHelpers.extends({},b,{attachmentCta1Id:void 0,attachmentCta2Id:void 0,attachmentCta3Id:void 0,cta1Title:void 0,cta1Type:void 0,cta2Title:void 0,cta2Type:void 0,cta3Title:void 0,cta3Type:void 0,defaultCtaId:void 0,defaultCtaTitle:void 0,maxSubtitleNumOfLines:void 0,maxTitleNumOfLines:void 0,previewHeight:void 0,previewHeightLarge:void 0,previewWidth:void 0,previewWidthLarge:void 0,subtitleText:void 0,titleText:void 0});await a.attachments.put(b)}c("FBLogger")("messenger_web_sharing").blameToPreviousFrame().mustfix("Trying to tombstone a secure xma attachment but no existing attachment");return Promise.resolve()})})})})}g.call=a}),98);
__d("MAWBridgeStoryReplyStartCountdownHandler",["I64","MAWBridgeXMAShareTombstonedHandler","MAWDbXMA","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b.msgs.reduce(function(b,c){return b.then(function(){d("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:c,expirationEvent:d("MAWMessageExpirationStorage").expirationStoryReplyEvent});(h||(h=d("I64"))).of_int32(c.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,b){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,c.msgId)).then(async function(b){await Promise.all(b.map(function(b){b=d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(b.attachmentFbid,10));b={msgId:c.msgId,threadJid:c.threadJid,xmaId:b};return d("MAWBridgeXMAShareTombstonedHandler").call(a,b)}))})})})},Promise.resolve())}g.call=a}),98);
__d("MAWBridgeSyncContacts",["CurrentMessengerUser","I64","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","Promise","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("CurrentMessengerUser").getID();function a(a,e){return e.reduce(function(b,e){var f=(i||(i=d("I64"))).of_string(e);return b.then(function(){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:f,isBlocked:!1,isMemorialized:!1,isSelf:k===e,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}).then(c("emptyFunction"))},(h||(h=b("Promise"))).resolve())}g.call=a}),98);
__d("MAWBridgeThreadHiddenV2Handler",["LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeThreadHiddenV2Handler",function(a,b){a=c("LSFactory")(a);return c("LSOptimisticRemoveThreadStoredProcedure")(a,{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:b})})}g.call=a}),98);
__d("MAWBridgeThreadUpdatedHandler",["MAWBridgeBuildThreadSnippet","MAWBridgeUIEventDataValidation","MAWFolderUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","getMAWLastMessageCtaType"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=b.folder!=null?d("MAWFolderUtils").getMessagingFolderTag(b.folder):a.folderName;return(b=b.cannotReplyReason)!=null?b:c==="inbox"?void 0:a.cannotReplyReason}async function i(a,b,e){e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.threads).getKeyRange(e));if(e==null)return;var f=d("MAWBridgeBuildThreadSnippet").buildBridgeThreadSnippet(b,e.snippet),g=h(e,b),i=c("getMAWLastMessageCtaType")(b.snippetType);g=babelHelpers.extends({},e,{cannotReplyReason:g,folderName:e.folderName,lastMessageCtaType:i,parentThreadKey:e.parentThreadKey,snippet:f,snippetSenderContactId:b.snippetSenderContactId==null?e.snippetSenderContactId:d("MAWBridgeUIEventDataValidation").stringToI64Opt(b.snippetSenderContactId)});await a.threads.put(g)}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeThreadUpdatedHandler",function(a,c){return i(a,b,c)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("MAWBridgeUIEventQueueQPLLogger",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("QPLUserFlow").start(c("qpl")._(1056849266,"1765"),{annotations:{string_array:{events:b}},instanceKey:a})}function b(a,b){c("QPLUserFlow").addAnnotations(c("qpl")._(1056849266,"1765"),b,{instanceKey:a})}function d(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849266,"1765"),{instanceKey:a})}function e(a,b){c("QPLUserFlow").endFailure(c("qpl")._(1056849266,"1765"),"MAWBridgeUIEventHandlerFailure",{annotations:{string:{failedEventTag:b}},instanceKey:a})}g.start=a;g.addAnnotations=b;g.endSuccess=d;g.endFailure=e}),98);
__d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c){return(g||(g=b("Promise"))).resolve()}f.call=a}),66);
__d("MAWBridgeUpdateContactAsConnectedHandler",["FBLogger","I64","LSAddMessengerContactStoredProcedure","LSContactViewerRelationship","LSFactory","LSIntEnum","LSOptimisticAcceptMessageRequestStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWUpdateLSThreadCapabilities","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){var e=b.contactUserId;b=b.threadJid;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.contacts).getKeyRange((h||(h=d("I64"))).of_string(e)));if(f==null){c("FBLogger")("messenger_web").warn("Missing contact in MAWBridgeUpdateContactAsConnectedHandler");return}var g=babelHelpers.extends({},f,{contactViewerRelationship:(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)});return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b,"MAWBridgeUpdateContactAsConnectedHandler",async function(a,b){await Promise.allSettled([a.contacts.upsert([f.id],g),c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(a),{contactId:f.id}),d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,b),c("LSOptimisticAcceptMessageRequestStoredProcedure")(c("LSFactory")(a),{threadKey:b})])})}g.call=a}),98);
__d("MAWBridgeUpdateE2EEMetadataParticipantsHandler",["LSFactory","LSUpdateE2EEMetadataParticipantsStoredProcedure","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeThreadsLoadedHandler",function(a,b){return c("LSUpdateE2EEMetadataParticipantsStoredProcedure")(c("LSFactory")(a),{threadKey:b})})}g.call=a}),98);
__d("MAWBridgeUpdateThreadActivityHandler",["I64","LSBumpE2EEMetadataThreadStoredProcedure","LSFactory","MAWChatJid","MAWJids","MAWMiActGetThreadLifecycleState__DO_NOT_USE","MWFBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MWFBLogger").MWLogger().tags(["bridgeUIEvent","Occam","ActivityUpdate"]);async function a(a,b){var c=await d("MAWChatJid").toThreadMaybe(a,b.chatJid);if(c==null){await n(a,b.chatJid);return}switch(b.source){case"outgoing_msg":case"incoming_msg":return j(a,c,b);case"deleted_msg":return k(a,c,b);case"inserted_admin_msg":return m(c,b,"No bump for admin message");case"eb_restore":return i.warn("Attempted bump from EB restore");default:b.source;throw i.mustfixThrow("Unknown source")}}async function j(a,b,d){if(l(b,d)){m(b,d,"Stale incoming bump");return}await c("LSBumpE2EEMetadataThreadStoredProcedure")(c("LSFactory")(a),{bumpedByLocalDeviceSend:d.source==="outgoing_msg",isUnbump:!1,serverAuthoritativeTimestampMs:d.bumpTimestampMs,threadKey:b.threadKey});m(b,d,"Thread bumped")}async function k(a,b,c){await a.threads.put(babelHelpers.extends({},b,{lastActivityTimestampMs:(h||(h=d("I64"))).min(b.lastActivityTimestampMs,c.bumpTimestampMs),lastReadWatermarkTimestampMs:h.min(b.lastReadWatermarkTimestampMs,c.bumpTimestampMs)})),m(b,c,"Thread unbumped")}function l(a,b){return b.source==="incoming_msg"&&(h||(h=d("I64"))).le(b.bumpTimestampMs,a.lastActivityTimestampMs)}function m(a,b,c){b=[(h||(h=d("I64"))).to_string(a.threadKey),b.source,h.to_string(b.bumpTimestampMs),h.to_string(a.lastActivityTimestampMs),h.to_string(a.lastReadWatermarkTimestampMs)];i.debug.apply(i,[c+". threadKey: %s, source: %s, bumpTimestampMs: %s, originalLastActivityTimestampMs: %s, originalLastReadWatermarkTimestampMs: %s"].concat(b))}async function n(a,b){a=await d("MAWMiActGetThreadLifecycleState__DO_NOT_USE").getThreadLifecycleStateByJid(a,d("MAWJids").convertChatJidToIntJid(b),"MAWBridgeUpdateThreadActivityHandler");i.mustfix("Missing LSDBThread when updating thread activity. jid: %s, thread state: %s",b,a.type)}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&(j||(j=d("I64"))).equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var i=[];return g.reduce(function(b,g){return b.then(function(){i.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,errorMessage:b,syncChannel:(j||(j=d("I64"))).neg_one});else return c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:f,dataTraceId:g.traceId,syncChannel:(j||(j=d("I64"))).neg_one})})},(h||(h=b("Promise"))).resolve()).then(function(){return i})})}function l(a,d){return d.reduce(function(b,d){return b.then(function(){return c("updateAndFlushLSDataTrace")(a,d)})},(h||(h=b("Promise"))).resolve())}function a(a,e){var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return k(a,e,d("ArmadilloDataTraceCheckPoint").deliveryReceiptReceived).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return k(a,e,d("ArmadilloDataTraceCheckPoint").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return l(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return k(a,e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return l(a,b)});else return(h||(h=b("Promise"))).resolve()}g.call=a}),98);
__d("MAWBridgeUploadAttachmentHandler",["I64","LSFactory","LSIssueAttachmentBackupTaskStoredProcedure","LSRequestId","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","Promise","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e){var f;if(c("isInstamadilloEB")())return(i||(i=b("Promise"))).resolve();var g=(f=e.traceId)!=null?f:c("LSRequestId").generate();f=e.mediaType;return f==="document"?(i||(i=b("Promise"))).resolve():d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,e.threadJid,"MAWBridgeUploadAttachmentHandler",function(a,f){var j=(h||(h=d("I64"))).to_string(f),k=d("MAWTimeUtils").isTimestampNewerThanXDays(e.ts,30);return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){var h=e.productType;if(f!=null&&k)if(g!=null){d("MAWEBFrontendQPLLogger").startFlowUploadAttachmentBackup({deliveryObjectId:e.deliveryObjectId,flow:"old",mediaType:e.mediaType,messageId:e.messageId,threadId:e.threadId,traceId:g});return c("LSIssueAttachmentBackupTaskStoredProcedure")(c("LSFactory")(a),{deliveryObjectId:e.deliveryObjectId,mediaType:e.mediaType,messageId:e.messageId,productType:h,serverThreadKey:j,threadId:e.threadId,traceId:g})}else return c("LSIssueAttachmentBackupTaskStoredProcedure")(c("LSFactory")(a),{deliveryObjectId:e.deliveryObjectId,mediaType:e.mediaType,messageId:e.messageId,productType:h,serverThreadKey:j,threadId:e.threadId});else{d("MAWEBFrontendQPLLogger").endFlowUploadAttachmentBackup(g,!1,"old");return(i||(i=b("Promise"))).resolve()}})})}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","MAWEBFrontendQPLLogger","QPLUserFlow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a.forEach(function(a){a.uploadTrackingInstanceKey!=null&&d("MAWEBFrontendQPLLogger").addPointEBUploadTracking(a.uploadTrackingInstanceKey,b)})}async function a(a,b){h(b.messages,"upload_tracking_bridge_batch_handler");b.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});b.checkPoint.forEach(function(b){return c("promiseDone")(d("MAWBridgeTraceRecordCheckpointHandler").call(a,b))});for(b of b.messages)await d("MAWBridgeUploadMessageHandler").call(a,b);return Promise.resolve()}g.call=a}),98);
__d("MAWBridgeXMAShareExpiredHandler",["MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","Promise"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,c,d){var e=String(d.xmaId);return a.attachments.get(c,d.msgId,e).then(function(f){if(f==null)return(h||(h=b("Promise"))).resolve();f=[f.defaultCtaId,f.attachmentCta1Id,f.attachmentCta2Id,f.attachmentCta3Id].filter(Boolean);f=f.map(function(b){return a.attachment_ctas["delete"](b)});return(h||(h=b("Promise"))).all(f).then(function(){return a.attachments["delete"](c,d.msgId,e)})})}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeXMAShareExpiredHandler",function(a,c){return i(a,c,b)})}g.callWithoutWaitingForAnything=i;g.call=a}),98);
__d("isInstamadilloDYI",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("665")===!0}g["default"]=a}),98);
__d("MAWBridgeUIEventHandler",["EBLogger","MAWAbPropsClient","MAWBridgeAddMessageSearchResultHandler","MAWBridgeCallRestoreNativeOpHandler","MAWBridgeDeleteGroupInviteHandler","MAWBridgeDeleteMessagesHandler","MAWBridgeDeleteMessagesOfThreadHandler","MAWBridgeDeleteReactionHandler","MAWBridgeDropAllSecureThreadsHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeEphemeralSettingsUpdatedForUIHandler","MAWBridgeFulfillRestorePromisePayloadHandler","MAWBridgeGroupInfoUpdatedHandler","MAWBridgeGroupInviteLoadedHandler","MAWBridgeGroupInviteUpdateHandler","MAWBridgeHandleCOPDigest","MAWBridgeMediaExpiredHandler","MAWBridgeMsgUpdatedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMediaRangeHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeNoteReplyStartCountdownHandler","MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2","MAWBridgeOccamadilloVerifyThreadExistsHandler","MAWBridgeOneToOneMessageRequestLoadedHandler","MAWBridgeParticipantRemovedHandler","MAWBridgeParticipantsUpdatedHandler","MAWBridgeRavenActionMsgForUIHandler","MAWBridgeReactionUpsertHandler","MAWBridgeReceivedChatStateHandler","MAWBridgeReceivedReceiptHandler","MAWBridgeRefreshContactHandler","MAWBridgeRemoveMessageSearchResultHandler","MAWBridgeResignAttachmentCDNUrlHandler","MAWBridgeStartTraceHandler","MAWBridgeStoryReplyStartCountdownHandler","MAWBridgeSyncContacts","MAWBridgeThreadHiddenV2Handler","MAWBridgeThreadUpdatedHandler","MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUIEventQueueQPLLogger","MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler","MAWBridgeUpdateClientRestoreStatus","MAWBridgeUpdateContactAsConnectedHandler","MAWBridgeUpdateE2EEMetadataParticipantsHandler","MAWBridgeUpdateThreadActivityHandler","MAWBridgeUpdateTraceHandler","MAWBridgeUploadAttachmentHandler","MAWBridgeUploadMessageByBatchHandler","MAWBridgeUploadMessageHandler","MAWBridgeXMAShareExpiredHandler","MAWBridgeXMAShareTombstonedHandler","MAWLoggerUtils","MAWMessageExpirationStorage","MWFBLogger","WAResultOrError","WATimeUtils","emptyFunction","getErrorSafe","isArmadillo","isInstamadilloDYI","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("MWFBLogger").MWLogger().tags(["MAWBridgeUIEvent"]);function l(a,b,c){switch(c.tag){case"NewMsg":return d("MAWBridgeNewMsgHandler").call(b,c.value);case"MsgsStartCountdown":return d("MAWBridgeMsgsStartCountdownHandler").call(b,c.value);case"StoryReplyStartCountdown":return d("MAWBridgeStoryReplyStartCountdownHandler").call(b,c.value);case"NoteReplyStartCountdown":return d("MAWBridgeNoteReplyStartCountdownHandler").call(b,c.value);case"MsgClearCountdown":return Promise.resolve(d("MAWMessageExpirationStorage").clearMessageFromExpiration(c.value));case"DropAllSecureThreads":return d("MAWBridgeDropAllSecureThreadsHandler").call(b);case"VerifyThreadExists":var e=c.value;return d("MAWBridgeOccamadilloVerifyThreadExistsHandler").call(b,e);case"CreateE2EEMetadataThreadV2":return d("MAWBridgeOccamadilloCreateE2EEMetadataThreadHandlerV2").call(b,c.value);case"EditMsgHistoryAdded":return d("MAWBridgeEditMsgHistoryAddedHandler").call(a,b,c.value);case"MsgUpdated":return d("MAWBridgeMsgUpdatedHandler").call(b,c.value);case"NewMedia":return d("MAWBridgeNewMediaHandler").call(b,c.value);case"NewMediaRange":return d("MAWBridgeNewMediaRangeHandler").call(b,c.value);case"MediaExpired":return d("MAWBridgeMediaExpiredHandler").call(b,c.value);case"XMAShareExpired":return d("MAWBridgeXMAShareExpiredHandler").call(b,c.value);case"NewXMA":return d("MAWBridgeNewXMAHandler").call(b,c.value);case"XMAShareTombstoned":return d("MAWBridgeXMAShareTombstonedHandler").call(b,c.value);case"ParticipantRemoved":return d("MAWBridgeParticipantRemovedHandler").call(b,c.value);case"UpdateE2EEMetadataParticipants":return d("MAWBridgeUpdateE2EEMetadataParticipantsHandler").call(b,c.value);case"ReceivedReceipt":return d("MAWBridgeReceivedReceiptHandler").call(b,c.value);case"ThreadUpdated":return d("MAWBridgeThreadUpdatedHandler").call(b,c.value);case"GroupInfoUpdated":return d("MAWBridgeGroupInfoUpdatedHandler").call(b,c.value);case"UpdateThreadActivity":return d("MAWBridgeUpdateThreadActivityHandler").call(b,c.value);case"StartTrace":return d("MAWBridgeStartTraceHandler").call(b,c.value);case"UpdateTrace":return d("MAWBridgeUpdateTraceHandler").call(b,c.value);case"ThreadHiddenV2":return d("MAWBridgeThreadHiddenV2Handler").call(b,c.value);case"SyncContacts":return d("MAWBridgeSyncContacts").call(b,c.value);case"ReceivedChatState":return d("MAWBridgeReceivedChatStateHandler").call(b,c.value);case"ClockSkewUpdated":return Promise.resolve(d("WATimeUtils").setClockSkew(c.value));case"ABPropsUpdated":k.warn("ABPropsUpdated has been deprecated. Please use the bridge with ABPropsUpdated");return Promise.resolve(d("MAWAbPropsClient").rewrite(c.value));case"COPDigestReceived":return d("MAWBridgeHandleCOPDigest").call(b,c.value);case"UpsertReaction":return d("MAWBridgeReactionUpsertHandler").call(b,c.value);case"DeleteReaction":return d("MAWBridgeDeleteReactionHandler").call(b,c.value);case"UploadMessage":return d("MAWBridgeUploadMessageHandler").call(b,c.value);case"UploadMessageByBatch":return d("MAWBridgeUploadMessageByBatchHandler").call(b,c.value);case"DeleteMessagesOfThread":return d("MAWBridgeDeleteMessagesOfThreadHandler").call(b,c.value);case"UploadAttachment":return d("MAWBridgeUploadAttachmentHandler").call(b,c.value);case"ResignAttachmentCDNUrl":return d("MAWBridgeResignAttachmentCDNUrlHandler").call(b,c.value);case"DeleteMessages":return d("MAWBridgeDeleteMessagesHandler").call(b,c.value);case"RestoreMessageBatch":d("EBLogger").EBLogger().tags(["labyrinth_dyi"]).WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"])));return Promise.resolve();case"OneToOneMessageRequestLoaded":return d("MAWBridgeOneToOneMessageRequestLoadedHandler").call(b,c.value);case"GroupInviteUpdate":return d("MAWBridgeGroupInviteUpdateHandler").call(b,c.value);case"UpdateDyiStatus":d("EBLogger").EBLogger().tags(["labyrinth_dyi"]).WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Attempted to call the old DYI V1 flow"])));return Promise.resolve();case"DeleteGroupInvite":return d("MAWBridgeDeleteGroupInviteHandler").call(b,c.value);case"TraceRecordCheckpoint":return d("MAWBridgeTraceRecordCheckpointHandler").call(b,c.value);case"ParticipantsUpdated":return d("MAWBridgeParticipantsUpdatedHandler").call(b,c.value);case"StartTraceWithTraceId":return Promise.resolve();case"UpdateClientRestoreStatus":return d("MAWBridgeUpdateClientRestoreStatus").call(b,c.value);case"NewMsgs":return d("MAWBridgeNewMsgHandler").bulkCall(b,c.value.msgs);case"UnArchivedSelfDeviceChangeAlerts":return d("MAWBridgeUnArchivedSelfDeviceChangeAlertsHandler").call(b,c.value);case"EphemeralSettingsUpdatedForUI":return d("MAWBridgeEphemeralSettingsUpdatedForUIHandler").call(b,c.value);case"RavenActionUpdate":return d("MAWBridgeRavenActionMsgForUIHandler").call(b,c.value);case"GroupInviteLoaded":return d("MAWBridgeGroupInviteLoadedHandler").call(b,c.value);case"RemoveMessageSearchResult":return d("MAWBridgeRemoveMessageSearchResultHandler").call(b,c.value);case"AddMessageSearchResult":return d("MAWBridgeAddMessageSearchResultHandler").call(a,b,c.value);case"FulfillRestorePromise":return d("MAWBridgeFulfillRestorePromisePayloadHandler").call(c.value);case"UpdateContactAsConnected":return d("MAWBridgeUpdateContactAsConnectedHandler").call(b,c.value);case"RefreshContact":return d("MAWBridgeRefreshContactHandler").call(b,c.value);case"NewReceiverFetchInfo":return d("MAWBridgeNewReceiverFetchInfoHandler").call(b,c.value);case"RestoreNativeOp":return d("MAWBridgeCallRestoreNativeOpHandler").call(b,c.value);case"NewPoll":return d("MAWBridgeNewPollHandler").call(b,c.value);default:return Promise.resolve()}}function a(a,b){if(!c("isArmadillo")()&&!c("isInstamadilloDYI")()){k.mustfix("User is neither part of armadillo QE and dual send QE but somehow loaded this handler");return}if(!(b.length===1&&b[0].tag==="TraceRecordCheckpoint")){var d={};d=b.reduce(function(a,b){a[b.tag]=((b=a[b.tag])!=null?b:0)+1;return a},d);k.DEBUG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Handle UI Events: ",""])),JSON.stringify(d))}c("promiseDone")(m(a,b),c("emptyFunction"),function(a){k.catching(a).mustfix("[MAWBridgeUIEventHandler] Failed to handle UI events: %s",b.map(function(a){return a.tag}).join(", "))})}async function m(a,b){var e=await a;a=d("MAWLoggerUtils").getInstanceKey();var g=b.map(function(a){return a.tag}),h="";d("MAWBridgeUIEventQueueQPLLogger").start(a,g);d("MAWBridgeUIEventQueueQPLLogger").addAnnotations(a,{int:{queue_size:b.length}});var i;try{i=await e.runInTransaction(async function(a){for(var f=0;f<b.length;f++){var g=b[f];try{await l(e,a,g)}catch(a){h=g.tag;return d("WAResultOrError").makeError(c("getErrorSafe")(a))}}return d("WAResultOrError").makeResult(!0)},"readwrite","background",{events:b,type:"maw_ui_bridge"},f.id+":290")}catch(a){i=d("WAResultOrError").makeError(c("getErrorSafe")(a))}!i.success?(d("MAWBridgeUIEventQueueQPLLogger").endFailure(a,h),k.catching(i.error).mustfix("MAWBridgeUIEventHandler] Did not commit UI events to DB, failed at %s, all events: %s",h,g.toString())):d("MAWBridgeUIEventQueueQPLLogger").endSuccess(a)}async function b(a,b,d){try{await l(a,b,d)}catch(b){a=c("getErrorSafe")(b);k.catching(a).mustfix("[handleShimEvent] Failed to handle UI event: %s",d.tag);throw b}}g.handleEvents=a;g.handleShimEvent=b}),98);
__d("MAWBridgeUpdateDYIStatusV2",["EBLogger","EncryptedBackupdDYIFileSaver","EncryptedBackupsDYIFileUtils","EncryptedBackupsDYITypes","QPLUserFlow","getErrorSafe","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,e){d("EncryptedBackupdDYIFileSaver").saveFile(a,b),window.setTimeout(function(){c("promiseDone")(e())},1e3)}async function a(a){var b=a.qplEvent,e=a.qplInstanceKeyE2E;a=a.status;var f=d("EBLogger").EBLogger().tags(["dyi"]);if(a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Completed)try{if(navigator.storage==null)throw f.mustfixThrow("Storage management API is not supported. Please try one of the supported browsers.");var g=d("EncryptedBackupsDYIFileUtils").DyiArchiveFilename,i=await d("EncryptedBackupsDYIFileUtils").getRootFolderHandle(),j=await d("EncryptedBackupsDYIFileUtils").readFile(i,g);await h(g,j,async function(){await i.removeEntry(g)});f.info("Saving file with filename ",g);b!=null&&e!=null&&c("QPLUserFlow").endSuccess(b,{instanceKey:e});f.info("DYI Complete")}catch(a){f.catching(c("getErrorSafe")(a)).mustfix("Failed to download the DYI archive");b!=null&&e!=null&&c("QPLUserFlow").endFailure(b,c("getErrorSafe")(a).message,{instanceKey:e});return d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed}a===d("EncryptedBackupsDYITypes").EncryptedBackupsDYIState.Failed&&(b!=null&&e!=null&&c("QPLUserFlow").endFailure(b,"Unknown error",{instanceKey:e}));return a}g.call=a}),98);
__d("MWChatEncryptedBackupsAddDeviceWithEBKeys",["EBMainThreadEBDBApiDeferred","EBSMAPI","EBWorkerODSEntityName.enum","MAWBridgeFireAndForget"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.backupId,e=a.db,f=a.newDeviceRegistrationId,g=a.previousDeviceId;return c("EBSMAPI").addDeviceWithEBKeys({backupId:b,db:e,newDeviceRegistrationId:f,previousDeviceId:g,source:c("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_MAIN_THREAD,trackAddingDevice:function(a){void d("EBMainThreadEBDBApiDeferred").addNewDevice(a)}}).then(function(){return d("MAWBridgeFireAndForget").fireAndForget("backend","addDeviceWithKeysInWorker",{backupId:b,deviceRegistrationId:f,isAutoRestore:!0,previousDeviceId:g,source:c("EBWorkerODSEntityName.enum").MW_EB_AUTO_RESTORE_WORKER})})}g.addDeviceWithEBKeys=a}),98);
__d("MWChatEncryptedBackupsHandleRestoreWrapper.react",["cr:27510","cr:6736","cr:8598","cr:8601"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:8598")==null||b("cr:8598")();b("cr:27510")==null||b("cr:27510")();b("cr:8601")==null||b("cr:8601")();b("cr:6736")==null||b("cr:6736")();return null}g["default"]=a}),98);
__d("useMWV2ChatCloseTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MessengerWebEventsFalcoEvent","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=d("MWChatStateContext").useChatState(j),f=d("MWChatStateV2.react").useDispatch(),g;a[0]!==f||a[1]!==b||a[2]!==e?(g=function(){b(Date.now(),"","messenger");c("MessengerWebEventsFalcoEvent").log(i);var a=Date.now();return f(Array.from(e.values()).flatMap(function(b){return d("MWChatStateActions").closeTab(a,b.tabId)}))},a[0]=f,a[1]=b,a[2]=e,a[3]=g):g=a[3];return g}function i(){return{event_name:"close_all_chat_tabs"}}function j(a){return a.tabs}g["default"]=a}),98);
__d("useMWV2ChatMinimizeTabs",["MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatStateV2IsOpen","MessengerWebEventsFalcoEvent","react","react-compiler-runtime","useCometFeedNoRoutingNavigationEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=d("MWChatStateContext").useChatState(k),f=d("MWChatStateV2.react").useDispatch(),g;a[0]!==f||a[1]!==b||a[2]!==e?(g=function(){b(Date.now(),"","messenger");c("MessengerWebEventsFalcoEvent").log(j);var a=Date.now();return f(Array.from(e.values()).filter(i).flatMap(function(b){return d("MWChatStateActions").minimizeTab(a,b.tabId)}))},a[0]=f,a[1]=b,a[2]=e,a[3]=g):g=a[3];return g}function i(a){return d("MWChatStateV2IsOpen").isOpen(void 0,a)}function j(){return{event_name:"minimize_all_chat_tabs"}}function k(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatOptionsHeadPopover.react",["fbt","FDSCrossCircleOutline20Icon","FDSMinusCircleOutline20Icon","MWXMenu.react","MWXMenuItem.react","react","react-compiler-runtime","useMWV2ChatCloseTabs","useMWV2ChatMinimizeTabs"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12);a=a.hasOpenTabs;var e=c("useMWV2ChatCloseTabs")(),f=c("useMWV2ChatMinimizeTabs")(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Chat options menu"),b[0]=g):g=b[0];var i;b[1]!==e?(i=function(a){return e()},b[1]=e,b[2]=i):i=b[2];var k;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Close all chats"),b[3]=k):k=b[3];b[4]!==i?(k=j.jsx(c("MWXMenuItem.react"),{icon:c("FDSCrossCircleOutline20Icon"),onClick:i,primaryText:k,testid:void 0}),b[4]=i,b[5]=k):k=b[5];b[6]!==a||b[7]!==f?(i=a?j.jsx(c("MWXMenuItem.react"),{icon:c("FDSMinusCircleOutline20Icon"),onClick:function(a){return f()},primaryText:h._(/*BTDS*/"Minimise open chats"),testid:void 0}):null,b[6]=a,b[7]=f,b[8]=i):i=b[8];b[9]!==k||b[10]!==i?(a=j.jsxs(c("MWXMenu.react"),{"aria-label":g,withArrow:!0,children:[k,i]}),b[9]=k,b[10]=i,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("MWV2ChatTabRootLoader.react",["FBLogger","MWV2ChatTabRoot.entrypoint","RelayHooks","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isMinimized,f=a.tab;a=a.threadKeyDescriptor;e=e===void 0?!1:e;var g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),h=f.tabRootEntryPointRef;if(h==null){c("FBLogger")("messenger_web").warn("Missing chat tab entrypoint ref. Loading dynamically.");var j;b[0]!==g?(j=d("RelayHooks").loadEntryPoint(g,c("MWV2ChatTabRoot.entrypoint"),{}),b[0]=g,b[1]=j):j=b[1];h=j}b[2]!==e||b[3]!==f||b[4]!==a?(g={isMinimized:e,tab:f,threadKeyDescriptor:a},b[2]=e,b[3]=f,b[4]=a,b[5]=g):g=b[5];b[6]!==g||b[7]!==h?(j=i.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:h,props:g}),b[6]=g,b[7]=h,b[8]=j):j=b[8];return j}g["default"]=a}),98);
__d("WebStorageManagerEstimatesFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2144");b=d("FalcoLoggerInternal").create("web_storage_manager_estimates",a);e=b;g["default"]=e}),98);
__d("mwEBSetBackupState",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.setBackupState;a=a.state;switch(a){case 1:break;case 2:b(2);break;case 3:b(3);break;case 4:b(4);break;case-1:b(-1);break;case 0:break}}f["default"]=a}),66);
__d("mwEBUpdateBackupsTable",["LSFactory","LSUpdateBackupsTableStoredProcedure","LSVec"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.backupIds,d=a.deviceIds,e=a.encryptionManagementDelegatorId,g=a.hasOtcEligibleDevices,h=a.isSuccess,i=a.isUserOptedOut,j=a.storage,k=a.virtualDevices;return j.runInTransaction(function(a){return c("LSUpdateBackupsTableStoredProcedure")(c("LSFactory")(a),{backupIds:b,backupMetadata:c("LSVec").ofArray([]),deviceIds:d,encryptionManagementDelegatorId:e,hasOtcEligibleDevices:g,isSuccess:h,isUserOptedOut:i,virtualDevices:k})},"readwrite",void 0,void 0,f.id+":48")}g["default"]=a}),98);
__d("mwProcessBackupIds",["I64","LSAuthorityLevel","LSIntEnum","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","QPLEvent","QPLUserFlow","WebSession"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k="-1";function l(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,"EB_STATE_"+a+"."),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent})}function m(a){var b=a.clientStateData;a=a.encryptedBackupData;a=a==null?void 0:a.backupId;if(a==null){l("NO_BACKUPS_PRESENT");return 2}if((h||(h=d("I64"))).to_string(a)===k){d("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR",event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return-1}if(b==null||!(h||(h=d("I64"))).equal(b.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){l("DEVICE_NOT_ONBOARDED");return 4}if(!(h||(h=d("I64"))).equal(b.backupId,a)){l("DEVICE_NOT_ONBOARDED_BACKUP_ID_MISMATCH");return 4}l("DEVICE_ONBOARDED");return 3}function a(a){var b=a.clientStateData;a=a.encryptedBackupData;if(a==null)return 0;var e=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((j||(j=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:e,processBackupIdsVersion:"JS",sessionTabId:d("WebSession").getId()}}});if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))){l("FETCH_IN_PROGRESS");return 1}else if((h||(h=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return m({clientStateData:b,encryptedBackupData:a});else{d("MWChatEncryptedBackupsLogging").endFailure({errorName:"FETCH_ERROR_WRONG_AUTHORITY_LEVEL",event:d("MWChatEncryptedBackupsQPLEvents").processBackupIdsQPLEvent});return-1}}g["default"]=a}),98);
__d("useMWChatDisplayEncryptedBackupsRestoreToast",["I64","LSEncryptedBackupsClientRestoreState","LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMAWEncryptedBackupsRestoreToast","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useState;function a(){var a=d("react-compiler-runtime").c(10),b=(h||(h=c("useReStore")))(),e;a[0]!==b.tables.encrypted_backups_client_restore_status?(e=function(){return d("ReQL").fromTableAscending(b.tables.encrypted_backups_client_restore_status)},a[0]=b.tables.encrypted_backups_client_restore_status,a[1]=e):e=a[1];var g;a[2]!==b?(g=[b],a[2]=b,a[3]=g):g=a[3];var i=d("ReQLSuspense").useArray(e,g,f.id+":27");e=c("useMAWEncryptedBackupsRestoreToast")();var j=e.showInProgressToast,k=e.showSuccessToast;g=m(!1);var o=g[0],p=g[1];a[4]!==o||a[5]!==i||a[6]!==j||a[7]!==k?(e=function(){var a=i.some(n);o&&!a?(p(!1),k()):!o&&a&&(p(!0),j())},g=[o,i,j,k],a[4]=o,a[5]=i,a[6]=j,a[7]=k,a[8]=e,a[9]=g):(e=a[8],g=a[9]);l(e,g)}function n(a){a=a.restoreStatus;return a!=null&&(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSEncryptedBackupsClientRestoreState").RESTORE_IN_PROGRESS))}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestoreEffect",["EBSMGatingUI","MWChatEncryptedBackupsAddDeviceWithEBKeys","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBODSEntityName.enum","MWEBUseLocalStorage","MWEncryptedBackupsDeviceRegistrationId","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsInitializeRestoreDeferred","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","ReQL","ReQLSuspense","WALogger","promiseDone","qex","react","react-compiler-runtime","useLabyrinthLogging","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useEffect,m=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.backupState,g=a.clientData,i=a.epochData,k=a.isSubscribedToData,o=a.setIsSubscribedToData,p=c("MWChatEncryptedBackupsQPLSource.enum").AUTO_RESTORE;a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var q=a.startFlow,r=m(!1),s=(j||(j=c("useReStore")))(),t;b[0]!==k||b[1]!==s?(a=function(){return k?d("ReQL").fromTableAscending(s.tables.experiences_shared_state):d("ReQL").empty()},t=[k,s],b[0]=k,b[1]=s,b[2]=a,b[3]=t):(a=b[2],t=b[3]);var u=d("ReQLSuspense").useArray(a,t,f.id+":68");b[4]!==e||b[5]!==g||b[6]!==i||b[7]!==o||b[8]!==u||b[9]!==q||b[10]!==s?(a=function(){if(r.current||e===1||e===0)return;if(e===3){var a=g==null?void 0:g.deviceId,b=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:s,sharedStateTable:u,stateKey:"auto_restored"}),f=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:s,sharedStateTable:u,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}),j=d("MWEncryptedBackupsSharedState").getIsEntryPresentInSharedState({db:s,sharedStateTable:u,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_ONBOARDED_SUCCESSFULLY});b=b||f||j;f=d("MWEncryptedBackupsDeviceRegistrationId").getDeviceRegistrationId();if(!b&&f!==""&&g!=null&&i!=null&&a!=null){d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);q({additionalAnnotations:{device_type:"auto_restore"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH,source:p});j=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();q({additionalAnnotations:{eb_session_identifier:j,restore_upsell_first_impression_time:j},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:p});if(c("qex")._("2481"))d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:s,onFailure:n,onSuccess:function(){c("promiseDone")(d("MWEncryptedBackupsSharedState").upsertEBSharedStateEntry({db:s,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY})),d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM(),without_add_device:!0},string:{restore_type:"auto_restore"}},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[wmi][eb] initialize auto-restore success"])))}});else{b={backupId:g.backupId,db:s,newDeviceRegistrationId:f,previousDeviceId:a};d("MWChatEncryptedBackupsAddDeviceWithEBKeys").addDeviceWithEBKeys(b)}}}r.current=!0;o(!1)},t=[e,g,i,u,p,q,s,o],b[4]=e,b[5]=g,b[6]=i,b[7]=o,b[8]=u,b[9]=q,b[10]=s,b[11]=a,b[12]=t):(a=b[11],t=b[12]);l(a,t)}function n(){d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM(),without_add_device:!0}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent}),d("MWChatEncryptedBackupsLogging").endFailure({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},errorName:"FAILED_TO_RESTORE_ENCRYPTED_BACKUP",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_AUTO_RESTORE_AUTH}),d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[wmi][eb] initialize auto-restore failed"])))}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestore",["I64","LSAuthorityLevel","LSIntEnum","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWChatEncryptedBackupsAutoRestoreEffect","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useState;function a(){var a=d("react-compiler-runtime").c(14),b=l(!0),e=b[0];b=b[1];var g=(h||(h=c("useReStore")))(),i,j;a[0]!==e||a[1]!==g?(i=function(){return e?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_epochs):d("ReQL").empty()},j=[e,g],a[0]=e,a[1]=g,a[2]=i,a[3]=j):(i=a[2],j=a[3]);i=d("ReQLSuspense").useFirst(i,j,f.id+":27");var k;a[4]!==e||a[5]!==g?(j=function(){return e?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state).filter(m):d("ReQL").empty()},k=[e,g],a[4]=e,a[5]=g,a[6]=j,a[7]=k):(j=a[6],k=a[7]);j=d("ReQLSuspense").useFirst(j,k,f.id+":34");a[8]===Symbol["for"]("react.memo_cache_sentinel")?(k={entrypoint:c("MWEBEntrypointsKillswitch.enum").AUTO_RESTORE},a[8]=k):k=a[8];k=c("useMWEBBackupState")(k);a[9]!==k||a[10]!==j||a[11]!==i||a[12]!==e?(b={backupState:k,clientData:j,epochData:i,isSubscribedToData:e,setIsSubscribedToData:b},a[9]=k,a[10]=j,a[11]=i,a[12]=e,a[13]=b):b=a[13];c("useMWChatEncryptedBackupsAutoRestoreEffect")(b)}function m(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAutoRestorePicker",["cr:27509"],(function(a,b,c,d,e,f,g){"use strict";function a(){b("cr:27509")()}g["default"]=a}),98);
__d("useMWEBListenForChangesToBackupStateXDevice",["I64","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useEffect,l=b.useRef;function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.encrypted_backups_status_trigger?(g=function(){return d("ReQL").fromTableAscending(e.tables.encrypted_backups_status_trigger)},b[0]=e.tables.encrypted_backups_status_trigger,b[1]=g):g=b[1];var j;b[2]!==e?(j=[e],b[2]=e,b[3]=j):j=b[3];var m=d("ReQLSuspense").useFirst(g,j,f.id+":27"),n=l(null);b[4]!==m||b[5]!==a?(g=function(){m!=null&&n.current!==m.pk&&!(i||(i=d("I64"))).equal(m.pk,(i||(i=d("I64"))).of_float(0))&&(n.current=m.pk,a())},j=[m,a],b[4]=m,b[5]=a,b[6]=g,b[7]=j):(g=b[6],j=b[7]);k(g,j)}g["default"]=a}),98);
__d("useMWEBPropagateEbStateChangesThroughRelay",["CometRelay","EBLogger","ReQL","ReQLSuspense","promiseDone","react","requireDeferred","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");var l=b.useCallback,m=b.useEffect,n=b.useRef,o=c("requireDeferred")("mwEBSetBackupState").__setRef("useMWEBPropagateEbStateChangesThroughRelay"),p=c("requireDeferred")("mwProcessBackupIds").__setRef("useMWEBPropagateEbStateChangesThroughRelay");function a(a){var b=a.listenForChangesToBackupState,e=a.onStateChange,g=(j||(j=c("useReStore")))(),k=d("CometRelay").useRelayEnvironment(),q=d("ReQLSuspense").useFirst(function(){return b?d("ReQL").fromTableAscending(g.tables.encrypted_backups):d("ReQL").empty()},[g,b],f.id+":43"),r=d("ReQLSuspense").useFirst(function(){return b?d("ReQL").fromTableAscending(g.tables.secure_encrypted_backups_client_state):d("ReQL").empty()},[g,b],f.id+":50"),s=n(null),t=l(function(a){d("EBLogger").EBLogger().DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[useMWEBPropagateEbStateChangesThroughRelay] update: ",""])),a);var b=s.current;b!==null&&b!==a&&e&&(d("EBLogger").EBLogger().DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["mwEB Backup state changed from "," to "," - triggering onStateChange"])),b,a),e());s.current=a;d("CometRelay").commitLocalUpdate(k,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){d("EBLogger").EBLogger().mustfix("[backup_state] A viewer record does not exist when propagating EB state.");return}b.setValue(a,"backup_state")})},[k,e]);a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();a=a.shouldHideEBFlow;var u=c("useMAWHasUserVisibleErrors")(),v=a||u;m(function(){async function a(){var a=null;(q!=null||r!=null)&&(a=v?0:(await p.load())({clientStateData:r,encryptedBackupData:q}));a!=null&&(await o.load())({setBackupState:t,state:a})}c("promiseDone")(a())},[r,g,q,k,v,t])}g.default=a}),98);
__d("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23961239003493663"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql",["useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},a],storageKey:null}]},params:{id:b("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2ImplQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{refetch:{connection:null,fragmentPathInResult:[],operation:b("useMWEncryptedBackupsFetchBackupIdsV2ImplQuery.graphql")}},name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null}],storageKey:null}],type:"Query",abstractKey:null}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29473760965600491"}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql",["useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsFetchBackupIdsV2Impl_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEncryptedBackupsFetchBackupIdsV2Query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"backup_tenancy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_user_opted_out",storageKey:null},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},{alias:null,args:null,kind:"ScalarField",name:"encryption_management_delegator_id",storageKey:null},{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_created_on",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"migration_status",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesConnection",kind:"LinkedField",name:"devices",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupDevicesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBEBDevice",kind:"LinkedField",name:"node",plural:!1,selections:[a],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEBUserPreferences",kind:"LinkedField",name:"xfb_eb_user_preferences",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"onboarding_decision",storageKey:null},a],storageKey:null}]},params:{id:b("useMWEncryptedBackupsFetchBackupIdsV2Query_facebookRelayOperation"),metadata:{},name:"useMWEncryptedBackupsFetchBackupIdsV2Query",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEncryptedBackupsFetchBackupIdsV2",["Base64Utils","CometRelay","EBGating","EBSMAPI","FBLogger","I64","LSEncryptedBackupsBackupTenancy","LSEncryptedBackupsOnboardingDecision","LSEncryptedBackupsVirtualDeviceType","LSIntEnum","LSShape","LSVec","MAWWaitForBackendSetup","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsFirstRestoreUpsellTime","MWEncryptedBackupsListenForChangesToBackupStateInitPath","Promise","QPLEvent","QPLUserFlow","WebSession","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useMWEBListenForChangesToBackupStateXDevice","useMWEBPropagateEbStateChangesThroughRelay","useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql","useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;e=k||d("react");var o=e.useEffect,p=e.useRef,q=e.useState,r=c("requireDeferred")("mwEBUpdateBackupsTable").__setRef("useMWEncryptedBackupsFetchBackupIdsV2");function s(a){if(a!=null){a=a;a=c("LSEncryptedBackupsOnboardingDecision")[a];return a}return void 0}function t(a){if(a!=null){a=a;a=c("LSEncryptedBackupsBackupTenancy")[a];return(l||(l=d("LSIntEnum"))).ofNumber(a)}return void 0}function u(a){var e=a.data,f=a.dbPromise,g=a.isInitalLoad,h=a.setListenForChangesToBackupState,i=e.xfb_backup,k=i==null?void 0:i.id;if(i!=null&&k!=null){var m=!1;(i==null?void 0:i.has_otc_eligible_devices)!=null?m=i==null?void 0:i.has_otc_eligible_devices:c("FBLogger")("wmi_eb").mustfix("failed to retrieve has_otc_eligible_devices. defaulting to false");var o=c("LSVec").ofArray([d("LSShape").ofRecord({backup_id:(n||(n=d("I64"))).of_string(k),backup_tenancy:t(i.backup_tenancy)})]),p=[];i.virtual_devices.forEach(function(a){var b,e=a.client_generated_id;if(k==null||e==null||a.device_type==null){c("FBLogger")("wmi_eb").warn("Invalid virtual device fetched in fetchBackupsIdsV2.");return}var f="REQUIRES_MIGRATION";f=a.migration_status===f;var g=a.device_type;g=c("LSEncryptedBackupsVirtualDeviceType")[g];p.push(d("LSShape").ofRecord({backup_id:(n||(n=d("I64"))).of_string(k),virtual_device_ids:c("LSVec").ofArray([d("LSShape").ofRecord({virtual_device_id:d("Base64Utils").toArrayBuffer(e)})]),virtual_devices:c("LSVec").ofArray([d("LSShape").ofRecord({creation_time:(b=a.creation_time)!=null?b:void 0,device_created_on:(b=a.device_created_on)!=null?b:void 0,requires_hsm_migration:f,virtual_device_id:d("Base64Utils").toArrayBuffer(e),virtual_device_type:(l||(l=d("LSIntEnum"))).ofNumber(g)})])}))});var q=[];(a=i.devices)==null||a.edges.forEach(function(a){var b;if(((b=a.node)==null?void 0:b.id)==null)return;q.push(d("LSShape").ofRecord({device_id:(n||(n=d("I64"))).of_string((b=a.node)==null?void 0:b.id)}))});var u=i.encryption_management_delegator_id!=null?(n||(n=d("I64"))).of_string(i.encryption_management_delegator_id):void 0;c("promiseDone")((j||(j=b("Promise"))).all([r.load(),f]),function(a){var b=a[0],d=a[1];c("promiseDone")(b({backupIds:o,deviceIds:c("LSVec").ofArray(q),encryptionManagementDelegatorId:u,hasOtcEligibleDevices:m,isSuccess:!0,isUserOptedOut:(a=i.is_user_opted_out)!=null?a:void 0,storage:d,virtualDevices:c("LSVec").ofArray(p)}),function(){h(!0),g.current===!0&&(g.current=!1,c("MWEncryptedBackupsListenForChangesToBackupStateInitPath").preloadEBData(d))})})}else{var v=s((a=e.xfb_eb_user_preferences)==null?void 0:a.onboarding_decision)===c("LSEncryptedBackupsOnboardingDecision").STORE_ON_DEVICE_ONLY;c("promiseDone")((j||(j=b("Promise"))).all([r.load(),f]),function(a){var b=a[0];a=a[1];c("promiseDone")(b({backupIds:c("LSVec").ofArray([]),deviceIds:c("LSVec").ofArray([]),hasOtcEligibleDevices:!1,isSuccess:!0,isUserOptedOut:v,storage:a,virtualDevices:c("LSVec").ofArray([])}),function(){h(!0)})})}}function v(a){var e=d("react-compiler-runtime").c(10),f=c("useAsyncReStore")(),g=p(!0),i=p(!1),j=q(!1),k=j[0],l=j[1];j=d("CometRelay").useRefetchableFragment(h!==void 0?h:h=b("useMWEncryptedBackupsFetchBackupIdsV2Impl_query.graphql"),a);var n=j[0],r=j[1];e[0]!==n||e[1]!==r?(a=function(){var a=d("MWEncryptedBackupsFirstRestoreUpsellTime").getFirstRestoreUpsellTime();c("QPLUserFlow").getActiveFlowIDs().includes((m||(m=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent))||c("QPLUserFlow").start(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent,{annotations:{string:{ebSessionIdentifier:a,fetchBackupIdsVersion:"GQL",sessionTabId:d("WebSession").getId()}}});r({},{fetchPolicy:"network-only",onComplete:function(a){i.current=!1;if(c("QPLUserFlow").getActiveFlowIDs().includes((m||(m=d("QPLEvent"))).getMarkerId(d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent)))if(a!=null)d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{error:a.message,error_stack:a.stack}},errorName:"fetch_backup_ids_error",event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent});else{d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{isUserOptedOut:(a=n.xfb_backup)==null?void 0:a.is_user_opted_out},string:{backup_id:(a=(a=n.xfb_backup)==null?void 0:a.id)!=null?a:"null"}},event:d("MWChatEncryptedBackupsQPLEvents").fetchBackupIdsQPLEvent})}}})},e[0]=n,e[1]=r,e[2]=a):a=e[2];j=a;c("useMWEBListenForChangesToBackupStateXDevice")(j);e[3]!==k||e[4]!==j?(a={listenForChangesToBackupState:k,onStateChange:j},e[3]=k,e[4]=j,e[5]=a):a=e[5];c("useMWEBPropagateEbStateChangesThroughRelay")(a);e[6]!==n||e[7]!==f?(k=function(){if(i.current===!0)return;i.current=!0;d("MAWWaitForBackendSetup").isBackendSetupSuccessful()&&d("EBGating").isFetchBackupIdsFromWorker()?c("promiseDone")(c("EBSMAPI").fetchBackupIds("useMWEncryptedBackupsFetchBackupIdsV2").then(function(){l(!0),n.xfb_backup!=null&&n.xfb_backup.id!=null&&g.current===!0&&(g.current=!1)})):u({data:n,dbPromise:f,isInitalLoad:g,setListenForChangesToBackupState:l})},j=[n,f],e[6]=n,e[7]=f,e[8]=k,e[9]=j):(k=e[8],j=e[9]);o(k,j)}function a(){var a=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("useMWEncryptedBackupsFetchBackupIdsV2Query.graphql"),{},{fetchPolicy:"network-only"});v(a)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometVideoPictureInPictureManager.react",["CometSetWatchAndScrollVideoContext","CometVideoPictureInPictureManagerContext","CometWatchAndScrollVideoContext","XCometWatchControllerRouteBuilder","clearTimeout","gkx","react","requireDeferred","setTimeout","useCometRouterDispatcher","useMinifiedProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useMemo,n=b.useRef,o=b.useState,p=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("CometVideoPictureInPictureManager.react"),q=c("gkx")("22889"),r=50;e=["286211568997787","214604021960500","108677131037"];var s=window.document.pictureInPictureEnabled;function a(a){var b=a.children;a=a.isPipEnabled;var e=c("useCometRouterDispatcher")(),f=a;a=o(null);var g=a[0],h=a[1];a=o(!1);var t=a[0],u=a[1];a=o(!1);var v=a[0],w=a[1],x=n(!1);a=j(function(a){x.current=a},[]);var y=m(function(){return{hasNextChainedVideo:v,isPipEnabled:f,setHasNextChainedVideo:w,setSkippedFromPipPlayer:u,skippedFromPipPlayer:t}},[t,u,v,w,f]),z=o(null),A=z[0],B=z[1],C=k(c("CometWatchAndScrollVideoContext")),D=k(c("CometSetWatchAndScrollVideoContext")),E=n(null),F=n(null),G=c("useMinifiedProductAttribution")(),H=j(function(a){a===void 0&&(a=null),p.onReady(function(b){b.log({attribution_id_v2:G,click_point:a,event:"click"})})},[]),I=j(function(){var a=C==null?void 0:C.videoID,b=C==null?void 0:C.videoUrl;if(a!=null&&b!=null){var d=C==null?void 0:C.routeTracePolicy,f=C==null?void 0:C.subOrigin;b=q?b:c("XCometWatchControllerRouteBuilder").buildURL({v:a});e&&(e.go(b,{passthroughProps:{portableVideoID:A,portalingRouteTracePolicy:d,portalingSubOrigin:f}}),D(null))}},[e,C,A,D]),J=j(function(){g!=null&&(E.current=c("setTimeout")(function(){var a=g.getCurrentState(),b=a.lastPauseReason;a=a.paused;x.current||(f&&(a===!1||a===!0&&b==="product_initiated")?(I(),H("control_pip_player_return_to_tab")):window.document.pictureInPictureElement===null&&(D(null),H("control_pip_player_close")))},r))},[g,f,I,D,H]),K=j(function(){g!=null&&(x.current||(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("pause",function(){g.pause("product_initiated")})),v||window.navigator.mediaSession.setActionHandler("nexttrack",null))},[g,v,H,a]),L=j(function(a){a.requestPictureInPicture();R(!1);a=a.internal_getVideoElement();F.current=a==null?void 0:a.currentSrc},[]),M=j(function(){if(g!=null){var a=g.getIsDesktopPictureInPicture();if(a){g.exitPictureInPicture();return}L(g)}},[L,g]),N=j(function(a){h(a)},[h]),O=j(function(a){a!=null&&B(a)},[B]);z=m(function(){return{openPipPlayer:M,setController:N,setPipPortableVideoID:O}},[M,N,O]);var P=n(!1);a=o(!1);var Q=a[0],R=a[1];l(function(){var a=null;if(s&&g!=null&&window.document.pictureInPictureElement){var b=g.internal_getVideoElement();b=b==null?void 0:b.currentSrc;var c=!1,d=!1;a=g.subscribe(function(){var a=g.getCurrentState(),b=a.playing;a=a.isDesktopPictureInPicture;!c&&b&&P.current&&!x.current&&(P.current=!1,R(!0));d&&!a&&J();!d&&a&&K();c=b;d=a});b!==F.current?!Q?(g.play("user_initiated"),P.current=!0):L(g):f&&(K(),F.current=b)}return function(){a!=null&&a.remove()}},[L,g,M,v,K,J,f,Q]);l(function(){return function(){E.current!=null&&(c("clearTimeout")(E.current),E.current=null)}},[]);return i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerContext.Provider,{value:y,children:i.jsx(d("CometVideoPictureInPictureManagerContext").CometVideoPictureInPictureManagerAPIContext.Provider,{value:z,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g.EXCLUDED_PROVIDERS=e;g.CometVideoPictureInPictureManager=a}),98);
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24610591811969724"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:e,storageKey:null}],storageKey:null},g={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"};e={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null};var h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g,d],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},d],storageKey:null},{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","react-compiler-runtime","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,e,f){var g=d("react-compiler-runtime").c(8),i;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h!==void 0?h:h=b("useLiveCostreamerTagSubscription.graphql"),g[0]=i):i=g[0];i=i;var k;g[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("uuidv4")(),g[1]=k):k=g[1];g[2]!==a||g[3]!==e?(k={input:{client_subscription_id:k,tagged_page_id:a,tagged_video_id:e}},g[2]=a,g[3]=e,g[4]=k):k=g[4];a=k;g[5]!==f||g[6]!==a?(e={onNext:f,subscription:i,updater:j,variables:a},g[5]=f,g[6]=a,g[7]=e):e=g[7];k=e;i=k;d("CometRelay").useSubscription(i)}function j(a){var b;a=a.getRootField("live_video_tag_subscribe");var c=a==null||(b=a.getLinkedRecord("tagged_page"))==null?void 0:b.getLinkedRecord("currently_live_video");a=a==null?void 0:a.getLinkedRecord("tagged_video");c==null&&a!=null&&a.setValue(null,"if_viewer_can_see_costreaming_tools")}g["default"]=a}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onNext,d=a.pageID;a=a.videoID;c("useLiveCostreamerTagSubscription.react")(d,a,b);return null}g["default"]=a}),98);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","FBLogger","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","react","react-compiler-runtime","useSelectedLatencySetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));j.useMemo;f=h._(/*BTDS*/"Latency");var m=[o("low"),o("normal")],n=l.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function o(a){switch(a){case"low":return{description:h._(/*BTDS*/"A near-real-time experience."),title:h._(/*BTDS*/"Low latency"),value:a};case"normal":return{description:h._(/*BTDS*/"Best for performance and slower connections."),title:h._(/*BTDS*/"Normal"),value:a};case"ultra-low":return{description:h._(/*BTDS*/"Best for interactive broadcasts."),title:h._(/*BTDS*/"Ultra-low"),value:a};default:a;c("FBLogger")("gaming_video").mustfix("Setting %s is not valid",a);return{description:h._(/*BTDS*/"Error"),title:h._(/*BTDS*/"Error"),value:a}}}function a(a,b){var e=d("react-compiler-runtime").c(10),f=(k||(k=d("VideoPlayerHooks"))).useController(),g=k.useLatencyLevel();a=c("useSelectedLatencySetting")(a,b);var h=a[1];e[0]!==g?(b=o(g),e[0]=g,e[1]=b):b=e[1];a=b;b=a.title;e[2]!==f||e[3]!==g||e[4]!==h?(a=function(a){g!==a&&(h(a),f.setLatencyLevel(a))},e[2]=f,e[3]=g,e[4]=h,e[5]=a):a=e[5];a=a;var i;e[6]!==g||e[7]!==a||e[8]!==b?(i={selectedLatencySetting:g,selectedLatencySettingTitle:b,setSelectedLatencySetting:a},e[6]=g,e[7]=a,e[8]=b,e[9]=i):i=e[9];return i}var p=i!==void 0?i:i=b("LiveVideoLatencyMenuContextProvider_video.graphql");function e(a){var b=d("react-compiler-runtime").c(7),c=a.children;a=a.video;a=d("CometRelay").useFragment(p,a);bb0:{if(a==null){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null},b[0]=e):e=b[0];e=e;break bb0}var f;b[1]!==a.if_viewer_can_use_latency_menu||b[2]!==a.if_viewer_can_use_latency_menu_toggle?(f={liveVideoLatencyMenuPaneMatchPointer:a.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:a.if_viewer_can_use_latency_menu_toggle},b[1]=a.if_viewer_can_use_latency_menu,b[2]=a.if_viewer_can_use_latency_menu_toggle,b[3]=f):f=b[3];e=f}a=e;b[4]!==c||b[5]!==a?(f=l.jsx(n.Provider,{value:a,children:c}),b[4]=c,b[5]=a,b[6]=f):f=b[6];return f}g.LATENCY_MENU_TITLE=f;g.LATENCY_SETTING_OPTIONS=m;g.LiveVideoLatencyMenuContext=n;g.getLiveVideoLatencySettingToInfoMapping=o;g.useLatencySettingState=a;g.LiveVideoLatencyMenuContextProvider=e}),226);
__d("VideoPlayerCaptionsControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsControl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCaptionsMenu.react",["fbt","$InternalEnum","CometKeys","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsMenuCaptionsDisplayPane.react","VideoPlayerCaptionsMenuMainPane.react","VideoPlayerHooks","react","react-compiler-runtime","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useEffect;e.useMemo;var m=e.useRef,n=e.useState,o=b("$InternalEnum")({CAPTIONS_BG_COLOR:"captionsBackgroundColor",CAPTIONS_BG_OPACITY:"captionsBackgroundOpacity",CAPTIONS_DISPLAY_MAIN:"captionsDisplayMain",CAPTIONS_TEXT_COLOR:"captionsTextColor",CAPTIONS_TEXT_SIZE:"captionsTextSize",CAPTIONS_MAIN:"captionsMain"});function a(a){var b=d("react-compiler-runtime").c(36),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,i=a.onClose,p=a.onPressLog,q=a.selectedCaptionsLocale,r=a.setCaptionsListExpanded;a=a.setSelectedCaptionsLocale;g=g===void 0?null:g;var s=(j||(j=d("VideoPlayerHooks"))).useCaptionDisplayStyle(),t=n(o.CAPTIONS_MAIN),u=t[0];t=t[1];var v=m(null),w=m(null),x;b[0]!==i?(x=function(a){v.current&&w.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!v.current.contains(a.target)&&w.current.contains(a.target)&&i()},b[0]=i,b[1]=x):x=b[1];var y=x,z;b[2]!==y?(x=function(){document.addEventListener("click",y);return function(){document.removeEventListener("click",y)}},z=[y],b[2]=y,b[3]=x,b[4]=z):(x=b[3],z=b[4]);l(x,z);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(x={key:c("CometKeys").ESCAPE},z=h._(/*BTDS*/"Close captions menu"),b[5]=x,b[6]=z):(x=b[5],z=b[6]);b[7]!==i?(x=[{command:x,description:z,handler:function(){i()}}],b[7]=i,b[8]=x):x=b[8];z=x;x=z;c("useLayerKeyCommands")(x);b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==p||b[13]!==q||b[14]!==r||b[15]!==a?(z=k.jsx(d("VideoPlayerCaptionsMenuMainPane.react").VideoPlayerCaptionsMenuMainPane,{availableCaptionsLocales:e,captionsListExpanded:f,onPressLog:p,selectedCaptionsLocale:q,setCaptionsListExpanded:r,setPane:t,setSelectedCaptionsLocale:a,children:g}),b[9]=e,b[10]=f,b[11]=g,b[12]=p,b[13]=q,b[14]=r,b[15]=a,b[16]=z):z=b[16];x=z;bb0:switch(u){case o.CAPTIONS_MAIN:break bb0;case o.CAPTIONS_DISPLAY_MAIN:b[17]!==s||b[18]!==p?(e=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").VideoPlayerCaptionsMenuCaptionsDisplayMainPane,{currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[17]=s,b[18]=p,b[19]=e):e=b[19];x=e;break bb0;case o.CAPTIONS_BG_COLOR:b[20]!==s||b[21]!==p?(f=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[20]=s,b[21]=p,b[22]=f):f=b[22];x=f;break bb0;case o.CAPTIONS_BG_OPACITY:b[23]!==s||b[24]!==p?(g=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsBackgroundOpacity",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[23]=s,b[24]=p,b[25]=g):g=b[25];x=g;break bb0;case o.CAPTIONS_TEXT_SIZE:b[26]!==s?(q=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextSize",currentCaptionsDisplay:s,setPane:t}),b[26]=s,b[27]=q):q=b[27];x=q;break bb0;case o.CAPTIONS_TEXT_COLOR:b[28]!==s||b[29]!==p?(r=k.jsx(d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react").VideoPlayerCaptionsMenuCaptionsDisplayPane,{captionsDisplayOption:"captionsTextColor",currentCaptionsDisplay:s,onPressLog:p,setPane:t}),b[28]=s,b[29]=p,b[30]=r):r=b[30];x=r}b[31]!==x?(a=k.jsx("div",{ref:v,children:x}),b[31]=x,b[32]=a):a=b[32];b[33]===Symbol["for"]("react.memo_cache_sentinel")?(z=k.jsx("div",{className:"x5yr21d x1o0tod xixxii4 x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:w}),b[33]=z):z=b[33];b[34]!==a?(u=k.jsxs(k.Fragment,{children:[a,z]}),b[34]=a,b[35]=u):u=b[35];return u}g.VideoPlayerCaptionsMenuPaneType=o;g.VideoPlayerCaptionsMenu=a}),226);
__d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;var l={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",width:"xafpxmx",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},m={captionsBackgroundColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsBackgroundOpacity:{"0%":"TRANSPARENT","25%":"LIGHT","45%":"DEFAULT","75%":"DARK","100%":"OPAQUE"},captionsTextColor:{Black:"BLACK",Blue:"BLUE",Cyan:"CYAN",Green:"GREEN",Magenta:"MAGENTA",Red:"RED",White:"WHITE",Yellow:"YELLOW"},captionsTextSize:{"(50%)":"SMALLEST","(75%)":"SMALL","(100%)":"DEFAULT","(125%)":"MEDIUM","(150%)":"BIG","(175%)":"BIGGER","(200%)":"BIGGEST"}},n={"Background Color":{ftbLabel:h._(/*BTDS*/"Background colour"),name:"captionsBackgroundColor"},"Background Opacity":{ftbLabel:h._(/*BTDS*/"Background opacity"),name:"captionsBackgroundOpacity"},"Text Color":{ftbLabel:h._(/*BTDS*/"Text colour"),name:"captionsTextColor"},"Text Size":{ftbLabel:h._(/*BTDS*/"Text size"),name:"captionsTextSize"}},o={Black:h._(/*BTDS*/"Black"),Blue:h._(/*BTDS*/"Blue"),Cyan:h._(/*BTDS*/"Cyan"),Green:h._(/*BTDS*/"Green"),Magenta:h._(/*BTDS*/"Magenta"),Red:h._(/*BTDS*/"Red"),White:h._(/*BTDS*/"White"),Yellow:h._(/*BTDS*/"Yellow")};function p(a){var b=null,c=null;switch(a){case"(50%)":b=h._(/*BTDS*/"Small");c="X-";break;case"(75%)":b=h._(/*BTDS*/"Small");break;case"(125%)":b=h._(/*BTDS*/"Large");break;case"(150%)":b=h._(/*BTDS*/"Large");c="X-";break;case"(175%)":b=h._(/*BTDS*/"Large");c="XX-";break;case"(200%)":b=h._(/*BTDS*/"Large");c="XXX-";break;case"(100%)":b=h._(/*BTDS*/"Medium")}return k.jsxs("span",{children:[c!=null&&c,b,a]})}p.displayName=p.name+" [from "+f.id+"]";var q={captionsBackgroundColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_COLOR,captionsBackgroundOpacity:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_BG_OPACITY,captionsTextColor:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_COLOR,captionsTextSize:d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_TEXT_SIZE};function r(a){var b=d("react-compiler-runtime").c(24),e=a.onPressLog,f=a.option,g=a.optionVal,h=a.setPane,j=n[f].name;b[0]!==j||b[1]!==e||b[2]!==f||b[3]!==h?(a=function(){h(q[j]),e&&e("captions_display_main_menu",f)},b[0]=j,b[1]=e,b[2]=f,b[3]=h,b[4]=a):a=b[4];a=a;var m;bb0:switch(j){case"captionsTextColor":case"captionsBackgroundColor":m=o[g];break bb0;default:m=g}var r=f.replace(" ","");r="video-player-captions-menu-captions-display-main-"+r;var s;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1nxh6w3 x1s688f x1uncgzr"},b[5]=s):s=b[5];var t=n[f],u;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1nxh6w3 xo1l8bm"},b[6]=u):u=b[6];var v;b[7]!==j||b[8]!==g||b[9]!==m?(v=j==="captionsTextSize"?p(g):m,b[7]=j,b[8]=g,b[9]=m,b[10]=v):v=b[10];b[11]!==v||b[12]!==r?(g=k.jsx("div",babelHelpers["extends"]({},u,{"data-testid":void 0,children:v})),b[11]=v,b[12]=r,b[13]=g):g=b[13];b[14]!==t.ftbLabel||b[15]!==g?(u=k.jsxs("div",babelHelpers["extends"]({},s,{children:[t.ftbLabel,g]})),b[14]=t.ftbLabel,b[15]=g,b[16]=u):u=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1rg5ohu"},r={className:"x1lliihq"},s={display:"table-cell"},b[17]=s,b[18]=v,b[19]=r):(s=b[17],v=b[18],r=b[19]);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx("div",{style:s,children:k.jsx(c("CometImage.react"),{src:i("480588")})})}))})),b[20]=t):t=b[20];b[21]!==a||b[22]!==u?(g=k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.menuOptionRow,children:[u,t]}),b[21]=a,b[22]=u,b[23]=g):g=b[23];return g}function a(a){var b=d("react-compiler-runtime").c(17),e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.setPane;b[0]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_MAIN)},b[0]=g,b[1]=a):a=b[1];a=a;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[2]=j):j=b[2];var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x3nfvp2"},b[3]=o):o=b[3];var p;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=k.jsx("span",babelHelpers["extends"]({},o,{children:k.jsx(c("CometImage.react"),{src:i("480580")})})),p=k.jsx("span",{className:"x1nxh6w3 x1s688f x1diwwjn",children:h._(/*BTDS*/"Subtitle options")}),b[4]=o,b[5]=p):(o=b[4],p=b[5]);b[6]!==a?(j=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsxs(c("CometPressable.react"),{onPress:a,xstyle:l.pressableOption,children:[o,p]})})),b[6]=a,b[7]=j):j=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x1anpbxc"},b[8]=o):o=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(p=Object.keys(n),b[9]=p):p=b[9];b[10]!==e||b[11]!==f||b[12]!==g?(a=k.jsx("div",babelHelpers["extends"]({},o,{"data-testid":void 0,children:p.map(function(a){var b=n[a].name,c=m[b];c=Object.fromEntries(Object.entries(c).map(s));c=e!=null?c[e[b]]:"";return k.jsx(r,{onPressLog:f,option:a,optionVal:c,setPane:g},a)})})),b[10]=e,b[11]=f,b[12]=g,b[13]=a):a=b[13];b[14]!==j||b[15]!==a?(o=k.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[j,a]}),b[14]=j,b[15]=a,b[16]=o):o=b[16];return o}function s(a){var b=a[0];a=a[1];return[a,b]}g.captionsDisplayOptionsMap=m;g.colorsFBTMap=o;g.getFontSizeDivWithFBTLabel=p;g.VideoPlayerCaptionsMenuCaptionsDisplayMainPane=a}),226);
__d("VideoPlayerCaptionsSettingMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8917695971664599"}),null);
__d("VideoPlayerCaptionsSettingMutation.graphql",["VideoPlayerCaptionsSettingMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"VideoPlayerCaptionsSettingResponsePayload",kind:"LinkedField",name:"video_player_captions_setting",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VideoPlayerCaptionsSettingMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VideoPlayerCaptionsSettingMutation",selections:c},params:{id:b("VideoPlayerCaptionsSettingMutation_facebookRelayOperation"),metadata:{},name:"VideoPlayerCaptionsSettingMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VideoPlayerCaptionsSettingMutation",["CometRelay","VideoPlayerCaptionsSettingMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("VideoPlayerCaptionsSettingMutation.graphql");function a(a,b,c){return d("CometRelay").commitMutation(a,{mutation:i,onCompleted:c&&c.onCompleted,onError:c&&c.onError,optimisticResponse:{video_captions_setting:{success:!0}},variables:{input:{captions_background_color:b.captions_background_color,captions_background_opacity:b.captions_background_opacity,captions_text_color:b.captions_text_color,captions_text_size:b.captions_text_size,client_mutation_id:"www_captions_settings"}}})}g.commit=a}),98);
__d("VideoPlayerCaptionsMenuCaptionsDisplayPane.react",["fbt","ix","CometImage.react","CometPressable.react","CometRelay","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenu.react","VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react","VideoPlayerCaptionsSettingMutation","VideoPlayerHooks","fbicon","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react")),m=j.useCallback,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}},o={captionsBackgroundColor:h._(/*BTDS*/"Background colour"),captionsBackgroundOpacity:h._(/*BTDS*/"Background opacity"),captionsTextColor:h._(/*BTDS*/"Text colour"),captionsTextSize:h._(/*BTDS*/"Text size")},p=function(a){return{captions_background_color:a.captionsBackgroundColor,captions_background_opacity:a.captionsBackgroundOpacity,captions_text_color:a.captionsTextColor,captions_text_size:a.captionsTextSize}};function q(a){var b=a.captionsDisplayOption,e=a.currentCaptionsDisplay,f=a.onPressLog,g=a.option,h=a.selected,j=a.setPane,o=(k||(k=d("VideoPlayerHooks"))).useController();a=h;var q=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[b];h=null;switch(b){case"captionsTextColor":case"captionsBackgroundColor":h=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").colorsFBTMap[g];break;default:h=g}var r="video-player-captions-menu-captions-display-pane-"+b+"-"+g;r=m(function(){a=!0;if(e!=null){e[b]=q[g];o.setCaptionsDisplayStyle(babelHelpers["extends"]({},e));var c=p(e);d("VideoPlayerCaptionsSettingMutation").commit(s,c)}j(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN);f&&f(b)},[e,q,b,o,g]);var s=d("CometRelay").useRelayEnvironment();return l.jsxs(c("CometPressable.react"),{"aria-pressed":a,onPress:r,testid:void 0,xstyle:n.menuOptionRow,children:[l.jsx("div",{className:"x1rg5ohu x1849jeq",children:a&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})})}),b==="captionsTextSize"?d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").getFontSizeDivWithFBTLabel(g):l.jsx("div",{className:"x1ypdohk x1rg5ohu",children:h})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(26),e=a.captionsDisplayOption,f=a.currentCaptionsDisplay,g=a.onPressLog,h=a.setPane;a=o[e];var j=d("VideoPlayerCaptionsMenuCaptionsDisplayMainPane.react").captionsDisplayOptionsMap[e],k=f!=null?f[e]:null,m;b[0]!==h?(m=function(){h(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN)},b[0]=h,b[1]=m):m=b[1];m=m;var p="video-player-captions-menu-captions-display-pane-"+e,r;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1nxh6w3 x1s688f x1lku1pv"},b[2]=r):r=b[2];var s=p+"-topBar",t;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x3nfvp2 x1849jeq"},b[3]=t):t=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=l.jsx("span",babelHelpers["extends"]({},t,{children:l.jsx(c("CometImage.react"),{src:i("480580")})})),b[4]=t):t=b[4];b[5]!==m||b[6]!==a||b[7]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:l.jsxs(c("CometPressable.react"),{onPress:m,testid:void 0,xstyle:n.pressableOption,children:[t,a]})})),b[5]=m,b[6]=a,b[7]=s,b[8]=r):r=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1nxh6w3 xo1l8bm x1anpbxc"},b[9]=t):t=b[9];b[10]!==j?(m=Object.keys(j),b[10]=j,b[11]=m):m=b[11];b[12]!==j||b[13]!==k||b[14]!==e||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==m?(a=m.map(function(a){var b=k===j[a];return l.jsx(q,{captionsDisplayOption:e,currentCaptionsDisplay:f,onPressLog:g,option:a,selected:b,setPane:h},a)}),b[12]=j,b[13]=k,b[14]=e,b[15]=f,b[16]=g,b[17]=h,b[18]=m,b[19]=a):a=b[19];b[20]!==a||b[21]!==p?(s=l.jsx("div",babelHelpers["extends"]({},t,{"data-testid":void 0,children:a})),b[20]=a,b[21]=p,b[22]=s):s=b[22];b[23]!==s||b[24]!==r?(m=l.jsxs(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:[r,s]}),b[23]=s,b[24]=r,b[25]=m):m=b[25];return m}g.VideoPlayerCaptionsMenuCaptionsDisplayPane=a}),226);
__d("VideoPlayerCaptionsMenuMainPane.react",["fbt","ix","CometPressable.react","CometScrollableArea.react","FDSIcon.react","FocusRegion.react","VideoPlayerCaptionsMenuTopBar.react","VideoPlayerHooks","fbicon","focusScopeQueries","isTruthy","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;var m=b.useEffect,n=b.useRef,o={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",fontSize:"x1nxh6w3",fontWeight:"xo1l8bm",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",":hover_backgroundColor":"xx8nu07",$$css:!0}},p=5;function q(a){var b,e=d("react-compiler-runtime").c(27),f=a.captions,g=a.captionsVisible,j=a.controller,m=a.focused,n=a.onPressLog,p=a.setSelectedCaptionsLocale;a=(k||(k=d("VideoPlayerHooks"))).useIsVideoBroadcast();a=f.localizedCreationMethod!=null||a;b="video-player-captions-menu-language-list-item-"+((b=f.localizedLanguage)!=null?b:"");var q;e[0]!==f.captionsUrl||e[1]!==f.locale||e[2]!==f.localizedLanguage||e[3]!==g||e[4]!==j||e[5]!==n||e[6]!==p?(q=function(){var a;f.locale!=null&&p(f.locale);g||j.setCaptionsVisible(!0);f.captionsUrl!=null&&j.setCaptionsUrl(f.captionsUrl);n&&n("captions_language_selector",(a=f.localizedLanguage)!=null?a:"")},e[0]=f.captionsUrl,e[1]=f.locale,e[2]=f.localizedLanguage,e[3]=g,e[4]=j,e[5]=n,e[6]=p,e[7]=q):q=e[7];var r;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1rg5ohu xw4jnvo"},e[8]=r):r=e[8];var s;e[9]!==m||e[10]!==b?(s=m&&l.jsx("div",{"data-testid":void 0,children:l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),e[9]=m,e[10]=b,e[11]=s):s=e[11];e[12]!==s?(r=l.jsx("div",babelHelpers["extends"]({},r,{children:s})),e[12]=s,e[13]=r):r=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf"},e[14]=s):s=e[14];var t=c("isTruthy")(f.localizedCountry)?" "+f.localizedCountry:null,u;e[15]!==a?(u=!a&&l.jsxs(l.Fragment,{children:[" ",h._(/*BTDS*/"(Provided by author)")]}),e[15]=a,e[16]=u):u=e[16];e[17]!==f.localizedLanguage||e[18]!==t||e[19]!==u?(a=l.jsxs("div",babelHelpers["extends"]({},s,{children:[f.localizedLanguage,t,u]})),e[17]=f.localizedLanguage,e[18]=t,e[19]=u,e[20]=a):a=e[20];e[21]!==m||e[22]!==q||e[23]!==r||e[24]!==a||e[25]!==b?(s=l.jsxs(c("CometPressable.react"),{"aria-pressed":m,onPress:q,testid:void 0,xstyle:o.menuOptionRow,children:[r,a]}),e[21]=m,e[22]=q,e[23]=r,e[24]=a,e[25]=b,e[26]=s):s=e[26];return s}var r="Toggle On";function a(a){var b=d("react-compiler-runtime").c(66),e=a.availableCaptionsLocales,f=a.captionsListExpanded,g=a.children,j=a.onPressLog,s=a.selectedCaptionsLocale,t=a.setCaptionsListExpanded,u=a.setPane,v=a.setSelectedCaptionsLocale,w=(k||(k=d("VideoPlayerHooks"))).useController(),x=k.useCaptionsVisible(),y=e!=null?e.length:0,z=n(!1),A;b[0]!==y||b[1]!==x||b[2]!==v?(a=function(){x||v(""),x&&y===0&&!z.current&&(z.current=!0,v(r))},A=[x,v,y],b[0]=y,b[1]=x,b[2]=v,b[3]=a,b[4]=A):(a=b[3],A=b[4]);m(a,A);if(e==null)return null;b[5]!==e||b[6]!==j||b[7]!==u?(a=l.jsx(c("VideoPlayerCaptionsMenuTopBar.react"),{availableCaptionsLocales:e,onPressLog:j,setPane:u}),b[5]=e,b[6]=j,b[7]=u,b[8]=a):a=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1anpbxc x15eivr9"},b[9]=A):A=b[9];b[10]!==y||b[11]!==w||b[12]!==s||b[13]!==v?(u=y===0&&l.jsxs(c("CometPressable.react"),{"aria-pressed":s===r,onPress:function(){v(r),w.setCaptionsVisible(!0)},xstyle:o.menuOptionRow,children:[l.jsx("div",{className:"x1rg5ohu xw4jnvo",children:s===r&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)})}),l.jsx("div",{className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf",children:h._(/*BTDS*/"On")})]}),b[10]=y,b[11]=w,b[12]=s,b[13]=v,b[14]=u):u=b[14];var B=s==="",C;b[15]!==w||b[16]!==v?(C=function(){v(""),w.setCaptionsVisible(!1)},b[15]=w,b[16]=v,b[17]=C):C=b[17];var D;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(D={className:"x1rg5ohu xw4jnvo"},b[18]=D):D=b[18];var E;b[19]!==s?(E=s===""&&l.jsx(c("FDSIcon.react"),{color:"white",icon:d("fbicon")._(i("477813"),16)}),b[19]=s,b[20]=E):E=b[20];b[21]!==E?(D=l.jsx("div",babelHelpers["extends"]({},D,{children:E})),b[21]=E,b[22]=D):D=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(E=l.jsx("div",{className:"x1ypdohk x1rg5ohu x1hm9lzh xzjbwwf",children:h._(/*BTDS*/"Off")}),b[23]=E):E=b[23];b[24]!==D||b[25]!==B||b[26]!==C?(E=l.jsxs(c("CometPressable.react"),{"aria-pressed":B,onPress:C,xstyle:o.menuOptionRow,children:[D,E]}),b[24]=D,b[25]=B,b[26]=C,b[27]=E):E=b[27];if(b[28]!==e||b[29]!==x||b[30]!==w||b[31]!==j||b[32]!==s||b[33]!==v){b[35]!==x||b[36]!==w||b[37]!==j||b[38]!==s||b[39]!==v?(D=function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,onPressLog:j,setSelectedCaptionsLocale:v},a.locale):null},b[35]=x,b[36]=w,b[37]=j,b[38]=s,b[39]=v,b[40]=D):D=b[40];B=e.slice(0,4).map(D);b[28]=e;b[29]=x;b[30]=w;b[31]=j;b[32]=s;b[33]=v;b[34]=B}else B=b[34];b[41]!==y||b[42]!==f||b[43]!==t?(C=y>=p&&!f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!0)},xstyle:o.menuOptionRow,children:l.jsx("div",{className:"x1ypdohk x1rg5ohu x9pbi5e",children:h._(/*BTDS*/"See more")})}),b[41]=y,b[42]=f,b[43]=t,b[44]=C):C=b[44];b[45]!==e||b[46]!==f||b[47]!==x||b[48]!==w||b[49]!==s||b[50]!==v?(D=f&&e.slice(4).map(function(a){var b=a.locale===s;return a.localizedLanguage!=null?l.jsx(q,{captions:a,captionsVisible:x,controller:w,focused:b,setSelectedCaptionsLocale:v},a.locale):null}),b[45]=e,b[46]=f,b[47]=x,b[48]=w,b[49]=s,b[50]=v,b[51]=D):D=b[51];b[52]!==f||b[53]!==t?(e=f&&l.jsx(c("CometPressable.react"),{onPress:function(){t(!1)},xstyle:o.menuOptionRow,children:l.jsx("div",{className:"x1ypdohk x1rg5ohu x9pbi5e",children:h._(/*BTDS*/"See less")})}),b[52]=f,b[53]=t,b[54]=e):e=b[54];b[55]!==E||b[56]!==B||b[57]!==C||b[58]!==D||b[59]!==e||b[60]!==u?(f=l.jsx(c("CometScrollableArea.react"),{hideScrollbar:!0,children:l.jsxs("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:[u,E,B,C,D,e]}))}),b[55]=E,b[56]=B,b[57]=C,b[58]=D,b[59]=e,b[60]=u,b[61]=f):f=b[61];b[62]!==g||b[63]!==f||b[64]!==a?(A=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,g,f]})}),b[62]=g,b[63]=f,b[64]=a,b[65]=A):A=b[65];return A}g.VideoPlayerCaptionsMenuMainPane=a}),226);
__d("VideoPlayerCaptionsMenuTopBar.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerCaptionsMenu.react","VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));j.useCallback;var m={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.availableCaptionsLocales,f=a.onPressLog,g=a.setPane;b[0]!==f||b[1]!==g?(a=function(){g(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenuPaneType.CAPTIONS_DISPLAY_MAIN),f&&f("captions_main_menu_top_bar")},b[0]=f,b[1]=g,b[2]=a):a=b[2];a=a;var j=(k||(k=d("VideoPlayerHooks"))).useIsLive(),o=k.useIsVideoBroadcast();o=o&&!j;b[3]!==e||b[4]!==o?(j=(e==null?void 0:e.some(n))||o,b[3]=e,b[4]=o,b[5]=j):j=b[5];e=j;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x14ctfv x78zum5 x1jzhcrs"},b[6]=o):o=b[6];var p,q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(j=l.jsx("div",{className:"x1nxh6w3 x1s688f",children:h._(/*BTDS*/"Subtitles")}),p={className:"x6s0dn4 x14ctfv x1ypdohk x3nfvp2 x1bhwmg6 x13a6bvl xymharo"},q={className:"x3nfvp2"},b[7]=j,b[8]=p,b[9]=q):(j=b[7],p=b[8],q=b[9]);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsxs("div",babelHelpers["extends"]({},p,{children:[l.jsx("span",babelHelpers["extends"]({},q,{children:l.jsx(c("CometImage.react"),{src:i("492300")})})),l.jsx("div",{className:"x3nfvp2 xo1l8bm xdzw4kq",children:h._(/*BTDS*/"Options")})]})),b[10]=p):p=b[10];b[11]!==a?(q=l.jsx("div",babelHelpers["extends"]({},o,{children:l.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:m.pressableOption,children:[j,p]})})),b[11]=a,b[12]=q):q=b[12];b[13]!==e?(o=e!=null&&e&&l.jsx("div",{className:"x1nxh6w3 x1k4tb9n",children:h._(/*BTDS*/"Auto-generated")}),b[13]=e,b[14]=o):o=b[14];b[15]!==q||b[16]!==o?(j=l.jsxs("div",{children:[q,o]}),b[15]=q,b[16]=o,b[17]=j):j=b[17];return j}function n(a){return a.localizedCreationMethod!=null}g["default"]=a}),226);
__d("VideoPlayerCaptionsControl.react",["fbt","ix","CometRelay","IntlCurrentLocale","VideoPlayerCaptionsControl_video.graphql","VideoPlayerCaptionsMenu.react","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerHooks","VideoPlayerLoggingSuboriginContext","VideoPlayerUserInteractionCounter","fbicon","react","requireDeferred","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;var n=e.useCallback,o=e.useContext,p=e.useEffect,q=e.useMemo,r=e.useRef,s=e.useState,t=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerCaptionsControl.react"),u="asr",v=function(a){return a.length<2?null:a.substr(0,2)};function a(a){var e=a.alignMenuToIcon;e=e===void 0?!1:e;var f=a.availableCaptionsLocales,g=a.captionsVisible,k=a.children;k=k===void 0?null:k;var w=a.compactMenu,x=a.icon,y=a.initialCaptionsUrl,z=a.menuOpened,A=a.onMenuOpen,B=a.onUserInteraction,C=a.setMenuOpened;a=a.video;var D=h._(/*BTDS*/"Captions");d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_captions_menu",z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU,B);B=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerCaptionsControl_video.graphql"),a);var E=(l||(l=d("VideoPlayerHooks"))).useMuted(),F=l.useController(),G=c("usePlayerOriginRouteTracePolicy")(),H=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(B),I=q(function(){var a;return((a=f!=null?f:H)!=null?a:[]).slice().sort(function(a,b){return((a=a.localizedLanguage)!=null?a:"")>((a=b.localizedLanguage)!=null?a:"")?1:-1})},[f,H]),J=y!=null?y:B==null?void 0:B.captions_url;a=s("");var K=a[0],L=a[1],M=r(null),N=r(null);p(function(){I.forEach(function(a){a.captionsUrl===J&&a.locale!=null&&(M.current==null&&(M.current=a.locale),L(a.locale))})},[I,J]);var O=c("IntlCurrentLocale").code;p(function(){var a;a=v((a=M.current)!=null?a:"");M.current!==u&&a!=null&&a!==v(O)&&N.current===null?(F.setCaptionsVisible(!1),N.current=!1):E&&!g&&K!==""&&N.current===null?(N.current=!0,F.setCaptionsVisible(!0)):!E&&N.current===!0&&(F.setCaptionsVisible(!1),N.current=!1)},[g,F,E,O,K]);var P=z===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU;y=s(!1);B=y[0];a=y[1];var Q=o(c("VideoPlayerLoggingSuboriginContext")),R=c("useMinifiedProductAttribution")(),S=n(function(a,b){a===void 0&&(a=null),b===void 0&&(b=null),t.onReady(function(c){c.log({attribution_id_v2:R,click_point:a,event:"click",event_target_info:G,event_target_sub_type:b,player_suborigin:Q})})},[R,G,Q]);return m.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],{"data-testid":void 0,children:[P&&m.jsx("div",babelHelpers["extends"]({role:"dialog"},{0:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk xk6ci0l x1602a87"},2:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 xwjie4w"},1:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"},3:{className:"x1av4zun xjwep3j x1t39747 x1wcsgtt x1pczhz8 xacj9c0 x14ctfv x89ytp0 x1hdnelj xgmxx4u xyamay9 xv54qhq x1l90r2v xf7dkkf x10l6tqk x1602a87 x1g75g36"}}[!!(w===!0)<<1|!!(e===!0)<<0],{children:m.jsx(d("VideoPlayerCaptionsMenu.react").VideoPlayerCaptionsMenu,{availableCaptionsLocales:I,captionsListExpanded:B,onClose:function(){C!=null&&C(null)},onPressLog:S,selectedCaptionsLocale:K,setCaptionsListExpanded:a,setSelectedCaptionsLocale:L,children:k})})),m.jsx(c("VideoPlayerControlIcon.react"),{icon:x==null?g?d("fbicon")._(i("662652"),20):d("fbicon")._(i("662655"),20):x,label:D,onPress:function(){C!=null&&C(P?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_CAPTIONS_MENU),!P&&A!=null&&A(),S("closed_captions_button")},tooltip:D})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));g["default"]=a}),98);
__d("VideoPlayerCastControlShim.react",["CometPlaceholder.react","VideoPlayerCastControlShimImpl.modern.react","VideoPlayerControlsGroups.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isVisible"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e,g;b[0]!==a?(e=a.isVisible,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=g):(e=b[1],g=b[2]);b[3]!==g?(a=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(c("VideoPlayerCastControlShimImpl.modern.react"),babelHelpers["extends"]({},g))}),b[3]=g,b[4]=a):a=b[4];b[5]!==e||b[6]!==a?(g=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:e,noPaddingEnd:!0,noPaddingStart:!0,children:a}),b[5]=e,b[6]=a,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerExpandSidePanelControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailExpanded,f=b.setRightRailExpanded;a[0]!==e?(b=e?h._(/*BTDS*/"Collapse comments"):h._(/*BTDS*/"Expand comments"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("557039"),20):d("fbicon")._(i("557052"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerLiveVideoControls_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"is_clipping_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"live_rewind_enabled",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"LiveVideoLatencyMenuContextProvider_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_community_moderation_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video",fragmentName:"VideoPlayerModeratorControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_live_rewind",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_live_rewind",fragmentName:"VideoPlayerLiveRewindControlsGroup_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[{args:null,documentName:"VideoPlayerLiveVideoControls_video_if_viewer_can_see_costreaming_tools",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("VideoPlayerQuietModeControl.react",["fbt","ix","CometTahoeSidePaneContext","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(){var a=d("react-compiler-runtime").c(12),b=l(c("CometTahoeSidePaneContext")),e=b.rightRailHidden,f=b.setRightRailHidden;a[0]!==e?(b=e?h._(/*BTDS*/"Show comments and reactions"):h._(/*BTDS*/"Hide comments and reactions"),a[0]=e,a[1]=b):b=a[1];b=b;var g;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},a[2]=g):g=a[2];var j;a[3]!==e?(j=e?d("fbicon")._(i("942218"),20):d("fbicon")._(i("942221"),20),a[3]=e,a[4]=j):j=a[4];var m;a[5]!==e||a[6]!==f?(m=function(){f(!e)},a[5]=e,a[6]=f,a[7]=m):m=a[7];a[8]!==b||a[9]!==j||a[10]!==m?(g=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("VideoPlayerControlIcon.react"),{icon:j,label:b,onPress:m,tooltip:b})})),a[8]=b,a[9]=j,a[10]=m,a[11]=g):g=a[11];return g}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.selectedVideoQuality,f=a.setPane;a=a.targetVideoQuality;var g;b[0]!==f?(g=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},b[0]=f,b[1]=g):g=b[1];var j,m;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("div",{className:"x1ypdohk x1s688f",children:h._(/*BTDS*/"Quality")}),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=j,b[3]=m):(j=b[2],m=b[3]);var n;b[4]!==e||b[5]!==a?(n=e==="notselected"?k.jsx("span",{"data-testid":void 0,children:"\xa0"}):e==="auto"?k.jsxs(k.Fragment,{children:[k.jsx("span",{"data-testid":void 0,children:h._(/*BTDS*/"Automatic")}),a!=null?k.jsxs(k.Fragment,{children:[k.jsx("span",{children:"\xa0"}),k.jsx("span",{"data-testid":void 0,children:a})]}):null]}):k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=a,b[6]=n):n=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[7]=e):e=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[8]=a):a=b[8];b[9]!==n?(e=k.jsxs("div",babelHelpers["extends"]({},m,{children:[n,a]})),b[9]=n,b[10]=e):e=b[10];b[11]!==g||b[12]!==e?(m=k.jsxs(c("CometPressable.react"),{onPress:g,testid:void 0,xstyle:l.pressableOption,children:[j,e]}),b[11]=g,b[12]=e,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","FBLogger","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuAudioTrackPane.react","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","react","react-compiler-runtime","useLayerKeyCommands","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));e=i;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=b("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function a(a){var b=d("react-compiler-runtime").c(57),e=a.children,g=a.forceShowPlaybackRateControl,i=a.onClose,q=a.originalVideoLanguage;a=a.videoID;e=e===void 0?null:e;var r=(j||(j=d("VideoPlayerHooks"))).useCaptionsLoaded(),s=j.useCaptionsVisible(),t=j.useSelectedVideoQuality(),u=j.useController(),v;b[0]!==u?(v=function(){return u.getCurrentState().availableAudioTracks},b[0]=u,b[1]=v):v=b[1];var w=c("useVideoPlayerControllerSubscription")(v);b[2]!==u?(v=function(){return u.getCurrentState().targetAudioTrack},b[2]=u,b[3]=v):v=b[3];v=c("useVideoPlayerControllerSubscription")(v);var x=j.useInbandCaptionsAutogenerated(),y=j.useTargetVideoQuality(),z=o(p.MAIN),A=z[0],B=z[1];z=o(s);s=z[0];z=z[1];var C=j.usePlaybackRate(),D=j.useIsLive(),E=j.useIsLiveRewindActive(),F=l(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);F=F.liveVideoLatencyMenuPaneMatchPointer;var G=j.useShouldShowPlaybackRateControl(),H;b[4]!==g||b[5]!==G?(H=g===!0||d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&G,b[4]=g,b[5]=G,b[6]=H):H=b[6];g=H;b[7]!==D||b[8]!==E||b[9]!==A?(G=function(){D&&!E&&A===p.PLAYBACK_SPEED&&B(p.MAIN)},H=[E,B,D,A],b[7]=D,b[8]=E,b[9]=A,b[10]=G,b[11]=H):(G=b[10],H=b[11]);m(G,H);b[12]!==w.length||b[13]!==A?(G=function(){w.length<=1&&A===p.AUDIO&&B(p.MAIN)},b[12]=w.length,b[13]=A,b[14]=G):G=b[14];b[15]!==w||b[16]!==A?(H=[w,A],b[15]=w,b[16]=A,b[17]=H):H=b[17];m(G,H);var I=n(null),J=n(null);b[18]!==i?(G=function(a){I.current&&J.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!I.current.contains(a.target)&&J.current.contains(a.target)&&i()},b[18]=i,b[19]=G):G=b[19];var K=G;b[20]!==K?(H=function(){document.addEventListener("click",K);return function(){document.removeEventListener("click",K)}},G=[K],b[20]=K,b[21]=H,b[22]=G):(H=b[21],G=b[22]);m(H,G);b[23]===Symbol["for"]("react.memo_cache_sentinel")?(H={key:c("CometKeys").ESCAPE},G=h._(/*BTDS*/"Close video settings menu"),b[23]=H,b[24]=G):(H=b[23],G=b[24]);b[25]!==i?(H=[{command:H,description:G,handler:function(){i()}}],b[25]=i,b[26]=H):H=b[26];G=H;H=G;c("useLayerKeyCommands")(H);G=v!=null?v:null;b[27]!==w||b[28]!==r||b[29]!==s||b[30]!==e||b[31]!==x||b[32]!==D||b[33]!==C||b[34]!==t||b[35]!==g||b[36]!==G||b[37]!==y?(H=k.jsx(c("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:w,captionsLoaded:r,captionsVisibleOptimistic:s,inbandCaptionsAutogenerated:x,isLive:D,playbackRate:C,selectedVideoQuality:t,setIsCaptionsVisible:z,setPane:B,shouldEnablePlaybackRateSupport:g,targetAudioTrack:G,targetVideoQuality:y,children:e}),b[27]=w,b[28]=r,b[29]=s,b[30]=e,b[31]=x,b[32]=D,b[33]=C,b[34]=t,b[35]=g,b[36]=G,b[37]=y,b[38]=H):H=b[38];z=H;bb0:switch(A){case p.LATENCY:if(F==null){c("FBLogger")("gaming_video").mustfix("Latency components should not be null");break bb0}b[39]===Symbol["for"]("react.memo_cache_sentinel")?(r={setPane:B},b[39]=r):r=b[39];b[40]!==F?(s=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(d("CometRelay").MatchContainer,{match:F,props:r})})}),b[40]=F,b[41]=s):s=b[41];z=s;break bb0;case p.MAIN:break bb0;case p.PLAYBACK_SPEED:b[42]!==C?(e=k.jsx(c("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:C,setPane:B}),b[42]=C,b[43]=e):e=b[43];z=e;break bb0;case p.QUALITY:b[44]!==t?(x=k.jsx(c("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:t,setPane:B}),b[44]=t,b[45]=x):x=b[45];z=x;break bb0;case p.AUDIO:b[46]!==w||b[47]!==D||b[48]!==q||b[49]!==v||b[50]!==a?(g=!D&&w.length>1?k.jsx(c("VideoPlayerSettingsMenuAudioTrackPane.react"),{availableAudioTracks:w,originalVideoLanguage:q!=null?q:null,setPane:B,targetAudioTrack:v!=null?v:null,videoID:a!=null?a:null}):null,b[46]=w,b[47]=D,b[48]=q,b[49]=v,b[50]=a,b[51]=g):g=b[51];z=g}b[52]!==z?(G=k.jsx("div",{ref:I,children:z}),b[52]=z,b[53]=G):G=b[53];b[54]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx("div",{className:"xjbqb8w x5yr21d x1o0tod xg6iff7 x1g81zrj xixxii4 x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:J}),b[54]=y):y=b[54];b[55]!==G?(H=k.jsxs(k.Fragment,{children:[G,y]}),b[55]=G,b[56]=H):H=b[56];return H}g.VideoPlayerSettingsMenuPaneType=p;g.VideoPlayerSettingsMenu=a}),226);
__d("VideoPlayerSettingsMenuAudioTrackPane.react",["ix","AutoDubbingConsumptionFalcoEvent","CometAudioLanguageMenuItemsMutation","CometFeedStoryMetaSectionMiddot.react","CometImage.react","CometPressable.react","CometRelay","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","FDSTextPairing.react","FocusRegion.react","VideoPlayerAudioTrackUtils","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.availableAudioTracks,f=a.originalVideoLanguage,g=a.setPane,i=a.targetAudioTrack,o=a.videoID,p=(j||(j=d("VideoPlayerHooks"))).useController();a=d("CometRelay").useMutation(d("CometAudioLanguageMenuItemsMutation").setUserPreferredAudioLanguageDataMutation);var q=a[0];b[0]!==q?(a=function(a){a!=null&&q({variables:{input:{language_code:a}}})},b[0]=q,b[1]=a):a=b[1];var r=a;b[2]!==o?(a=function(a,b,d,e,f){var g={client_extra_data:{dubbing_type_from:d==null?"original":d,dubbing_type_to:e==null?"original":e,lang_from:a!=null?a:"original",lang_to:b!=null?b:"original"},event:f,video_id:o!=null?o:""};c("AutoDubbingConsumptionFalcoEvent").log(function(){return g})},b[2]=o,b[3]=a):a=b[3];var s=a;b[4]!==f?(a=function(a){var b;b=(b=a==null?void 0:a.lang)!=null?b:null;(a==null?void 0:a.lang)===null&&a.role==null&&(b=f!=null?f:null);return b},b[4]=f,b[5]=a):a=b[5];var t=a,u=m(null),v=function(a){var b=t(a),c=t(i);p.selectVideoVariant({lang:a.lang,role:a.role});r(b);s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption_preferred_language_changed");u.current!=null&&u.current.remove();u.current=p.subscribe(function(){var d;if(((d=p.getCurrentState().targetAudioTrack)==null?void 0:d.id)===a.id){s(c,b,i==null?void 0:i.role,a.role,"fb_reel_auto_dub_consumption");(d=u.current)==null||d.remove()}})};b[6]!==p?(a=[p],b[6]=p,b[7]=a):a=b[7];l(function(){return function(){var a;(a=u.current)==null||a.remove()}},a);b[8]!==f?(a=function(a){var b=a==null?void 0:a.lang;b==null&&(a==null?void 0:a.role)==null&&(b=f!=null?f:null);b=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),b);var e=null;a.role==null?e=b==null?k.jsx("div",{children:d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL}):k.jsxs("div",{children:[d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b),k.jsx(c("CometFeedStoryMetaSectionMiddot.react"),{}),d("CometVideoPlayerAutoDubbingWWWStrings").ORIGINAL_AUDIO_LABEL]}):b!=null&&(e=d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(b));return e},b[8]=f,b[9]=a):a=b[9];var w=a;a=d("FocusRegion.react").FocusRegion;var x=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,y=d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,z="VideoPlayerSettingsMenu/changeAudioTrackPane";b[10]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[10]=z):z=b[10];var A;b[11]!==g?(A=function(){return g(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[11]=g,b[12]=A):A=b[12];var B;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(B={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[13]=B):B=b[13];b[14]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("span",babelHelpers["extends"]({},B,{children:k.jsx(c("CometImage.react"),{src:h("480579")})})),b[14]=B):B=b[14];b[15]!==A?(z=k.jsx("div",babelHelpers["extends"]({},z,{children:k.jsxs(c("CometPressable.react"),{onPress:A,testid:void 0,xstyle:n.pressableOption,children:[B,d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM]})})),b[15]=A,b[16]=z):z=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=k.jsx("div",{className:"x1j9u4d2 xyamay9",children:k.jsx(c("FDSTextPairing.react"),{body:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_DESCRIPTION,bodyColor:"white",level:4})}),A={className:"x1hm9lzh x1anpbxc xn80e1m"},b[17]=B,b[18]=A):(B=b[17],A=b[18]);var C="VideoPlayerSettingsMenu/changeAudioTrackPaneList";C=e.map(function(a){var b=(i==null?void 0:i.id)===a.id,d=w(a);if(d!=null)return k.jsx("div",{children:k.jsxs(c("CometPressable.react"),{onPress:function(){return v(a)},testid:void 0,xstyle:n.menuOptionRow,children:[k.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:b&&k.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:d}))]})},a.id)});b[19]!==A||b[20]!==C?(e=k.jsx("div",babelHelpers["extends"]({},A,{"data-testid":void 0,children:C})),b[19]=A,b[20]=C,b[21]=e):e=b[21];b[22]!==z||b[23]!==B||b[24]!==e?(A=k.jsxs("div",{"data-testid":void 0,children:[z,B,e]}),b[22]=z,b[23]=B,b[24]=e,b[25]=A):A=b[25];b[26]!==a||b[27]!==A||b[28]!==x||b[29]!==y?(C=k.jsx(a,{autoFocusQuery:x,recoverFocusQuery:y,children:A}),b[26]=a,b[27]=A,b[28]=x,b[29]=y,b[30]=C):C=b[30];return C}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["ix","CometImage.react","CometPressable.react","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(30),e=a.setPane;a=a.targetAudioTrack;var f,g,i,l,m,n,o;if(b[0]!==e||b[1]!==(a==null?void 0:a.lang)||b[2]!==(a==null?void 0:a.role)){var p=d("VideoPlayerAudioTrackUtils").getIntlDisplayName(c("CurrentLocale").get(),a==null?void 0:a.lang);f=c("CometPressable.react");b[11]!==e?(l=function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},b[11]=e,b[12]=l):l=b[12];m="VideoPlayerSettingsMenu/mainPaneAudioTrackItem";n=k.pressableOption;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(o=j.jsx("div",{className:"x1ypdohk x1s688f",children:d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM}),i={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j xn80e1m"},b[13]=i,b[14]=o):(i=b[13],o=b[14]);g="VideoPlayerSettingsMenu/mainPaneAudioTrackItemLabelManuallySelected";p=(a==null?void 0:a.role)===null?d("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_OFF:(a==null?void 0:a.role)==="dub"&&p!=null?d("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(p):null;b[0]=e;b[1]=a==null?void 0:a.lang;b[2]=a==null?void 0:a.role;b[3]=f;b[4]=g;b[5]=p;b[6]=i;b[7]=l;b[8]=m;b[9]=n;b[10]=o}else f=b[3],g=b[4],p=b[5],i=b[6],l=b[7],m=b[8],n=b[9],o=b[10];b[15]!==g||b[16]!==p?(a=j.jsx("span",{"data-testid":void 0,children:p}),b[15]=g,b[16]=p,b[17]=a):a=b[17];b[18]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x3nfvp2 xmgb6t1 xwklpps"},b[18]=g):g=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=j.jsx("span",babelHelpers["extends"]({},g,{children:j.jsx(c("CometImage.react"),{src:h("480587")})})),b[19]=p):p=b[19];b[20]!==i||b[21]!==a?(g=j.jsxs("div",babelHelpers["extends"]({},i,{children:[a,p]})),b[20]=i,b[21]=a,b[22]=g):g=b[22];b[23]!==f||b[24]!==g||b[25]!==l||b[26]!==m||b[27]!==n||b[28]!==o?(p=j.jsxs(f,{onPress:l,testid:void 0,xstyle:n,children:[o,g]}),b[23]=f,b[24]=g,b[25]=l,b[26]=m,b[27]=n,b[28]=o,b[29]=p):p=b[29];return p}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuAudioTrackPaneToggle.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(23),e=a.availableAudioTracks,g=a.children,h=a.isLive,k=a.playbackRate,l=a.selectedVideoQuality,m=a.setPane,n=a.shouldEnablePlaybackRateSupport,o=a.targetAudioTrack;a=a.targetVideoQuality;var p=j(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);p=p.liveVideoLatencyMenuPaneToggleMatchPointer;h=!h&&e.length>1?c("gkx")("24336"):!1;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[0]=e):e=b[0];b[1]!==l||b[2]!==m||b[3]!==a?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:l,setPane:m,targetVideoQuality:a})})),b[1]=l,b[2]=m,b[3]=a,b[4]=e):e=b[4];b[5]!==m||b[6]!==h||b[7]!==o?(l=h&&i.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:i.jsx(c("VideoPlayerSettingsMenuAudioTrackPaneToggle.react"),{setPane:m,targetAudioTrack:o})}),b[5]=m,b[6]=h,b[7]=o,b[8]=l):l=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv"},b[9]=a):a=b[9];b[10]!==k||b[11]!==m||b[12]!==n?(h=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:k,setPane:m,shouldEnablePlaybackRateSupport:n})})),b[10]=k,b[11]=m,b[12]=n,b[13]=h):h=b[13];b[14]!==p||b[15]!==m?(o=p!=null&&i.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(d("CometRelay").MatchContainer,{match:p,props:{setPane:m}})})})}),b[14]=p,b[15]=m,b[16]=o):o=b[16];b[17]!==g||b[18]!==e||b[19]!==l||b[20]!==h||b[21]!==o?(a=i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:i.jsxs("div",{"data-testid":void 0,children:[e,l,h,o,g]})}),b[17]=g,b[18]=e,b[19]=l,b[20]=h,b[21]=o,b[22]=a):a=b[22];return a}g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l={pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(13),e=a.playbackRate,f=a.setPane;a=a.shouldEnablePlaybackRateSupport;if(!a)return null;b[0]!==f?(a=function(){f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},b[0]=f,b[1]=a):a=b[1];var g,j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:"x1ypdohk x1s688f",children:h._(/*BTDS*/"Playback speed")}),j={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j"},b[2]=g,b[3]=j):(g=b[2],j=b[3]);var m;b[4]!==e?(m=k.jsx("span",{"data-testid":void 0,children:e}),b[4]=e,b[5]=m):m=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x3nfvp2 xmgb6t1 xwklpps"},b[6]=e):e=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx("span",babelHelpers["extends"]({},e,{children:k.jsx(c("CometImage.react"),{src:i("480587")})})),b[7]=e):e=b[7];b[8]!==m?(j=k.jsxs("div",babelHelpers["extends"]({},j,{children:[m,e]})),b[8]=m,b[9]=j):j=b[9];b[10]!==a||b[11]!==j?(e=k.jsxs(c("CometPressable.react"),{onPress:a,testid:void 0,xstyle:l.pressableOption,children:[g,j]}),b[10]=a,b[11]=j,b[12]=e):e=b[12];return e}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.playbackRate,f=a.setPane,g=(k||(k=d("VideoPlayerHooks"))).useController();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=a):a=b[0];var j;b[1]!==f?(j=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=j):j=b[2];var n;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x3nfvp2 xmgb6t1 x165d6jo"},b[3]=n):n=b[3];var o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx("span",babelHelpers["extends"]({},n,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),o=h._(/*BTDS*/"Playback speed"),b[4]=n,b[5]=o):(n=b[4],o=b[5]);b[6]!==j?(a=l.jsx("div",babelHelpers["extends"]({},a,{children:l.jsxs(c("CometPressable.react"),{onPress:j,testid:void 0,xstyle:m.pressableOption,children:[" ",n,o]})})),b[6]=j,b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1hm9lzh x1anpbxc"},b[8]=n):n=b[8];b[9]!==g||b[10]!==e?(o=l.jsx("div",babelHelpers["extends"]({},n,{"data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(a){var b=e===a,d=h._(/*BTDS*/"Set the playback speed to {playback_rate_option}{is_playback_rate_option_selected}",[h._param("playback_rate_option",a),h._param("is_playback_rate_option_selected",b?", selected":"")]);return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{"aria-checked":b,"aria-label":d,onPress:function(){g.setPlaybackRate(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",{className:"x17j41np x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:b&&l.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)})})),b[9]=g,b[10]=e,b[11]=o):o=b[11];b[12]!==a||b[13]!==o?(j=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[a,o]})}),b[12]=a,b[13]=o,b[14]=j):j=b[14];return j}g["default"]=a}),226);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react"),m={menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingInlineEnd:"xyri2b",paddingBottom:"xg8j3zb",paddingInlineStart:"x1c1uobl",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.selectedVideoQuality,f=a.setPane;a=(k||(k=d("VideoPlayerHooks"))).useAvailableVideoQualities();var g=k.useIsAbrEnabled(),j=k.useController(),n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv"},b[0]=n):n=b[0];var o;b[1]!==f?(o=function(){return f(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},b[1]=f,b[2]=o):o=b[2];var p;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x3nfvp2 xmgb6t1 x165d6jo"},b[3]=p):p=b[3];var q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx("span",babelHelpers["extends"]({},p,{children:l.jsx(c("CometImage.react"),{src:i("480579")})})),q=h._(/*BTDS*/"Quality"),b[4]=p,b[5]=q):(p=b[4],q=b[5]);b[6]!==o?(n=l.jsx("div",babelHelpers["extends"]({},n,{children:l.jsxs(c("CometPressable.react"),{onPress:o,testid:void 0,xstyle:m.pressableOption,children:[p,q]})})),b[6]=o,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1hm9lzh x1anpbxc"},b[8]=p):p=b[8];b[9]!==j||b[10]!==g||b[11]!==e?(q=g?l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality("auto")},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:e==="auto"&&l.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!(e==="auto")<<0],{"data-testid":void 0,children:h._(/*BTDS*/"Auto")}))]})},"auto"):null,b[9]=j,b[10]=g,b[11]=e,b[12]=q):q=b[12];if(b[13]!==a||b[14]!==j||b[15]!==e){b[17]!==j||b[18]!==e?(o=function(a){var b=e===a;return l.jsx("div",{children:l.jsxs(c("CometPressable.react"),{onPress:function(){j.selectVideoQuality(a)},testid:void 0,xstyle:m.menuOptionRow,children:[l.jsx("div",{className:"xiakxrv x1rgw4pv x1vjm0to xnqoqkk x16lu3ki x1rg5ohu xmgb6t1 x1sa5p1d x1yrsyyn x1icxu4v x10b6aqq x25sj25",children:b&&l.jsx("div",{className:"x14hiurz x13t61ll x1kchd1x x1u0fnx4 xbxn0j6 x1rg5ohu xqu0tyb xe9ewy2 x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1ypdohk x1rg5ohu"},1:{className:"x1ypdohk x1rg5ohu x1s688f"}}[!!b<<0],{"data-testid":void 0,children:a}))]})},a)},b[17]=j,b[18]=e,b[19]=o):o=b[19];g=a.map(o).reverse();b[13]=a;b[14]=j;b[15]=e;b[16]=g}else g=b[16];b[20]!==q||b[21]!==g?(o=l.jsxs("div",babelHelpers["extends"]({},p,{"data-testid":void 0,children:[q,g]})),b[20]=q,b[21]=g,b[22]=o):o=b[22];b[23]!==o||b[24]!==n?(a=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:l.jsxs("div",{"data-testid":void 0,children:[n,o]})}),b[23]=o,b[24]=n,b[25]=a):a=b[25];return a}g["default"]=a}),226);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState;function a(a){var b=d("react-compiler-runtime").c(29),e=a.alignMenuToIcon,f=a.children,g=a.compactMenu,j=a.forceShowPlaybackRateControl,m=a.icon,n=a.menuOpened,o=a.onMenuOpen,p=a.onUserInteraction,q=a.originalVideoLanguage,r=a.ref,s=a.setMenuOpened;a=a.videoID;e=e===void 0?!1:e;f=f===void 0?null:f;var t=l(!1),u=t[0],v=t[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Settings"),b[0]=t):t=b[0];t=t;var w=s!=null;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u,p);var x=w?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:u;b[1]!==e?(p={0:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq"},1:{className:"x1rg5ohu x1k70j0n xbelrpt xzueoph xdzw4kq x1n2onr6 xuxw1ft"}}[!!(e===!0)<<0],b[1]=e,b[2]=p):p=b[2];b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==j||b[7]!==w||b[8]!==x||b[9]!==q||b[10]!==s||b[11]!==a?(n=x&&k.jsx("div",babelHelpers["extends"]({},{0:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x1fwd5yv"},2:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk xwjie4w"},1:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"},3:{className:"xjb1437 xacj9c0 x14ctfv x89ytp0 x889kno x1x5flf6 x1a8lsjc xwn43p0 x10l6tqk x3m8u43"}}[!!(g===!0)<<1|!!(e===!0)<<0],{children:k.jsx(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{forceShowPlaybackRateControl:j,onClose:function(){w?s!=null&&s(null):v(!1)},originalVideoLanguage:q!=null?q:null,videoID:a!=null?a:null,children:f})})),b[3]=e,b[4]=f,b[5]=g,b[6]=j,b[7]=w,b[8]=x,b[9]=q,b[10]=s,b[11]=a,b[12]=n):n=b[12];b[13]!==m?(e=m==null?d("fbicon")._(i("497567"),20):m,b[13]=m,b[14]=e):e=b[14];b[15]!==w||b[16]!==x||b[17]!==u||b[18]!==o||b[19]!==s?(f=function(){w?s!=null&&s(x?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):v(!u),!x&&o!=null&&o()},b[15]=w,b[16]=x,b[17]=u,b[18]=o,b[19]=s,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(g=k.jsx(c("VideoPlayerControlIcon.react"),{icon:e,label:t,onPress:f,tooltip:t}),b[21]=e,b[22]=f,b[23]=g):g=b[23];b[24]!==r||b[25]!==p||b[26]!==n||b[27]!==g?(j=k.jsxs("div",babelHelpers["extends"]({},p,{ref:r,children:[n,g]})),b[24]=r,b[25]=p,b[26]=n,b[27]=g,b[28]=j):j=b[28];return j}a.displayName="VideoPlayerSettingsControl";g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWatchAndScrollControl_video",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_professional_features_for_watch",storageKey:null}],type:"VideoOwner",abstractKey:"__isVideoOwner"},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Video",abstractKey:null}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29450006731309811"}),null);
__d("useVideoPlayerWatchAndScrollControlNUXQuery.graphql",["useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"nux_id",value:9347}],c={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[c],storageKey:"nux(nux_id:9347)"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useVideoPlayerWatchAndScrollControlNUXQuery",selections:[{alias:null,args:a,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:"nux(nux_id:9347)"}]},params:{id:b("useVideoPlayerWatchAndScrollControlNUXQuery_facebookRelayOperation"),metadata:{},name:"useVideoPlayerWatchAndScrollControlNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useVideoPlayerWatchAndScrollControlNUX",["fbt","CometRelay","CometWatchAndScrollTriggerContext","FBLogger","react","react-compiler-runtime","requireDeferred","useFDSCallout","useVideoPlayerWatchAndScrollControlNUXQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;e=j||d("react");e.useCallback;var k=e.useContext,l=e.useEffect,m=e.useState,n=c("requireDeferred")("CometDismissFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),o=c("requireDeferred")("CometLogImpressionFBNuxMutation").__setRef("useVideoPlayerWatchAndScrollControlNUX"),p={nux:{maxWidth:"xw5ewwj",$$css:!0}},q=9347,r=i!==void 0?i:i=b("useVideoPlayerWatchAndScrollControlNUXQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(19),e=k(c("CometWatchAndScrollTriggerContext")),f=e.setIsTriggerDisabled;e=m(null);var g=e[0],i=e[1],j=d("CometRelay").useRelayEnvironment();b[0]!==j||b[1]!==f?(e=function(){f!=null&&f(!0),i(!1),n.onReady(function(a){a.commit(j,q)})},b[0]=j,b[1]=f,b[2]=e):e=b[2];var u=e,v;b[3]!==a||b[4]!==j||b[5]!==g?(e=function(){if(a&&g===null){var b=d("CometRelay").fetchQuery(j,r,{fetchPolicy:"store-or-network"}).subscribe({next:function(b){var c;b=(b==null||(c=b.nux)==null?void 0:c.should_show)||!1;i(b);b&&a&&o.onReady(function(a){a.commit(j,q,t,s)})}});return function(){b.unsubscribe()}}},v=[j,a,g],b[3]=a,b[4]=j,b[5]=g,b[6]=e,b[7]=v):(e=b[6],v=b[7]);l(e,v);b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Watch and scroll feature tooltip"),b[8]=e):e=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Continue watching while you browse Facebook."),b[9]=v):v=b[9];var w;b[10]!==u?(w=function(){u()},b[10]=u,b[11]=w):w=b[11];var x;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){i(!1)},b[12]=x):x=b[12];b[13]!==w?(e={align:"end","aria-label":e,arrowStyle:"inset",content:v,disableAutoFlip:!0,hasCloseButton:!0,onClose:w,onHide:x,position:"below",type:"accent",xstyle:p.nux},b[13]=w,b[14]=e):e=b[14];v=c("useFDSCallout")(e,g===!0&&a||!1);x=v.anchorRef;b[15]!==x||b[16]!==u||b[17]!==g?(w={handleDismissNUX:u,nuxRef:x,shouldShowNUX:g},b[15]=x,b[16]=u,b[17]=g,b[18]=w):w=b[18];return w}function s(){c("FBLogger")("watch_www_and_off_platform").mustfix("logimpression fb nux mutation failed for video player watch and scroll control.")}function t(){}g["default"]=a}),226);
__d("VideoPlayerWatchAndScrollControl.react",["fbt","ix","CastingStateHooks","CometPictureInPictureExpContext","CometRelay","CometRouteRenderType","CometVideoPictureInPictureManager.react","CometVideoPictureInPictureManagerContext","CometWatchAndScrollControlNUXContext","CometWatchAndScrollTriggerContext","JSResourceForInteraction","StoryAttachmentContext","VideoPlayerControlIcon.react","VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerWatchAndScrollControl_video.graphql","VideoPlayerWithWatchAndScrollTrigger.react","emptyFunction","fbicon","gkx","react","react-compiler-runtime","requireDeferred","useCometLazyDialog","useCometRouterDispatcher","useCometRouterState","useIsVideoHomePlayerOriginFromTracePolicy","useMinifiedProductAttribution","usePlayerOriginRouteTracePolicy","useVideoPlayerWatchAndScrollControlNUX","useWatchAndScrollTrigger"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||(k=d("react"));e=k;e.useCallback;var n=e.useContext,o=e.useEffect,p=e.useState,q=c("requireDeferred")("VideoHomeTypedLiteLogger").__setRef("VideoPlayerWatchAndScrollControl.react"),r=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerWatchAndScrollControl.react"),s=6e4,t=window.document.pictureInPictureEnabled;function a(a){var e,f,g=d("react-compiler-runtime").c(56),k=a.subOrigin;a=a.video;var u=n(c("CometWatchAndScrollTriggerContext")),v=u.isControlShown,w=u.setIsControlShown;u=d("CometRouteRenderType").useIsPushView();var x=(l||(l=d("VideoPlayerHooks"))).useIsFullscreen(),y=c("useCometRouterDispatcher")(),z=c("useCometRouterState")(),A=(z=z==null?void 0:z.main.route.tabKey)!=null?z:"undefined";z=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWatchAndScrollControl_video.graphql"),a);var B=z==null?void 0:z.id;a=(a=z==null?void 0:z.playable_duration_in_ms)!=null?a:0;var C=z==null?void 0:z.is_huddle,D=z==null?void 0:z.url,E,F;g[0]!==w?(E=function(){w!=null&&w(!0)},F=[w],g[0]=w,g[1]=E,g[2]=F):(E=g[1],F=g[2]);o(E,F);var G=c("usePlayerOriginRouteTracePolicy")();E=c("useIsVideoHomePlayerOriginFromTracePolicy")(G);F=(z==null||(e=z.owner)==null?void 0:e.has_professional_features_for_watch)===!0&&a>=s&&v&&!E;var H=l.usePlaying(),I=l.useController();a=l.useCurrentTimeThrottled(200);var J=a>=10;v=p(!1);E=v[0];var K=v[1];a=p(!1);var L=a[0],aa=a[1];v=p(!1);a=v[0];var ba=v[1];v=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsStateValue();v=v==="STARTING_INDICATOR"||v==="PLAY_NI_VIDEO"||v==="START_AD"||v==="PLAY_LONGER_AD";var M=c("useMinifiedProductAttribution")(),N,O;g[3]!==J||g[4]!==H?(N=function(){H&&J&&K(!0)},O=[J,H],g[3]=J,g[4]=H,g[5]=N,g[6]=O):(N=g[5],O=g[6]);o(N,O);var P=d("CastingStateHooks").useIsCastingAnyVideo();N=c("useCometLazyDialog")(r);var Q=N[0];O=!v&&E&&F;N=c("useVideoPlayerWatchAndScrollControlNUX")(O);var R=N.handleDismissNUX;v=N.nuxRef;E=N.shouldShowNUX;var S=E===!0&&O;F=n(c("CometWatchAndScrollControlNUXContext"));var T=F.setIsVideoPlayerWatchAndScrollControlNUXVisible,U=n(c("CometPictureInPictureExpContext"));g[7]!==S||g[8]!==T?(N=function(){T&&T(S)},E=[S,T],g[7]=S,g[8]=T,g[9]=N,g[10]=E):(N=g[9],E=g[10]);o(N,E);O=d("StoryAttachmentContext").useStoryAttachmentContext();F=O.videoPlayerSessionID;var V=d("useWatchAndScrollTrigger").useWatchAndScrollTrigger(k,d("VideoPlayerWithWatchAndScrollTrigger.react").WatchAndScrollTriggerType.WNS_CONTROL,B,D,F),W=l.useIsPremiumMusicVideo(),X=z==null||(f=z.owner)==null?void 0:f.id;g[11]!==W||g[12]!==X||g[13]!==U?(N=function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp(),b=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExpControlGroup();U.setPictureInPictureExpConfig({isInPictureInPictureExp:a,isInPictureInPictureExpControlGroup:b,isSkipAndChainingDisabled:!1});t&&a&&aa(!0);a=(a||b)&&(W||d("CometVideoPictureInPictureManager.react").EXCLUDED_PROVIDERS.includes(X));a&&ba(!0)},g[11]=W,g[12]=X,g[13]=U,g[14]=N):N=g[14];E=N;var Y=G==="comet.videos.tahoe";g[15]!==P||g[16]!==V||g[17]!==Q||g[18]!==B?(O=function(){P&&B!=null?Q({onClose:c("emptyFunction"),onContinue:V,startingVideoType:"wns"},c("emptyFunction")):V()},g[15]=P,g[16]=V,g[17]=Q,g[18]=B,g[19]=O):O=g[19];var Z=O;g[20]!==I||g[21]!==y||g[22]!==R||g[23]!==L||g[24]!==S||g[25]!==Z||g[26]!==M||g[27]!==G||g[28]!==k||g[29]!==A?(D=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),y&&y.popPushView()},g[20]=I,g[21]=y,g[22]=R,g[23]=L,g[24]=S,g[25]=Z,g[26]=M,g[27]=G,g[28]=k,g[29]=A,g[30]=D):D=g[30];F=D;var $=k==="live_producer";g[31]!==I||g[32]!==y||g[33]!==Y||g[34]!==R||g[35]!==L||g[36]!==x||g[37]!==S||g[38]!==Z||g[39]!==M||g[40]!==$||g[41]!==G||g[42]!==k||g[43]!==A?(z=function(){Z(),L?(q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_picture_in_picture",event:"click",event_target_info:G,player_suborigin:k})}),I.requestPictureInPicture()):q.onReady(function(a){a.log({attribution_id_v2:M,click_point:"control_watch_and_scroll",event:"click",event_target_info:A})}),S===!0&&R(),x&&I.requestSetIsFullscreen(!1),y!=null&&($||Y)&&y.go("/",{})},g[31]=I,g[32]=y,g[33]=Y,g[34]=R,g[35]=L,g[36]=x,g[37]=S,g[38]=Z,g[39]=M,g[40]=$,g[41]=G,g[42]=k,g[43]=A,g[44]=z):z=g[44];N=z;O=u?F:N;if(c("gkx")("20836")){g[45]===Symbol["for"]("react.memo_cache_sentinel")?(D=h._(/*BTDS*/"Continue watching while you use Workplace"),g[45]=D):D=g[45];z=D}else if(C===!0){g[46]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Continue listening while you browse Facebook."),g[46]=u):u=g[46];z=u}else{g[47]===Symbol["for"]("react.memo_cache_sentinel")?(F=h._(/*BTDS*/"Continue watching while you browse Facebook."),g[47]=F):F=g[47];z=F}if(L){g[48]===Symbol["for"]("react.memo_cache_sentinel")?(N=h._(/*BTDS*/"Enter picture in picture mode"),g[48]=N):N=g[48];z=N}g[49]!==a||g[50]!==S||g[51]!==z||g[52]!==v||g[53]!==E||g[54]!==O?(D=a?null:m.jsx("div",{onMouseEnter:E,ref:v,children:m.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:d("fbicon")._(i("150489"),20),label:z,onPress:O,tooltip:S?null:z})}),g[49]=a,g[50]=S,g[51]=z,g[52]=v,g[53]=E,g[54]=O,g[55]=D):D=g[55];return D}g["default"]=a}),226);
__d("VideoPlayerLiveVideoControls.react",["CometPlaceholder.react","CometRelay","CometTahoeCustomVideoAreaContext","CometTahoeSidePaneContext","CometTrackingNodeProvider.react","LiveCostreamerTagSubscription.react","LiveVideoLatencyMenu.react","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerLiveVideoControls_video.graphql","VideoPlayerPlaybackControl.react","VideoPlayerQuietModeControl.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerBigPlayButtonOverlay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState,n=h!==void 0?h:h=b("VideoPlayerLiveVideoControls_video.graphql");function o(a){var b,e,g=d("react-compiler-runtime").c(85),h=d("CometRelay").useFragment(n,a.video),i=(j||(j=d("VideoPlayerHooks"))).useEnded(),o=j.useIsFullscreen(),p=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),q=l(c("CometTahoeSidePaneContext"));q=q.rightRailHidden;var r=c("useVideoPlayerBigPlayButtonOverlay")();r=r.bigPlayButtonIsVisible;var s=j.useCaptionsLoaded(),t=j.useCaptionsVisible(),u=m(null),v=u[0];u=u[1];var w=l(d("CometTahoeCustomVideoAreaContext").CometTahoeCustomVideoAreaContext);w=w.customVideoAreaHidden;if(i)return null;i=a.disablePlaybackControls;var x=a.expandControl,y=a.isControlsVisible,z=a.isExpandControlVisible,A=a.isVolumeControlVisible,B=a.isWatchAndScrollControlVisible,C=a.onUserInteraction,D=a.shouldRenderCaptionsControl,E=a.shouldRenderCostreamControl,F=a.shouldRenderModeratorControl,G=a.subOrigin;z=z===void 0?!1:z;B=B===void 0?!1:B;D=D===void 0?!0:D;E=E===void 0?!1:E;F=F===void 0?!1:F;var H=h==null?void 0:h.id,I=h==null||(b=h.owner)==null?void 0:b.id,J=h==null?void 0:h.if_viewer_can_see_costreaming_tools,K=J!=null,L=h==null?void 0:h.if_viewer_can_use_clipping,M=(h==null?void 0:h.is_clipping_enabled)===!0,N=h==null?void 0:h.if_viewer_can_see_community_moderation_tools,O=N!=null,P=h==null?void 0:h.if_viewer_can_use_live_rewind;e=((e=h==null?void 0:h.live_rewind_enabled)!=null?e:!1)&&a.shouldHideRewindControls!==!0;z=z||y||i===!0&&!r;B=B||y||i===!0&&!r;g[0]!==x||g[1]!==z?(r=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:z,noPaddingEnd:!0,noPaddingStart:!0,children:x}),g[0]=x,g[1]=z,g[2]=r):r=g[2];x=r;g[3]!==a.shouldRenderWatchAndScrollControl||g[4]!==B||g[5]!==G||g[6]!==h?(z=a.shouldRenderWatchAndScrollControl===!0&&G!=null&&h!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:B,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:G,video:h})}):null,g[3]=a.shouldRenderWatchAndScrollControl,g[4]=B,g[5]=G,g[6]=h,g[7]=z):z=g[7];r=z;B=G==="watch_scroll";z=c("gkx")("24335")?D===!0:!B;g[8]!==P||g[9]!==i||g[10]!==y||g[11]!==e||g[12]!==C||g[13]!==a.shouldRenderPauseControl?(D=e?k.jsx(d("CometRelay").MatchContainer,{match:P,props:{isControlsVisible:y&&!i,onUserInteraction:C,video:P}}):k.jsxs(k.Fragment,{children:[Boolean(a.shouldRenderPauseControl)?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y&&!i,children:k.jsx(c("VideoPlayerPlaybackControl.react"),{})}):null,k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:k.jsx(k.Fragment,{})})]}),g[8]=P,g[9]=i,g[10]=y,g[11]=e,g[12]=C,g[13]=a.shouldRenderPauseControl,g[14]=D):D=g[14];g[15]!==I||g[16]!==H?(B=I!=null&&H!=null&&k.jsx(c("LiveCostreamerTagSubscription.react"),{pageID:I,videoID:H}),g[15]=I,g[16]=H,g[17]=B):B=g[17];g[18]!==K||g[19]!==J||g[20]!==o||g[21]!==E||g[22]!==H?(P=K&&E&&H!=null&&!o&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(d("CometRelay").MatchContainer,{match:J,props:{video:J}})}),g[18]=K,g[19]=J,g[20]=o,g[21]=E,g[22]=H,g[23]=P):P=g[23];g[24]!==o||g[25]!==a.shouldRenderQuietModeControl?(e=a.shouldRenderQuietModeControl===!0&&!o&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}),g[24]=o,g[25]=a.shouldRenderQuietModeControl,g[26]=e):e=g[26];g[27]!==o||g[28]!==a.shouldRenderExpandSidePanelControl||g[29]!==q?(I=a.shouldRenderExpandSidePanelControl===!0&&!o&&!q&&k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{}),g[27]=o,g[28]=a.shouldRenderExpandSidePanelControl,g[29]=q,g[30]=I):I=g[30];g[31]!==L||g[32]!==M||g[33]!==H?(K=M&&H!=null&&k.jsx(d("CometRelay").MatchContainer,{match:L,props:{video:L,videoID:H}}),g[31]=L,g[32]=M,g[33]=H,g[34]=K):K=g[34];g[35]!==O||g[36]!==N||g[37]!==F||g[38]!==H?(J=O&&F?k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(d("CometRelay").MatchContainer,{match:N,props:{video:N,videoID:H}})}):null,g[35]=O,g[36]=N,g[37]=F,g[38]=H,g[39]=J):J=g[39];g[40]!==p||g[41]!==i||g[42]!==v||g[43]!==C||g[44]!==h?(E=i===!0?null:k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:k.jsx(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContextProvider,{video:h,children:k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:(p==null?void 0:p.getBottomRowAddOn())!=null,menuOpened:v,onUserInteraction:C,setMenuOpened:u})})}),g[40]=p,g[41]=i,g[42]=v,g[43]=C,g[44]=h,g[45]=E):E=g[45];g[46]!==p||g[47]!==s||g[48]!==t||g[49]!==z||g[50]!==y||g[51]!==v||g[52]!==C||g[53]!==h?(o=s&&z?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{alignMenuToIcon:(p==null?void 0:p.getBottomRowAddOn())!=null,captionsVisible:t,menuOpened:v,onUserInteraction:C,setMenuOpened:u,video:h})}):null,g[46]=p,g[47]=s,g[48]=t,g[49]=z,g[50]=y,g[51]=v,g[52]=C,g[53]=h,g[54]=o):o=g[54];g[55]!==i||g[56]!==y||g[57]!==a.shouldRenderCastControl||g[58]!==G||g[59]!==h?(q=a.shouldRenderCastControl===!0&&G!=null&&h!=null?k.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:y&&!i,subOrigin:G}):null,g[55]=i,g[56]=y,g[57]=a.shouldRenderCastControl,g[58]=G,g[59]=h,g[60]=q):q=g[60];g[61]!==y||g[62]!==e||g[63]!==I||g[64]!==K||g[65]!==J||g[66]!==E||g[67]!==o||g[68]!==q||g[69]!==B||g[70]!==P?(L=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:y,children:[B,P,e,I,K,J,E,o,q]}),g[61]=y,g[62]=e,g[63]=I,g[64]=K,g[65]=J,g[66]=E,g[67]=o,g[68]=q,g[69]=B,g[70]=P,g[71]=L):L=g[71];g[72]!==C?(M=k.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:C})}),g[72]=C,g[73]=M):M=g[73];g[74]!==A||g[75]!==M?(O=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:A,noPaddingStart:!0,children:M}),g[74]=A,g[75]=M,g[76]=O):O=g[76];g[77]!==w||g[78]!==x||g[79]!==y||g[80]!==L||g[81]!==O||g[82]!==D||g[83]!==r?(N=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:y,isVisible:w,children:[D,L,x,r,O]}),g[77]=w,g[78]=x,g[79]=y,g[80]=L,g[81]=O,g[82]=D,g[83]=r,g[84]=N):N=g[84];return N}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:k.jsx(o,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplLive.react",["CometRelay","VideoPlayerDefaultControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(17),f=a.expandControl,g=a.isControlsVisible,i=a.isVolumeControlVisible,k=a.onUserInteraction,l=a.pictureInPictureControl,m=a.shouldHideRewindControls,n=a.shouldRenderCaptionsControl,o=a.shouldRenderCostreamControl,p=a.shouldRenderExpandSidePanelControl,q=a.shouldRenderModeratorControl,r=a.shouldRenderPauseControl,s=a.shouldRenderQuietModeControl,t=a.shouldRenderWatchAndScrollControl,u=a.subOrigin,v=a.video;a=a.videoTahoeUrl;v=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplLive_video.graphql"),v);var w;e[0]!==f||e[1]!==g||e[2]!==i||e[3]!==k||e[4]!==l||e[5]!==m||e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==q||e[10]!==r||e[11]!==s||e[12]!==t||e[13]!==u||e[14]!==v||e[15]!==a?(w=j.jsx(c("VideoPlayerLiveVideoControls.react"),{expandControl:f,isControlsVisible:g,isVolumeControlVisible:i,onUserInteraction:k,pictureInPictureControl:l,shouldHideRewindControls:m,shouldRenderCaptionsControl:n,shouldRenderCostreamControl:o,shouldRenderExpandSidePanelControl:p,shouldRenderModeratorControl:q,shouldRenderPauseControl:r,shouldRenderQuietModeControl:s,shouldRenderWatchAndScrollControl:t,subOrigin:u,video:v,videoTahoeUrl:a}),e[0]=f,e[1]=g,e[2]=i,e[3]=k,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t,e[13]=u,e[14]=v,e[15]=a,e[16]=w):w=e[16];return w}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplNotLive_video",selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{args:null,kind:"FragmentSpread",name:"useVideoPlayerAvailableCaptionsLocalesFromRelay_video"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_clipping",plural:!1,selections:[{args:null,documentName:"VideoPlayerDefaultControlsImplNotLive_video_if_viewer_can_use_clipping",fragmentName:"VideoPlayerClipVideoControl_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberRenderer_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","VideoPlayerScrubberRenderer.react","VideoPlayerScrubberWithPreview_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(9),f=a.onUserInteraction,g=a.timelinePlayedXStyle;a=a.video;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberWithPreview_video.graphql"),a);e[0]!==g||e[1]!==i?(a=function(a){return j.jsx(c("VideoPlayerScrubberRenderer.react"),{scrubberProps:babelHelpers["extends"]({},a,{timelinePlayedXStyle:g}),video:i})},e[0]=g,e[1]=i,e[2]=a):a=e[2];var k;e[3]!==i?(k=function(a){return j.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:i})},e[3]=i,e[4]=k):k=e[4];var l;e[5]!==f||e[6]!==a||e[7]!==k?(l=j.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:f,renderScrubber:a,renderTooltip:k}),e[5]=f,e[6]=a,e[7]=k,e[8]=l):l=e[8];return l}g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplNotLive.react",["CometRelay","CometTahoeSidePaneContext","VideoPlayerCaptionsControl.react","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplNotLive_video.graphql","VideoPlayerExpandSidePanelControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerQuietModeControl.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","gkx","react","react-compiler-runtime","useVideoPlayerAvailableCaptionsLocalesFromRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.useContext,m=e.useState;function a(a){var e=d("react-compiler-runtime").c(71),f=a.availableCaptionsLocales,g=a.expandControl,i=a.initialCaptionsUrl,o=a.isControlsVisible,p=a.isVolumeControlVisible,q=a.onUserInteraction,r=a.scrubberTimelinePlayedXStyle,s=a.shouldRenderCaptionsControl,t=a.shouldRenderExpandSidePanelControl,u=a.shouldRenderQuietModeControl,v=a.shouldRenderWatchAndScrollControl,w=a.skipControl,x=a.subOrigin;a=a.video;s=s===void 0?!0:s;t=t===void 0?!1:t;u=u===void 0?!1:u;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplNotLive_video.graphql"),a);var y=(j||(j=d("VideoPlayerHooks"))).useIsFullscreen(),z;if(e[0]!==(a==null?void 0:a.dubbed_track_mapping)){var A;z=a==null||(A=a.dubbed_track_mapping)==null||(A=A.find(n))==null?void 0:A.audio_lang;e[0]=a==null?void 0:a.dubbed_track_mapping;e[1]=z}else z=e[1];z=z;var B=a==null?void 0:a.id,C=a==null?void 0:a.if_viewer_can_use_clipping,D=l(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),E=l(c("CometTahoeSidePaneContext"));E=E.rightRailHidden;var F;e[2]!==o||e[3]!==y||e[4]!==u?(F=u===!0&&!y?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerQuietModeControl.react"),{})}):null,e[2]=o,e[3]=y,e[4]=u,e[5]=F):F=e[5];u=F;e[6]!==o||e[7]!==y||e[8]!==E||e[9]!==t?(F=t===!0&&!y&&!E&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,children:k.jsx(c("VideoPlayerExpandSidePanelControl.react"),{})}),e[6]=o,e[7]=y,e[8]=E,e[9]=t,e[10]=F):F=e[10];y=F;e[11]!==C||e[12]!==o||e[13]!==u||e[14]!==B?(E=C!=null&&B!=null&&k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,noPaddingStart:u!=null,children:k.jsx(d("CometRelay").MatchContainer,{match:C,props:{video:C,videoID:B}})}),e[11]=C,e[12]=o,e[13]=u,e[14]=B,e[15]=E):E=e[15];t=E;F=m(null);C=F[0];B=F[1];E=u!=null||t!=null;F=(D==null?void 0:D.getBottomRowAddOn())!=null;D=z!=null?z:null;e[16]!==C||e[17]!==q||e[18]!==D||e[19]!==F?(z=k.jsx(c("VideoPlayerSettingsControl.react"),{alignMenuToIcon:F,menuOpened:C,onUserInteraction:q,originalVideoLanguage:D,setMenuOpened:B}),e[16]=C,e[17]=q,e[18]=D,e[19]=F,e[20]=z):z=e[20];e[21]!==o||e[22]!==z||e[23]!==E?(D=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,noPaddingStart:E,children:z}),e[21]=o,e[22]=z,e[23]=E,e[24]=D):D=e[24];F=D;e[25]!==o||e[26]!==v||e[27]!==x||e[28]!==a?(z=v===!0&&x!=null&&a!=null?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,children:k.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:x,video:a})}):null,e[25]=o,e[26]=v,e[27]=x,e[28]=a,e[29]=z):z=e[29];E=z;e[30]!==g||e[31]!==o?(D=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,noPaddingEnd:!0,children:g}),e[30]=g,e[31]=o,e[32]=D):D=e[32];v=D;e[33]!==q?(z=k.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:q}),e[33]=q,e[34]=z):z=e[34];e[35]!==p||e[36]!==z?(g=k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p,noPaddingStart:!0,children:z}),e[35]=p,e[36]=z,e[37]=g):g=e[37];D=g;e[38]!==q||e[39]!==r||e[40]!==a?(p=k.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:q,timelinePlayedXStyle:r,video:a}),e[38]=q,e[39]=r,e[40]=a,e[41]=p):p=e[41];e[42]!==o||e[43]!==p?(z=k.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:o,children:p}),e[42]=o,e[43]=p,e[44]=z):z=e[44];g=z;e[45]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsx(c("VideoPlayerPlaybackControl.react"),{}),e[45]=r):r=e[45];e[46]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("VideoPlayerPlaybackTimer.react"),{}),e[46]=p):p=e[46];e[47]!==o||e[48]!==w?(z=k.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,children:[r,w,p]}),e[47]=o,e[48]=w,e[49]=z):z=e[49];r=z;p=c("gkx")("21034")?!1:c("gkx")("24335")?s===!0:x!=="watch_scroll";w=j.useCaptionsLoaded();z=j.useCaptionsVisible();s=c("useVideoPlayerAvailableCaptionsLocalesFromRelay")(a);x=f!=null?f:s;s=w||((f=x==null?void 0:x.length)!=null?f:0)>0;w=p&&s;e[50]!==x||e[51]!==z||e[52]!==i||e[53]!==o||e[54]!==C||e[55]!==q||e[56]!==w||e[57]!==a?(f=w?k.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:o,children:k.jsx(c("VideoPlayerCaptionsControl.react"),{availableCaptionsLocales:x,captionsVisible:z,initialCaptionsUrl:i,menuOpened:C,onUserInteraction:q,setMenuOpened:B,video:a})}):null,e[50]=x,e[51]=z,e[52]=i,e[53]=o,e[54]=C,e[55]=q,e[56]=w,e[57]=a,e[58]=f):f=e[58];p=f;e[59]!==p||e[60]!==t||e[61]!==y||e[62]!==o||e[63]!==r||e[64]!==u||e[65]!==v||e[66]!==g||e[67]!==F||e[68]!==D||e[69]!==E?(s=k.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:o,children:[r,g,u,y,t,F,p,E,v,null,D]}),e[59]=p,e[60]=t,e[61]=y,e[62]=o,e[63]=r,e[64]=u,e[65]=v,e[66]=g,e[67]=F,e[68]=D,e[69]=E,e[70]=s):s=e[70];return s}function n(a){return a.dubbing_type==="NONE"}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BinarySearch",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";e={GREATEST_LOWER_BOUND:"GREATEST_LOWER_BOUND",GREATEST_STRICT_LOWER_BOUND:"GREATEST_STRICT_LOWER_BOUND",LEAST_STRICT_UPPER_BOUND:"LEAST_STRICT_UPPER_BOUND",LEAST_UPPER_BOUND:"LEAST_UPPER_BOUND",NEAREST:"NEAREST"};var h=function(a,b){if(typeof a!=="number"||typeof b!=="number")throw c("FBLogger")("comet_infra").mustfixThrow("The default comparator can only be used with sequences of numbers.");return a-b},i=e.GREATEST_LOWER_BOUND,j=e.GREATEST_STRICT_LOWER_BOUND,k=e.LEAST_STRICT_UPPER_BOUND,l=e.LEAST_UPPER_BOUND,m=e.NEAREST;function n(a,b,c,d,e){e===void 0&&(e=h);var f=l;f=p(a,b,c,d,e,f);if(c<=f&&f<d){c=a(f);return e(c,b)===0?c:void 0}else return void 0}function o(a,b,c,d,e){e===void 0&&(e=h);var f=l;f=p(a,b,c,d,e,f);if(c<=f&&f<d)return e(a(f),b)===0?f:-1;else return-1}function p(a,b,d,e,f,g){switch(g){case l:return q(a,b,d,e,f);case i:return r(a,b,d,e,f);case k:return s(a,b,d,e,f);case j:return t(a,b,d,e,f);case m:return u(a,b,d,e,f);default:throw c("FBLogger")("comet_infra").mustfixThrow("Invalid mode %s",g)}}function q(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>=0?d=f:c=f}return c<d&&e(a(c),b)>=0?c:d}function r(a,b,c,d,e){return s(a,b,c,d,e)-1}function s(a,b,c,d,e){c=c;d=d;while(c+1<d){var f=c+Math.floor((d-c)/2);e(a(f),b)>0?d=f:c=f}return c<d&&e(a(c),b)>0?c:d}function t(a,b,c,d,e){return q(a,b,c,d,e)-1}function u(a,b,c,d,e){var f=r(a,b,c,d,e),g=Math.abs(e(a(f),b));e=Math.abs(e(a(f+1),b));return g<e?Math.max(f,c):Math.min(f+1,d-1)}function a(a,b,c){return n(function(b){return a[b]},b,0,a.length,c)}function b(a,b,c){return o(function(b){return a[b]},b,0,a.length,c)}function d(a,b,c,d){return p(function(b){return a[b]},b,0,a.length,c,d)}g.GREATEST_LOWER_BOUND=i;g.GREATEST_STRICT_LOWER_BOUND=j;g.LEAST_STRICT_UPPER_BOUND=k;g.LEAST_UPPER_BOUND=l;g.NEAREST=m;g.find=n;g.findIndex=o;g.findBound=p;g.leastUpperBound=q;g.greatestLowerBound=r;g.leastStrictUpperBound=s;g.greatestStrictLowerBound=t;g.nearest=u;g.findInArray=a;g.findIndexInArray=b;g.findBoundInArray=d}),98);
__d("CubicBezier",[],(function(a,b,c,d,e,f){var g=.005;a=function(){function a(a,b){this.cx=3*a[0],this.bx=3*(b[0]-a[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a[1],this.by=3*(b[1]-a[1])-this.cy,this.ay=1-this.cy-this.by}var b=a.prototype;b.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a};b.solve=function(a){a=this.solveCurveX(a);return((this.ay*a+this.by)*a+this.cy)*a};b.solveCurveX=function(a){var b,c,d,e;for(d=a,c=0;c<8;c++){e=this.sampleCurveX(d)-a;if(Math.abs(e)<g)return d;b=(3*this.ax*d+2*this.bx)*d+this.cx;if(Math.abs(b)<1e-6)break;d-=e/b}b=0;c=1;d=a;if(d<b)return b;if(d>c)return c;while(b<c){e=this.sampleCurveX(d);if(Math.abs(e-a)<g)return d;a>e?b=d:c=d;d=(c-b)/2+b}return d};return a}();f["default"]=a}),66);
__d("FunnelAction",[],(function(a,b,c,d,e,f){"use strict";var g="name",h="payload",i="relative_time",j="tag";a=function(){function a(a,b,c,d){this.$1={},this.$1[g]=a,this.$1[i]=b,c!==void 0&&(this.$1[j]=c),d!==void 0&&(this.$1[h]=JSON.stringify(d))}var b=a.prototype;b.getData=function(){return this.$1};return a}();f["default"]=a}),66);
__d("FunnelRegistry",[],(function(a,b,c,d,e,f){a=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,FRX_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0});f["default"]=a}),66);
__d("Funnel",["BinarySearch","FBLogger","FunnelAction","FunnelRegistry","sprintf"],(function(a,b,c,d,e,f,g){"use strict";var h="name",i="instance_id",j="start_time",k="tags",l="actions",m="sampling_rate",n="timeout_sec",o="beacon_id",p="beacon_session_id",q="funnel_level_beacon_id",r="funnel_level_beacon_session_id",s="is_web";a={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"};b={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"};var t=600;e=function(){function a(a,b,d,e,f){if(c("FunnelRegistry")[a]!==!0)throw c("FBLogger")("comet_infra").mustfixThrow("Funnel name not registered.");this.$1=a;this.$2=b;this.$3=[];this.$4={};this.$5=d;this.$6=f;this.timeout_sec=t;this.shouldTrackFocus=!1;this.$7=e;this.$9=-1;this.$10=-1;this.$11=-1;this.$12=-1;this.$8=null;this.devModeLogger("Started funnel")}var b=a.prototype;b.addTag=function(a){if(typeof a!=="string")throw c("FBLogger")("comet_infra").mustfixThrow("Funnel tag should be a String.");this.$4[a]=!0;this.devModeLogger("Added funnel tag %s",a);return this};b.appendAction=function(a,b,e,f){var g=this;f===void 0&&(f=Date.now());f=new(c("FunnelAction"))(a,f-this.$6,b,e);e=d("BinarySearch").leastStrictUpperBound(function(a){return g.$3[a].getData()},f.getData(),0,this.$3.length,function(a,b){if(a.name==="funnel_end")return 1;return b.name==="funnel_end"?-1:a.relative_time-b.relative_time});this.$3.splice(e,0,f);b?this.devModeLogger("Appended action %s with tag %s",a,b):this.devModeLogger("Appended action %s",a);this.$8=a;return this};b.appendActionIfNew=function(a,b,c){a!==this.$8&&this.appendAction(a,b,c);return this};b.getLogData=function(){var a={};a[h]=this.$1;this.$2!==void 0?a[i]=this.$2:a[i]=Math.floor(Math.random()*65536);a[j]=this.$6;a[m]=this.$5;a[n]=this.timeout_sec;a[k]=[];for(var b in this.$4)this.$4[b]===!0&&a[k].push(b);if(this.$3.length>0){a[l]=[];for(b=0;b<this.$3.length;b++)a[l].push(this.$3[b].getData())}this.$10!==-1&&this.$9!==-1&&(a[p]=this.$10,a[o]=this.$9);this.$12!==-1&&this.$11!==-1&&(a[r]=this.$12,a[q]=this.$11);a[s]=1;return a};b.devModeLogger=function(){};b.getTags=function(){return this.$4};b.getFunnelName=function(){return this.$1};b.addReliabilityStats=function(a,b){if(typeof a!=="number")throw c("FBLogger")("comet_infra").mustfixThrow("SessionID of current funnel lib reliability stats should be a number.");if(typeof b!=="number")throw c("FBLogger")("comet_infra").mustfixThrow("Counter of current funnel lib reliability stats should be a number.");this.$10=a;this.$9=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};b.addReliabilityStatsForCurFunnel=function(a,b){if(typeof a!=="number")throw c("FBLogger")("comet_infra").mustfixThrow("SessionID of current funnel lib reliability stats should be a number.");if(typeof b!=="number")throw c("FBLogger")("comet_infra").mustfixThrow("Counter of current funnel lib reliability stats should be a number.");this.$12=a;this.$11=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};return a}();g.EndType=a;g.ActionType=b;g.Funnel=e}),98);
__d("FunnelLoggerConfig.experimental",["cr:27520"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:27520")}),98);
__d("FunnelLoggerSampler",["FunnelLoggerConfig.experimental"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=h(a);return a===0?!1:Math.random()*a<1}function h(a){a=c("FunnelLoggerConfig.experimental").freq[a];a===void 0&&(a=c("FunnelLoggerConfig.experimental").freq["default"]);return a}f.exports={shouldLog:a,getSamplingRate:h}}),34);
__d("FunnelReliabilityWhitelist",[],(function(a,b,c,d,e,f){a=["SEARCH_FUNNEL"];f["default"]=a}),66);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i=!1,j,k="fas_reliability_lib_stats_overall",l="fas_reliability_funnel_stats_overall",m=1800,n="funnel_analytics_data_loss",o="fas_reliability_lib_stats_wl",p="fas_reliability_funnel_stats_wl",q=0,r={};function a(){return c("gkx")("20977")?!0:!1}function s(){i||(i=!0,j=(h||(h=c("WebStorage"))).getLocalStorage());return j}function t(){var a=s();if(!a)return null;a=a.getItem(l);if(a)return JSON.parse(a);else{a=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:a}}}function u(a){var b=s();if(!b)return null;b=b.getItem(p);if(b)return JSON.parse(b);else{b={};b[a]={startCount:0,endCount:0,cancelCount:0,prevCount:0};return b}}function v(){var a=s();if(!a)return null;a=a.getItem(p);return a?JSON.parse(a):null}function b(a){var b=t();if(!b)return;q+=1;b.startCount?b.startCount=parseInt(b.startCount,10)+1:b.startCount=1;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,l,JSON.stringify(b));w(a)}function w(a){var b=u(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=r[a]?r[a]+1:1;r[a]=d;d=b[a];d?d.startCount?d.startCount=parseInt(d.startCount,10)+1:d.startCount=1:(d={},d.startCount=1,d.prevCount=0,d.cancelCount=0,d.endCount=0);b[a]=d;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,p,JSON.stringify(b))}function e(a){var b=t();if(!b)return;q-=1;b.cancelCount?b.cancelCount=parseInt(b.cancelCount,10)+1:b.cancelCount=1;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,l,JSON.stringify(b));x(a)}function x(a){var b=u(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=r[a]?r[a]-1:0;r[a]=d;d=b[a];d?d.cancelCount?d.cancelCount=parseInt(d.cancelCount,10)+1:d.cancelCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=1,d.endCount=0);b[a]=d;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,p,JSON.stringify(b))}function f(a){var b=t();if(!b)return;q-=1;b.endCount?b.endCount=parseInt(b.endCount,10)+1:b.endCount=1;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,l,JSON.stringify(b));y(a)}function y(a){var b=u(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=r[a]?r[a]-1:0;r[a]=d;d=b[a];d?d.endCount?d.endCount=parseInt(d.endCount,10)+1:d.endCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=0,d.endCount=1);b[a]=d;(h||(h=c("WebStorage"))).setItemGuarded(localStorage,p,JSON.stringify(b))}function z(){var a=t();if(!a)return!1;if(a.lastFlushTimestamp){var b=Math.floor(Date.now()/1e3);return b-parseInt(a.lastFlushTimestamp,10)>=m}return!1}function A(a,b){a=s();if(!a)return;var d=Math.floor(Date.now()/1e3);b={startCount:0,endCount:0,cancelCount:0,prevCount:b,lastFlushTimestamp:d};(h||(h=c("WebStorage"))).setItemGuarded(a,l,JSON.stringify(b))}function B(a,b){var d=s();if(!d||!a||Object.keys(a).length==0)return;var e={};for(a in a){var f=b[a];f={startCount:0,endCount:0,cancelCount:0,prevCount:f?f:0};e[a]=f}(h||(h=c("WebStorage"))).setItemGuarded(d,p,JSON.stringify(e))}function C(a,b,c,e){var f=a.prevCount,g=a.startCount,h=a.endCount;a=a.cancelCount;var i=f+g-h-a-b;g={start:g,end:h,cancel:a,prev:f,ongoing:b,loss:i};h={overall:g};if(c){a={};for(f in c){b=c[f];i=b.prevCount;g=b.startCount;var j=b.endCount;b=b.cancelCount;var k=e[f]?e[f]:0,l=i+g-j-b-k;g={start:g,end:j,cancel:b,prev:i,ongoing:k,loss:l};a[f]=g}h.funnel_level_data_loss=a}d("MarauderLogger").log(n,null,h)}function D(){if(!z())return;var a=t();if(!a)return;A(a,q);var b=v();b&&B(b,r);C(a,q,b,r)}function E(){var a=s();if(!a)return null;var b=a.getItem(k);b=b?JSON.parse(b):{};var d=b.counter,e=b.session;d?(d=parseInt(d,10)+1,e=parseInt(b.session,10)):(d=1,e=Math.floor(Math.random()*65536));(h||(h=c("WebStorage"))).setItemGuarded(a,k,JSON.stringify({counter:d,session:e}));return[e,d]}function F(a){if(!c("FunnelReliabilityWhitelist").includes(a))return null;var b=s();if(!b)return null;var d=b.getItem(o),e=void 0,f={};d&&(f=JSON.parse(d),e=f[a]);var g=e?e.counter:void 0;e=e?e.session:void 0;g?(g=parseInt(g,10)+1,e=parseInt(e,10)):(g=1,e=Math.floor(Math.random()*65536));var i={};d?(f[a]={counter:g,session:e},i=f):i[a]={counter:g,session:e};(h||(h=c("WebStorage"))).setItemGuarded(b,o,JSON.stringify(i));return[e,g]}g.passFunnelLevelStatsRolloutGK=a;g.onFunnelStart=b;g.onFunnelCancel=e;g.onFunnelEnd=f;g.maybeFlushFunnelLevelStats=D;g.increaseAndGetLibLevelStats=E;g.maybeIncreaseAndGetLibLevelStatsForCurFunnel=F}),98);
__d("FunnelLogger",["Banzai","FBLogger","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g={},h=!1,i=!0;function a(a,b){B(a,b)}function c(a,b,c){B(a,c,b)}function d(a,b){a=D(a,b);return!E(a)?null:g[a]}function f(a,b){}function j(a,b,c){c===void 0?F(a,void 0,b):c&&F(a,b,c)}function k(a,c){c=D(a,c);E(c)&&(g[c].devModeLogger("Cancelled funnel"),H(c),g[c]=void 0,b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelCancel(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function l(a,b){C(a,b)}function m(a,b,c){C(a,c,b)}function n(a,b,c){c===void 0?I(a,void 0,String(b)):I(a,Number(b),c)}function o(a,b,c){c===void 0?J(a,void 0,Boolean(b)):J(a,Number(b),c)}function p(a,b,c){c===void 0?K(a,void 0,String(b),void 0):K(a,Number(b),c,void 0)}function q(a,b,c){c===void 0?L(a,void 0,String(b),void 0):L(a,Number(b),c,void 0)}function r(a,b,c,d){d===void 0?K(a,void 0,String(c),void 0,void 0,b):K(a,Number(c),d,void 0,void 0,b)}function s(a,b,c,d){d===void 0?K(a,void 0,String(b),c):K(a,Number(b),c,d)}function t(a,b,c,d,e){e===void 0?K(a,void 0,String(c),d,void 0,b):K(a,Number(c),d,e,void 0,b)}function u(a,b,c,d){d===void 0?L(a,void 0,String(b),c):L(a,Number(b),c,d)}function v(a,b,c,d){d===void 0?K(a,void 0,String(b),void 0,c):K(a,Number(b),String(c),void 0,d)}function w(a,b,c,d,e){e===void 0?K(a,void 0,String(c),void 0,d,b):K(a,Number(c),String(d),void 0,e,b)}function x(a,b,c,d){d===void 0?L(a,void 0,String(b),void 0,c):L(a,Number(b),String(c),void 0,d)}function y(a,b,c,d,e){e===void 0?K(a,void 0,String(b),c,d):K(a,Number(b),String(c),String(d),e)}function z(a,b,c,d,e,f){f===void 0?K(a,void 0,String(c),d,e,b):K(a,Number(c),String(d),String(e),f,b)}function A(a,b,c,d,e){e===void 0?L(a,void 0,String(b),c,d):L(a,Number(b),String(c),String(d),e)}function B(a,c,d){var e=D(a,c);R();M(e);b("FunnelLoggerSampler").shouldLog(a)&&(g[e]=new(b("Funnel").Funnel)(a,c,b("FunnelLoggerSampler").getSamplingRate(a),!1,d!=null?d:Date.now()),G(e),b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelStart(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function C(a,c,d){a=D(a,c);E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.EXPLICIT,void 0,d),N(a))}function D(a,c){if(b("FunnelRegistry")[a]!==!0){b("FBLogger")("funnel_validation").blameToPreviousFile().mustfix("Funnel name `%s` not registered",a);throw b("FBLogger")("comet_infra").mustfixThrow("Funnel name `%s` not registered.",a)}if(c==null)return a;else return a+c.toString()}function E(a){return g[a]!==void 0}function F(a,b,c){a=D(a,b);E(a)&&(g[a].timeout_sec=c,g[a].devModeLogger("Timeout set to %s sec",c),G(a))}function G(a){H(a),g[a].timeout_handle=b("setTimeout")(function(){g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.TIMEOUT),N(a)},1e3*g[a].timeout_sec)}function H(a){g[a].timeout_handle&&b("clearTimeout")(g[a].timeout_handle)}function I(a,b,c){a=D(a,b);E(a)&&(g[a].addTag(c),G(a))}function J(a,b,c){a=D(a,b);E(a)&&(g[a].shouldTrackFocus=c,g[a].devModeLogger("Focus tracking %s",c?"on":"off"))}function K(a,b,c,d,e,f){a=D(a,b);E(a)&&(g[a].appendAction(c,d,e,f),G(a))}function L(a,b,c,d,e){a=D(a,b);E(a)&&g[a].appendActionIfNew(c,d,e)}function M(a){E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.RESTART),N(a))}function N(a){if(E(a)){if(b("gkx")("20976")){var c=b("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(c){var d=c[0];c=c[1];g[a].addReliabilityStats(d,c)}}d=g[a].getFunnelName();c=g[a].getLogData();b("MarauderLogger").log("funnel_analytics",null,c);g[a].devModeLogger("Logged: %s",JSON.stringify(c));H(a);g[a]=void 0;b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelEnd(d),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function O(){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.SESSION_END),N(a))}function P(){if(i){i=!1;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_BLUR),H(a))}}function Q(){if(!i){i=!0;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_FOCUS),H(a))}}function R(){h||(h=!0,window.addEventListener&&(b("Banzai").subscribe(b("Banzai").SHUTDOWN,O),window.addEventListener("blur",P),window.addEventListener("focus",Q)))}e.exports={addFunnelTag:n,appendAction:p,appendActionAtTime:r,appendActionAtTimeWithPayload:w,appendActionAtTimeWithTag:t,appendActionAtTimeWithTagAndPayload:z,appendActionIfNew:q,appendActionWithPayload:v,appendActionWithPayloadIfNew:x,appendActionWithTag:s,appendActionWithTagAndPayload:y,appendActionWithTagAndPayloadIfNew:A,appendActionWithTagIfNew:u,cancelFunnel:k,endFunnel:l,endFunnelAtTime:m,getFunnelInstance:d,setFunnelTimeout:j,setFunnelTrackFocus:o,startFunnel:a,startFunnel_DEV_MODE:f,startFunnelAtTime:c}}),null);
__d("KeyframesPerformanceLog",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=60;a=function(){function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}var b=a.prototype;b.onNextFrame=function(a){this.$7=a};b.start=function(){if(this.$2<0||this.$3>=0){var a=(h||(h=c("performanceNow")))();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};b.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=(h||(h=c("performanceNow")))(),this.$5&&this.$5("pause"))};b.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};b.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};b.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};b.finish=function(){if(this.$2>=0){var a=(h||(h=c("performanceNow")))(),b=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-b),1);b=this.$1?this.$1/a*1e3:i;this.$6({animation_duration:a,display_refresh_rate:i,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:b,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};return a}();g["default"]=a}),98);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={LOAD_ATTEMPT:"plugin_load_attempt",LOAD_ATTEMPT_KF3:"plugin_load_attempt_compat"};function k(a,b){if(a==null)return;a.forEach(function(a){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:b,extras:a}))})}a={log:function(a){k(a,j.LOAD_ATTEMPT)},logCompat:function(a){k(a,j.LOAD_ATTEMPT_KF3)}};g.KeyframesPluginLogger=a}),98);
__d("KeyframesPluginsLoader",["Bootloader","KeyframesPluginLogger","Promise","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h,i={DynamicProperties:function(a){return c("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],a,"KeyframesPluginsLoader")},LayerName:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],a,"KeyframesPluginsLoader")},LayerTags:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],a,"KeyframesPluginsLoader")},RandomSubdocument:function(a){return c("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],a,"KeyframesPluginsLoader")},Sound:function(a){return c("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],a,"KeyframesPluginsLoader")},SubdocumentSwap:function(a){return c("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],a,"KeyframesPluginsLoader")},TrimPath:function(a){return c("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],a,"KeyframesPluginsLoader")}};function j(a,b){return i[a]?i[a](b):null}function k(a){a=a.map(function(a){return new(h||(h=b("Promise")))(function(b,c){var d=j(a,function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b(c)});d||c("Unknown plugin "+a)})});return(h||(h=b("Promise"))).all(a)}a=function(){function a(a,b){this.instances=[],this.$1={},this.$2={},this.$4=a,this.$3=b}a.fromPluginTable=function(b){d("KeyframesPluginLogger").KeyframesPluginLogger.log(b);return k(b).then(function(c){return new a(b,c)})};a.getSupportedPlugins=function(){return i};var b=a.prototype;b.getPluginTable=function(){return this.$4};b.getPluginsForLayer=function(a){return this.$1[a]};b.maybeInstantiatePluginsForLayer=function(a){var b=a.id();if(!this.$2[b]){var c=a.pluginsLength();if(c)for(var e=0;e<c;e++){var f=a.plugins(e),g=new(d("flatbuffers").ByteBuffer)(f.contentArray());f=f.index();if(this.$3[f]){var h=this.$3[f],i=h[0];h=h[1];f="getRootAsPlugin"+this.$4[f];h=h[f](g);f=new i(h,a);this.$1[b]||(this.$1[b]=[]);this.$1[b].push(f);this.instances.push(f);f.animationDidLoad()}}this.$2[b]=!0}};return a}();g["default"]=a}),98);
__d("KeyframesVersion",[],(function(a,b,c,d,e,f){"use strict";var g="2.0.0";function a(){return g}f.getCurrentVersion=a}),66);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","once","performanceNow","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;a=!1;var i="KEYFRAMES_FUNNEL",j="KeyframesFramePerfLoggerConfig",k=2,l=9e18,m={appid:256281040558,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:c("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function n(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function o(){var a=(h||(h=c("performanceNow")))();return function(){return Math.floor((h||(h=c("performanceNow")))()-a)}}function p(){return{value:Date.now()}}b=function(){function a(b,e){var f=this;this.$2=!1;this.$3=0;this.$5=1;this.$11=d("KeyframesVersion").getCurrentVersion();this.$15=function(b){f.$13("play_ended");f.$3++;if(f.$3===f.$5){b=babelHelpers["extends"]({},b,m,{animation_duration:String(b.animation_duration),asset_id:f.$6.assetID||null,asset_name:f.$6.assetID?null:f.$6.assetName,display_refresh_rate:String(b.display_refresh_rate),keyframes_version:f.$11,project_name:f.$6.projectName,session_id:f.$9});a.performanceLoggingMethod(b);f.$5<l&&(f.$5*=k)}};this.$16=function(a){switch(a){case"start":f.$13("play_started");return;case"pause":f.$13("play_ended");return}};this.$10=e||p();this.$6=b;this.$9=c("uuidv4")();this.$4=n(this.$9)}a.performanceLoggingMethod=function(a){c("BanzaiLogger").log(j,a)};var b=a.prototype;b.startDecode=function(a){var b=this;if(!this.$1){this.$12();this.$13("asset_decode_started",a);var d=o();this.$1=c("once")(function(a,c){b.$13("asset_decode_ended",a,{"time_since:asset_decode_started":d(),plugins_decoded:c||[]})})}return this.$1};b.error=function(a){this.$12(),this.$1?this.$14("asset_decode_failed",a):this.$14("asset_request_failed",a)};b.getUUID=function(){return this.$9};b.getInstanceID=function(){return this.$4};b.getPerformanceLogIfEnabled=function(){var a=this;if(!this.$7){var b=this.$12(),d=new(c("KeyframesPerformanceLog"))(this.$15,this.$16);d.onNextFrame(function(){return a.$13("first_frame_rendered",p(),{"time_since:session_started":b()})});this.$7=d}return this.$7};b.$12=function(){this.$8||(d("FunnelLogger").startFunnelAtTime(i,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(c("KeyframesPluginsLoader").getSupportedPlugins())}),this.$8=o());return this.$8};b.$13=function(a,b,c){b=b||p(),this.$2||d("FunnelLogger").appendActionAtTimeWithPayload(i,b.value,this.$4,a,babelHelpers["extends"]({},this.$17(),c))};b.$14=function(a,b){b=b||p(),this.$2||(this.$13("session_failed",b,{fail_reason:a}),d("FunnelLogger").endFunnelAtTime(i,b.value,this.$4),this.$2=!0)};b.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}};return a}();g["default"]=b}),98);
__d("KFComponentNames",[],(function(a,b,c,d,e,f){"use strict";a="AUDIO";b="BITMAP";c="IMAGE";d="CHILDREN";e="COMPOSITING";var g="IDENTIFICATION",h="OPACITY",i="PARENT",j="RANDOM_SUBDOCUMENT",k="RANDOM_SUBDOCUMENT_CHILDREN",l="ROOT",m="SCENE",n="SHAPE",o="TIME",p="TRIM_PATH",q="TRANSFORM",r="VIDEO";f.AUDIO=a;f.BITMAP=b;f.CHILDREN=d;f.COMPOSITING=e;f.IMAGE=c;f.IDENTIFICATION=g;f.OPACITY=h;f.PARENT=i;f.RANDOM_SUBDOCUMENT=j;f.RANDOM_SUBDOCUMENT_CHILDREN=k;f.ROOT=l;f.SCENE=m;f.SHAPE=n;f.TIME=o;f.TRIM_PATH=p;f.TRANSFORM=q;f.VIDEO=r}),66);
__d("KFLoaderUtils",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=b.getComponent(f,d("KFComponentNames").CHILDREN);g=g==null?void 0:g.getChildren();g!=null&&h(g,b,c);c(f,e,a)}}function a(a,b){var c=a.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];c=a.getComponent(c,d("KFComponentNames").SCENE);if(c==null)return;c=c.getEntities();h(c,a,b)}function b(a){a=a==null?void 0:a.duration();return a==null||a===0?1:a*1e3}function c(a){i.traverseEntitiesAndApply(a,function(b,c,e){if(c+1===e.length)return;e=e[c+1];c=a.getComponent(e,d("KFComponentNames").COMPOSITING);if((c==null?void 0:c.isTrackMatte)!==!0)return;c=a.getComponent(b,d("KFComponentNames").COMPOSITING);c==null&&(c=a.addComponent(b,d("KFComponentNames").COMPOSITING));c.trackMatteId=e.getID()})}var i={getDocumentDuration:b,maybeGenerateTrackMatteIDs:c,traverseEntitiesAndApply:a};e=i;g["default"]=e}),98);
__d("KeyframesSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.mutate_width=function(a){var b=this.bb.__offset(this.bb_pos,0);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.prototype.mutate_height=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.getRootAsPoint=function(a,b){return(b||new g.keyframes.Point()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Point.prototype.x=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_x=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.prototype.y=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_y=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.startPoint=function(a){a.startObject(2)};g.keyframes.Point.addX=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Point.addY=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Point.endPoint=function(a){a=a.endObject();return a};g.keyframes.Point.createPoint=function(a,b,c){g.keyframes.Point.startPoint(a);g.keyframes.Point.addX(a,b);g.keyframes.Point.addY(a,c);return g.keyframes.Point.endPoint(a)};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.getRootAsColor=function(a,b){return(b||new g.keyframes.Color()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Color.prototype.red=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_red=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.green=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_green=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.blue=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_blue=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.alpha=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint8(this.bb_pos+a):255};g.keyframes.Color.prototype.mutate_alpha=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.startColor=function(a){a.startObject(4)};g.keyframes.Color.addRed=function(a,b){a.addFieldInt8(0,b,0)};g.keyframes.Color.addGreen=function(a,b){a.addFieldInt8(1,b,0)};g.keyframes.Color.addBlue=function(a,b){a.addFieldInt8(2,b,0)};g.keyframes.Color.addAlpha=function(a,b){a.addFieldInt8(3,b,255)};g.keyframes.Color.endColor=function(a){a=a.endObject();return a};g.keyframes.Color.createColor=function(a,b,c,d,e){g.keyframes.Color.startColor(a);g.keyframes.Color.addRed(a,b);g.keyframes.Color.addGreen(a,c);g.keyframes.Color.addBlue(a,d);g.keyframes.Color.addAlpha(a,e);return g.keyframes.Color.endColor(a)};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.createColorsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Command=function(){this.bb=null,this.bb_pos=0};g.keyframes.Command.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Command.getRootAsCommand=function(a,b){return(b||new g.keyframes.Command()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Command.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.CommandType.MoveTo};g.keyframes.Command.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Command.prototype.point=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.startCommand=function(a){a.startObject(4)};g.keyframes.Command.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.CommandType.MoveTo)};g.keyframes.Command.addPoint=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Command.addControl1=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Command.addControl2=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Command.endCommand=function(a){a=a.endObject();return a};g.keyframes.Command.createCommand=function(a,b,c,d,e){g.keyframes.Command.startCommand(a);g.keyframes.Command.addType(a,b);g.keyframes.Command.addPoint(a,c);g.keyframes.Command.addControl1(a,d);g.keyframes.Command.addControl2(a,e);return g.keyframes.Command.endCommand(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Command()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.startPath=function(a){a.startObject(1)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.value=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.mutate_value=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(4)};g.keyframes.ScalarAnimation.addValue=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d,e){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValue(a,b);g.keyframes.ScalarAnimation.addValues(a,c);g.keyframes.ScalarAnimation.addKeyframes(a,d);g.keyframes.ScalarAnimation.addTweens(a,e);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(4)};g.keyframes.ScalarArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d,e){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValue(a,b);g.keyframes.ScalarArrayAnimation.addValues(a,c);g.keyframes.ScalarArrayAnimation.addKeyframes(a,d);g.keyframes.ScalarArrayAnimation.addTweens(a,e);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(4)};g.keyframes.PointAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d,e){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValue(a,b);g.keyframes.PointAnimation.addValues(a,c);g.keyframes.PointAnimation.addKeyframes(a,d);g.keyframes.PointAnimation.addTweens(a,e);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(4)};g.keyframes.ColorAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d,e){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValue(a,b);g.keyframes.ColorAnimation.addValues(a,c);g.keyframes.ColorAnimation.addKeyframes(a,d);g.keyframes.ColorAnimation.addTweens(a,e);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(4)};g.keyframes.ColorArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d,e){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValue(a,b);g.keyframes.ColorArrayAnimation.addValues(a,c);g.keyframes.ColorArrayAnimation.addKeyframes(a,d);g.keyframes.ColorArrayAnimation.addTweens(a,e);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(4)};g.keyframes.PathAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d,e){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValue(a,b);g.keyframes.PathAnimation.addValues(a,c);g.keyframes.PathAnimation.addKeyframes(a,d);g.keyframes.PathAnimation.addTweens(a,e);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.colorStart=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colorEnd=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,12);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Gradient.prototype.colors=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(9)};g.keyframes.Gradient.addColorStart=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Gradient.addColorEnd=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(4,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addColorStart(a,b);g.keyframes.Gradient.addColorEnd(a,c);g.keyframes.Gradient.addRampStart(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addType(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addPositions(a,i);g.keyframes.Gradient.addHighlightLength(a,j);g.keyframes.Gradient.addHighlightAngle(a,k);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.mutate_length=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0};g.keyframes.Plugin.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Plugin.getRootAsPlugin=function(a,b){return(b||new g.keyframes.Plugin()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Plugin.prototype.index=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Plugin.prototype.mutate_index=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Plugin.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Plugin.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Plugin.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Plugin.prototype.optional=function(){var a=this.bb.__offset(this.bb_pos,8);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Plugin.prototype.mutate_optional=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Plugin.startPlugin=function(a){a.startObject(3)};g.keyframes.Plugin.addIndex=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Plugin.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Plugin.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Plugin.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Plugin.addOptional=function(a,b){a.addFieldInt8(2,+b,0)};g.keyframes.Plugin.endPlugin=function(a){a=a.endObject();return a};g.keyframes.Plugin.createPlugin=function(a,b,c,d){g.keyframes.Plugin.startPlugin(a);g.keyframes.Plugin.addIndex(a,b);g.keyframes.Plugin.addContent(a,c);g.keyframes.Plugin.addOptional(a,d);return g.keyframes.Plugin.endPlugin(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_start_progress=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_end_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.sublayers=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.sublayersLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_from_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.mutate_to_progress=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,26);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.mutate_stroke_line_cap=function(a){var b=this.bb.__offset(this.bb_pos,32);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.gradient=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.mutate_stroke_line_join=function(a){var b=this.bb.__offset(this.bb_pos,36);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.miterLimit=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,40);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_bitmap_index=function(a){var b=this.bb.__offset(this.bb_pos,40);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.subdocumentIndex=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_subdocument_index=function(a){var b=this.bb.__offset(this.bb_pos,42);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,44);return c?(b||new g.keyframes.Plugin()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,44);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,46);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_progress_offset=function(a){var b=this.bb.__offset(this.bb_pos,46);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,50);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,52);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_is_track_matte=function(a){var b=this.bb.__offset(this.bb_pos,52);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,54);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.mutate_track_matte_type=function(a){var b=this.bb.__offset(this.bb_pos,54);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,56);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.mutate_vector_composite_order=function(a){var b=this.bb.__offset(this.bb_pos,56);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,58);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textSize=function(a){var b=this.bb.__offset(this.bb_pos,62);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textAlign=function(a){var b=this.bb.__offset(this.bb_pos,66);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textVAlign=function(){var a=this.bb.__offset(this.bb_pos,68);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textVAlign=function(a){var b=this.bb.__offset(this.bb_pos,68);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,70);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textTracking=function(a){var b=this.bb.__offset(this.bb_pos,70);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,72);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textLeading=function(a){var b=this.bb.__offset(this.bb_pos,72);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,74);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_textItalic=function(a){var b=this.bb.__offset(this.bb_pos,74);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,76);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.mutate_textWeight=function(a){var b=this.bb.__offset(this.bb_pos,76);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textBoxSize=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,80);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,82);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_video_index=function(a){var b=this.bb.__offset(this.bb_pos,82);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.startLayer=function(a){a.startObject(40)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addSublayers=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.createSublayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSublayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(3,b,1)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(14,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addGradient=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(16,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(18,b,-1)};g.keyframes.Layer.addSubdocumentIndex=function(a,b){a.addFieldInt32(19,b,-1)};g.keyframes.Layer.addPlugins=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(21,b,0)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(23,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(24,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(25,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(26,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(27,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTextVAlign=function(a,b){a.addFieldFloat32(32,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(33,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(34,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(35,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(36,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextBoxSize=function(a,b){a.addFieldStruct(37,b,0)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(38,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(39,b,-1)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addSublayers(a,c);g.keyframes.Layer.addFromProgress(a,d);g.keyframes.Layer.addToProgress(a,e);g.keyframes.Layer.addAnchorPoint(a,f);g.keyframes.Layer.addXPosition(a,h);g.keyframes.Layer.addYPosition(a,i);g.keyframes.Layer.addRotation(a,j);g.keyframes.Layer.addScale(a,k);g.keyframes.Layer.addPath(a,l);g.keyframes.Layer.addOpacity(a,m);g.keyframes.Layer.addFillColor(a,n);g.keyframes.Layer.addStrokeColor(a,o);g.keyframes.Layer.addStrokeWidth(a,p);g.keyframes.Layer.addStrokeLineCap(a,q);g.keyframes.Layer.addGradient(a,r);g.keyframes.Layer.addStrokeLineJoin(a,s);g.keyframes.Layer.addMiterLimit(a,t);g.keyframes.Layer.addBitmapIndex(a,u);g.keyframes.Layer.addSubdocumentIndex(a,v);g.keyframes.Layer.addPlugins(a,w);g.keyframes.Layer.addProgressOffset(a,x);g.keyframes.Layer.addClippingPath(a,y);g.keyframes.Layer.addPosition(a,z);g.keyframes.Layer.addIsTrackMatte(a,A);g.keyframes.Layer.addTrackMatteType(a,B);g.keyframes.Layer.addVectorCompositeOrder(a,C);g.keyframes.Layer.addText(a,D);g.keyframes.Layer.addTextTypeface(a,E);g.keyframes.Layer.addTextSize(a,F);g.keyframes.Layer.addTextColor(a,G);g.keyframes.Layer.addTextAlign(a,H);g.keyframes.Layer.addTextVAlign(a,I);g.keyframes.Layer.addTextTracking(a,J);g.keyframes.Layer.addTextLeading(a,K);g.keyframes.Layer.addTextItalic(a,L);g.keyframes.Layer.addTextWeight(a,M);g.keyframes.Layer.addTextBoxSize(a,N);g.keyframes.Layer.addVideoLevels(a,O);g.keyframes.Layer.addVideoIndex(a,P);return g.keyframes.Layer.endLayer(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KEYF")};g.keyframes.Document.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Document.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_frame_rate=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_duration=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.version=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_version=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.subdocuments=function(a,b){var c=this.bb.__offset(this.bb_pos,16);return c?(b||new g.keyframes.Document()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.subdocumentsLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Document.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,20);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,22);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,24);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.videos=function(a,b){var c=this.bb.__offset(this.bb_pos,26);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.videosLength=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(12)};g.keyframes.Document.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Document.addFrameRate=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Document.addDuration=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Document.addVersion=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.addBitmaps=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Document.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addSubdocuments=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Document.createSubdocumentsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startSubdocumentsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addPlugins=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Document.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addId=function(a,b){a.addFieldInt32(8,b,0)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addProgressMarkers=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Document.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addVideos=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Document.createVideosVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVideosVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KEYF")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f,h,i,j,k,l,m,n){g.keyframes.Document.startDocument(a);g.keyframes.Document.addSize(a,b);g.keyframes.Document.addFrameRate(a,c);g.keyframes.Document.addDuration(a,d);g.keyframes.Document.addVersion(a,e);g.keyframes.Document.addRootLayer(a,f);g.keyframes.Document.addBitmaps(a,h);g.keyframes.Document.addSubdocuments(a,i);g.keyframes.Document.addPlugins(a,j);g.keyframes.Document.addId(a,k);g.keyframes.Document.addManifest(a,l);g.keyframes.Document.addProgressMarkers(a,m);g.keyframes.Document.addVideos(a,n);return g.keyframes.Document.endDocument(a)};e.exports=g.keyframes}),null);
__d("KeyframesVideoUtils",["Promise"],(function(a,b,c,d,e,f){"use strict";var g,h=window.setTimeout,i=4;function a(a){var b=document.createElement("video");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");b.autoplay=!1;b.src=a;b.currentTime=0;a.startsWith("blob:")||(b.crossOrigin="anonymous");return b}function c(a,c){return new(g||(g=b("Promise")))(function(b,d){var e=function(){a.pause(),a.currentTime=c,a.removeEventListener("canplaythrough",e),f()},f=function(){a.readyState===i?b(a):h(f,10)},g=function(b){a.removeEventListener("error",g),d(b)};a.currentTime=c;a.addEventListener("error",g);a.readyState===i?b(a):a.addEventListener("canplaythrough",e)})}f.createVideo=a;f.loadVideo=c}),66);
__d("KeyframesAssetDecoder",["BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","Promise","flatbuffers","promiseDone","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g,h=b("KeyframesSchema").Document,i="medium",j=a.URL||a.webkitURL||{};function k(a){a=new(b("flatbuffers").ByteBuffer)(a);return h.bufferHasIdentifier(a)?h.getRootAsDocument(a):null}function l(a){return new(g||(g=b("Promise")))(function(b,c){var d=new Image();d.onload=function(){return b(d)};d.onerror=function(b){return c("Decode: error requesting image uri "+a)};d.src=a})}function m(a){a=b("KeyframesVideoUtils").createVideo(a);return b("KeyframesVideoUtils").loadVideo(a,0)}function n(b,c,d){return a.createImageBitmap&&!(b instanceof VideoFrame)?b.width<c||b.height<d?p(b,c,d).then(function(b){return a.createImageBitmap(b,0,0,c,d)["catch"](function(a){return b})}):a.createImageBitmap(b,0,0,b.width,b.height,{resizeWidth:c,resizeHeight:d,rezizeQuality:i})["catch"](function(a){return p(b,c,d)}):p(b,c,d)}function o(a,c,d){a.width=c;a.height=d;return(g||(g=b("Promise"))).resolve(a)}function p(a,c,d){return new(g||(g=b("Promise")))(function(b){var e=document.createElement("canvas");e.width=c;e.height=d;var f=e.getContext("2d");f.drawImage(a,0,0,c,d);b(e)})}function q(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d];if(e instanceof VideoFrame)continue;var f=b[d].size().width(),g=b[d].size().height();if(f!==e.width||g!==e.height){var h=document.createElement("canvas");h.width=f;h.height=g;var i=h.getContext("2d");i.drawImage(e,0,0,f,g);c.push(h)}else c.push(e)}return c}function r(a,c,d){if(!j.createObjectURL)return(g||(g=b("Promise"))).reject("URL API not supported");var e=j.createObjectURL(a);c=l(e);b("promiseDone")(c,function(){return b("requestIdleCallback")(function(){return j.revokeObjectURL(e)})});return c}function s(c){if(b("BlobFactory").isSupported()){var d=c.contentArray();if(!d)return(g||(g=b("Promise"))).reject("Decode: tried to decode a null bitmap");var e=b("BlobFactory").getBlob([d]),f=c.size().width(),h=c.size().height();return a.createImageBitmap?a.createImageBitmap(e,0,0,f,h)["catch"](function(a){return r(e,f,h)}):r(e,f,h)}return(g||(g=b("Promise"))).reject("Decode: browser does not support bitmap creation")}function t(a){if(b("BlobFactory").isSupported()){var c=a.size();a=a.contentArray();if(!a)return(g||(g=b("Promise"))).reject("Decode: tried to decode a null video");a=b("BlobFactory").getBlob([a]);if(!j.createObjectURL)return(g||(g=b("Promise"))).reject("URL API not supported");var d=j.createObjectURL(a);a=m(d).then(function(a){return o(a,c.width(),c.height())});b("promiseDone")(a,function(){b("requestIdleCallback")(function(){return j.revokeObjectURL(d)})});return a}return(g||(g=b("Promise"))).reject("Decode: browser does not support video creation")}function u(a){var b=[];for(var c=a.pluginsLength()-1;c>=0;c--)b.unshift(a.plugins(c));return b.length?b:null}function v(a){var b=[];for(var c=a.bitmapsLength()-1;c>=0;c--)b.unshift(a.bitmaps(c));return b}function w(a){var b=[];for(var c=a.videosLength()-1;c>=0;c--)b.unshift(a.videos(c));return b}function x(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function y(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function z(a){var b=[];for(var c,d=a.subdocumentsLength()-1;d>=0;d--)c=a.subdocuments(d),b.unshift(c);return b}function A(a){a=k(a);return!a?(g||(g=b("Promise"))).reject("Decode: could not create flatbuffer doc"):B(a)}function B(a){var c=v(a),d=y(c),e=w(a),f=x(e),h=c.filter(function(a){return a.contentLength()||!a.name()}).map(s);e=e.filter(function(a){return a.contentLength()||!a.name()}).map(t);var i=z(a).map(B),j=u(a);j=j?b("KeyframesPluginsLoader").fromPluginTable(j):(g||(g=b("Promise"))).resolve(null);return(g||(g=b("Promise"))).all([g.all(h),g.all(e),j,g.all(i)]).then(function(b){var e=b[0],g=b[1],h=b[2];b=b[3];return{bitmaps:q(e,c),bitmapNames:d,videos:g,videoNames:f,doc:a,pluginsLoader:h,subassets:b}})}function C(a){return!Uint8Array?(g||(g=b("Promise"))).reject("Decode: typed arrays not supported"):(g||(g=b("Promise"))).resolve(new Uint8Array(a))}function D(a,c,d){if(!a.bitmapNames[c]){var e=Object.keys(a.bitmapNames).join(",");return(g||(g=b("Promise"))).reject("Decode: missing replacement bitmap name "+c+", available names: "+e)}e=a.bitmapNames[c];var f=e.index;c=e.width;e=e.height;return n(d,c,e).then(function(b){a.bitmaps[f]=b})}function E(a,c,d){if(!a.videoNames[c]){var e=Object.keys(a.videoNames).join(",");return(g||(g=b("Promise"))).reject("Decode: missing replacement video name "+c+", available names: "+e)}e=a.videoNames[c];var f=e.index;c=e.width;e=e.height;return o(d,c,e).then(function(b){a.videos[f]=b})}function F(a){var b=babelHelpers["extends"]({},a);b.bitmaps=a.bitmaps.slice();return b}var G={awaitForMap:function(a,c){var d={},e=[],f=function(){var a=h[0],f=h[1];f=c(f,a);e.push(f);b("promiseDone")(f,function(b){return d[a]=b})};for(var h of Object.entries(a))f();return(g||(g=b("Promise"))).all(e).then(function(){return d})},fromDocumentBytes:function(a){if(a instanceof ArrayBuffer)return C(a).then(A);else if(a instanceof Uint8Array)return A(a);return(g||(g=b("Promise"))).reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(a,b){return G.awaitForMap(b,function(a){return l(a)}).then(function(b){return G.replaceBitmapsWithImageSources(a,b)})},replaceBitmapsWithImageSources:function(a,b){var c=F(a);return G.awaitForMap(b,function(a,b){return D(c,b,a)}).then(function(){return c})},replaceVideosWithURIs:function(a,b){return G.awaitForMap(b,m).then(function(b){return G.replaceVideosWithVideoSources(a,b)})},replaceVideosWithVideoSources:function(a,b){var c=F(a);return G.awaitForMap(b,function(a,b){return E(c,b,a)}).then(function(){return c})}};e.exports=G}),null);
__d("KeyframesCanvasPolyfills",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0};f.addGetTransformPolyfill=a}),66);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[]}var b=a.prototype;b.getCanvas=function(){if(this.$2.length){var a=this.$2.pop();this.$3.push(a);return a}else{a=document.createElement("canvas");var b=c("nullthrows")(a.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(b);a={canvas:a,ctx:b};this.$4(a);this.$3.push(a);return a}};b.clearAllAllocated=function(){var a=this;this.$3.forEach(function(b){b=b.ctx;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,Math.max(a.$1.width.physical,a.$1.width.intrinsic),Math.max(a.$1.height.physical,a.$1.height.intrinsic))})};b.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]};b.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)};return a}();g["default"]=a}),98);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesSchema").StrokeLineCap,i=b("KeyframesSchema").CommandType;f=["miter","round","bevel"];function a(a){return"rgba("+Math.floor(a.red)+","+Math.floor(a.green)+","+Math.floor(a.blue)+","+Math.floor(a.alpha)/255+")"}function c(a){switch(a){case h.Square:return"square";case h.Round:return"round";case h.Butt:default:return"butt"}}function d(a,b){a.beginPath();for(b of b)switch(b.type){case i.MoveTo:a.moveTo(b.point.x,b.point.y);break;case i.CubicTo:b.control1&&b.control2||g(0,2935);a.bezierCurveTo(b.control1.x,b.control1.y,b.control2.x,b.control2.y,b.point.x,b.point.y);break;case i.QuadTo:b.control1||g(0,2936);a.quadraticCurveTo(b.control1.x,b.control1.y,b.point.x,b.point.y);break;case i.LineTo:a.lineTo(b.point.x,b.point.y);break;default:throw new Error("Unrecognized path command "+b.type)}}e.exports={drawPath:d,getCanvasStyle:a,getCanvasLineCap:c,LINE_JOINS:f}}),null);
__d("KeyframesDimensions",["invariant","cr:2680"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("cr:2680").get(),j=function(){function a(a){this.overridden=!1,this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*i)};b.scale=function(a,b){this.overridden&&h(0,1136),this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new j(a),this.height=new j(b)}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0)};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio)};b.reset=function(){this.height.reset(),this.width.reset()};return a}();g["default"]=a}),98);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],(function(a,b,c,d,e,f,g){"use strict";var h,i=1e3,j=new Set();function k(a){var b=(h||(h=c("performanceNow")))();a.callback(Math.min(b-(a.previousTime||b),i));a.previousTime=b;a.framesRemaining-=1;a.framesRemaining<=0&&a.cancel()}function l(a){j.size>0&&(j.forEach(k),c("requestAnimationFramePolyfill")(l))}c("gkx")("20935")||d("Run").onLeave(function(){j.forEach(function(a){return a.cancel()})});window.addEventListener("focus",function(){j.forEach(function(a){return a.previousTime=(h||(h=c("performanceNow")))()-16.67})});a=function(){function a(a){this.framesRemaining=Infinity,this.callback=a,this.previousTime=0}var b=a.prototype;b.start=function(a){a===void 0&&(a=Infinity),this.framesRemaining=a,this.$1||(j.size===0&&c("requestAnimationFramePolyfill")(l),j.add(this),this.previousTime=(h||(h=c("performanceNow")))(),this.$1=c("TimeSlice").getGuardedContinuation("KeyframesLoop"))};b.cancel=function(){this.$1&&(this.$1(c("emptyFunction")),this.$1=null,j["delete"](this))};b.isRunning=function(){return!!this.$1};return a}();g["default"]=a}),98);
__d("KeyframesPathUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return(c-b)*a+b}function b(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function c(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}e.exports={interpolateLinear:a,interpolateQuad:b,interpolateCubic:c,lerp:a}}),null);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;(d=b("KeyframesSchema")).Color;d.ColorAnimation;d.ColorArray;d.ColorArrayAnimation;d.Command;var k=d.CommandType;d.Path;d.PathAnimation;d.Point;d.PointAnimation;d.ScalarAnimation;d.ScalarArray;d.ScalarArrayAnimation;var l=d.TweenType;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function q(a){var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(o(a.colors(d)));return c}function r(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function s(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(r(a.commands(c)));return b}function t(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function u(a,b){if(t(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function v(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 0;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var w=function(a,b,c){return a*(c-b)+b};f=function(a,b,c){var d=b.valuesLength(),e=[];for(var f=0;f<d;f++)e.push(w(a,b.values(f),c.values(f)));return e};var x=function(a,b,c){return{x:w(a,b.x(),c.x()),y:w(a,b.y(),c.y())}},y=function(a,b,c){return b&&c?x(a,b,c):null},z=function(a,b,c){return{red:w(a,b.red(),c.red()),green:w(a,b.green(),c.green()),blue:w(a,b.blue(),c.blue()),alpha:w(a,b.alpha(),c.alpha())}};d=function(a,b,c){var d=b.colorsLength(),e=[];for(var f=0;f<d;f++)e.push(z(a,b.colors(f),c.colors(f)));return e};var A=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:x(a,f.point(),g.point()),control1:y(a,f.control1(),g.control1()),control2:y(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=u(c,d);e!=null||g(0,2829);c=v(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var B=a.bind(null,w,m),C=a.bind(null,f,p),D=a.bind(null,x,n),E=a.bind(null,z,o),F=a.bind(null,d,q),G=a.bind(null,A,s);function H(a,b,c,d){if(b.keyframesLength())switch(t(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}f=function(a,b){return H(a,b,B,m)};d=function(a,b){return H(a,b,C,p)};a=function(a,b){return H(a,b,D,n)};A=function(a,b){return H(a,b,E,o)};var I=function(a,b){return H(a,b,F,q)},J=function(a,b){return H(a,b,G,s)};function K(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function L(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function M(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function N(a,b,c){a=v(a,b,c);b=b.value();var d=n(b.commands(c).point());b=r(b.commands(c+1));switch(b.type){case k.LineTo:return K(a,d,b.point);case k.QuadTo:b.control1||g(0,2830);return L(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,2831);return M(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(t(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=u(a,b);c!=null||g(0,2832);return N(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:A,maybeTweenColorArray:I,maybeTweenScalar:f,maybeTweenScalarArray:d,maybeTweenPath:J,tweenPointOnPath:c};e.exports=a}),null);
__d("KeyframesVideoManager",["KeyframesVideoUtils"],(function(a,b,c,d,e,f){"use strict";var g=.2,h=100,i=[.85,1.15];e.exports=function(){function a(a){this.$1=a,this.$3=1/a.doc.frameRate(),this.$2=l(a.doc.rootLayer(),a),this.$4=this.$5()}var c=a.prototype;c.getVideos=function(){return this.$1.videos};c.getTimeWindows=function(){return this.$2};c.forEach=function(a){this.getVideos().forEach(a)};c.pause=function(){this.forEach(function(a){a.pause()})};c.mute=function(){this.forEach(function(a){a.muted=!0})};c.unMute=function(){this.forEach(function(a){a.muted=!1})};c.renderProgress=function(a){var b=this;this.$2.forEach(function(c,d){var e=c.video,f=k(c,a),h=j(c,a);h=b.$1.doc.duration()*h;var l=Math.abs(h-e.currentTime);c=b.$1.doc.duration()*(c.toProgress-c.fromProgress);if(l>g&&e.currentTime<c&&h<c){l=(c-e.currentTime)/(c-h);l>=i[0]&&l<=i[1]&&b.changeVideoPlaybackRate(d,l)}f&&e.paused?e.play():f==!1&&e.paused==!1&&(e.pause(),e.currentTime=0)})};c.$5=function(){return this.$2.map(function(a){var b=a.video;return n(function(a){b.playbackRate=a},h,!0)})};c.changeVideoPlaybackRate=function(a,b){this.$4[a](b)};c.seekToProgress=async function(a){var c=this,d=this.$2.map(async function(d){var e=d.video,f=0;if(k(d,a)){d=j(d,a);f=m(c.$1.doc.duration()*d)}e.pause();e.currentTime=f;await b("KeyframesVideoUtils").loadVideo(e,f)});await Promise.all(d)};return a}();function j(a,b){return b-a.fromProgress}function k(a,b){return b>=a.fromProgress&&b<=a.toProgress}function l(a,b){var c=[],d=a.videoIndex();if(d!=-1){var e=b.videos[d];d=b.doc.videos(d);e!=null&&c.push({fromProgress:a.fromProgress(),toProgress:a.toProgress(),name:d!=null?d.name():null,video:e})}for(d=0;d<a.sublayersLength();d++)c=c.concat(l(a.sublayers(d),b));return c}function m(a){return Math.round(a*100)/100}function n(a,b,c){b===void 0&&(b=100);c===void 0&&(c=!1);var d;return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=function(){d=null,c||a.apply(void 0,f)},i=c&&!d;clearTimeout(d);d=setTimeout(h,b);i&&a.apply(void 0,f)}}}),null);
__d("KeyframesRenderer",["invariant","ErrorGuard","KFLoaderUtils","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","gkx","nullthrows","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=1,m={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"};a=60;var n=1e3/a,o=1,p="source-over";function q(a,b){return c("gkx")("21037")?(j||(j=c("ErrorGuard"))).guard(a,{name:b}):a}var r=function(){function a(a,b){b===void 0&&(b=100),this.$3=!1,this.$4=0,this.$1=a,this.$2=b}var b=a.prototype;b.callOrIgnoreThrottled=function(){if((k||(k=c("performanceNow")))()>=this.$4){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];this.$5(b)}else this.$3=!0};b.callIfIgnored=function(){if(this.$3){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)}};b.callImmediately=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)};b.resetThrottling=function(){this.$4=0};b.$5=function(a){this.$3=!1,this.$4=(k||(k=c("performanceNow")))()+this.$2,this.$1.apply(null,a)};return a}();function s(a,b){if(a.pluginsLoader){a.pluginsLoader.instances.forEach(b);for(var c=a.subassets.length-1;0<=c;c--)s(a.subassets[c],b)}}function t(a,b,c,d){if(a.pluginsLoader){for(var e=a.pluginsLoader.instances.length-1;0<=e;e--)a.pluginsLoader.instances[e].animationWillRenderLayer(b,c,d);for(e=a.subassets.length-1;0<=e;e--)t(a.subassets[e],b,c,d)}}function u(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}function v(a,b,c,e){e=(i||(i=d("KeyframesTween"))).maybeTweenPoint2(a,b.rampStart());var f=i.maybeTweenPoint2(a,b.rampEnd()),g=b.colors(),h=b.positions();g&&h?(g=(i||(i=d("KeyframesTween"))).maybeTweenColorArray(a,g),h=i.maybeTweenScalarArray(a,h)):(g=[(i||(i=d("KeyframesTween"))).maybeTweenColor(a,b.colorStart()),i.maybeTweenColor(a,b.colorEnd())],h=[0,1]);if(b.type()===l){var j=b.highlightLength();j=j!==null?(i||(i=d("KeyframesTween"))).maybeTweenScalar(a,j):0;var k=b.highlightAngle();k=k!==null?(i||(i=d("KeyframesTween"))).maybeTweenScalar(a,b.highlightAngle()):0;a=e.x;b=e.y;var m=Math.sqrt(Math.pow(e.x-f.x,2)+Math.pow(e.y-f.y,2)),n=Math.acos((f.x-a)/m),o=a+m*j*Math.cos(n-k);n=b-m*j*Math.sin(n-k);k=0;j!==0&&(c.clip(),c.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle(g[g.length-1]),c.fill(),u(c,a,b,m));j=c.createRadialGradient(o,n,k,a,b,m)}else j=c.createLinearGradient(e.x,e.y,f.x,f.y);for(o=0,n=g.length;o<n;o++)j.addColorStop(h[o],d("KeyframesCanvasUtils").getCanvasStyle(g[o]));return j}function w(a,b,e,f,g,h,j,k,l){l===void 0&&(l=o);if(j<Math.max(h.fromProgress(),0)||j>Math.min(h.toProgress(),1))return;try{k&&k.maybeInstantiatePluginsForLayer(h)}catch(a){}a=a;var m,n=h.isTrackMatte(),q=h.trackMatteType();if(n||q!==0){var r=a.getTransform();m=b.getCanvas();m.ctx.setTransform(r.a,r.b,r.c,r.d,r.e,r.f);m.isTrackMatte=n;m.trackMatteType=q;m.ctx.globalCompositeOperation=p;a=m.ctx}a.save();r=h.position();if(r){n=(i||(i=d("KeyframesTween"))).tweenPointOnPath(j,r);q=n.x;r=n.y;a.translate(q,r)}else{n=h.xPosition();n&&a.translate((i||(i=d("KeyframesTween"))).maybeTweenScalar(j,n),0);q=h.yPosition();q&&a.translate(0,(i||(i=d("KeyframesTween"))).maybeTweenScalar(j,q))}r=h.rotation();r&&a.rotate((i||(i=d("KeyframesTween"))).maybeTweenScalar(j,r));n=h.scale();if(n){q=(i||(i=d("KeyframesTween"))).maybeTweenPoint2(j,n);r=q.x;n=q.y;a.scale(r,n)}q=h.anchorPoint();if(q){r=(i||(i=d("KeyframesTween"))).maybeTweenPoint2(j,q);n=r.x;q=r.y;a.translate(-n,-q)}r=h.opacity();r=r!=null?(i||(i=d("KeyframesTween"))).maybeTweenScalar(j,r):1;a.globalAlpha=r*l;n=!1;if(k){q=k.getPluginsForLayer(h.id());if(q)for(var s=0;s<q.length;s++)q[s].render(a,j),n=n||q[s].rendersLayer}h.clippingPath()&&(d("KeyframesCanvasUtils").drawPath(a,(i||(i=d("KeyframesTween"))).maybeTweenPath(j,h.clippingPath())),a.clip());if(!n&&h.path()){d("KeyframesCanvasUtils").drawPath(a,(i||(i=d("KeyframesTween"))).maybeTweenPath(j,h.path()));s=h.gradient();q=h.fillColor();n=!1;var t=!1;s?(a.fillStyle=v(j,s,a),n=!0):q&&(a.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle((i||(i=d("KeyframesTween"))).maybeTweenColor(j,q)),n=!0);if(h.strokeWidth()){s=(i||(i=d("KeyframesTween"))).maybeTweenScalar(j,h.strokeWidth());s>0&&(a.strokeStyle=d("KeyframesCanvasUtils").getCanvasStyle((i||(i=d("KeyframesTween"))).maybeTweenColor(j,h.strokeColor())),a.lineJoin=d("KeyframesCanvasUtils").LINE_JOINS[h.strokeLineJoin()],a.lineCap=d("KeyframesCanvasUtils").getCanvasLineCap(h.strokeLineCap()),a.lineWidth=s,t=!0)}h.vectorCompositeOrder()===0?(n&&a.fill(),t&&a.stroke()):(t&&a.stroke(),n&&a.fill())}q=h.bitmapIndex();s=e[q];s&&s.width!==0&&s.height!==0&&a.drawImage(s,0,0);t=h.videoIndex();n=f[t];n!=null&&a.drawImage(n,0,0,n.width,n.height);q=h.subdocumentIndex();if(g[q]){s=g[q].doc.size();a.save();a.beginPath();a.rect(0,0,s.width(),s.height());a.clip();w(a,b,g[q].bitmaps,g[q].videos,g[q].subassets,g[q].doc.rootLayer(),j-h.progressOffset(),g[q].pluginsLoader,r*l);a.restore()}var u;for(t=0;t<h.sublayersLength();t++){n=w(a,b,e,f,g,h.sublayers(t),j,k,r*l);if(!u&&n&&n.trackMatteType!==void 0)u=n;else if(u&&n&&n.isTrackMatte!==void 0){s=a.getTransform();a.setTransform(1,0,0,1,0,0);u.ctx.setTransform(1,0,0,1,0,0);q=n;u.ctx.globalCompositeOperation=c("KeyframesTrackMattes")[u.trackMatteType===void 0?1:u.trackMatteType];u.ctx.drawImage(q.canvas,0,0);a.drawImage(u.canvas,0,0);a.setTransform(s.a,s.b,s.c,s.d,s.e,s.f);u=void 0;q=void 0}else u&&!n?(a.drawImage(u.canvas,0,0),u=void 0,q=void 0):n&&n.isTrackMatte!==void 0&&(u=void 0,q=void 0)}a.restore();return m}b=function(){function a(a,b){var e=this;this.$5=0;this.$6=0;this.$8=!1;this.$9=!1;this.$10=!1;this.$11=0;this.$16=!1;this.$17=0;this.$18=1;this.$19=1;this.$21=1;this.$22=0;this.$26=function(a){(e.$12||e.$15)&&e.$34(a),!e.$16?e.redrawIfNeeded():(e.$10&&e.$32(),e.$24.renderProgress(e.$11),e.$33(e.$11),e.$11+=a/e.$5,e.$14&&e.$14.callOrIgnoreThrottled(e.$17),e.$11>=e.$21&&(e.$11%=e.$21,e.$19=Math.max(0,e.$19-1),e.$15&&e.$15.finish(),e.$19===0?e.pause():(e.$24.seekToProgress(0),e.$15&&e.$15.start(),e.$11+=e.$22),e.$13&&e.$13(e.$19),e.$30()))};this.$33=q(function(a){a>=0&&a<=1||h(0,750,a),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&t(this.$1,a,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),w(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,a,this.$1.pluginsLoader),this.$17=a,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()");this.$32=q(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()");this.$23=new(c("KeyframesDimensions"))(a.doc.size().width(),a.doc.size().height());this.$4=new(c("KeyframesCanvasPool"))(this.$23);this.$2=document.createElement("canvas");this.$3=c("nullthrows")(this.$2.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(this.$3);this.$7=new(c("KeyframesLoop"))(this.$26);this.$15=b;this.$24=new(c("KeyframesVideoManager"))(a);this.setDecodedAsset(a);this.$27();this.$25=Promise.resolve()}var b=a.prototype;b.play=function(){this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start());return this};b.pause=function(){this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17)));this.$24.pause();this.$29(this.$24.seekToProgress(this.$17));t(this.$1,this.$17,this.$16,this.$8);return this};b.isPlaying=function(){return this.$16};b.isFinished=function(){return this.$19===0};b.isMuted=function(){return this.$8};b.mute=function(){this.$8=!0,this.$24.mute()};b.unMute=function(){this.$8=!1,this.$24.unMute()};b.repeatCount=function(a){this.$18=this.$19=Math.max(1,a);return this};b.repeatForever=function(){return this.repeatCount(Infinity)};b.getRepeatsRemaining=function(){return this.$19};b.seekToProgress=function(a){var b=this;a>=0&&a<=1||h(0,749,a);this.$14&&this.$14.resetThrottling();this.$17=this.$11=a;this.$29(this.$24.seekToProgress(a).then(function(){return b.$28()}));a===0&&this.$30();this.$28();return this};b.setStartAndEndAt=function(a,b){if(a>=b)throw new Error("Cannot set the start time before the end time.");else if(b<=a)throw new Error("Cannot set the end time before the start time.");this.$22=a;this.$21=b;return this};b.setStartAt=function(a){if(a>=this.$21)throw new Error("Cannot set the start time before the end time.");this.$22=a;return this};b.setEndAt=function(a){if(a<=this.$22)throw new Error("Cannot set the end time before the start time.");this.$21=a;return this};b.getDuration=function(){return this.$5};b.getFrameRate=function(){return this.$6};b.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]};b.getWidth=function(){return this.$23.width.logical};b.getHeight=function(){return this.$23.height.logical};b.setWidth=function(a){this.$23.setWidth(a);this.$27();return this};b.setHeight=function(a){this.$23.setHeight(a);this.$27();return this};b.getDecodedAsset=function(){return babelHelpers.extends({},this.$1)};b.setDecodedAsset=function(a){this.$1=a;this.$5=c("KFLoaderUtils").getDocumentDuration(a.doc);this.$6=a.doc.frameRate();this.$20=a.doc.rootLayer();this.$24=new(c("KeyframesVideoManager"))(a);this.$28();this.$31();return this};b.resetDimensions=function(){this.$23.reset();this.$27();return this};b.onError=function(a){this.$12=a;return this};b.onRepeatEnd=function(a){this.$13=a;return this};b.onProgress=function(a,b){this.$14=a&&new r(a,b);return this};b.getProgress=function(){return this.$17};b.getElement=function(){return this.$2};b.hasPerformanceLogging=function(){return!!this.$15};b.redrawIfNeeded=function(){(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17));return this};b.waitForVideoUpdate=async function(){await this.$25};b.$29=function(a){this.$25=a,c("promiseDone")(a)};b.$27=function(){this.$10=!0,this.$28()};b.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)};b.$31=function(){s(this.$1,function(a){return a.animationDidLoad()})};b.$30=function(){var a=this;s(this.$1,function(b){return b.animationWillRepeat(a.$11,a.$19)})};b.$34=function(a){a=Math.round(a/n-1);a>0&&(this.$15&&this.$15.addFrameDrop(a),this.$12&&this.$12(m.ERROR_FRAMEDROP,a))};return a}();f.exports=b}),34);/*FB_PKG_DELIM*/
__d("FBGroupChatInviteState",[],(function(a,b,c,d,e,f){a=Object.freeze({ACCEPTED:1,ACTIVE:2,DECLINED_BY_RECEIVER:3,IGNORED_BY_RECEIVER:4,DELETED_BY_SENDER:5,DISCARDED:6});f["default"]=a}),66);
__d("GroupFeatureType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["ARTICLES","AUTO_INVITES","CHATS","CHILDHOOD_VACCINES","CLIMATE_PLEDGE","COMMUNITY_GIVING","COMMUNITY_MESSAGING","EVENTS","FANTASY_LEAGUE","FILES","FUNDRAISER_CHALLENGE","GAME_LINKS","GIF","GROUP_AFFILIATION","GUIDES","HORIZON_WORLDS","LIVE","LOOKING_FOR_PLAYERS","MARKETPLACE_JOBS","PLAYER_INFO","POLL","PRODUCT_TAGGING","QN_A","RAISE_MONEY","REEL","REPUTATION_SYSTEM","REQUEST_OR_OFFER_HELP","ROOMS","SELLING","SELL_SOMETHING","SETTING","SUPPORTER_STICKERS","TOPIC_CHANNELS","USER_SIGNAL","WELCOME_POST"]);c=a;f["default"]=c}),66);
__d("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9311215579001270"}),null);
__d("MWCMCasaOffboardingNuxDialogQuery$Parameters",["MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMCasaOffboardingNuxDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMCasaOffboardingNuxDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("XFBGroupFeatureTypeUtils.facebook",["$InternalEnumUtils","GroupFeatureType"],(function(a,b,c,d,e,f,g){a=d("$InternalEnumUtils").createToJSEnum(c("GroupFeatureType"));b=d("$InternalEnumUtils").createFromJSEnum(c("GroupFeatureType"));g.toJSEnum=a;g.fromJSEnum=b}),98);
__d("GroupsCometCMOffboardingDialog.entrypoint",["JSResourceForInteraction","MWCMCasaOffboardingNuxDialogQuery$Parameters","XFBGroupFeatureTypeUtils.facebook"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b;a=a.groupID;return{queries:{queryReference:{parameters:c("MWCMCasaOffboardingNuxDialogQuery$Parameters"),variables:{communityMessagingFeatureType:(b=d("XFBGroupFeatureTypeUtils.facebook").fromJSEnum("COMMUNITY_MESSAGING"))!=null?b:"COMMUNITY_MESSAGING",groupID:a}}}}},root:c("JSResourceForInteraction")("MWCMCasaOffboardingNuxDialog.react").__setRef("GroupsCometCMOffboardingDialog.entrypoint")};g["default"]=a}),98);
__d("JSSet.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return Array.from(a.values())}f.values=a}),66);
__d("LSOptimisticUpdateHasPendingJoinRequest",["LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.forEach(c.filter(c.db.table(9).fetch(),function(b){return b.needsAdminApprovalForNewParticipant===!0&&c.i64.eq(b.threadKey,a[0])}),function(e){var f=e.item;return c.sequence([function(e){return a[1]?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,3199643703]),void 0).then(function(a){return d[2]=a})},function(a){return d[0]=d[2]}]):c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1531706844]),void 0).then(function(a){return d[2]=a})},function(a){return d[0]=d[2]}])},function(b){return d[1]=f.lastReadWatermarkTimestampMs,c.forEach(c.db.table(9).fetch([[[f.threadKey]]]),function(b){var c=b.update;b.item;return c({hasPendingJoinRequest:a[1],snippet:d[0],lastReadWatermarkTimestampMs:d[1]})})}])})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticUpdateHasPendingJoinRequestStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSSetCommunityChannelJoiningErrorCodeForTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.resolve(c)}a.__sproc_name__="LSMailboxSetCommunityChannelJoiningErrorCodeForTaskStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSUpdateCommunityChannelJoiningTaskID",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(162).fetch([[[a[0]]],"byFbGroupId"],[[[a[0]]]]),function(c){return b.i64.eq(c.fbGroupId,a[0])||b.i64.eq(c.communityType,b.i64.cast([0,1]))&&b.i64.eq(c.folderId,a[0])}),function(b){var c=b.update;b.item;return c({joiningChannelTaskId:a[1]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxUpdateCommunityChannelJoiningTaskIDStoredProcedure";a.__tables__=["community_folders"];e.exports=a}),null);
__d("LSJoinCommunityChannel",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize","LSOptimisticUpdateHasPendingJoinRequest","LSSetCommunityChannelJoiningErrorCodeForTask","LSUpdateCommunityChannelJoiningTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([-1,4294967295]):(b=a.item,d[0]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[2]=c.i64.cast([-1,4294967295]):(b=a.item,c.i64.eq(b.communityType,c.i64.cast([0,1]))?d[13]=b.folderId:d[13]=b.fbGroupId,d[2]=d[13])})},function(a){return c.storedProcedure(b("LSSetCommunityChannelJoiningErrorCodeForTask"),d[2],void 0)},function(d){return a[2]?c.storedProcedure(b("LSOptimisticUpdateHasPendingJoinRequest"),a[0],!0):c.resolve()},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=c.i64.cast([0,1]):(b=a.item,d[14]=b.syncGroup,c.i64.neq(d[14],void 0)?d[13]=d[14]:d[13]=c.i64.cast([0,1]),d[4]=d[13])})},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[6]=!1:(b=a.item,d[6]=b.errorShouldBeShown)})},function(a){return d[6]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[13]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[14]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[13],d[14],void 0,void 0)}]):c.resolve()},function(e){return d[8]=new c.Map(),d[8].set("thread_key",a[0]),d[8].set("community_id",d[2]),d[8].set("sync_group",d[4]),d[8].set("entry_point",a[1]),d[8].set("is_request_to_join",a[2]),d[8].set("request_source",void 0),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[13]=c.i64.of_float(Date.now()),d[9]=c.i64.add(d[13],c.i64.cast([0,0]))):d[9]=c.i64.cast([0,0]),d[10]=d[8].get("thread_key"),d[11]=c.toJSON(d[8]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(d[10]),c.i64.cast([0,337]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[9],c.i64.cast([0,0])).then(function(a){return a=a,d[12]=a[0],a})},function(a){return c.storedProcedure(b("LSUpdateCommunityChannelJoiningTaskID"),d[2],d[12])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxJoinCommunityChannelStoredProcedure";a.__tables__=["threads","community_folders","user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSJoinCommunityChannelStoredProcedure",["LSJoinCommunityChannel","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSJoinCommunityChannel"),e.threadKey,e.entryPoint,e.isRequestToJoin);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSUpdateCommunityChannelDirectInvite",["LSIssueNewError","LSIssueNewTaskAndGetTaskID","LSLocalize","LSOptimisticUpdateHasPendingJoinRequest","LSUpdateCommunityChannelJoiningTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.i64.eq(a[1],c.i64.cast([0,1]))&&!1!==void 0&&!1?c.storedProcedure(b("LSOptimisticUpdateHasPendingJoinRequest"),a[0],!0):c.resolve()},function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[11]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[12]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[11],d[12],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("channel_id",a[0]),d[2].set("state",a[1]),d[2].set("is_request_to_join",!1!==void 0&&!1),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[3]=c.i64.add(d[11],c.i64.cast([0,0]))):d[3]=c.i64.cast([0,0]),d[4]=d[2].get("channel_id"),d[5]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),["community_channel_invitation","_",c.i64.to_string(d[4])].join(""),c.i64.cast([0,463]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[3],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[7]=c.i64.cast([-1,4294967295]):(b=a.item,d[7]=b.parentThreadKey)})},function(a){return c.db.table(162).fetch([[[d[7]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.cast([-1,4294967295]):(b=a.item,d[9]=b.fbGroupId)})},function(e){return c.i64.eq(a[1],c.i64.cast([0,1]))?c.storedProcedure(b("LSUpdateCommunityChannelJoiningTaskID"),d[9],d[6]):c.resolve()}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxUpdateCommunityChannelDirectInviteStoredProcedure";a.__tables__=["user_visible_network_connectivity_error","threads","community_folders"];e.exports=a}),null);
__d("LSUpdateCommunityChannelDirectInviteStoredProcedure",["LSSynchronousPromise","LSUpdateCommunityChannelDirectInvite","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSUpdateCommunityChannelDirectInvite"),e.channelId,e.state);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWGroupInvitesForThread",["LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),c=d("LSMessagingThreadTypeUtil").isGroup(a.threadType);a=d("LSThreadBitOffset").has(105,a);if(b&&c)return a;else return!1}g.isGroupInviteThread=a}),98);
__d("MWFDSCheckmark.svg.react",["cr:21598"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21598")}),98);
__d("MWFDSDisappearingMessage.svg.react",["cr:21626"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21626")}),98);
__d("MWFDSPauseChat.svg.react",["cr:21726"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21726")}),98);
__d("MWJewelThreadSnippet.react",["CurrentEnvironment","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.isUnread,f=a.text;a=a.type;a=a==="missedCall";if(!e){b[0]!==f?(e=i.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,showTruncationTooltip:!1,type:"body4",children:f}),b[0]=f,b[1]=e):e=b[1];return e}else if(c("CurrentEnvironment").facebookdotcom){e=a?"negative":"primary";var g;b[2]!==e||b[3]!==f?(g=i.jsx(c("MWXText.react"),{color:e,numberOfLines:1,showTruncationTooltip:!1,type:"bodyLink4",children:f}),b[2]=e,b[3]=f,b[4]=g):g=b[4];return g}e=a?"negative":"primary";b[5]!==e||b[6]!==f?(g=i.jsx(c("MWXText.react"),{color:e,numberOfLines:1,type:"entityHeaderMeta3",children:f}),b[5]=e,b[6]=f,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MWXIconCheckmark",["MWXSvgIcon","SVGIcon","cr:22262","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22262")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWPThreadListItemInviteAddOn.react",["fbt","MWPBumpEntityKey","MWXCircleButton.react","MWXIconCheckmark","MWXIconCross","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Accept invitation"),l=h._(/*BTDS*/"Decline invitation");function a(a){var b=d("react-compiler-runtime").c(7),e=a.onAccept,f=a.onDecline;b[0]!==e?(a=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCheckmark"),label:k,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.accept"),e(a)},size:32})}),b[0]=e,b[1]=a):a=b[1];var g;b[2]!==f?(g=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:l,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","thread_invite.decline"),f(a)},size:32})}),b[2]=f,b[3]=g):g=b[3];var h;b[4]!==a||b[5]!==g?(h=j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[a,g]}),b[4]=a,b[5]=g,b[6]=h):h=b[6];return h}g["default"]=a}),226);
__d("MWPThreadsForThreadList",["I64","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){if(c!=null){a=d("ReQL").fromTableDescending(a.tables.threads.index("parentThreadKeyLastActivityTimestampMs"),e).getKeyRange(b).bounds({gt:d("ReQL").key((h||(h=d("I64"))).zero)});e=c.minLastActivityTimestampMs;b=c.maxLastActivityTimestampMs;c=!(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).zero)&&!(h||(h=d("I64"))).equal(e,(h||(h=d("I64"))).one)?e:void 0;e=!(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).zero)&&!(h||(h=d("I64"))).equal(b,(h||(h=d("I64"))).one)?b:void 0;if(c!=null)if(e!=null)return a.bounds({gte:d("ReQL").key(c),lte:d("ReQL").key(e)});else return a.bounds({gte:d("ReQL").key(c)});else if(e!=null)return a.bounds({lte:d("ReQL").key(e)});return a}return d("ReQL").empty()}g.createIterable=a}),98);
__d("MWXIconPauseChat",["MWXSvgIcon","SVGIcon","cr:22420","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22420")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWThreadAddOnSecondary.react",["fbt","CometOverlappingFacepile_DEPRECATED.react","CurrentEnvironment","FDSBadge.react","I64","MWPActor.react","MWXIconBellCross","MWXIconPauseChat","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","isArmadillo","react","react-compiler-runtime","useMWIsReadReceiptsDisabledForThread","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k.memo;function m(a){var b=d("react-compiler-runtime").c(19),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),h;b[0]!==e.tables.threads||b[1]!==a?(h=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadKey","lastActivityTimestampMs"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=h):h=b[2];var k;b[3]!==e||b[4]!==a?(k=[e,a],b[3]=e,b[4]=a,b[5]=k):k=b[5];var l=d("ReQLSuspense").useFirst(h,k,f.id+":54"),m=c("useMWIsReadReceiptsDisabledForThread")(a);b[6]!==g||b[7]!==e.tables.contacts||b[8]!==e.tables.participants||b[9]!==m||b[10]!==l?(h=function(){if(m||l==null)return d("ReQL").empty();else return d("ReQL").fromTableAscending(e.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(l.threadKey).bounds({gte:d("ReQL").key(l.lastActivityTimestampMs)}).filter(function(a){a=a.contactId;return!(j||(j=d("I64"))).equal(a,g)}).take(3).map(function(a){a=a.contactId;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.contacts,["name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(a),f.id+":84");return a!=null?{alt:a.name,source:{uri:c("getLSMediaContactProfilePictureUrl")(a)}}:null})},b[6]=g,b[7]=e.tables.contacts,b[8]=e.tables.participants,b[9]=m,b[10]=l,b[11]=h):h=b[11];b[12]!==g||b[13]!==e||b[14]!==m||b[15]!==l?(k=[e,g,l,m],b[12]=g,b[13]=e,b[14]=m,b[15]=l,b[16]=k):k=b[16];h=d("ReQLSuspense").useArray(h,k,f.id+":65");b[17]!==h?(k=h.filter(Boolean),b[17]=h,b[18]=k):k=b[18];return k}function a(a){var b=d("react-compiler-runtime").c(26),e=a.entryPoint,f=a.isMuted,g=a.isPaused,i=a.isPinnedThread,j=a.isUnread,k=a.isViewerSender,o=a.lastMessageDeliveryStatusIcon;a=a.thread;var p=c("useMWLSMarkThreadAsRead")(e);e=m(a.threadKey);if(b[0]!==f||b[1]!==g||b[2]!==i||b[3]!==j||b[4]!==k||b[5]!==o||b[6]!==p||b[7]!==e){a=[];if(g){var q;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(q=l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconPauseChat"),size:16}),b[9]=q):q=b[9];a.push(q)}if(f){b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=l.jsx(c("MWXIconStrict.react"),{color:"disabled",icon:c("MWXIconBellCross"),size:16}),b[10]=q):q=b[10];a.push(q)}if(i){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=l.jsx(c("MWXIconStrict.react"),{alt:h._(/*BTDS*/"Pinned thread"),color:"disabled",icon:c("MWXIconPushpin"),size:16}),b[11]=q):q=b[11];a.push(q)}if(j){b[12]!==p?(q=function(a){return p()},b[12]=p,b[13]=q):q=b[13];var r;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(r=l.jsx(c("FDSBadge.react"),{color:"blue",isProfileBadge:!0,size:c("isArmadillo")()&&c("CurrentEnvironment").messengerdotcom?10:12}),b[14]=r):r=b[14];b[15]!==q?(r=l.jsx(c("MWXPressable.react"),{"aria-hidden":!0,expanding:!0,focusable:!1,onPress:q,testid:void 0,children:r}),b[15]=q,b[16]=r):r=b[16];a.push(r)}else if(k)if(e.length===0)o&&a.push(o);else{b[17]!==e[0]||b[18]!==e.length?(q=e.length===1?h._(/*BTDS*/"Seen by {=personName}",[h._param("=personName",e[0].alt)]):h._(/*BTDS*/"_j{\"*\":\"Seen by {=numPeople} people\"}",[h._param("=numPeople",e.length,[0])]),b[17]=e[0],b[18]=e.length,b[19]=q):q=b[19];b[20]!==e||b[21]!==q?(r=l.jsx(c("CometOverlappingFacepile_DEPRECATED.react"),{count:e.length,isTextInline:!0,items:e,screenReaderLabel:q,size:16}),b[20]=e,b[21]=q,b[22]=r):r=b[22];a.push(r)}b[0]=f;b[1]=g;b[2]=i;b[3]=j;b[4]=k;b[5]=o;b[6]=p;b[7]=e;b[8]=a}else a=b[8];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x6s0dn4 x78zum5 xozqiw3"},b[23]=q):q=b[23];b[24]!==a?(r=l.jsx("div",babelHelpers["extends"]({},q,{children:a.map(n)})),b[24]=a,b[25]=r):r=b[25];return r}function n(a,b){return l.jsxs(l.Fragment,{children:[b!==0?l.jsx("div",{className:"x1fsd2vl"}):null,a]},"item_"+b.toString(10))}n.displayName=n.name+" [from "+f.id+"]";e=b(a);g["default"]=e}),226);
__d("useMWLogLongSuspense",["MWPBumpEntityKey","clearTimeout","react","react-compiler-runtime","setTimeout","useMergeRefs","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useEffect,j=b.useRef;function a(a,b){var d=l(a,5,b),e=l(a,15,b),f=l(a,60,b);a=l(a,300,b);return c("useMergeRefs")(d,e,f,a)}var k=/\W/g;function l(a,b,e){var f=d("react-compiler-runtime").c(11),g;f[0]!==a?(g=a.replace(k,"_"),f[0]=a,f[1]=g):g=f[1];var h=g,l=j();f[2]!==e||f[3]!==h||f[4]!==b?(a=function(){l.current=c("setTimeout")(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwp","long_suspension."+h+".suspended_"+b+"_sec"),e==null||e(b)},b*1e3)},f[2]=e,f[3]=h,f[4]=b,f[5]=a):a=f[5];g=a;f[6]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){c("clearTimeout")(l.current)},f[6]=a):a=f[6];var m=a,n;f[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return m},n=[m],f[7]=a,f[8]=n):(a=f[7],n=f[8]);i(a,n);f[9]!==g?(a={onHidden:m,onVisible:g},f[9]=g,f[10]=a):a=f[10];return c("useVisibilityObserver")(a)}g["default"]=a}),98);
__d("MWThreadListGlimmer.react",["CometVisualCompletionAttributes","MWXGlimmer.react","gkx","react","react-compiler-runtime","react-strict-dom","useMWLogLongSuspense"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmerBody:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xktia5q",$$css:!0},glimmerHeadline:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1qx5ct2",marginBottom:"x1e56ztr",width:"x3hqpx7",$$css:!0},glimmerPhoto:{flexShrink:"x2lah0s",$$css:!0},glimmerPhoto48:{borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",height:"xsdox4t",marginInlineEnd:"x1sa5p1d",width:"x1useyqa",$$css:!0},glimmerPhoto56:{borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",height:"xnnlda6",marginInlineEnd:"x1sa5p1d",width:"x15yg21f",$$css:!0},glimmerRoot:{display:"x78zum5",paddingBottom:"x1a8lsjc",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},glimmerText:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0}},k=c("gkx")("23219");function l(a){var b=d("react-compiler-runtime").c(8),e=a.ref,f=a.role;a=a.vcIgnore;var g;b[0]!==a?(g=a===!0?c("CometVisualCompletionAttributes").IGNORE:{},b[0]=a,b[1]=g):g=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[k?j.glimmerPhoto48:j.glimmerPhoto56,j.glimmerPhoto]}),b[2]=a):a=b[2];var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsxs(d("react-strict-dom").html.div,{style:j.glimmerText,children:[i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmerHeadline}),i.jsx(c("MWXGlimmer.react"),{index:2,xstyle:j.glimmerBody})]}),b[3]=h):h=b[3];b[4]!==e||b[5]!==f||b[6]!==g?(a=i.jsxs(d("react-strict-dom").html.div,babelHelpers["extends"]({ref:e,role:f,style:j.glimmerRoot},g,{children:[a,h]})),b[4]=e,b[5]=f,b[6]=g,b[7]=a):a=b[7];return a}function a(a){var b=d("react-compiler-runtime").c(11),e=a.numberOfItems,f=a.parentComponentForDebug,g=a.role,h=a.vcIgnore;a=e===void 0?1:e;var j=c("useMWLogLongSuspense")(f+".MWThreadListGlimmer");if(b[0]!==a||b[1]!==j||b[2]!==g||b[3]!==h){b[5]!==j||b[6]!==g||b[7]!==h?(e=function(a,b){return i.jsx(l,{ref:b===0?j:void 0,role:g,vcIgnore:h},"mw_list_glimmer_"+b)},b[5]=j,b[6]=g,b[7]=h,b[8]=e):e=b[8];f=Array(a).fill(!0).map(e);b[0]=a;b[1]=j;b[2]=g;b[3]=h;b[4]=f}else f=b[4];b[9]!==f?(e=i.jsx(i.Fragment,{children:f}),b[9]=f,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("MWThreadListItemAddOnEnd.react",["fbt","FBGroupChatInviteState","I64","Int64Hooks","LSFactory","LSIntEnum","LSUpdateCommunityChannelDirectInviteStoredProcedure","MWCMGetValidId","MWJewelPopoverDialogContext.react","MWPActor.react","MWPIsThreadUnread","MWPThreadListItemInviteAddOn.react","MWThreadAddOnSecondary.react","ReQL","ReQLSuspense","ThreadStatus","cometPushToast","cr:21160","promiseDone","react","react-compiler-runtime","requireDeferred","useEmptyFunction","useMWChatCalculateIsMutedFromExpireTime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["threadKey","communityId","fbGroupId","renderAddOnEnd"],j,k,l,m,n=k||(k=d("react")),o=k.useContext,p=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("MWThreadListItemAddOnEnd.react"),q=(b=(b=b("cr:21160"))==null?void 0:b.useIsPinnedThread)!=null?b:c("useEmptyFunction");function r(a){var b=a.clientExtras,c=a.communityId,e=a.event,f=a.groupId,g=a.parentSurface,h=g===void 0?"channel_list":g,i=a.source,j=a.threadId;p.onReady(function(a){return a.log(function(){return{action:"tap",client_extras:b,community_id:c==null?null:(m||(m=d("I64"))).to_string(c),event:e,group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(f)?(m||(m=d("I64"))).to_string(f):null,parent_surface:h,source:i,surface:"chat_row",thread_id:(m||(m=d("I64"))).to_string(j)}})})}function a(a){var b,e=d("react-compiler-runtime").c(32),g=a.communityId,i=a.fbGroupId,k=a.isMaximized,p=a.messagingEntrypoint,s=a.mutedUntilMs,t=a.parentSurface,u=a.showGroupsJoinChatDialog,v=a.thread,w=(j||(j=c("useReStore")))();a=d("MWPActor.react").useActor();var x=v.snippetSenderContactId,y;e[0]!==a||e[1]!==x?(y=x!=null?(m||(m=d("I64"))).equal(x,a):!1,e[0]=a,e[1]=x,e[2]=y):y=e[2];a=y;x=(m||(m=d("I64"))).equal(v.parentThreadKey,(l||(l=d("LSIntEnum"))).ofNumber(0));y=o(c("MWJewelPopoverDialogContext.react"));var z=y.setIsOpenForDialog;y=v.hasPendingInvitation||!1;s=c("useMWChatCalculateIsMutedFromExpireTime")(s);b=(b=q(v.threadTags))!=null?b:!1;var A=d("MWPIsThreadUnread").useIsThreadUnread(v.threadKey),B;e[3]!==v.threadStatus?(B=v.threadStatus!=null&&((m||(m=d("I64"))).equal(v.threadStatus,(m||(m=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(m||(m=d("I64"))).equal(v.threadStatus,(m||(m=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),e[3]=v.threadStatus,e[4]=B):B=e[4];B=B;var C;e[5]!==g||e[6]!==w||e[7]!==i||e[8]!==t||e[9]!==v.needsAdminApprovalForNewParticipant||e[10]!==v.threadKey?(C=function(){var a;c("promiseDone")(w.runInTransaction(function(a){return c("LSUpdateCommunityChannelDirectInviteStoredProcedure")(c("LSFactory")(a),{channelId:v.threadKey,state:(l||(l=d("LSIntEnum"))).ofNumber(c("FBGroupChatInviteState").DECLINED_BY_RECEIVER)})},"readwrite",void 0,void 0,f.id+":158"));r({clientExtras:{member_join_request_enabled:((a=v.needsAdminApprovalForNewParticipant)!=null?a:!1)?"1":"0"},communityId:g,event:"invite_declined",groupId:i,parentSurface:t,source:"direct_invite_decline_button",threadId:v.threadKey});d("cometPushToast").cometPushSimpleToast(h._(/*BTDS*/"You declined the invitation to join").toString())},e[5]=g,e[6]=w,e[7]=i,e[8]=t,e[9]=v.needsAdminApprovalForNewParticipant,e[10]=v.threadKey,e[11]=C):C=e[11];C=C;if(y){e[12]!==g||e[13]!==i||e[14]!==p||e[15]!==t||e[16]!==z||e[17]!==u||e[18]!==v.needsAdminApprovalForNewParticipant||e[19]!==v.threadKey?(y=function(a){var b;r({clientExtras:{member_join_request_enabled:((b=v.needsAdminApprovalForNewParticipant)!=null?b:!1)?"1":"0"},communityId:g,event:"invite_accepted",groupId:i,parentSurface:t,source:"direct_invite_join_button",threadId:v.threadKey});z(p==="jewel");return u(a)},e[12]=g,e[13]=i,e[14]=p,e[15]=t,e[16]=z,e[17]=u,e[18]=v.needsAdminApprovalForNewParticipant,e[19]=v.threadKey,e[20]=y):y=e[20];var D;e[21]!==C||e[22]!==y?(D=n.jsx(c("MWPThreadListItemInviteAddOn.react"),{onAccept:y,onDecline:C}),e[21]=C,e[22]=y,e[23]=D):D=e[23];return D}if(k||!x){e[24]!==s||e[25]!==B||e[26]!==b||e[27]!==A||e[28]!==a||e[29]!==p||e[30]!==v?(C=n.jsx(c("MWThreadAddOnSecondary.react"),{entryPoint:p,isMuted:s,isPaused:B,isPinnedThread:b,isUnread:A,isViewerSender:a,lastMessageDeliveryStatusIcon:null,thread:v}),e[24]=s,e[25]=B,e[26]=b,e[27]=A,e[28]=a,e[29]=p,e[30]=v,e[31]=C):C=e[31];return C}return null}var s=n.memo(a);function e(a){var b=d("react-compiler-runtime").c(25),e,g,h,k,l;b[0]!==a?(l=a.threadKey,e=a.communityId,g=a.fbGroupId,h=a.renderAddOnEnd,k=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=g,b[3]=h,b[4]=k,b[5]=l):(e=b[1],g=b[2],h=b[3],k=b[4],l=b[5]);var m;b[6]!==g?(a=function(){return g},m=[g],b[6]=g,b[7]=a,b[8]=m):(a=b[7],m=b[8]);a=d("Int64Hooks").useMemoInt64(a,m);var o;b[9]!==e?(m=function(){return e},o=[e],b[9]=e,b[10]=m,b[11]=o):(m=b[10],o=b[11]);m=d("Int64Hooks").useMemoInt64(m,o);var p=(j||(j=c("useReStore")))();b[12]!==p.tables.threads||b[13]!==l?(o=function(){return d("ReQL").fromTableAscending(p.tables.threads,["threadType","threadStatus","threadKey","snippetSenderContactId","parentThreadKey","hasPendingInvitation","takedownState","needsAdminApprovalForNewParticipant","threadTags"]).getKeyRange(l)},b[12]=p.tables.threads,b[13]=l,b[14]=o):o=b[14];var q;b[15]!==p||b[16]!==l?(q=[p,l],b[15]=p,b[16]=l,b[17]=q):q=b[17];o=d("ReQLSuspense").useFirst(o,q,f.id+":248");if(h!=null){b[18]!==h?(q=h(),b[18]=h,b[19]=q):q=b[19];return q}if(o==null)return null;b[20]!==m||b[21]!==a||b[22]!==k||b[23]!==o?(h=n.jsx(s,babelHelpers["extends"]({communityId:m,fbGroupId:a,thread:o},k)),b[20]=m,b[21]=a,b[22]=k,b[23]=o,b[24]=h):h=b[24];return h}g["default"]=e}),226);
__d("MWXIconDisappearingMessage",["MWXSvgIcon","SVGIcon","cr:22294","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22294")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWThreadListLastMessageGlimmer.react",["Int64Hooks","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MAWMiActOnActThreadReadyWithoutValidator","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(6),e;b[0]!==a?(e=a!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&a.snippet==null,b[0]=a,b[1]=e):e=b[1];var f=e;e=j(f);var g=e[0],h=e[1],k=a==null?void 0:a.threadKey;b[2]!==f||b[3]!==k?(e=function(){if(k==null)return;if(f===!1){h(!1);return}var a=!1;c("promiseDone")((i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(b){return d("MAWMiActOnActThreadReadyWithoutValidator").waitForACTThreadReadyWithoutValidator(b.tables,k,"useShouldShowGlimmerForThread").then(function(){a||h(!1)})}));return function(){a=!0}},a=[k,f],b[2]=f,b[3]=k,b[4]=e,b[5]=a):(e=b[4],a=b[5]);d("Int64Hooks").useEffectInt64(e,a);return g}g["default"]=a}),98);
__d("MWThreadListLastMessage.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometHeroHoldTrigger.react","CometScreenReaderText.react","FDSRelativeTimestamp.react","I64","MAWCurrentUser","MAWStrings","MWJewelThreadSnippet.react","MWVerticalRhythm","MWXGlimmer.react","MWXIconDisappearingMessage","MWXIconStrict.react","MWXText.react","isArmadilloUI","justknobx","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","useMWIsStaleCall","useMWThreadListLastMessageGlimmer.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={bodyGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1l36t39",$$css:!0},bodyGlimmerSecond:{width:"xktia5q",$$css:!0},disappearingMessageVisualIndicator:{paddingInlineEnd:"x14vy60q",$$css:!0},followUpsCTA:{paddingInlineStart:"xyiysdx",$$css:!0},root:{alignItems:"x6s0dn4",color:"xi81zsa",display:"x78zum5",minHeight:"x1hshjfz",$$css:!0},subtext:{paddingInlineStart:"xyiysdx",whiteSpace:"xuxw1ft",$$css:!0},threadSnippet:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",maxWidth:"x193iq5w",paddingInlineEnd:"x14vy60q",$$css:!0},zeroMinWidth:{minWidth:"xeuugli",$$css:!0}};function m(a){var b=d("react-compiler-runtime").c(40),e=a.hasOngoingCall,f=a.isUnread,g=a.lastMessageCtaType,i=a.lastMessageTimestamp,m=a.showDisappearingMessageVisualIndicator,n=a.showFollowUpReminder,o=a.showSnippetText,p=a.showTimestamp,q=a.snippet;a=a.thread;n=n===void 0?!1:n;var r=c("useMWThreadListLastMessageGlimmer.react")(a),s=c("useMWIsStaleCall")(a==null?void 0:a.threadType,e,a==null?void 0:a.ongoingCallTimestampMs);if(r===!0){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=k.jsxs(k.Fragment,{children:[k.jsx(c("MWXGlimmer.react"),{index:1,xstyle:[l.bodyGlimmer,l.bodyGlimmerSecond]}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListLastMessage",hold:!0})]}),b[0]=r):r=b[0];return r}r=g==="xma_rtc_missed_audio"||g==="xma_rtc_missed_group_audio";g=g==="xma_rtc_missed_video"||g==="xma_rtc_missed_group_video";r=r||g;g=o===!0&&!c("mwIsThreadDisabled")(a==null?void 0:a.takedownState)&&(a==null?void 0:a.snippetText)!=null;o=(a==null?void 0:a.snippetSenderContactId)==null?null:(j||(j=d("I64"))).to_string(a.snippetSenderContactId)===d("MAWCurrentUser").getID();var t=g?null:l.zeroMinWidth,u;b[1]!==t?(u=[l.threadSnippet,t],b[1]=t,b[2]=u):u=b[2];b[3]!==f?(t=f&&c("justknobx")._("5026")&&k.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Unread message:")}),b[3]=f,b[4]=t):t=b[4];var v;b[5]!==r||b[6]!==f||b[7]!==q?(v=r&&f?d("MAWStrings").MAW_MISSED_CALL_STRING():q,b[5]=r,b[6]=f,b[7]=q,b[8]=v):v=b[8];q=r?"missedCall":void 0;b[9]!==f||b[10]!==v||b[11]!==q?(r=k.jsx(c("MWJewelThreadSnippet.react"),{isUnread:f,text:v,type:q}),b[9]=f,b[10]=v,b[11]=q,b[12]=r):r=b[12];b[13]!==u||b[14]!==t||b[15]!==r?(f=k.jsxs(d("react-strict-dom").html.span,{style:u,children:[t,r]}),b[13]=u,b[14]=t,b[15]=r,b[16]=f):f=b[16];b[17]!==g||b[18]!==(a==null?void 0:a.snippetText)?(v=g===!0&&k.jsxs(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:[k.jsx(d("react-strict-dom").html.span,{children:"\xb7"}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:l.subtext,children:a==null?void 0:a.snippetText})]}),b[17]=g,b[18]=a==null?void 0:a.snippetText,b[19]=v):v=b[19];b[20]!==m||b[21]!==p?(q=m===!0&&k.jsxs(k.Fragment,{children:[k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("BaseMiddot.react"),{})}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:[l.subtext,p?l.disappearingMessageVisualIndicator:void 0],children:k.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconDisappearingMessage"),size:12})})]}),b[20]=m,b[21]=p,b[22]=q):q=b[22];b[23]!==o||b[24]!==i||b[25]!==n||b[26]!==p||b[27]!==(a==null?void 0:a.takedownState)?(u=p&&!c("mwIsThreadDisabled")(a==null?void 0:a.takedownState)&&i!=null&&i>0&&k.jsxs(k.Fragment,{children:[k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("BaseMiddot.react"),{})}),k.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,style:l.subtext,children:n&&o===!0?k.jsx(c("MWXText.react"),{color:"highlight",numberOfLines:1,type:"body4",children:k.jsxs(d("react-strict-dom").html.span,{children:[h._(/*BTDS*/"Follow up"),"?"]})}):k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("FDSRelativeTimestamp.react"),{date:new Date(i),format:"minimized"})})}),n&&o===!1&&k.jsxs(k.Fragment,{children:[k.jsx(d("react-strict-dom").html.span,{style:l.followUpsCTA,children:k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:k.jsx(c("BaseMiddot.react"),{})})}),k.jsx(d("react-strict-dom").html.span,{style:l.subtext,children:k.jsxs(c("MWXText.react"),{color:"highlight",numberOfLines:1,type:"body4",children:[h._(/*BTDS*/"Reply"),"?"]})})]})]}),b[23]=o,b[24]=i,b[25]=n,b[26]=p,b[27]=a==null?void 0:a.takedownState,b[28]=u):u=b[28];b[29]!==q||b[30]!==u||b[31]!==f||b[32]!==v?(t=k.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:l.root,children:[f,v,q,u]}),b[29]=q,b[30]=u,b[31]=f,b[32]=v,b[33]=t):t=b[33];b[34]!==e||b[35]!==s?(r=e&&!s?k.jsxs(k.Fragment,{children:[c("isArmadilloUI")()?k.jsx(c("MWVerticalRhythm"),{height:5}):null,k.jsx(c("MWXText.react"),{align:"start",color:"positive",numberOfLines:1,type:"body4",children:h._(/*BTDS*/"Ongoing call")})]}):null,b[34]=e,b[35]=s,b[36]=r):r=b[36];b[37]!==t||b[38]!==r?(g=k.jsxs(k.Fragment,{children:[t,r]}),b[37]=t,b[38]=r,b[39]=g):g=b[39];return g}function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{fallback:n,children:k.jsx(m,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}function n(){return k.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:l.root})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MessageRequestsBulkActionsThreadListItem",["ix","CometPressable.react","I64","JSSet.bs","MWPIsThreadUnread","MWXIcon_DEPRECATED.react","MessageRequestsBulkActionsContext.react","fbicon","react","react-compiler-runtime","useMWAriaLabelForThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;b.useCallback;var l=b.useContext,m=b.useEffect,n={pressableContent:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",display:"x1lliihq",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(33),e=a.thread;a=a.threadListCell;var f=l(c("MessageRequestsBulkActionsContext.react")),g=f.setBulkActionsUnreadSelectedThreads,i=f.setBulkActionsSelectedThreads,n=f.bulkActionsSelectedThreads;b[0]!==e.threadKey?(f=(j||(j=d("I64"))).to_string(e.threadKey),b[0]=e.threadKey,b[1]=f):f=b[1];var p=f;b[2]!==i||b[3]!==p?(f=function(){return i(function(a){a=new Set(d("JSSet.bs").values(a));if(a["delete"](p))return a;else return a.add(p)})},b[2]=i,b[3]=p,b[4]=f):f=b[4];f=f;var q;b[5]!==n||b[6]!==g||b[7]!==e||b[8]!==p?(q=function(){g(function(a){a=new Set(d("JSSet.bs").values(a));if(d("MWPIsThreadUnread").isThreadUnread(e)&&n.has(p))return a.add(p);else if(d("MWPIsThreadUnread").isThreadUnread(e)){a["delete"](p);return a}else return a})},b[5]=n,b[6]=g,b[7]=e,b[8]=p,b[9]=q):q=b[9];var r;b[10]!==n?(r=[n],b[10]=n,b[11]=r):r=b[11];m(q,r);b[12]!==n||b[13]!==p?(q=n.has(p),b[12]=n,b[13]=p,b[14]=q):q=b[14];r=q;q=c("useMWAriaLabelForThread")(e);var s,t;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x78zum5 xexx8yu x2vl965 x18d9i69 xe2zdcy"},t={className:"xf159sx"},b[15]=s,b[16]=t):(s=b[15],t=b[16]);var u=r?"highlight":"disabled",v;b[17]!==r?(v=r?d("fbicon")._(h("484757"),20):d("fbicon")._(h("659288"),20),b[17]=r,b[18]=v):v=b[18];b[19]!==u||b[20]!==v?(t=k.jsx("div",babelHelpers["extends"]({},t,{children:k.jsx(c("MWXIcon_DEPRECATED.react"),{color:u,hideHoverOverlay:!0,icon:v})})),b[19]=u,b[20]=v,b[21]=t):t=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x1iyjqo2 xeuugli x47corl"},b[22]=u):u=b[22];b[23]!==a?(v=k.jsx("div",babelHelpers["extends"]({},u,{children:a})),b[23]=a,b[24]=v):v=b[24];b[25]!==v||b[26]!==t?(u=k.jsxs("div",babelHelpers["extends"]({"aria-hidden":!0},s,{children:[t,v]})),b[25]=v,b[26]=t,b[27]=u):u=b[27];b[28]!==q||b[29]!==r||b[30]!==f||b[31]!==u?(a=k.jsx(c("CometPressable.react"),{"aria-checked":r,"aria-label":q,onPress:f,role:"checkbox",xstyle:o,children:u}),b[28]=q,b[29]=r,b[30]=f,b[31]=u,b[32]=a):a=b[32];return a}function o(){return[n.pressableContent]}g["default"]=a}),98);
__d("useGroupsCometJoinChatDialog",["GroupsCometJoinChatDialog.entrypoint","I64","Int64Hooks","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWCMShouldGoToFullScreenChatHook","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function k(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})}k.displayName=k.name+" [from "+f.id+"]";function a(a,b,e,f,g,h){var j=d("react-compiler-runtime").c(12),l,m;j[0]!==b||j[1]!==a.threadKey?(l=function(){return{groupID:(i||(i=d("I64"))).to_string(b!=null?b:(i||(i=d("I64"))).zero),threadID:i.to_string(a.threadKey)}},m=[b,a.threadKey],j[0]=b,j[1]=a.threadKey,j[2]=l,j[3]=m):(l=j[2],m=j[3]);l=d("Int64Hooks").useMemoInt64(l,m);m=c("useMWXEntryPointDialog")(c("GroupsCometJoinChatDialog.entrypoint"),l,void 0,k);var n=m[0],o=c("useMWCMShouldGoToFullScreenChatHook")(),p=a.hasPendingInvitation||!1;j[4]!==p||j[5]!==h||j[6]!==g||j[7]!==e||j[8]!==o||j[9]!==n||j[10]!==f?(l=function(){var a={invited:p,isSMC:h,onSuccess:g,parentSurface:e,shouldGoToMessenger:o,surface:f};n(a)},j[4]=p,j[5]=h,j[6]=g,j[7]=e,j[8]=o,j[9]=n,j[10]=f,j[11]=l):l=j[11];return l}g["default"]=a}),98);
__d("getValidMediaURL",["I64","ServerTime"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){return(h||(h=d("I64"))).of_float(d("ServerTime").getMillis()/1e3)}function j(a){if((h||(h=d("I64"))).gt(a,(h||(h=d("I64"))).zero))return(h||(h=d("I64"))).lt(a,i());else return!1}function a(a,b,c){return a!=null?j(a)?c:b:c}g["default"]=a}),98);
__d("useGroupsCometCMOffboardingEntryPointDialog",["FDSCardedDialogLoadingStateLegacy.react","GroupsCometCMOffboardingDialog.entrypoint","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx(c("FDSCardedDialogLoadingStateLegacy.react"),{onClose:a,withCloseButton:!0})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(2);a=a.groupID;var e;b[0]!==a?(e={groupID:a},b[0]=a,b[1]=e):e=b[1];return c("useCometEntryPointDialog")(c("GroupsCometCMOffboardingDialog.entrypoint"),e,void 0,j)}g["default"]=a}),98);
__d("useMWCMJoinCMThread",["C4GFalcoLoggerDeferred","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSCommunityBitOffset","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMailboxType","LSThreadBitOffset","LSVec","LSVerifyThreadViewStoredProcedure","ReQL","ThreadStatus","emptyFunction","mwCMisStandAloneCommunity","promiseDone","react","react-compiler-runtime","useGroupsCometCMOffboardingEntryPointDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(i||d("react")).useState,m=function(a){return(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(18))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(21))};function a(a,b){var e=d("react-compiler-runtime").c(32),g=(h||(h=c("useReStore")))(),i;e[0]!==b?(i=b?d("LSCommunityBitOffset").has(1,b):!1,e[0]=b,e[1]=i):i=e[1];var n=i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWCMPausedChatMemberDialog.react").__setRef("useMWCMJoinCMThread"),e[2]=i):i=e[2];i=c("useMWXLazyDialog")(i);var o=i[0],p=c("useMWNavigation")();i=l(!1);var q=i[0],r=i[1];e[3]!==(b==null?void 0:b.fbGroupId)?(i=function(){var a;return{groupID:(j||(j=d("I64"))).to_string((a=b==null?void 0:b.fbGroupId)!=null?a:(j||(j=d("I64"))).zero)}},e[3]=b==null?void 0:b.fbGroupId,e[4]=i):i=e[4];var s=b==null?void 0:b.fbGroupId,t;e[5]!==s?(t=[s],e[5]=s,e[6]=t):t=e[6];s=c("useGroupsCometCMOffboardingEntryPointDialog")(d("Int64Hooks").useMemoInt64(i,t));var u=s[0],v=a.clientThreadKey,w=a.threadKey,x=a.threadType;e[7]!==v||e[8]!==p||e[9]!==q||e[10]!==w||e[11]!==x?(i=function(){if(!q)return;m(x)&&(p.openTabOrInbox({clientThreadKey:v,threadKey:w,threadType:x},"inboxThreadList"),r(!1))},t=[x,v,w,q,p],e[7]=v,e[8]=p,e[9]=q,e[10]=w,e[11]=x,e[12]=i,e[13]=t):(i=e[12],t=e[13]);d("Int64Hooks").useEffectInt64(i,t);e[14]!==g||e[15]!==(b==null?void 0:b.communityType)||e[16]!==(b==null?void 0:b.enableState)||e[17]!==(b==null?void 0:b.fbGroupId)||e[18]!==n||e[19]!==u||e[20]!==o||e[21]!==w?(s=function(a,e,h,i){c("promiseDone")(async function(l){var m=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(w));if(m==null)return;var p=function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadViewStoredProcedure")(c("LSFactory")(a),{contacts:c("LSVec").ofArray([]),mailboxType:(k||(k=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),threadKey:m.threadKey,threadType:m.threadType})},"readwrite",void 0,void 0,f.id+":148"))},q=m.hasPendingInvitation||!1,s=m.threadStatus!=null&&(j||(j=d("I64"))).equal(m.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));l=(j||(j=d("I64"))).equal((l=b==null?void 0:b.enableState)!=null?l:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));s=!l&&s&&!d("LSThreadBitOffset").has(154,m)&&!q;if(s)return o({thread:m},c("emptyFunction"));if(!l&&d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(m,b==null?void 0:b.communityType)&&h){q=e?e.metaKey||e.ctrlKey||e.shiftKey:!1;p();return h(q)}if(c("mwCMisStandAloneCommunity")(b==null?void 0:b.communityType)){!d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(m,b==null?void 0:b.communityType)?(a(),r(!0)):c("promiseDone")(g.runInTransaction(function(a){r(!0);return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"",isRequestToJoin:!1,threadKey:m.threadKey})},"readwrite","ui",void 0,f.id+":213"));return}if(m.needsAdminApprovalForNewParticipant===!0&&n&&i){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",client_extras:{member_join_request_enabled:"1"},community_id:(j||(j=d("I64"))).to_string(m.parentThreadKey),event:"thread_join",parent_surface:"thread_list",source:m.hasPendingInvitation===!0?"direct_invite_join_button":"join_button",surface:"messenger_inbox",thread_id:j.to_string(m.threadKey)});return i()}if(!l)return a();if((b==null?void 0:b.fbGroupId)==null)return;return u({},c("emptyFunction"))}())},e[14]=g,e[15]=b==null?void 0:b.communityType,e[16]=b==null?void 0:b.enableState,e[17]=b==null?void 0:b.fbGroupId,e[18]=n,e[19]=u,e[20]=o,e[21]=w,e[22]=s):s=e[22];a=b==null?void 0:b.communityType;i=b==null?void 0:b.enableState;t=b==null?void 0:b.fbGroupId;var y;e[23]!==g||e[24]!==n||e[25]!==u||e[26]!==o||e[27]!==t||e[28]!==a||e[29]!==i||e[30]!==w?(y=[g,a,i,t,n,u,o,w],e[23]=g,e[24]=n,e[25]=u,e[26]=o,e[27]=t,e[28]=a,e[29]=i,e[30]=w,e[31]=y):y=e[31];return d("Int64Hooks").useCallbackInt64(s,y)}g.default=a}),98);
__d("useMWResponsiveLogExtraData",["gkx","react-compiler-runtime","useMatchViewport"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=c("gkx")("24056"),e=c("useMatchViewport")("min","width",900);b="mw_responsive_layout: "+b.toString()+", is900px: "+e.toString();a[0]!==b?(e={responsive:b},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useOnPressMWThreadListItem",["fbt","CommunityMessagingEnableState","I64","Int64Hooks","JSResourceForInteraction","LSFactory","LSIntEnum","LSJoinCommunityChannelStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadBitOffset","MAWGroupInvitesForThread","MWCMThreadTypes.react","MWPIsThreadUnread","MessengerThreadTakedownState","MessengerWebUXLogger","ReQL","ThreadStatus","cr:12043","emptyFunction","getValidMediaURL","promiseDone","react-compiler-runtime","useCommunityFolder","useGroupsCometCMDisabledChatEntryPointDialog","useMWCMJoinCMThread","useMWNavigation","useMWResponsiveLogExtraData","useMWXLazyDialog","useMWXPushErrorToast","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){var b=d("react-compiler-runtime").c(9),e;b[0]===Symbol.for("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWCMPausedChannelMemberDialog.react").__setRef("useOnPressMWThreadListItem"),b[0]=e):e=b[0];e=c("useMWXLazyDialog")(e);var f=e[0],g=(k||(k=c("useReStore")))();b[1]!==g.tables.threads||b[2]!==f||b[3]!==a?(e=function(){return function(){c("promiseDone")(async function(b){b=(b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(a)))!=null?b:{};var e=b.threadName,h=b.threadPictureUrl,i=b.threadPictureUrlExpirationTimestampMs;b=b.threadPictureUrlFallback;if(i==null||h==null||b==null||e==null)return;i=c("getValidMediaURL")(i,h,b);f({threadImageUrl:i,threadTitle:e},c("emptyFunction"))}())}},b[1]=g.tables.threads,b[2]=f,b[3]=a,b[4]=e):e=b[4];var h;b[5]!==g||b[6]!==f||b[7]!==a?(h=[g,f,a],b[5]=g,b[6]=f,b[7]=a,b[8]=h):h=b[8];return d("Int64Hooks").useMemoInt64(e,h)}function a(a,e,f,g,m,n){var o=d("react-compiler-runtime").c(47),p=m===void 0?!0:m,q=(k||(k=c("useReStore")))(),r=c("useMWNavigation")();o[0]===Symbol.for("react.memo_cache_sentinel")?(m=c("JSResourceForInteraction")("MAWGroupInviteDialog.react").__setRef("useOnPressMWThreadListItem"),o[0]=m):m=o[0];m=c("useMWXLazyDialog")(m);var s=m[0],t=c("useCommunityFolder")(f),u=c("MessengerWebUXLogger").useInteractionLogger();o[1]!==f.takedownState?(m=f.takedownState!=null&&(i||(i=d("I64"))).equal(f.takedownState,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").GEO_BLOCKED)),o[1]=f.takedownState,o[2]=m):m=o[2];var v=m;o[3]!==f.threadKey?(m=(i||(i=d("I64"))).to_string(f.threadKey),o[3]=f.threadKey,o[4]=m):m=o[4];var w;o[5]!==v||o[6]!==m?(w={isGeoBlocked:v,threadID:m},o[5]=v,o[6]=m,o[7]=w):w=o[7];m=c("useGroupsCometCMDisabledChatEntryPointDialog")(w);var x=m[0];o[8]!==f.threadType?(w=d("LSMessagingThreadTypeUtil").isPublicCMThread(f.threadType),o[8]=f.threadType,o[9]=w):w=o[9];var y=w;m=l(f.threadKey);var z=m[0],A=c("useMWCMJoinCMThread")(f,t),B=c("useMWXPushErrorToast")(),C=c("useMWResponsiveLogExtraData")();o[10]!==q||o[11]!==C||o[12]!==a||o[13]!==v||o[14]!==p||o[15]!==y||o[16]!==A||o[17]!==u||o[18]!==e||o[19]!==n||o[20]!==(t==null?void 0:t.takedownState)||o[21]!==r||o[22]!==B||o[23]!==g||o[24]!==x||o[25]!==s||o[26]!==z||o[27]!==f.threadKey?(w=function(k,l,m,o){c("promiseDone")(async function(){var w=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(q.tables.threads).getKeyRange(f.threadKey));if(w==null)return;var D=d("MAWGroupInvitesForThread").isGroupInviteThread(w),E=d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(w.threadType),F=d("MWCMThreadTypes.react").isUnjoinedCMThread(w.threadType),G=d("LSMessagingThreadTypeUtil").isCMSubthread(w.threadType),H=w.threadStatus!=null&&((i||(i=d("I64"))).equal(w.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(i||(i=d("I64"))).equal(w.threadStatus,(i||(i=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),I=(t==null?void 0:t.takedownState)!=null&&(i||(i=d("I64"))).equal(t==null?void 0:t.takedownState,(i||(i=d("I64"))).of_int32(1)),J=w.takedownState!=null&&(i||(i=d("I64"))).equal(w.takedownState,(j||(j=d("LSIntEnum"))).ofNumber(c("MessengerThreadTakedownState").TAKEN_DOWN)),K=w.needsAdminApprovalForNewParticipant===!0,L=(i||(i=d("I64"))).equal(a!=null?a:(j||(j=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(j||(j=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED)),M=w.folderName==="inbox"?(j||(j=d("LSIntEnum"))).ofNumber(12):w.folderName==="pending"?(j||(j=d("LSIntEnum"))).ofNumber(29):(j||(j=d("LSIntEnum"))).ofNumber(30),N=d("MWPIsThreadUnread").isThreadUnread(w),O=function(a){var c={clientThreadKey:w.clientThreadKey,isUnread:N,threadKey:w.threadKey,threadType:w.threadType};b("cr:12043")!=null&&b("cr:12043").isFollowUpTagDisplayed(w)&&b("cr:12043").touchThreadMetadata(w.threadKey);if(a)return r.openInbox(c,e,M);r.openTabOrInbox(c,e,o,M,{subEntrypoint:n});m&&m()},P=function(){g==null||g(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(q,function(a){return c("LSJoinCommunityChannelStoredProcedure")(c("LSFactory")(a),{entryPoint:"messengerdotcom",isRequestToJoin:K,threadKey:f.threadKey})},"joinCommunityChannel"),function(){O(!1),g==null||g(!1)},function(){B({title:h._(/*BTDS*/"Couldn't join chat. Please try again later.")})})},Q=w.hasPendingInvitation||!1;L=!L&&H&&!d("LSThreadBitOffset").has(154,w)&&!Q;u==null||u({eventName:"open_thread",extraData:C,threadKey:w.threadKey,threadType:w.threadType});p||(u==null||u({eventName:"open_thread_from_mini_list",extraData:C,threadKey:w.threadKey,threadType:w.threadType}));if(y&&(J||I||v))return x({threadID:(i||(i=d("I64"))).to_string(w.threadKey)});if(F)return A(l,k,O,P);if(E&&L)return z();D?s({thread:w},c("emptyFunction")):G||O(k.metaKey||k.ctrlKey||k.shiftKey)}())},o[10]=q,o[11]=C,o[12]=a,o[13]=v,o[14]=p,o[15]=y,o[16]=A,o[17]=u,o[18]=e,o[19]=n,o[20]=t==null?void 0:t.takedownState,o[21]=r,o[22]=B,o[23]=g,o[24]=x,o[25]=s,o[26]=z,o[27]=f.threadKey,o[28]=w):w=o[28];m=t==null?void 0:t.takedownState;var D;o[29]!==q||o[30]!==C||o[31]!==a||o[32]!==v||o[33]!==p||o[34]!==A||o[35]!==u||o[36]!==e||o[37]!==n||o[38]!==r||o[39]!==B||o[40]!==g||o[41]!==x||o[42]!==s||o[43]!==z||o[44]!==m||o[45]!==f.threadKey?(D=[q,f.threadKey,m,a,u,p,v,r,e,n,g,B,x,A,z,s,C],o[29]=q,o[30]=C,o[31]=a,o[32]=v,o[33]=p,o[34]=A,o[35]=u,o[36]=e,o[37]=n,o[38]=r,o[39]=B,o[40]=g,o[41]=x,o[42]=s,o[43]=z,o[44]=m,o[45]=f.threadKey,o[46]=D):D=o[46];return d("Int64Hooks").useCallbackInt64(w,D)}g.default=a}),226);
__d("usePreloadRoute",["JSScheduler","react","react-compiler-runtime","useCometRouterDispatcher","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a,b){var e=d("react-compiler-runtime").c(6),f=c("useMWNavigation")(),g=c("useCometRouterDispatcher")(),h,k;e[0]!==g||e[1]!==f||e[2]!==a||e[3]!==b?(h=function(){(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(function(){g!=null&&g.prefetchRouteDefinition(f.getUrlFromThreadKey(a,b))})},k=[g,f,a,b],e[0]=g,e[1]=f,e[2]=a,e[3]=b,e[4]=h,e[5]=k):(h=e[4],k=e[5]);j(h,k)}g["default"]=a}),98);
__d("MWThreadListItem.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","CometTextWithEntities.react","CurrentEnvironment","HeroInteractionIgnoreWithDiv.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadRangeFilter","LSThreadTitle.react","MAWUIMessageComposerDraftsPersistedDataService","MWCMJewelContext","MWCMThreadTypes.react","MWChatTextTransform","MWLogInboxFiltersInteraction","MWLogInteraction","MWPIsThreadUnread","MWThreadListConsts","MWThreadListFocusableTable.react","MWThreadListItemAddOnEnd.react","MWThreadListLastMessage.react","MWThreadPicture.react","MWThreadSnippetForDisplay.react","MWVerticalRhythm","MWXGlimmer.react","MWXListCellPressable.react","MWXSpinner.react","MWXText.react","MessageRequestsBulkActionsContext.react","MessageRequestsBulkActionsThreadListItem","MessagingCommunityChatsPauseStatus","MessengerMuteUtils","MessengerWebEntryPointsUtil","MessengerWebUXLogger","MetaConfig","ReQL","ReQLSuspense","deferredLoadComponent","emptyFunction","gkx","interaction-tracing-metrics","justknobx","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwCMisStandAloneCommunity","mwIsThreadDisabled","react","react-compiler-runtime","react-strict-dom","requireDeferred","useCommunityFolder","useGroupsCometChatsEngagementImpressionLogger","useGroupsCometJoinChatDialog","useIsChatPreviewsEnabled","useMWNavigation","useMWPThreadHasSpectraUser","useMWPreloadThread","useMWThreadSnippetForDisplay","useMatchViewport","useMenuButtonVisibilityState","useMergeRefs","useOnPressMWThreadListItem","usePreloadRoute","useReStore","useSimpleImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;e=b.memo;b.useCallback;var n=b.useContext;b.useMemo;var o=b.useState,p=c("deferredLoadComponent")(c("requireDeferred")("MWThreadListItemMoreActions.react").__setRef("MWThreadListItem.react")),q={communityGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x170jfvy",width:"x3hqpx7",$$css:!0},listItemContainer:{overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0},listItemContainerDisabled:{opacity:"xbyyjgo",$$css:!0},listItemContainerForMessengerDotCom:{paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0},listItemContainerHiddenContent:{display:"x1lliihq",height:"xqtp20y",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xnalus7",$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xktia5q",$$css:!0},threadTitleGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x1qx5ct2",marginBottom:"x1e56ztr",marginTop:"x1k70j0n",width:"x3hqpx7",$$css:!0}};function r(a){var b=d("react-compiler-runtime").c(12),e=a.isUnread,g=a.selected,h=a.showFollowUpReminder,j=a.threadKey,k=(i||(i=c("useReStore")))();b[0]!==k.tables.threads||b[1]!==j?(a=function(){return d("ReQL").fromTableAscending(k.tables.threads).getKeyRange(j)},b[0]=k.tables.threads,b[1]=j,b[2]=a):a=b[2];var l;b[3]!==k||b[4]!==j?(l=[k,j],b[3]=k,b[4]=j,b[5]=l):l=b[5];a=d("ReQLSuspense").useFirst(a,l,f.id+":158");if(a==null)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l=m.jsx(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:q.threadSnippetGlimmer})}),b[6]=l):l=b[6];b[7]!==e||b[8]!==g||b[9]!==h||b[10]!==a?(l=m.jsx(c("CometPlaceholder.react"),{fallback:l,name:"MWThreadListItem.DefaultSubtitle",children:m.jsx(s,{isUnread:e,selected:g,showFollowUpReminder:h,thread:a})}),b[7]=e,b[8]=g,b[9]=h,b[10]=a,b[11]=l):l=b[11];return l}function s(a){var b=d("react-compiler-runtime").c(22),e=a.isUnread,f=a.selected,g=a.showFollowUpReminder;a=a.thread;f=c("useMWThreadSnippetForDisplay")(a,f);var h=f.isDraft,i=f.lastMessageCtaType,l=f.shouldHideTimestamp;f=f.snippet;var n;b[0]!==a.threadType?(n=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),b[0]=a.threadType,b[1]=n):n=b[1];n=n;var o;b[2]!==a.disappearingSettingTtl?(o=c("MetaConfig")._("112")&&a.disappearingSettingTtl!=null&&(j||(j=d("I64"))).gt(a.disappearingSettingTtl,(j||(j=d("I64"))).zero),b[2]=a.disappearingSettingTtl,b[3]=o):o=b[3];o=o;var p=d("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().isThreadLoading(a.threadKey,a.threadType);if(a.threadName==null&&c("mwCMIsAnyCMThread")(a.threadType)||p){b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=m.jsxs(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:[m.jsx(c("MWXGlimmer.react"),{index:2,xstyle:q.threadSnippetGlimmer}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.DefaultSubtitleWithThread",hold:!0})]}),b[4]=p):p=b[4];return p}if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&f==null)return null;p=!(j||(j=d("I64"))).equal(a.ongoingCallState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));var r;b[5]!==a.lastActivityTimestampMs?(r=(j||(j=d("I64"))).to_float(a.lastActivityTimestampMs),b[5]=a.lastActivityTimestampMs,b[6]=r):r=b[6];var s=n&&(a==null?void 0:a.hasPendingInvitation)!==!0;n=!n&&!l;b[7]!==h||b[8]!==f||b[9]!==a?(l=m.jsx(c("MWThreadSnippetForDisplay.react"),{isDraftMessage:h,snippetRaw:f,thread:a}),b[7]=h,b[8]=f,b[9]=a,b[10]=l):l=b[10];b[11]!==o||b[12]!==e||b[13]!==i||b[14]!==g||b[15]!==p||b[16]!==r||b[17]!==s||b[18]!==n||b[19]!==l||b[20]!==a?(h=m.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:p,isUnread:e,lastMessageCtaType:i,lastMessageTimestamp:r,showDisappearingMessageVisualIndicator:o,showFollowUpReminder:g,showSnippetText:s,showTimestamp:n,snippet:l,thread:a}),b[11]=o,b[12]=e,b[13]=i,b[14]=g,b[15]=p,b[16]=r,b[17]=s,b[18]=n,b[19]=l,b[20]=a,b[21]=h):h=b[21];return h}function aa(a){var b=d("react-compiler-runtime").c(8),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.threads||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadName","threadType","threadKey"]).getKeyRange(e)},b[0]=g.tables.threads,b[1]=e,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e?(h=[g,e],b[3]=g,b[4]=e,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":263");if(a==null)return null;b[6]!==a?(h=a.threadName==null&&c("mwCMIsAnyCMThread")(a.threadType)?m.jsxs(d("react-strict-dom").html.div,{style:q.threadBodyGlimmer,children:[m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:q.threadTitleGlimmer}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.DefaultThreadTitle",hold:!0})]}):m.jsx(c("LSThreadTitle.react"),{thread:a}),b[6]=a,b[7]=h):h=b[7];return h}function a(a){var b=d("react-compiler-runtime").c(150),e=a.hideMoreActions,f=a.lsEntryPoint,g=a.lsSubEntryPoint,i=a.messagingEntrypoint,l=a.onClose,s=a.onPress,t=a.onPressOverride,u=a.onThreadJoined,v=a.onThreadSelected,w=a.parentSurface,x=a.renderAddOnEnd,y=a.renderThreadPhoto,z=a.renderThreadSubtitle,A=a.renderThreadTitle,B=a.responsive,C=a.selected,D=a.showFollowUpReminder,E=a.thread;a=e===void 0?!1:e;var F=l===void 0?c("emptyFunction"):l;e=u===void 0?c("emptyFunction"):u;var G=v===void 0?c("emptyFunction"):v,H=w===void 0?"channel_list":w,I=D===void 0?!1:D;l=n(c("MWCMJewelContext"));u=l.selectedFilterTab;b[0]!==E.threadType?(v={eventName:"threadlist_item_impression",threadType:E.threadType},b[0]=E.threadType,b[1]=v):v=b[1];w=c("MessengerWebUXLogger").useImpressionLoggerRef(v);bb0:{if(!c("mwCMIsThreadBumped")(E)){D=!1;break bb0}if(c("CurrentEnvironment").messengerdotcom){D=H==="channel_list";break bb0}if(f==="jewel"){b[2]!==u?(l=(j||(j=d("I64"))).equal(u,j.of_int32(c("LSThreadRangeFilter").NONE)),b[2]=u,b[3]=l):l=b[3];D=l;break bb0}D=f!=="inboxThreadList"}var J=D;b[4]!==J||b[5]!==y||b[6]!==E.threadKey?(v=function(){return y!=null?y:function(){return m.jsx(c("MWThreadPicture.react"),{badgeSize:c("gkx")("23219")?10:14,photoSize:c("gkx")("23219")?48:56,threadKey:E.threadKey,withAltText:!1,withCommunityPicture:J})}},u=[J,y,E.threadKey],b[4]=J,b[5]=y,b[6]=E.threadKey,b[7]=u,b[8]=v):(u=b[7],v=b[8]);var K=d("Int64Hooks").useMemoInt64(v,u);b[9]!==A||b[10]!==E.threadKey?(l=function(){return A!=null?A:function(){return m.jsx(aa,{threadKey:E.threadKey})}},D=[A,E.threadKey],b[9]=A,b[10]=E.threadKey,b[11]=l,b[12]=D):(l=b[11],D=b[12]);var L=d("Int64Hooks").useMemoInt64(l,D),M=c("useCommunityFolder")(E);v=M==null?void 0:M.takedownState;b[13]!==v||b[14]!==E.takedownState?(u=c("mwIsThreadDisabled")(E.takedownState,v),b[13]=v,b[14]=E.takedownState,b[15]=u):u=b[15];var N=u,O=d("MWPIsThreadUnread").useIsThreadUnread(E.threadKey)&&!N;b[16]!==O||b[17]!==z||b[18]!==C||b[19]!==I||b[20]!==E.threadKey?(l=function(){return z!=null?z:function(){return m.jsx(r,{isUnread:O,selected:C,showFollowUpReminder:I,threadKey:E.threadKey})}},D=[O,z,E.threadKey,C,I],b[16]=O,b[17]=z,b[18]=C,b[19]=I,b[20]=E.threadKey,b[21]=l,b[22]=D):(l=b[21],D=b[22]);var P=d("Int64Hooks").useMemoInt64(l,D);b[23]!==(M==null?void 0:M.name)||b[24]!==E.threadType?(v=function(){if(!c("mwCMIsAnyCMThread")(E.threadType)||c("CurrentEnvironment").messengerdotcom)return null;return(M==null?void 0:M.name)==null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXGlimmer.react"),{index:1,xstyle:q.communityGlimmer}),m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.Folder",hold:!0})]}):m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta3",children:M==null?void 0:M.name}),m.jsx(c("MWVerticalRhythm"),{height:8})]})},b[23]=M==null?void 0:M.name,b[24]=E.threadType,b[25]=v):v=b[25];u=M==null?void 0:M.name;b[26]!==u||b[27]!==E.threadType?(l=[u,E.threadType],b[26]=u,b[27]=E.threadType,b[28]=l):l=b[28];var Q=d("Int64Hooks").useCallbackInt64(v,l);b[29]!==E.threadType?(D=function(){var a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(E.threadType),b=d("interaction-tracing-metrics").InteractionTracingMetricsCore.currentInteractionLogger(),c=Number(a);b.forEach(function(a){c=((a=a.annotations["int"])==null?void 0:a.hasSecureThread)||0||c});return b.addMetadata("hasSecureThread",c?1:0)},b[29]=E.threadType,b[30]=D):D=b[30];c("useSimpleImpression")(D);b[31]!==E.parentThreadKey?(u=(j||(j=d("I64"))).to_string(E.parentThreadKey),b[31]=E.parentThreadKey,b[32]=u):u=b[32];b[33]!==M?(v=M?(j||(j=d("I64"))).to_string(M.fbGroupId):void 0,b[33]=M,b[34]=v):v=b[34];l=f==="jewel"?"jewel_inbox":"chats_inbox";b[35]!==E.threadKey?(D=(j||(j=d("I64"))).to_string(E.threadKey),b[35]=E.threadKey,b[36]=D):D=b[36];var R;b[37]!==u||b[38]!==v||b[39]!==l||b[40]!==D?(R={community_id:u,event:"bumped_chat_rendered",group_id:v,parent_surface:l,source:"unknown",surface:"messenger_inbox",thread_id:D},b[37]=u,b[38]=v,b[39]=l,b[40]=D,b[41]=R):R=b[41];u=c("useGroupsCometChatsEngagementImpressionLogger")(R);b[42]!==E.threadType?(v=d("LSMessagingThreadTypeUtil").isArmadilloSecure(E.threadType),b[42]=E.threadType,b[43]=v):v=b[43];l=v;var ba=c("useMWNavigation")();D=c("gkx")("24056")?!1:B;var S=c("useMatchViewport")("min","width",d("MWThreadListConsts").minimumPixelsNeededForMaxDisplay)||!D;R=d("MWCMThreadTypes.react").isUnjoinedCMThread(E.threadType);b[44]!==(M==null?void 0:M.communityType)||b[45]!==E?(v=E.hasPendingInvitation===!0&&d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(E,M==null?void 0:M.communityType),b[44]=M==null?void 0:M.communityType,b[45]=E,b[46]=v):v=b[46];var ca=v;b[47]!==E?(B=d("MessengerMuteUtils").calcMuteUntilMs(E),b[47]=E,b[48]=B):B=b[48];D=B;var da=D,T=c("useMenuButtonVisibilityState")(!0);v=T[1];var ea=v.setListItemFocused,U=v.setListItemHovered;B=c("mwCMIsAnyCMThread")(E.threadType);b[49]!==E.parentThreadKey?(D=(j||(j=d("I64"))).equal(E.parentThreadKey,(k||(k=d("LSIntEnum"))).ofNumber(0)),b[49]=E.parentThreadKey,b[50]=D):D=b[50];var V=D;v=c("useMWPThreadHasSpectraUser")(E.threadKey);var W=N||v?!1:V?S:!(R||a);b[51]!==U?(D=function(){return U(!1)},b[51]=U,b[52]=D):D=b[52];v=D;b[53]!==U?(R=function(){return U(!0)},b[53]=U,b[54]=R):R=b[54];a=R;D=c("useMWPreloadThread")(E,l);var fa=D.onHoverInPreloader,ga=D.onHoverOutPreloader,ha=D.onPressInPreloader;if(M!=null&&B){b[55]!==M.enableState||b[56]!==M.fbGroupId||b[57]!==M.folderId?(R=[M.fbGroupId,M.folderId,M.enableState],b[55]=M.enableState,b[56]=M.fbGroupId,b[57]=M.folderId,b[58]=R):R=b[58];D=R}else{b[59]===Symbol["for"]("react.memo_cache_sentinel")?(B=[void 0,void 0,void 0],b[59]=B):B=b[59];D=B}R=D;var X=R[0],ia=R[1];B=R[2];D=n(c("MessageRequestsBulkActionsContext.react"));R=D.isBulkActionsEditMode;c("usePreloadRoute")(E.threadKey,E.threadType);b[60]!==M?(D=(M==null?void 0:M.pauseStatus)!=null&&(j||(j=d("I64"))).equal(M.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("4215"),b[60]=M,b[61]=D):D=b[61];var ja=D;b[62]!==J||b[63]!==ja||b[64]!==N||b[65]!==f||b[66]!==E.threadType?(D=function(){return d("MessengerWebEntryPointsUtil").getEntryPointShouldOverrideThreadSnippetRemoval(f)?!1:ja||!N&&!J&&d("MWCMThreadTypes.react").isJoinedCMThread(E.threadType)},b[62]=J,b[63]=ja,b[64]=N,b[65]=f,b[66]=E.threadType,b[67]=D):D=b[67];var ka=D;D=o(!1);var Y=D[0];D=D[1];var Z=c("useOnPressMWThreadListItem")(B,f,E,D,S,g);B=M==null?void 0:M.communityType;b[68]!==B?(D=c("mwCMisStandAloneCommunity")(B),b[68]=B,b[69]=D):D=b[69];g=D;var $=c("useGroupsCometJoinChatDialog")(E,X,H,"messenger_inbox",e,g);b[70]!==ia||b[71]!==ca||b[72]!==X||b[73]!==S||b[74]!==N||b[75]!==i||b[76]!==da||b[77]!==F||b[78]!==Z||b[79]!==H||b[80]!==x||b[81]!==$||b[82]!==E.threadKey?(B=function(){return N||ca?void 0:m.jsx(c("MWThreadListItemAddOnEnd.react"),{communityId:ia,fbGroupId:X,isMaximized:S,messagingEntrypoint:i,mutedUntilMs:da,parentSurface:H,renderAddOnEnd:x,showGroupsJoinChatDialog:function(a){return Z(a,$,F)},threadKey:E.threadKey})},D=[ia,ca,X,S,N,i,da,F,Z,H,x,$,E.threadKey],b[70]=ia,b[71]=ca,b[72]=X,b[73]=S,b[74]=N,b[75]=i,b[76]=da,b[77]=F,b[78]=Z,b[79]=H,b[80]=x,b[81]=$,b[82]=E.threadKey,b[83]=B,b[84]=D):(B=b[83],D=b[84]);var la=d("Int64Hooks").useMemoInt64(B,D);b[85]!==la||b[86]!==V||b[87]!==Y||b[88]!==S||b[89]!==N||b[90]!==ka||b[91]!==O||b[92]!==ba||b[93]!==F||b[94]!==fa||b[95]!==ga||b[96]!==s||b[97]!==ha||b[98]!==Z||b[99]!==t||b[100]!==G||b[101]!==Q||b[102]!==K||b[103]!==P||b[104]!==L||b[105]!==C||b[106]!==ea||b[107]!==$||b[108]!==E?(e=function(){var a=E.additionalThreadContext!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWXText.react"),{align:"start",color:"secondary",numberOfLines:1,type:"meta4",children:m.jsx(c("CometTextWithEntities.react"),{text:E.additionalThreadContext,transforms:d("MWChatTextTransform").textTransforms})}),m.jsx(c("MWVerticalRhythm"),{height:8})]}):null,b=h._(/*BTDS*/"Joining chat..."),e=m.jsxs(m.Fragment,{children:[m.jsx(c("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}),m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWThreadListItem.AddOnEndLoadingSpinner",hold:!0})]});return m.jsx(c("MWXListCellPressable.react"),{addOnEnd:Y?e:la,addOnStart:K(),"aria-current":C?"page":!1,content:m.jsxs(d("react-strict-dom").html.div,{style:S||!V?void 0:q.listItemContainerHiddenContent,children:[a,Q(),m.jsx(c("MWXText.react"),{align:"start",color:"primary",numberOfLines:1,type:O?"headlineEmphasized4":"headline4",children:L()}),ka()?null:m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),Y?m.jsx(c("MWXText.react"),{type:"entityHeaderMeta3",children:b}):P()]})]}),disabled:Y,linkProps:N?void 0:{preventLocalNavigation:!0,url:ba.getUrlFromThreadKey(E.threadKey,E.threadType)},onFocusChange:ea,onHoverIn:fa,onHoverOut:ga,onPress:function(a){c("justknobx")._("4052")?(d("MWLogInteraction").logPopoverOpenComplete("thread_click"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationComplete()):(d("MWLogInteraction").logPopoverOpenCancel("thread_click"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("thread_click")),t!=null?t==null||t(a):(s==null||s(a,E),Z(a,$,F)),G()},onPressIn:ha,selected:C,size:"large"})},g=[E,Y,la,K,C,S,V,Q,O,L,ka,P,N,ba,ea,fa,ga,ha,t,G,s,Z,$,F],b[85]=la,b[86]=V,b[87]=Y,b[88]=S,b[89]=N,b[90]=ka,b[91]=O,b[92]=ba,b[93]=F,b[94]=fa,b[95]=ga,b[96]=s,b[97]=ha,b[98]=Z,b[99]=t,b[100]=G,b[101]=Q,b[102]=K,b[103]=P,b[104]=L,b[105]=C,b[106]=ea,b[107]=$,b[108]=E,b[109]=e,b[110]=g):(e=b[109],g=b[110]);B=d("Int64Hooks").useMemoInt64(e,g);b[111]!==T||b[112]!==i||b[113]!==F||b[114]!==C||b[115]!==W||b[116]!==E.threadKey||b[117]!==E.threadName||b[118]!==E.threadType?(D=function(){return W?m.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListItem.MoreActions",children:m.jsx(p,{menuButtonVisibilityState:T,messagingEntrypoint:i,onClose:F,selected:C,thread:{threadKey:E.threadKey,threadName:E.threadName,threadType:E.threadType}})})}):null},b[111]=T,b[112]=i,b[113]=F,b[114]=C,b[115]=W,b[116]=E.threadKey,b[117]=E.threadName,b[118]=E.threadType,b[119]=D):D=b[119];b[120]!==X||b[121]!==T||b[122]!==i||b[123]!==F||b[124]!==C||b[125]!==W||b[126]!==E.threadKey||b[127]!==E.threadName||b[128]!==E.threadType?(e=[X,T,i,F,C,W,E.threadName,E.threadKey,E.threadType],b[120]=X,b[121]=T,b[122]=i,b[123]=F,b[124]=C,b[125]=W,b[126]=E.threadKey,b[127]=E.threadName,b[128]=E.threadType,b[129]=e):e=b[129];g=d("Int64Hooks").useMemoInt64(D,e);D=c("useMergeRefs")(w,J?u:null);e=l?"mwthreadlist-item-secure":"mwthreadlist-item-open";w=N?q.listItemContainerDisabled:!1;b[130]!==w?(u=[q.listItemContainer,w,c("gkx")("23219")?q.listItemContainerForMessengerDotCom:!1],b[130]=w,b[131]=u):u=b[131];b[132]!==R||b[133]!==E||b[134]!==B?(l=R?m.jsx(c("MessageRequestsBulkActionsThreadListItem"),{thread:E,threadListCell:B}):B,b[132]=R,b[133]=E,b[134]=B,b[135]=l):l=b[135];b[136]!==l?(w=m.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:m.jsx(d("react-strict-dom").html.div,{role:"gridcell",children:l})}),b[136]=l,b[137]=w):w=b[137];b[138]!==g||b[139]!==w?(R=m.jsxs(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:[w,g]}),b[138]=g,b[139]=w,b[140]=R):R=b[140];b[141]!==a||b[142]!==v||b[143]!==u||b[144]!==R?(B=m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,onMouseEnter:a,onMouseLeave:v,role:"row",style:u,children:R}),b[141]=a,b[142]=v,b[143]=u,b[144]=R,b[145]=B):B=b[145];b[146]!==D||b[147]!==e||b[148]!==B?(l=m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,ref:D,children:B}),b[146]=D,b[147]=e,b[148]=B,b[149]=l):l=b[149];return l}b=e(a);g["default"]=b}),226);
__d("useMWPMarkSeen",["Int64Hooks","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWPMarkSeenDeferred").__setRef("useMWPMarkSeen");function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){return{load:async function(){var b=await h.load();return function(c){return b.markSeen(a,c)}}}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useMemoInt64(c,e)}g.default=a}),98);
__d("useMWPWatchFolderFocusChanges",["react","react-compiler-runtime","useGlobalEventListener"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(6),f=i(!1),g;e[0]!==a||e[1]!==b?(g=function(){if(!f.current)return;b.current&&a!=null&&a();f.current=!1},e[0]=a,e[1]=b,e[2]=g):g=e[2];g=g;var h;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){f.current||(f.current=!0)},e[3]=h):h=e[3];h=h;var j;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(j={},e[4]=j):j=e[4];c("useGlobalEventListener")("focus",g,j);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={},e[5]=g):g=e[5];c("useGlobalEventListener")("blur",h,g)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceCheckPoint",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;a=(h||(h=d("I64"))).of_string("63");b=h.of_string("65");c=h.of_string("98");e=h.of_string("504");f=h.of_string("1000");d=h.of_string("1001");var i=h.of_string("1204"),j=h.of_string("1210"),k=h.of_string("1224"),l=h.of_string("1234"),m=h.of_string("1225"),n=h.of_string("2220");g.traceGroupMessage=a;g.armadilloActMessageSend=b;g.traceCreated=c;g.richMediaMediaSendAttachmentType=e;g.traceTextMessage=f;g.traceMediaMessage=d;g.advancedCryptoMEMSendTaskComplete=i;g.deliveryReceiptReceived=j;g.advancedCryptoMEMEncryptionDeviceCount=k;g.advancedCryptoGroupDualSend=l;g.advancedCryptoDualSend=m;g.armadilloTlcControlOpenThread=n}),98);
__d("LSGroupPollEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({QUESTION_CREATION:1,ADD_OPTION:2,ADD_UNVOTED_OPTION:3,UPDATE_VOTE:4,MULTIPLE_UPDATES:5,QUESTION_CLOSED:6,QUESTION_BUMPED:7,QUESTION_DELETION_SUCCESS:8,QUESTION_DELETION_FAILURE:9});f["default"]=a}),66);
__d("LSMarkThreadRead",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.forEach(b.filter(b.db.table(9).fetch([[[a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[1])&&b.i64.gt(a[0],c.lastReadWatermarkTimestampMs)}),function(b){var c=b.update;b.item;return c({lastReadWatermarkTimestampMs:a[0]})})},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxMarkThreadReadStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSMessageRenderingType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,NON_COLLAPSIBLE_ADMIN_MESSAGE:1,HIDDEN:2,RICH_TEXT_COMMON_MARK:3});f["default"]=a}),66);
__d("LSOptimisticMarkThreadReadV2",["LSIssueNewTask","LSMarkThreadRead"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(d){return c.storedProcedure(b("LSMarkThreadRead"),a[1],a[0])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[3]=b.syncGroup,c.i64.neq(d[3],void 0)?d[2]=d[3]:d[2]=c.i64.cast([0,1]),d[0]=d[2])})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[0]),d[2].set("last_read_watermark_ts",a[1]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_id"),d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,21]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticMarkThreadReadV2StoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSPollQuestionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CHOOSE_MULTIPLE:0,MOST_LIKELY_TO:1,NON_POLL:2});f["default"]=a}),66);
__d("LsMessageSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4190");b=d("FalcoLoggerInternal").create("ls_message_search_end",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchMsgImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4191");b=d("FalcoLoggerInternal").create("ls_message_search_msg_impression",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchMsgResultChosenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4231");b=d("FalcoLoggerInternal").create("ls_message_search_msg_result_chosen",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchSearchClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4464");b=d("FalcoLoggerInternal").create("ls_message_search_search_clicked",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4683");b=d("FalcoLoggerInternal").create("ls_message_search_start",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchThreadImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6727");b=d("FalcoLoggerInternal").create("ls_message_search_thread_impression",a);e=b;g["default"]=e}),98);
__d("LsMessageSearchThreadListClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("6293");b=d("FalcoLoggerInternal").create("ls_message_search_thread_list_click",a);e=b;g["default"]=e}),98);
__d("MAWLocalizationEphemeralSettingSetAdminMsg",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS||a===d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF||a===d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET}g.isEphemeralSettingSetAdminMsg=a}),98);
__d("MAWAdminMsgCTA",["fbt","I64","MAWAdminMsgTypesGrouped","MAWLocalizationEphemeralSettingSetAdminMsg","MAWLocalizationType","MAWMsgType","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=new Set([(b=d("MAWLocalizationType")).LOCALIZATION_TYPE.CURRENT_USER_CREATED_POLL,b.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_CREATED_POLL,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_OPTIONS,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_REMOVED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_POLL_VOTE,b.LOCALIZATION_TYPE.CURRENT_USER_REMOVED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_MIXED_POLL_UPDATE,b.LOCALIZATION_TYPE.CURRENT_USER_MIXED_POLL_UPDATE,b.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_POLL_VOTE,b.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_POLL_VOTE,b.LOCALIZATION_TYPE.PARTICIPANT_CHANGED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.CURRENT_USER_CHANGED_MULTIPLE_POLL_VOTES,b.LOCALIZATION_TYPE.PARTICIPANT_ADDED_POLL_OPTION,b.LOCALIZATION_TYPE.CURRENT_USER_ADDED_POLL_OPTION]),k=new Set([b.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_THEME,b.LOCALIZATION_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME,b.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_THEME,b.LOCALIZATION_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME]),l=h._(/*BTDS*/"Change").toString(),m=h._(/*BTDS*/"See all").toString(),n=h._(/*BTDS*/"Learn more").toString(),o=h._(/*BTDS*/"Learn more").toString(),p=h._(/*BTDS*/"actions you can take.").toString(),q=h._(/*BTDS*/"Go to other chat").toString(),r=h._(/*BTDS*/"View archived chat").toString(),s=h._(/*BTDS*/"View poll").toString(),t=h._(/*BTDS*/"Change").toString();async function u(a){a=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas.index("ctaId")));return a!=null?(i||(i=d("I64"))).add(a.ctaId,(i||(i=d("I64"))).one):(i||(i=d("I64"))).zero}function v(a,b,c){b=[b,c];return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.admin_message_ctas).bounds({gte:b,lte:b}))}function w(a,b,c){if(a==null)return{showAdChoiceIcon:!1};if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:l};if(j.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:b,targetTitle:c,title:s};if(k.has(a))return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:t};switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:n};case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:q};case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:r};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:m};case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return{actionUrl:"https://www.messenger.com/help/1145318292241859/?helpref=uk_lm",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:p};case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return{actionUrl:"https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl",adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:o};default:return{actionUrl:void 0,adClientToken:void 0,adHelpUrl:void 0,adminMessageNicknameParticipantId:void 0,adPreferenceUrl:void 0,showAdChoiceIcon:!1,targetId:void 0,targetTitle:void 0,title:void 0}}}function x(a){if(a==null)return;if(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(a))return"admin_msg_armadillo_ephemeral_change_duration";if(j.has(a))return"admin_msg_poll_details";if(k.has(a))return"admin_msg_change_theme";switch(a){case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE:return"admin_msg_thread_level_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return"admin_msg_e2ee_thread";case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE:return"admin_msg_e2ee_uk_osa";case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return"admin_msg_cutover_rollback";case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:case d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:return"admin_msg_dual_thread_cutover";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE:return"admin_msg_view_pin_msgs_v2";case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return"admin_msg_icdc";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED:case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED:return"admin_msg_change_thread_limit_sharing_permission"}}async function y(a,b,c,e,f){await a.admin_message_ctas.add({actionContentBlob:f.actionContentBlob,actionUrl:f.actionUrl,adClientToken:f.adClientToken,adHelpUrl:f.adHelpUrl,adminMessageNicknameParticipantId:f.adminMessageNicknameParticipantId,adPreferenceUrl:f.adPreferenceUrl,ctaId:b,messageId:e.msgId,showAdChoiceIcon:f.showAdChoiceIcon,targetId:f.targetId,targetTitle:f.targetTitle,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(e.ts),title:f.title})}async function z(a,b,c){var d=await Promise.all([v(a,b,c.msgId),u(a)]),e=d[0];d=d[1];if(e!=null)return{ctaId:e.ctaId,ctaType:x(c.adminType),title:e.title};else{e=A(c.adminType,c);var f=B(c.adminType,c);e=w(c.adminType,e,f);await y(a,d,b,c,e);return{ctaId:d,ctaType:x(c.adminType),title:e.title}}}function a(a,b,c){var e=c.adminType;return e!=null&&(d("MAWLocalizationEphemeralSettingSetAdminMsg").isEphemeralSettingSetAdminMsg(e)||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_IGD_THREAD_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION||e===d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNPINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNPINNED_MESSAGE||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED||e===d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED||e!=null&&j.has(e)||e!=null&&k.has(e)||d("MAWAdminMsgTypesGrouped").dualThreadCutoverAdminMsgs.includes(e))?z(a,b,c):Promise.resolve()}function A(a,b){if(a==null)return void 0;if(b.type_===d("MAWMsgType").MSG_TYPE.GROUP_POLL_CREATE)return(i||(i=d("I64"))).of_string(b.externalId);return j.has(a)&&b.pollStanzaId!=null?(i||(i=d("I64"))).of_string(b.pollStanzaId):void 0}function B(a,b){if(a==null)return void 0;return j.has(a)?b.adminContent==null||b.adminContent.length===0?void 0:b.adminContent[b.adminContent.length-1]:void 0}g.getAdminMsgCTAContentByAdminType=w;g.getCtaTypeByAdminType=x;g.getAdminMsgCtaStep=a}),226);
__d("MAWBridgeDeleteMessagesHandler",["EntMessageReplyType","FBLogger","I64","LSIntEnum","MAWCurrentUser","MAWDbMsg","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MAWReplyBuilder","MAWTimeUtils","MsgrWebGating","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeDeleteMessagesHandler",async function(a,c){await Promise.all(b.messages.map(async function(b){if(d("MsgrWebGating").isQuotedMessagesInLsEnabled()){var e=await a.messages.index("messageId").get(b.msgId);e!=null&&(await j({callbackTxn:a,messageId:e.messageId,threadKey:e.threadKey,timestampMs:e.timestampMs}),await k(a,e))}else await j({callbackTxn:a,messageId:b.msgId,threadKey:c,timestampMs:d("MAWTimeUtils").toTimestamp(b.ts)})}))})}async function j(a){var b=a.callbackTxn,c=a.messageId,e=a.threadKey;a=a.timestampMs;await b.messages.delete(e,a,c);if(d("MAWMpsGating").isMpsMessageRendering()){a=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(b.attachments).getKeyRange(e,c));await Promise.all(a.map(function(a){var c=[a.defaultCtaId,a.attachmentCta1Id,a.attachmentCta2Id,a.attachmentCta3Id].filter(Boolean);c=c.map(function(a){return b.attachment_ctas.delete(a)});return Promise.all(c).then(function(){return b.attachments.delete(a.threadKey,a.messageId,a.attachmentFbid)})}))}}async function k(a,b){var e=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.messageId)),f=d("MAWDbMsg").toMsgId(b.messageId);if(f==null){c("FBLogger")("messenger_e2ee_web").mustfix("[MAWBridgeDeleteMessagesHandler] Error extracting message id from message");return}await Promise.all(e.map(function(e){var g={isBumpMsg:e.replyType===(h||(h=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP),replyToLSMessage:babelHelpers.extends({},b,{isUnsent:!0}),replyToMsgId:f,replyType:"MESSAGE"};e=babelHelpers.extends({},e,{replyAttachmentId:void 0,replyAttachmentPlaintextHash:void 0,replyAttachmentType:void 0,replyMediaExpirationTimestampMs:void 0,replyMediaPreviewHeight:void 0,replyMediaPreviewWidth:void 0,replySnippet:d("MAWReplyBuilder").getReplyBuilder(g.replyType).buildReplySnippet(g,(i||(i=d("I64"))).to_string(e.senderId),d("MAWCurrentUser").getID()),replyStatus:d("MAWReplyBuilder").getReplyBuilder(g.replyType).buildReplyStatus(g)});return a.messages.put(e)}))}g.call=a}),98);
__d("MAWBridgeDeleteReactionHandler",["I64","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeDeleteReactionHandler",function(a,c){return a.reactions["delete"](c,b.messageId,(h||(h=d("I64"))).of_string(b.actorId))})}g.call=a}),98);
__d("MAWBridgeEditMsgHistoryAddedHandler",["FBLogger","I64","LSMessageSendStatus","MAWChatJid","ReQL","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h;async function i(a,b){a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b));return a==null?void 0:a.messageId}async function j(a,b,e){var f=await i(a,b.originalMsgExternalId);if(f==null){c("FBLogger")("messenger_web_e2ee").warn("original message for edit msg history is not present in lsdb");return}f={messageContent:b.msgContent.content,originalMessagePk:f,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(f)}function k(a,b,e,f,g){g={messageContent:b.msgContent.content,originalMessagePk:g,pk:f,sendStatus:b.sendStatus!=null?(h||(h=d("I64"))).of_int32(b.sendStatus):(h||(h=d("I64"))).of_int32(c("LSMessageSendStatus").SERVER_RECEIVED),serverAdjustedEditTsMs:(h||(h=d("I64"))).of_int32(b.editTs),threadKey:e};return a.edit_message_history.put(g)}async function l(a,b,c){a=await d("MAWChatJid").toThreadKeyMaybe(a.tables,c.threadJid);if(a==null)return;var e=c.editMsgHistoryId,f=c.originalMsgId;b=f==null||e==null?j(b,c,a):k(b,c,a,e,f);return b}function a(a,b,d){return Promise.all(d.map(function(c){return l(a,b,c)})).then(c("emptyFunction"))}g.call=a}),98);
__d("MAWBridgeHandleReceiverFetchXMA",["FBLogger","I64","LSIntEnum","LSXmaContentType","MAWBridgeXMAUtils","MessagingAttachmentType","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b,e){var f,g,j,k=b.contentRef,l=b.defaultPreviewMediaId,m=b.msgId,n=b.subtitleText,o=b.titleText,p=b.xmaId;if(m==null)return;f=(f=b==null||(g=b.defaultCTA)==null?void 0:g.actionUrl)!=null?f:b==null||(j=b.defaultCTA)==null?void 0:j.nativeUrl;var q=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(e,m));p=String(p);var r=(h||(h=d("I64"))).zero,s;if(k!=null)try{k=JSON.parse(k);k!=null&&(s=JSON.stringify(k))}catch(a){c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse msg.contentRef as XmsgMsgrXmaContentRefDataclass")}else c("FBLogger")("messenger_web_sharing").mustfix("contentRef is empty for a MSG_RECEIVER_FETCH XMA");k=await d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,e,m,p,{});b=k.attachmentCta1Id;var t=k.attachmentCta2Id,u=k.attachmentCta3Id;k=k.defaultCtaId;f={actionUrl:f!=null?f:void 0,attachmentCta1Id:b,attachmentCta2Id:t,attachmentCta3Id:u,attachmentFbid:p,attachmentIndex:h.zero,attachmentType:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:h.zero,defaultCtaId:k,hasMedia:!1,hasXma:!0,hasXmaPreview:l!=null,isSharable:!0,messageId:m,receiverFetchId:s,subtitleText:n,threadKey:e,timestampMs:r,titleText:o,transportKey:"WhatsApp",xmaContentType:i.ofNumber(c("LSXmaContentType").MSG_RECEIVER_FETCH)};q!=null?await a.attachments.upsert([q.threadKey,q.messageId,q.attachmentFbid],f):await a.attachments.add(f);return}g.call=a}),98);
__d("MAWMessageExpirationStorage",["LSDatabaseSingleton","MAWBridgeDeleteMessagesHandler","ReQL","clearTimeout","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Map();async function a(a,b,c){await Promise.all(b.map(function(b){var c=b.ts,e=b.msgId;e={msgId:e,ts:c};c=b.threadJid;b=[e];e={messages:b,threadJid:c};return d("MAWBridgeDeleteMessagesHandler").call(a,e)})),i.delete(c)}async function b(a,b,c){await Promise.all(b.map(async function(b){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId));if(b==null)return;b=babelHelpers.extends({},b,{replyAttachmentPlaintextHash:void 0});await a.messages.put(b)})),i.delete(c)}async function e(a,b,c){await Promise.all(b.map(async function(b){b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId));if(b==null)return;b=babelHelpers.extends({},b,{replyMessageText:void 0});await a.messages.put(b)})),i.delete(c)}function j(a,b,e,g){return c("setTimeout")(async function(){var e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;c("promiseDone")(e.runInTransaction(async function(c){await g(c,a,b)},"readwrite",void 0,void 0,f.id+":127"))},e)}function k(a){var b=a.bridgeMsgStartCountdown;a=a.expirationEvent;var d=b.countdownTs,e=b.millisecondsUntilCountdownTs,f=i.get(d),g;if(f==null)g=[b];else{c("clearTimeout")(f.timeoutId);var h=f.msgs.map(function(a){return a.msgId}).indexOf(b.msgId)===-1;h&&f.msgs.push(b);g=f.msgs}h=j(g,d,e,a);i.set(d,{expirationTs:d,msgs:g,timeoutId:h})}function l(a){var b=a.msgId;a=i.get(a.countdownTs);if(a==null)return;b=a.msgs.map(function(a){return a.msgId}).indexOf(b);if(b>-1){a.msgs.splice(b,1);return}}g.expirationDeletionEvent=a;g.expirationStoryReplyEvent=b;g.expirationNoteReplyEvent=e;g.setMessageForExpiration=k;g.clearMessageFromExpiration=l}),98);
__d("MAWBridgeMsgsStartCountdownHandler",["I64","MAWMessageExpirationStorage","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){return b.msgs.reduce(function(b,c){return b.then(function(){d("MAWMessageExpirationStorage").setMessageForExpiration({bridgeMsgStartCountdown:c,expirationEvent:d("MAWMessageExpirationStorage").expirationDeletionEvent});(h||(h=d("I64"))).of_int32(c.millisecondsUntilCountdownTs);return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c.threadJid,"MAWBridgeMsgsStartCountdownHandler",function(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,d("MAWTimeUtils").toTimestamp(c.ts),c.msgId)).then(async function(b){if(b==null)return Promise.resolve();b=babelHelpers.extends({},b,{ephemeralExpirationTs:(h||(h=d("I64"))).of_float(c.countdownTs)});await a.messages.put(b)})})})},Promise.resolve())}g.call=a}),98);
__d("MAWMedia",["LSIntEnum","MAWDbMedia","MessagingAttachmentType"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if(a===d("MAWDbMedia").MEDIA_TYPE.IMAGE)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE);else if(a===d("MAWDbMedia").MEDIA_TYPE.VIDEO)return b!=null?(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO):(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO);else if(a===d("MAWDbMedia").MEDIA_TYPE.PTT)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO);else if(a===d("MAWDbMedia").MEDIA_TYPE.GIF)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE);else if(a===d("MAWDbMedia").MEDIA_TYPE.STICKER)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);else if(a===d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE)return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE);return(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE)}g.mediaTypeToMessageAttachmentType=a}),98);
__d("MAWBridgeNewMediaHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSThreadMediaGalleryGroup","MAWDbMedia","MAWMedia","MAWMediaManagerUiIntegrationCheck","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","ReQL","WAMediaHdType","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g,j){var k=b.messagesSortOrderMs?(h||(h=d("I64"))).of_float(b.messagesSortOrderMs[e]):b.sortOrderMs!=null?(h||(h=d("I64"))).of_float(b.sortOrderMs):(h||(h=d("I64"))).of_float(b.ts*1e3);return{accessibilitySummaryText:b.accessibilitySummaryText,attachmentFbid:f,attachmentIndex:(f=a==null?void 0:a.attachmentIndex)!=null?f:(h||(h=d("I64"))).zero,attachmentType:(f=a==null?void 0:a.attachmentType)!=null?f:d("MAWMedia").mediaTypeToMessageAttachmentType(b.mediaType,b.ephemeralMediaViewMode),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:b.ephemeralMediaState!=null?(h||(h=d("I64"))).of_int32(b.ephemeralMediaState):a==null?void 0:a.ephemeralMediaState,ephemeralMediaViewMode:b.ephemeralMediaViewMode!=null?(h||(h=d("I64"))).of_int32(b.ephemeralMediaViewMode):a==null?void 0:a.ephemeralMediaViewMode,filename:(f=(f=b.filenames!=null?b.filenames[e]:null)!=null?f:b.defaultFilename)!=null?f:a==null?void 0:a.filename,filesize:b.filesize==null?a==null?void 0:a.filesize:(h||(h=d("I64"))).of_int32(b.filesize),gifPlayback:b.gifPlayback,hasMedia:b.hasMedia||c("justknobx")._("4927")&&d("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()&&b.hasPreviewMedia===!0,hasXma:!1,isHd:((f=b.hdTypes)==null?void 0:f[e])===d("WAMediaHdType").HD_TYPE_HQ_4K,isSharable:!1,messageId:e,offlineAttachmentId:g,playableDurationMs:b.duration==null?a==null?void 0:a.playableDurationMs:(h||(h=d("I64"))).of_int32(b.duration),previewHeight:b.previewHeight==null?a==null?void 0:a.previewHeight:(h||(h=d("I64"))).of_int32(b.previewHeight),previewHeightLarge:b.previewHeightLarge==null?a==null?void 0:a.previewHeightLarge:(h||(h=d("I64"))).of_int32(b.previewHeightLarge),previewWidth:b.previewWidth==null?a==null?void 0:a.previewWidth:(h||(h=d("I64"))).of_int32(b.previewWidth),previewWidthLarge:b.previewWidthLarge==null?a==null?void 0:a.previewWidthLarge:(h||(h=d("I64"))).of_int32(b.previewWidthLarge),threadKey:j,timestampMs:k,titleText:b.accessibilitySummaryText,transportKey:(f=b.transportKey)!=null?f:"WhatsApp"}}function k(a,b){var c=b.hasPreviewMedia!=null;return{id:a,mainMediaStatus:b.hasMedia?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(4),mainMediaStatusDetails:"initial_media_download",previewMediaStatus:c?b.hasPreviewMedia===!0?(i||(i=d("LSIntEnum"))).ofNumber(1):(i||(i=d("LSIntEnum"))).ofNumber(4):void 0,previewMediaStatusDetails:c?"initial_media_download":void 0}}async function l(a,b,c){var e=b.mediaId,f=b.msgIds,g=b.offlineAttachmentId,i=b.plaintextHash;await m(a,b);var k=n(e,i),l=g!=null?g:k;e=!1;var p=o(b),q=null;q=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments_ranges_v2__generated).getKeyRange(c).filter(function(a){return(h||(h=d("I64"))).equal(a.mediaGroup,p)}));await Promise.all(f.map(async function(f){var g=a.attachments,i=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(g).getKeyRange(c,f));f=j(i,b,f,k,l,c);b.skipShouldUpdateHasMore!==!0&&q!=null&&(h||(h=d("I64"))).le(f.timestampMs,q.minTimestampMs)&&(e=!0);if(i!=null){return g.upsert([i.threadKey,i.messageId,i.attachmentFbid],babelHelpers.extends({},f,{transportKey:(i=i.transportKey)!=null?i:f.transportKey}))}else return g.add(f)}));if(q!=null&&q.hasMoreBefore!==!0&&e){i=babelHelpers.extends({},q,{hasMoreBefore:!0});await a.attachments_ranges_v2__generated.upsert([q.threadKey,q.mediaGroup,q.minTimestampMs],i)}}async function m(a,b){var e=b.mediaId,f=b.plaintextHash;if(f==null){c("FBLogger")("messenger_web_media").mustfix("[NewMedia] No valid media plaintextHash found in reducer %s",e);return}e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.client_media_status).getKeyRange(f));e=e!=null&&!(h||(h=d("I64"))).equal(e.mainMediaStatus,(i||(i=d("LSIntEnum"))).ofNumber(4));if(e)return;await a.client_media_status.add(k(f,b))}function n(a,b){return""+(b!=null?b:a.toString())}function o(a){switch(a.mediaType){case d("MAWDbMedia").MEDIA_TYPE.IMAGE:case d("MAWDbMedia").MEDIA_TYPE.VIDEO:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS);case d("MAWDbMedia").MEDIA_TYPE.DOCUMENT_FILE:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY);default:return(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS)}}function a(a,b){var c=b.threadJid;return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,c,"MAWBridgeNewMediaHandler",function(a,c){return l(a,b,c)})}g.getAttachmentFromBridgeMedia=j;g.callWithoutWaitingForAnything=l;g.getAttachmentID=n;g.call=a}),98);
__d("MAWMsgFetchLSReplyMsgAndAttachment",["EntMessageReplyType","FBLogger","I64","LSIntEnum","LSMessageReplySourceTypeV2","MAWCurrentUser","MAWDbMsg","MAWMpsGating","MAWReplyBuilder","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){var e=b.replyContent;if(e==null||e.replyType!=="MESSAGE")return null;if(e.replyToMsgId==null)return null;var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(e.replyToMsgId));f==null&&b._META_loaded_as_quoted_msg!==!0&&c("FBLogger")("messenger_e2ee_web").mustfix("[fetchReplyLocalViaLS] Reply snippet cannot be generated as original message is not in LSDB");var g;f!=null&&(g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(f.threadKey,f.messageId)));return babelHelpers.extends({},b,{replyContent:babelHelpers.extends({},e,{replyToLSAttachment:g,replyToLSMessage:f})})}async function b(a,b){var e=d("MAWMpsGating").isMpsMessageRendering()?void 0:await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b.threadKey,b.messageId)),f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.messageId));await Promise.all(f.map(function(f){var g=f.replySourceTypeV2,j=f.replyType;if(g==null||j==null){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error getting reply snippet without replySourceTypeV2 and/or replyType");return}j=d("MAWDbMsg").toMsgId(b.messageId);if(j==null){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Error extracting message id from replyToLSMessage");return}if(f.messageId===b.messageId){c("FBLogger")("messenger_e2ee_web").mustfix("[updateMessagesReplyingToMsg] Message replying to itself should not be updated");return}if(g!==(h||(h=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))return;g={isBumpMsg:f.replyType===(h||(h=d("LSIntEnum"))).ofNumber(c("EntMessageReplyType").BUMP),replyToLSAttachment:e,replyToLSMessage:b,replyToMsgId:j,replyType:"MESSAGE"};j=d("MAWReplyBuilder").getReplyBuilder(g.replyType);var k=e!=null?{replyAttachmentId:j.buildReplyAttachmentId(g),replyAttachmentPlaintextHash:j.buildReplyAttachmentPlaintextHash(g),replyAttachmentType:j.buildReplyAttachmentType(g),replyMediaPreviewHeight:j.buildReplyMediaPreviewHeight(g),replyMediaPreviewWidth:j.buildReplyMediaPreviewWidth(g)}:{};k=babelHelpers.extends({},f,k,{replyMessageText:j.buildReplyMessageText(g),replySnippet:j.buildReplySnippet(g,(i||(i=d("I64"))).to_string(f.senderId),d("MAWCurrentUser").getID()),replySourceTimestampMs:j.buildReplyTimestampMs(g),replyStatus:j.buildReplyStatus(g),replyToUserId:j.buildReplyUserId(g)});return a.messages.put(k)}))}g.fetchReplyLocalViaLS=a;g.updateMessagesReplyingToMsg=b}),98);
__d("MAWUpdateMsg",["MAWBridgeBuildMsg","MAWMsgFetchLSReplyMsgAndAttachment","MsgrWebGating"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b,c,e){b=d("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(b,e);e=babelHelpers.extends({},c,b);await a.messages.upsert([c.threadKey,c.timestampMs,c.messageId],e);d("MsgrWebGating").isQuotedMessagesInLsEnabled()&&await d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,e)}g.call=a}),98);
__d("MAWBridgeNewMsgHandler",["FBLogger","I64","LSIntEnum","LSMessageRenderingType","LSQuickReplyType","MAWAdminMsgCTA","MAWBridgeBuildMsg","MAWBridgeNewMediaHandler","MAWBridgeXMAUtils","MAWMpsGating","MAWMsgFetchLSReplyMsgAndAttachment","MAWThreadLoadingState","MAWUpdateMsg","MAWXMAUtils","MWPBumpEntityKey","MpsMessageToBridge","MpsOverBridge","MpsToBridgeMessageId","MpsTypes","MsgrWebGating","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e){return babelHelpers.extends({},d("MAWBridgeBuildMsg").buildNewAndUpdatedMessageSharedParams(b,e),{forwardScore:(h||(h=d("I64"))).of_float(b.forwardingScore),isAdminMessage:b.isAdminMessage,isForwarded:b.isForwarded,messageRenderingType:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageRenderingType").DEFAULT),offlineThreadingId:b.externalId,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),senderId:h.of_string(b.sender),threadKey:a,viewFlags:i.ofNumber(0)})}function k(a,b,c){var e=b.mediaId,f=b.offlineAttachmentId,g=b.plaintextHash;e=d("MAWBridgeNewMediaHandler").getAttachmentID(e,g);g=f!=null?f:e;return d("MAWBridgeNewMediaHandler").getAttachmentFromBridgeMedia(null,b,c,e,g,a)}async function l(a,b,c,e){c.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");c=j(b,c,e);e=c.messageId;var f=c.timestampMs;await a.messages.upsert([b,f,e],c);d("MsgrWebGating").isQuotedMessagesInLsEnabled()&&await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,f,e)).then(function(b){if(b!=null)return d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,b)})}async function m(a,b,c,e){c.unsupportedType==="stickerReceiverFetchMessage"&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.new_msg_handler","sticker_receiver_fetch_fallback");c=j(b,c,e);e=await a.messages.add(c);e[0];c=e[1];e=e[2];d("MsgrWebGating").isQuotedMessagesInLsEnabled()&&await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,c,e)).then(function(b){if(b!=null)return d("MAWMsgFetchLSReplyMsgAndAttachment").updateMessagesReplyingToMsg(a,b)})}async function n(a,b){var c=b.replyContent;if(c==null||c.replyType!=="MESSAGE")return b;var e=await d("MpsOverBridge").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-first"},debug:{purpose:"reply-fetch-local"},messageId:d("MpsToBridgeMessageId").bridgeMsgIdToMps(c.replyToMsgId).messageId,threadId:d("MpsTypes").toThreadId(b.chatJid)});e=e.value;if(e==null)return b;e=d("MpsMessageToBridge").mpsFullMessagetoBridge(e);var f=e==null?void 0:e.topLevel;e=e==null?void 0:e.supplementals;if(f!=null&&f.kind==="bridgeMsg"){e=e==null?void 0:e.find(function(a){return a.kind==="bridgeMedia"||a.kind==="bridgeXMA"});var g=f.value.msgId;e=function(b){if((typeof b==="object"&&b!==null||typeof b==="function")&&b.kind==="bridgeMedia"&&"value"in b){var e=b.value;return k(a,e,c.replyToMsgId)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.kind==="bridgeXMA"&&"value"in b){e=b.value;return d("MAWBridgeXMAUtils").composeAttachmentXMA(e,a,String(e.xmaId),g,void 0,void 0,void 0,void 0,"MAWBridgeNewMsgHandler")}if(b===void 0)return void 0;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b)}(e);return babelHelpers.extends({},b,{replyContent:babelHelpers.extends({},c,{replyToLSAttachment:e,replyToLSMessage:j(a,f.value,void 0)})})}return b}async function o(a,b,c){var e;if(!d("MsgrWebGating").isQuotedMessagesInLsEnabled())return c;a=await d("MAWMsgFetchLSReplyMsgAndAttachment").fetchReplyLocalViaLS(a,c);if(a==null)return c;return d("MAWMpsGating").isMpsMessageRendering()&&((e=a.replyContent)==null?void 0:e.replyToLSAttachment)==null&&((e=a.replyContent)==null?void 0:e.replyToLSMessage)==null?n(b,c):a}async function p(a,b){var c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("optimistic")).getKeyRange(b.externalId));if(c!=null)return Promise.resolve(c);return d("MsgrWebGating").isQuotedMessagesInLsEnabled()?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages.index("messageId")).getKeyRange(b.msgId)):Promise.resolve(null)}async function q(a,b,e){b=await o(a,e,b);if(d("MAWXMAUtils").isXMAStoryReply(b.xmaMessageType))return;if(b.isExpiredMsg===!0){c("FBLogger")("messenger_web").mustfix("Attempted to insert an expired message");return}var f=await d("MAWAdminMsgCTA").getAdminMsgCtaStep(a,e,b);if(d("MAWMpsGating").isMpsMessageRendering())await l(a,e,b,f);else{var g=await p(a,b);g==null?await m(a,e,b,f):await d("MAWUpdateMsg").call(a,b,g,f);d("MAWMpsGating").isMpsMessageRendering()&&((e=b.editCount)!=null?e:0)>0&&await r(a,b)}if(b.collapsibleId!=null){g=(h||(h=d("I64"))).of_float(b.collapsibleId);f=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("collapsibleId")).getKeyRange(g));if(f.length>1){e=f[0];b=f[1];(h||(h=d("I64"))).gt(e.timestampMs,b.timestampMs)?await a.messages.put(babelHelpers.extends({},b,{isCollapsed:!0})):await a.messages.put(babelHelpers.extends({},e,{isCollapsed:!0}))}}}async function r(a,b){var c=await d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.messages.index("replySourceIdMessageID")).getKeyRange(b.msgId));await Promise.all(c.map(function(c){c=babelHelpers.extends({},c,{replyMessageText:b.content});return a.messages.put(c)}))}async function s(a,b){var c=await d("MAWThreadLoadingState").getThreadKeyIfMiThreadNotMissing(a,b.chatJid);if(c==null)return;await q(a,b,c)}async function a(a,b){await Promise.all(b.map(function(b){return s(a,b)}))}g.callWithoutWaitingForAnything=q;g.call=s;g.bulkCall=a}),98);
__d("MAWBridgePollUtils",["fbt","FBLogger","I64","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){return a.toSorted(function(a,b){if(a.numVotes!==b.numVotes)return b.numVotes-a.numVotes;return!(i||(i=d("I64"))).equal(a.sortKeyVotingTimestamp,b.sortKeyVotingTimestamp)?(i||(i=d("I64"))).compare(b.sortKeyVotingTimestamp,a.sortKeyVotingTimestamp):(i||(i=d("I64"))).compare(a.sortKeyCreationTimestamp,b.sortKeyCreationTimestamp)})}function b(a){if(a===d("WAJids").AUTHOR_SYSTEM)throw c("FBLogger")("messenger_web").mustfixThrow("Not a valid author for poll vote");return a===d("WAJids").AUTHOR_ME?(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(d("MAWUserJidWrapper").getMyUserJid())):(i||(i=d("I64"))).of_string(d("WAJids").userIdFromJid(a))}function e(a,b){switch(a.length){case 0:return h._(/*BTDS*/"{option_name}, no votes",[h._param("option_name",b)]);case 1:return h._(/*BTDS*/"{option_name}, voted for by {voter_name}",[h._param("option_name",b),h._param("voter_name",a[0])]);case 2:return h._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1])]);case 3:return h._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name} and {third_voter_name}",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("third_voter_name",a[2])]);default:return h._(/*BTDS*/"{option_name}, voted for by {first_voter_name}, {second_voter_name} and {remaining_count} others",[h._param("option_name",b),h._param("first_voter_name",a[0]),h._param("second_voter_name",a[1]),h._param("remaining_count",a.length-2)])}}g.sortPollXMAOptions=a;g.getContactIdForAuthor=b;g.getListItemAccessibilityText=e}),226);
__d("MNLSXMATemplateType",[],(function(a,b,c,d,e,f){a=Object.freeze({GENERIC_SHARE:0,DEFAULT:-1});f["default"]=a}),66);
__d("QuestionPollStage",[],(function(a,b,c,d,e,f){a=Object.freeze({NOMINATING:0,VOTING:1,CLOSED:2});f["default"]=a}),66);
__d("MAWBridgeNewPollHandler",["fbt","FBLogger","I64","LSAuthorityLevel","LSGroupPollEventType","LSIntEnum","LSPollQuestionType","MAWBridgePollUtils","MAWDbPoll","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MNLSXMALayoutType","MNLSXMATemplateType","MessagingAttachmentType","QuestionPollStage","ReQL","WAJids","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=3;async function l(a,b,c){var e=b.contactIdForCurrentUser,f=b.dbPoll,g=b.latestUpdateMsgId,h=b.latestUpdateTimestampMs;b=b.transportKey;var j=f.pollStanzaId;j=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments.index("idx_attachments_collapsible_id")).getKeyRange(c,(i||(i=d("I64"))).of_string(j)));j!=null&&await a.attachments.delete(j.threadKey,j.messageId,j.attachmentFbid);await m(a,f,c,g,h,e,b)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.dbPoll.chatJid,"BridgeNewPollHandler",function(a,c){return l(a,b,c)})}async function m(a,b,e,f,g,h,j){var l=b.latestSenderTimestampsMs,m=b.pollParticipantCount,q=b.pollStanzaId,r=(i||(i=d("I64"))).of_string(q),s=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.polls).getKeyRange(r));s==null&&await o(a,r,f,g,e);s=await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_options_v2).getKeyRange(r));var t=new Map(b.pollOptions.entries().map(function(a){var b=a[0];a=a[1];return[d("MAWDbPoll").generateStableIdFromOptionHash(b,q).toString(),a]})),u=new Map();s.forEach(function(a){var b=(i||(i=d("I64"))).to_string(a.optionId);u.set(b,babelHelpers.extends({},u.get(b),{lsOption:a}))});t.entries().forEach(function(a){var b=a[0];a=a[1];a.optionText!=null&&u.set(b,babelHelpers.extends({},u.get(b),{mawDbOption:a}))});s=u.entries().toArray().sort(function(a,b){a[0];a=a[1];var d=a.lsOption;a=a.mawDbOption;b[0];b=b[1];var e=b.lsOption;b=b.mawDbOption;d=c("nullthrows")((d=d==null?void 0:d.optionText)!=null?d:a==null?void 0:a.optionText);e=c("nullthrows")((a=e==null?void 0:e.optionText)!=null?a:b==null?void 0:b.optionText);return d.localeCompare(e)});t=await Promise.all(s.map(async function(b,e){var f=b[0];b=b[1];var g=b.lsOption;b=b.mawDbOption;e=(i||(i=d("I64"))).of_int32(e);if(g==null&&b==null)return null;f=i.of_string(f);if(b==null){var j=c("nullthrows")(g);j=j.optionText;await a.poll_options_v2.upsert([r,f],babelHelpers.extends({},c("nullthrows")(g),{sortKeyCreationTimestamp:e}));var k=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(r,f,h));return{contactIds:[h],hasVoteFromCurrentUser:!0,numVotes:1,optionId:f,optionText:j,progressBarFilledPercentage:Math.floor(1/m*100),sortKeyCreationTimestamp:e,sortKeyVotingTimestamp:k!=null?k.timestampMs:(i||(i=d("I64"))).zero}}return n(a,r,f,c("nullthrows")(b.optionText),g,b,e,l,h,m)})).then(function(a){return a.filter(Boolean)});s=t.some(function(a){return a.hasVoteFromCurrentUser});t=d("MAWBridgePollUtils").sortPollXMAOptions(t).slice(0,k);await p(a,b,e,f,g,t,s,j)}async function n(a,b,e,f,g,h,j,k,l,m){h=h.voteAuthors;h=Array.from(h).map(function(a){var b=k.get(a);if(b==null)throw c("FBLogger")("messenger_web").mustfixThrow("Missing latest sender timestamp for poll voter from dbPoll");return{contactId:d("MAWBridgePollUtils").getContactIdForAuthor(a),latestSenderTimestampMs:b}});var n=g!=null?await d("ReQL").toArrayAsync(d("ReQL").fromTableDescending(a.poll_votes_v2).getKeyRange(b,e)):[],o=n.find(function(a){return(i||(i=d("I64"))).equal(a.contactId,l)}),p=k.get(d("WAJids").AUTHOR_ME),q=o!=null&&(p==null||p<(i||(i=d("I64"))).to_float(o.timestampMs));await Promise.all(n.map(async function(c){if((i||(i=d("I64"))).equal(c.contactId,l)&&q)return;await a.poll_votes_v2.delete(b,e,c.contactId)}));await Promise.all(h.map(async function(c){var f=c.contactId;c=c.latestSenderTimestampMs;await a.poll_votes_v2.put({contactId:f,optionId:e,pollId:b,timestampMs:(i||(i=d("I64"))).of_float(c)})}));p=(i||(i=d("I64"))).of_float(Math.max.apply(Math,h.map(function(a){return a.latestSenderTimestampMs}).concat([0])));n=q?(i||(i=d("I64"))).max(c("nullthrows")(o==null?void 0:o.timestampMs),p):p;o=h.length+(q?1:0);p={optionId:e,optionText:f,pollId:b,sortKeyCreationTimestamp:j,sortKeyVotingTimestamp:n,voteCount:i.of_int32(o)};g!=null?await a.poll_options_v2.upsert([b,e],p):await a.poll_options_v2.add(p);g=h.map(function(a){return a.contactId});q&&g.push(l);return{contactIds:g,hasVoteFromCurrentUser:q||h.find(function(a){return(i||(i=d("I64"))).equal(a.contactId,l)})!=null,numVotes:o,optionId:e,optionText:f,progressBarFilledPercentage:Math.floor(o/m*100),sortKeyCreationTimestamp:j,sortKeyVotingTimestamp:n}}async function o(a,b,e,f,g){e={authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),lastUpdateMessageEventType:j.ofNumber(c("LSGroupPollEventType").QUESTION_CREATION),lastUpdateMessageId:e,lastUpdateMessageTimestampMs:(i||(i=d("I64"))).of_float(f),pollId:b,pollStage:j.ofNumber(c("QuestionPollStage").VOTING),pollType:j.ofNumber(c("LSPollQuestionType").CHOOSE_MULTIPLE),threadKey:g};await a.polls.put(e)}async function p(a,b,e,f,g,l,m,n){var o=b.pollStanzaId,p=b.title;if(l.length===0){c("FBLogger")("messenger_web").mustfix("Items length for poll XMA should be greater than 0");return}var q=await d("ReQL").toArrayAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.participants,[]).getKeyRange(e),d("ReQL").fromTableAscending(a.contacts,["name","id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"])).map(function(a){a[0];a=a[1];return a}).filter(Boolean)),r=new Map(q.map(function(a){return[(i||(i=d("I64"))).to_string(a.id),a]}));q=l.map(function(a){var b=a.contactIds,c=a.optionId,e=a.optionText;a=a.progressBarFilledPercentage;var f=b.reduce(function(a,b){var c;b=r.get((i||(i=d("I64"))).to_string(b));a.contactUrlExpirations.push((b==null?void 0:b.profilePictureUrlExpirationTimestampMs)!=null?(i||(i=d("I64"))).to_string(b.profilePictureUrlExpirationTimestampMs):"");a.contactUrlFallbacks.push((c=b==null?void 0:b.profilePictureFallbackUrl)!=null?c:"");a.contactUrls.push((c=b==null?void 0:b.profilePictureUrl)!=null?c:"");(b==null?void 0:b.name)!=null&&a.contactNames.push(b.name);return a},{contactNames:[],contactUrlExpirations:[],contactUrlFallbacks:[],contactUrls:[]}),g=f.contactNames,h=f.contactUrlExpirations,j=f.contactUrlFallbacks;f=f.contactUrls;return{listItemAccessibilityText:d("MAWBridgePollUtils").getListItemAccessibilityText(g,e).toString(),listItemContactUrlExpirationTimestampList:h.length>0?h.join(", "):void 0,listItemContactUrlFallbackList:j.length>0?j.join(", "):void 0,listItemContactUrlList:f.length>0?f.join(", "):void 0,listItemId:c,listItemProgressBarFilledPercentage:(i||(i=d("I64"))).of_int32(a),listItemTitleText:e,listItemTotalCount:i.of_int32(b.length)}});var s=(i||(i=d("I64"))).of_string(o);m=m?h._(/*BTDS*/"Change vote").toString():h._(/*BTDS*/"Vote").toString();var t={actionContentBlob:p,attachmentFbid:o,attachmentIndex:i.zero,ctaId:s,messageId:f,targetId:i.of_string(o),threadKey:e,title:m,type_:"xma_poll_details_card"},u={attachmentCta1Id:s,attachmentFbid:o,attachmentIndex:i.zero,cta1Title:m,cta1Type:"xma_poll_details_card",defaultActionEnableExtensions:!1,defaultCtaId:s,defaultCtaTitle:m,defaultCtaType:"xma_poll_details_card",faviconUrlExpirationTimestampMs:i.zero,messageId:f,threadKey:e};m={attachmentCta1Id:s,attachmentFbid:o,attachmentIndex:i.zero,attachmentType:(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA),authorityLevel:j.ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),collapsibleId:i.of_string(o),cta1Title:m,cta1Type:"xma_poll_details_card",defaultCtaId:s,defaultCtaTitle:m,defaultCtaType:"xma_poll_details_card",hasMedia:!1,hasXma:!0,isSharable:!1,listItemsDescriptionText:p,listItemsId:i.of_string(o),messageId:f,threadKey:e,timestampMs:i.of_float(g),transportKey:n!=null?n:"WhatsApp",xmaLayoutType:j.ofNumber(c("MNLSXMALayoutType").XCENTER),xmasTemplateType:j.ofNumber(c("MNLSXMATemplateType").GENERIC_SHARE)};p=b.pollOptions.values().filter(function(a){return a.optionText!=null}).toArray().length;g=p>k?h._(/*BTDS*/"_j{\"*\":\"{additional_option_count} more options\",\"_1\":\"{additional_option_count} more option\"}",[h._plural(p-k),h._param("additional_option_count",p-k)]).toString():void 0;n=babelHelpers.extends({},m,{listItemAccessibilityText1:q[0].listItemAccessibilityText,listItemAccessibilityText2:q.length>1?q[1].listItemAccessibilityText:void 0,listItemAccessibilityText3:q.length>2?q[2].listItemAccessibilityText:void 0,listItemContactUrlExpirationTimestampList1:q[0].listItemContactUrlExpirationTimestampList,listItemContactUrlExpirationTimestampList2:q.length>1?q[1].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlExpirationTimestampList3:q.length>2?q[2].listItemContactUrlExpirationTimestampList:void 0,listItemContactUrlFallbackList1:q[0].listItemContactUrlFallbackList,listItemContactUrlFallbackList2:q.length>1?q[1].listItemContactUrlFallbackList:void 0,listItemContactUrlFallbackList3:q.length>2?q[2].listItemContactUrlFallbackList:void 0,listItemContactUrlList1:q[0].listItemContactUrlList,listItemContactUrlList2:q.length>1?q[1].listItemContactUrlList:void 0,listItemContactUrlList3:q.length>2?q[2].listItemContactUrlList:void 0,listItemId1:q[0].listItemId,listItemId2:q.length>1?q[1].listItemId:void 0,listItemId3:q.length>2?q[2].listItemId:void 0,listItemProgressBarFilledPercentage1:q[0].listItemProgressBarFilledPercentage,listItemProgressBarFilledPercentage2:q.length>1?q[1].listItemProgressBarFilledPercentage:void 0,listItemProgressBarFilledPercentage3:q.length>2?q[2].listItemProgressBarFilledPercentage:void 0,listItemsSecondaryDescriptionText:g,listItemTitleText1:l[0].optionText,listItemTitleText2:l.length>1?l[1].optionText:void 0,listItemTitleText3:l.length>2?l[2].optionText:void 0,listItemTotalCount1:q[0].listItemTotalCount,listItemTotalCount2:q.length>1?q[1].listItemTotalCount:void 0,listItemTotalCount3:q.length>2?q[2].listItemTotalCount:void 0});await Promise.all([a.attachments.upsert([e,f,o],n),a.attachment_ctas.upsert([s],t),a.attachment_items.upsert([o,i.zero],u)])}g.POLL_OPTIONS_THRESHOLD=k;g.call=a}),226);
__d("MAWBridgeNewReceiverFetchInfoHandler",["FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlUtils","MAWBridgeSendAndReceive","MAWImageUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWMpsGating","MessagingAttachmentType","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a){if(!d("MAWMpsGating").isMpsMessageRendering())return a;var b=await d("MAWBridgeSendAndReceive").sendAndReceive("backend","getReceiverFetchInfo",{receiverFetchId:a.receiverFetchId});return babelHelpers.extends({},a,b)}async function k(a,b,c){b=await j(b);var e=b.msgId,f=b.receiverFetchId,g=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(c,e));b=l(b,c,g);await a.attachments.upsert([c,e,f],b)}function a(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"BridgeNewReceiverFetchInfoHandler",function(a,c){return k(a,b,c)})}function l(a,b,e){var f=a.accessibilitySummaryText,g=a.mimetype,j=a.msgId,k=a.previewHeight,l=a.previewUrl,n=a.previewUrlExpirationTimestampMs,o=a.previewWidth,p=a.ravenSettings,q=a.receiverFetchId,r=a.sortOrderMs,s=a.transportKey;a=a.type;a=m(a);k=d("MAWImageUtils").boundHeightWidth(k,o,d("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE);o=k.height;k=k.width;var t=l!=null?l:e==null?void 0:e.previewUrl,u=n!=null?(h||(h=d("I64"))).of_float(n):e==null?void 0:e.previewUrlExpirationTimestampMs;t=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(t,u);return{accessibilitySummaryText:f,attachmentFbid:q,attachmentIndex:(h||(h=d("I64"))).zero,attachmentType:a,authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),ephemeralMediaState:(p==null?void 0:p.ephemeralMediaState)!=null?(h||(h=d("I64"))).of_int32(p.ephemeralMediaState):void 0,ephemeralMediaViewMode:(p==null?void 0:p.ephemeralMediaViewMode)!=null?(h||(h=d("I64"))).of_int32(p.ephemeralMediaViewMode):void 0,hasMedia:t,hasXma:!1,isSharable:!1,messageId:j,previewHeight:h.of_int32(o),previewUrl:l!=null?l:e==null?void 0:e.previewUrl,previewUrlExpirationTimestampMs:n!=null?(h||(h=d("I64"))).of_float(n):e==null?void 0:e.previewUrlExpirationTimestampMs,previewUrlMimeType:g,previewWidth:h.of_int32(k),receiverFetchId:q,threadKey:b,timestampMs:h.of_float(r),transportKey:s!=null?s:"WhatsApp"}}function m(a){switch(a){case"sticker":return(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER);default:throw c("FBLogger")("messenger_web_media").mustfixThrow("Unsupported type for MAWBridgeNewReceiverFetchInfoHandler")}}g.call=a;g.composeAttachment=l}),98);
__d("MAWBridgeNewXMAHandler",["MAWBridgeHandleReceiverFetchXMA","MAWBridgeXMAUtils","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","WAArmadilloXMA.pb"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,c){var e=String(b.xmaId),f=b.msgId;if(f==null)return;var g=b.targetType===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_RECEIVER_FETCH;if(g)return d("MAWBridgeHandleReceiverFetchXMA").call(a,b,c);g=await d("MAWBridgeXMAUtils").getExistingAttachmentAndAttachmentCtas(a,c,f);var h=g[0];g=g[1];g=await d("MAWBridgeXMAUtils").addAttachmentCtas(a,b,c,f,e,g);var i=g.attachmentCta1Id,j=g.attachmentCta2Id,k=g.attachmentCta3Id;g=g.defaultCtaId;b=d("MAWBridgeXMAUtils").composeAttachmentXMA(b,c,e,f,i,j,k,g,"MAWBridgeNewXMAHandler");h!=null?await a.attachments.upsert([h.threadKey,h.messageId,h.attachmentFbid],b):await a.attachments.add(b)}function i(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.threadJid,"MAWBridgeNewXMAHandler",function(a,c){return h(a,b,c)})}function a(a,b){return i(a,b)}g.callWithoutWaitingForAnything=h;g.call=a}),98);
__d("MAWBridgeReactionUpsertHandler",["I64","LSAuthorityLevel","LSIntEnum","MAWMiActOnMiThreadExistsForJid__DO_NOT_USE","MAWTimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b,e,f,g){return{actorId:(h||(h=d("I64"))).of_string(a),authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),messageId:e,reaction:g,reactionCreationTimestampMs:d("MAWTimeUtils").toTimestamp(f),threadKey:b,timestampMs:d("MAWTimeUtils").toTimestamp(f),transportKey:"WhatsApp"}}function k(a,b,c,e,f,g){return a.reactions.upsert([c,e,(h||(h=d("I64"))).of_string(b)],j(b,c,e,f,g))}function a(a,b,c,d,e,f){return k(a,b,c,d,e,f)}function b(a,b){return d("MAWMiActOnMiThreadExistsForJid__DO_NOT_USE").onMiThreadExistsForJidNoThrow__DO_NOT_USE(a,b.chatJid,"MAWBridgeReactionUpsertHandler",function(a,c){return k(a,b.actorId,c,b.messageId,b.ts,b.reaction)})}g.composeReaction=j;g.attachmentMutationsOptimisticHandler=a;g.call=b}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random","cr:10049"],(function(a,b,c,d,e,f,g){"use strict";b("cr:10049")==null||b("cr:10049").overwriteSamplingRate();function a(a){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLCancel:function(b){c("QPLUserFlow").endCancel(a,{instanceKey:b})},markQPLFailure:function(b,d){var e;c("QPLUserFlow").endFailure(a,(e=d==null?void 0:d.name)!=null?e:"fail",{error:d,instanceKey:b})},markQPLFailureWithMsg:function(b,d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}}g["default"]=a}),98);
__d("MAWDataSourceLogger",["I64","MAWQPLLogger","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){i==null&&(i=c("MAWQPLLogger")(c("qpl")._(25303796,"1974")));return i}function a(a){var b=j().markQPLStart();j().addQPLAnnotations(b,{string:{threadType:(h||(h=d("I64"))).to_string(a)}});return b}function b(a,b,c){j().markQPLPoint(a,"wait_act_thread_start","before fetching messages range from table"),j().addQPLAnnotations(a,{"int":{version:1},string:{direction:b,thread_id:(h||(h=d("I64"))).to_string(c)}})}function e(a,b){j().markQPLFailureWithMsg(a,b)}function f(a){j().markQPLCancel(a)}function k(a){j().markQPLPoint(a,"wait_act_thread_end","before fetching messages range from table"),j().markQPLPoint(a,"load_more_msgs_start","load more messages from MAW DB")}function l(a){j().markQPLPoint(a,"load_messages_from_eb_start","load more messages from EB")}function m(a){j().markQPLPoint(a,"load_messages_from_eb_end","load more messages from EB")}function n(a){j().markQPLPoint(a,"load_messages_from_local_db_start")}function o(a){j().markQPLPoint(a,"load_messages_from_local_db_end")}function p(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_start")}function q(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_end")}function r(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_start")}function s(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_dispatch_download_state_updates_end")}function t(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_start")}function u(a){j().markQPLPoint(a,"insert_msgs_to_lsdb_call_bridge_handlers_end")}function v(a,b){j().markQPLPoint(a,"load_more_msgs_end","Note: OLD SOLUTION DOES NOT FETCH messages. they are fetched in afterTransaction that we cannot control"),j().addQPLAnnotations(a,{bool:{hasMoreBefore:b}})}function w(a){j().markQPLSuccess(a)}function x(a,b){j().markQPLPoint(a,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+b)}function y(a,b){j().markQPLFailure(a,b)}g.logLoadMoreMsgsStart=a;g.logLoadMoreMsgsThreadWaiting=b;g.logLoadMoreMsgsFailure=e;g.logLoadMoreMsgsCancel=f;g.logLoadMoreMsgsThreadReadyFetchMsgs=k;g.logLoadMessagesFromEBStart=l;g.logLoadMessagesFromEBEnd=m;g.logLoadMessagesFromLocalDBStart=n;g.logLoadMessagesFromLocalDBEnd=o;g.logInsertMessageResponseToLSDBStart=p;g.logInsertMessageResponseToLSDBEnd=q;g.logDispatchDownloadStateUpdatesStart=r;g.logDispatchDownloadStateUpdatesEnd=s;g.logCallBridgeHandlersStart=t;g.logCallBridgeHandlersEnd=u;g.logLoadMoreMsgsFetched=v;g.logLoadMoreMsgsSuccess=w;g.logLoadMoreMsgsRangeQuery=x;g.logLoadMoreMsgsRuntimeError=y}),98);
__d("MAWMessageIntegrityTruncateStatus",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h=["threadKey"],i,j=0,k=new Map();function a(a,b,c){var e;e=(e=k.get((i||(i=d("I64"))).to_float(a)))!=null?e:{};b.threadKey;var f=babelHelpers.objectWithoutPropertiesLoose(b,h);e=babelHelpers["extends"]({},e,{lastUpsertedRange:babelHelpers["extends"]({},f,c,{maxTimestampMs:(i||(i=d("I64"))).to_float(b.maxTimestampMs),minTimestampMs:i.to_float(b.minTimestampMs)}),updateRangeTimestamp:Date.now()});k.set(i.to_float(a),e)}function b(a){var b;b=(b=k.get((i||(i=d("I64"))).to_float(a)))!=null?b:{};b=babelHelpers["extends"]({},b,{truncateTimestamp:b.truncateTimestamp==null?j:Date.now()});k.set((i||(i=d("I64"))).to_float(a),b)}function c(a){a=k.get((i||(i=d("I64"))).to_float(a));return(a==null?void 0:a.truncateTimestamp)==null?null:a}g.setThreadLastUpsertedRange=a;g.setThreadThuncated=b;g.getThreadThuncateState=c}),98);
__d("MAWPutMessagesToDB",["MAWBridgeDeleteReactionHandler","MAWBridgeEditMsgHistoryAddedHandler","MAWBridgeMsgsStartCountdownHandler","MAWBridgeNewMediaHandler","MAWBridgeNewMsgHandler","MAWBridgeNewPollHandler","MAWBridgeNewReceiverFetchInfoHandler","MAWBridgeNewXMAHandler","MAWBridgeReactionUpsertHandler","MAWDataSourceLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";async function h(a,b,e,f){var g=e.editMsgHistory,h=e.expiringCountdown,i=e.medias,j=e.msgs,k=e.polls,l=e.quotedMsgs,m=e.reactions,n=e.receiverFetchInfoPayloads;e=e.xmas;f!=null&&d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesStart(f);f!=null&&(d("MAWDataSourceLogger").logDispatchDownloadStateUpdatesEnd(f),d("MAWDataSourceLogger").logCallBridgeHandlersStart(f));var o=c("gkx")("17154");o&&await Promise.all(i.map(function(a){return d("MAWBridgeNewMediaHandler").call(b,a)}));l!=null&&l.length>0&&await d("MAWBridgeNewMsgHandler").bulkCall(b,l);await d("MAWBridgeNewMsgHandler").bulkCall(b,j);o||await Promise.all(i.map(function(a){return d("MAWBridgeNewMediaHandler").call(b,a)}));await Promise.all(e.map(function(a){return d("MAWBridgeNewXMAHandler").call(b,a)}));await Promise.all(n.map(function(a){return d("MAWBridgeNewReceiverFetchInfoHandler").call(b,a)}));await Promise.all(k.map(function(a){return d("MAWBridgeNewPollHandler").call(b,a)}));await d("MAWBridgeMsgsStartCountdownHandler").call(b,{msgs:h});await Promise.all(m.map(function(a){return a.type==="delete"?d("MAWBridgeDeleteReactionHandler").call(b,a.reaction):d("MAWBridgeReactionUpsertHandler").call(b,a.reaction)}));await d("MAWBridgeEditMsgHistoryAddedHandler").call(a,b,g);f!=null&&d("MAWDataSourceLogger").logCallBridgeHandlersEnd(f)}function a(a,b,c){return a.runInTransaction(function(d){return h(a,d,b,c)},"readwrite","ui",void 0,f.id+":112")}function b(a,b){return a.runInTransaction(function(c){return h(a,c,babelHelpers.extends({},b,{expiringCountdown:[],hasMoreAfter:!1,hasMoreBefore:!1,noteReplyCountdown:[],xmaCountdown:[]}))},"readwrite","ui",void 0,f.id+":130")}g.insertMessageResponseToDBInExistingTransaction=h;g.insertMessageResponseIntoDatabase=a;g.insertMessageResponseIntoDatabaseByExternalId=b}),98);
__d("MAWSecureLocalDBFetch",["CometLruCache","FBLogger","I64","MAWBridgeSendAndReceive","MAWDbMsg","WAResultOrError","deepEquals","getErrorSafe","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=["count"],i,j=d("CometLruCache").create(20,2e3);async function a(a,b){var e=a.chatJid,f=a.config,g=a.count,i=a.direction,m=a.offsetMsg,n=a.timestampMs;e=j.get(e);if(e!=null){var o=e&&e.options,p=o.count;o=babelHelpers.objectWithoutPropertiesLoose(o,h);if(c("deepEquals")(o,{config:f,direction:i,offsetMsg:m,timestampMs:n})&&g<=p)try{return d("WAResultOrError").makeResult(babelHelpers.extends({},await e.result))}catch(a){}}if(c("qex")._("18"))return l(a,b);else return k(a,b)}async function k(a,b){var e=a.actionType,f=a.chatJid,g=a.config,h=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs",{actionType:e,chatJid:f,config:g,direction:k,externalId:l==null?void 0:l.externalId,includeOriginalMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,msgId:(l==null?void 0:l.messageId)==null?null:d("MAWDbMsg").toMsgId(l.messageId),numMsgs:h,sortOrderMs:a!=null?(i||(i=d("I64"))).to_float(a):null},{timeoutMs:b==null?void 0:b.timeoutMs});j.set(f,{options:{config:g,count:h,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers.extends({},await e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}}async function l(a,b){var e=a.actionType,f=a.chatJid,g=a.config,h=a.count,k=a.direction,l=a.offsetMsg;a=a.timestampMs;try{e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","maw_load_msgs_range",{actionType:e,chatJid:f,config:g,direction:k,range:{includeLowerBoundMsg:(e=l==null?void 0:l.includeOriginalMsg)!=null?e:!1,lowerBoundExternalId:(l==null?void 0:l.externalId)==null?void 0:l.externalId,lowerBoundSortOrderMs:a!=null?(i||(i=d("I64"))).to_float(a):void 0,numMsgs:h}},{timeoutMs:b==null?void 0:b.timeoutMs});j.set(f,{options:{config:g,count:h,direction:k,offsetMsg:l,timestampMs:a},result:e});b=babelHelpers.extends({},await e);return d("WAResultOrError").makeResult(b)}catch(a){f=c("getErrorSafe")(a);c("FBLogger")("messenger_web").catching(f).mustfix("[MAWSecureLocalDBFetch] maw_load_msgs bridge call failed");return d("WAResultOrError").DEPRECATED_makeError("bridge_call_failed",f)}}g.default=a}),98);
__d("MDSScrollableAreaStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={themed:{scrollbarColor:"x16o0dkt",$$css:!0},unthemed:{scrollbarColor:"xgjnz6y",$$css:!0}};b=a;g["default"]=b}),98);
__d("MWInboxPersistedUIState",["FBLogger","WebStorage","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useCallback,k=b.useRef,l=b.useSyncExternalStore,m=new Map(),n=new Map();function o(a){(a=m.get(a))==null||a.forEach(function(a){return a()})}function a(a,b){var d=k(a).current,e=k({parsed:d,stringified:void 0});a=j(function(a){var c=m.get(b),d=c!=null?c:new Set();d.add(a);m.set(b,d);return function(){d["delete"](a)}},[b]);var f=j(function(){var a=(h||(h=c("WebStorage"))).getLocalStorageForRead();a=a==null?n.get(b):a.getItem(b);if(a==null)return d;if(a===e.current.stringified)return e.current.parsed;try{var f=JSON.parse(a);e.current={parsed:f,stringified:a};return f}catch(a){return d}},[d,b]);a=l(a,f);f=j(function(a){a=a instanceof Function?a(e.current.parsed):a;var d=(h||(h=c("WebStorage"))).getLocalStorage();a=JSON.stringify(a);if(d!=null)if(a==null)d.removeItem(b);else try{d.setItem(b,a)}catch(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to setItem")}else n.set(b,a);o(b)},[b]);return[a,f]}g.usePersistedUIState=a}),98);
__d("coerceMessagingThreadTypeToLSThreadType",["LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=d("LSIntEnum"))).unwrapIntEnum(a)}g["default"]=a}),98);
__d("MWPConversationSearchLogger",["I64","LSMessagingThreadTypeUtil","LsMessageSearchEndFalcoEvent","LsMessageSearchMsgImpressionFalcoEvent","LsMessageSearchMsgResultChosenFalcoEvent","LsMessageSearchSearchClickedFalcoEvent","LsMessageSearchStartFalcoEvent","LsMessageSearchThreadImpressionFalcoEvent","LsMessageSearchThreadListClickFalcoEvent","coerceMessagingThreadTypeToLSThreadType","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=null,j=void 0;function k(a,b,d){var e=a?j!=null?j:l():c("uuidv4")();b={instanceId:e,threadKey:b,threadType:d,universalSearchInstanceId:a?e:void 0};i=b;return b}function l(){var a=c("uuidv4")();j=a;return a}function a(){var a=l();c("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:2,message_search:{instance_id:a,surface_name:0,universal_search_instance_id:a}}})}function b(a,b){var e=j;if(e==null)return;var f=a.threadKey,g=a.threadType;k(!0,f,g);c("LsMessageSearchThreadListClickFalcoEvent").log(function(){var f;return{message_search:{instance_id:e,msg_match_cnt:(h||(h=d("I64"))).to_string((f=a.matchCount)!=null?f:(h||(h=d("I64"))).zero),secure_msg_match_cnt:b!=null?b.toString():null,universal_search_instance_id:e},thread:{type:c("coerceMessagingThreadTypeToLSThreadType")(g)}}})}function e(a,b){var e=j;if(e==null)return;var f=a.threadType;c("LsMessageSearchThreadImpressionFalcoEvent").log(function(){var g;return{message_search:{instance_id:e,msg_match_cnt:(h||(h=d("I64"))).to_string((g=a.matchCount)!=null?g:(h||(h=d("I64"))).zero),secure_msg_match_cnt:b!=null?b.toString():null,surface_name:0,universal_search_instance_id:e},thread:{type:c("coerceMessagingThreadTypeToLSThreadType")(f)}}})}function m(){var a=i;if(a==null)return;c("LsMessageSearchEndFalcoEvent").log(function(){return{end_action:0,message_search:{instance_id:a.instanceId,universal_search_instance_id:a.universalSearchInstanceId}}});i=void 0}function f(a,b){m();var e=k(!1,a,b),f=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);c("LsMessageSearchStartFalcoEvent").log(function(){return{entry_surface:0,is_fts:f,message_search:{instance_id:e.instanceId,surface_name:1},thread:{type:c("coerceMessagingThreadTypeToLSThreadType")(b)}}})}function n(){var a=i;if(a==null)return;c("LsMessageSearchSearchClickedFalcoEvent").log(function(){return{message_search:{instance_id:a.instanceId,universal_search_instance_id:a.universalSearchInstanceId},thread:{type:a.threadType!=null?c("coerceMessagingThreadTypeToLSThreadType")(a.threadType):void 0}}})}function o(a){return(a==null?void 0:a.threadType)==null?void 0:d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)?1:0}function p(a,b,e){var f=i;if(f==null)return;c("LsMessageSearchMsgResultChosenFalcoEvent").log(function(){return{click_surface_name:1,message:{message_type:o(e),sent_time:(e==null?void 0:e.messageTimestampMs)!=null?(h||(h=d("I64"))).to_float(e.messageTimestampMs):void 0},message_search:{instance_id:f.instanceId,universal_search_instance_id:f.universalSearchInstanceId},position:b.toString(),prev_or_next:a,thread:{type:f.threadType!=null?c("coerceMessagingThreadTypeToLSThreadType")(f.threadType):void 0}}})}function q(a){var b=i;if(b==null)return;c("LsMessageSearchMsgImpressionFalcoEvent").log(function(){return{message:{message_type:o(a),sent_time:(a==null?void 0:a.messageTimestampMs)!=null?(h||(h=d("I64"))).to_float(a.messageTimestampMs):void 0},message_search:{instance_id:b.instanceId,surface_name:5,universal_search_instance_id:b.universalSearchInstanceId},thread:{type:b.threadType!=null?c("coerceMessagingThreadTypeToLSThreadType")(b.threadType):void 0}}})}q={logMessageSearchEnd:m,logMessageSearchMsgImpression:q,logMessageSearchMsgResultChosen:p,logMessageSearchSearchClicked:n,logMessageSearchStart:f,logUniversalMessageSearch:a,logUniversalMessageSearchThreadClicked:b,logUniversalMessageSearchThreadImpression:e};g["default"]=q}),98);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["FBLogger","I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useContext;function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,g=a.threadKey,k=(h||(h=c("useReStore")))(),m=d("MWPActor.react").useActor();b[0]!==m||b[1]!==k||b[2]!==g?(a=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(k.tables.participants,["contactId"]).getKeyRange(g).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,m)}),d("ReQL").fromTableAscending(k.tables.contacts))},b[0]=m,b[1]=k,b[2]=g,b[3]=a):a=b[3];var n;b[4]!==g?(n=[g],b[4]=g,b[5]=n):n=b[5];a=d("ReQLSuspense").useFirst(a,n,f.id+":29");n=a!=null?a[1]:null;b[6]!==n?(a=n!=null?(i||(i=d("I64"))).equal(n.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE)):!1,b[6]=n,b[7]=a):a=b[7];n=a;b[8]!==e||b[9]!==n?(a=l.jsx(c("MWPThreadIsPageContext").Provider,{value:n,children:e}),b[8]=e,b[9]=n,b[10]=a):a=b[10];return a}function b(){var a=m(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("FBLogger")("messenger_web_ia").mustfix("Using hook useIsPage in a place where we didn't include the context");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("MWResponsiveLayoutConstants",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({THREAD_LIST_PANEL:0,MESSAGE_LIST_PANEL:1,INFO_PANEL:2});c=[a.MESSAGE_LIST_PANEL,a.INFO_PANEL];d=375;e=320;b=a.THREAD_LIST_PANEL;var g=a.MESSAGE_LIST_PANEL,h=3;f.MWLayoutPanel=a;f.MWInboxMainContentPanels=c;f.DENSE_LAYOUT_BREAKPOINT_WIDTH=d;f.DENSE_LAYOUT_BREAKPOINT_HEIGHT=e;f.DEFAULT_ONE_CARD_INDEX=b;f.DEFAULT_TWO_CARDS_INDEX=g;f.DEFAULT_MAX_CARDS_VISIBLE=h}),66);
__d("MWResponsiveLayoutContext.react",["MWResponsiveLayoutConstants","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({_mountCard:c("emptyFunction"),_unmountCard:c("emptyFunction"),cardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,isDenseMode:!1,maxCardsVisible:d("MWResponsiveLayoutConstants").DEFAULT_MAX_CARDS_VISIBLE,popCard:c("emptyFunction"),primaryCardIndex:d("MWResponsiveLayoutConstants").DEFAULT_TWO_CARDS_INDEX,pushCard:c("emptyFunction"),secondaryCardIndex:null});e=b;g["default"]=e}),98);
__d("MpsMessageToLoadResponse",["FBLogger","MpsMessageToBridge","MpsMessageToBridgeWrapper","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=0,o=new Set(),p=function(){var a;a=(a=d("MpsMessageToBridge").mpsFullMessagetoBridge(q))!=null?a:{};var b=a.supplementals;a=a.topLevel;b==null||b.forEach(function(a){a.kind==="bridgeEditHistoryMsg"?e.push(a.value):a.kind==="bridgeReactionAction"?f.push(a.value):a.kind==="bridgeMsgsStartCountdown"?i.push.apply(i,a.value.msgs):a.kind==="bridgeXMAStartCountdown"?j.push.apply(j,a.value.msgs):a.kind==="bridgeNoteReplyStartCountdown"?k.push.apply(k,a.value.msgs):a.kind==="bridgeMedia"?m.push(a.value):a.kind==="bridgeReceiverFetchInfo"?l.push(a.value):a.kind==="bridgeXMA"&&h.push(a.value)});(a==null?void 0:a.kind)==="bridgeMsg"&&g.push(a.value);if(a==null||a.kind==="bridgeMsg"&&a.value.type_===d("WAMsgType").MSG_TYPE.FUTUREPROOF){n++;b=d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(q.toplevelProtobuf);a=b.deserialize();b=a.encryptedTransportMessage();var p="unknownFieldCount",r=b==null?void 0:b.subProtocol(),s=a.adminMessage();if(r!=null)$$gen$m0:{if((typeof r==="object"&&r!==null||typeof r==="function")&&r.kind==="consumerApplication"){var t,u;Object.keys((t=b==null||(u=b.consumerMessage())==null||(u=u.payload)==null?void 0:u.content)!=null?t:{}).forEach(function(a){if(a===p)return;o.add("consumer:"+a)});break $$gen$m0}if((typeof r==="object"&&r!==null||typeof r==="function")&&r.kind==="armadillo"){var v;Object.keys((t=b==null||(v=b.armadillo())==null||(v=v.payload)==null?void 0:v.content)!=null?t:{}).forEach(function(a){if(a===p)return;o.add("armadillo:"+a)});break $$gen$m0}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+r)}else if(s!=null){Object.keys((b=s.proto)!=null?b:{}).forEach(function(a){if(a===p)return;o.add("admin:"+a)})}else a.encryptedTransportEvent()!=null?o.add("transportEvent"):c("FBLogger")("mps").tags(["MpsMessageToLoadResponse"]).mustfix("Unrecognised message")}};for(var q of a)p();a={editMsgHistory:e,expiringCountdown:i,medias:m,msgs:g,noteReplyCountdown:k,polls:[],reactions:f,receiverFetchInfoPayloads:l,xmaCountdown:j,xmas:h};n>0&&(b==null||b.addQPLAnnotations({"int":{mpsUnrenderedCount:n},string_array:{mpsUnkownMsgTypes:Array.from(o)}}));return a}g.messageToLoadMsgsResponse=a}),98);
__d("ThreadStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,PAUSED:1,PAUSED_AND_UPGRADED_TO_COMMUNITY:2,UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED:3});f["default"]=a}),66);
__d("logMessengerWebFalcoEvent",["I64","LSMessagingThreadTypeUtil","MessengerWebEventsFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h=["hasMissingMessage"],i;function a(a,b,e,f){var g=a.threadKey;a=a.threadType;if(e!=null){var j=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),k=d("LSMessagingThreadTypeUtil").isGroup(a),l=(i||(i=d("I64"))).to_string(g);a=f!=null?f:{};var m=a.hasMissingMessage,n=babelHelpers.objectWithoutPropertiesLoose(a,h);g=f!=null?f:{};var o=g.MAW_vs_EB_numOfMissingInReference,p=g.MAW_vs_EB_numOfMissingInTarget,q=g.UI_vs_EB_numOfMissingInReference,r=g.UI_vs_EB_numOfMissingInTarget,s=g.UI_vs_MAW_numOfMissingInReference,t=g.UI_vs_MAW_numOfMissingInTarget,u=g.pageSize;c("MessengerWebEventsFalcoEvent").log(function(){return{client_timestamp:Date.now().toString(),entry_point:e,event_name:b,extra_data:n,has_message_missing:m,is_secured:j,missing_messages_maw_vs_eb_missing_in_reference_count:o,missing_messages_maw_vs_eb_missing_in_target_count:p,missing_messages_page_size:u,missing_messages_ui_vs_eb_missing_in_reference_count:q,missing_messages_ui_vs_eb_missing_in_target_count:r,missing_messages_ui_vs_maw_missing_in_reference_count:s,missing_messages_ui_vs_maw_missing_in_target_count:t,other_user_fbid:k||j?void 0:l,thread_fbid:l}})}}g["default"]=a}),98);
__d("useMWGetOtherUserContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a,b,e){var g=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),l=(i||(i=d("I64"))).equal(j,a),m=k(function(){return e},[].concat(e));return d("ReQLSuspense").useFirst(function(){return!d("LSMessagingThreadTypeUtil").isOneToOne(b)?d("ReQL").empty():d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.tables.participants,["contactId"]).getKeyRange(a),d("ReQL").fromTableAscending(g.tables.contacts,e)).filter(function(a){var b=a[0];a[1];return l||!(i||(i=d("I64"))).equal(b.contactId,j)}).map(function(a){a[0];a=a[1];return a})},[b,g,a,l,j,m],f.id+":35")}g["default"]=a}),98);
__d("useStringWithSubstitutions",["fbt","CometLruCache","CurrentMessengerUser","Env","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSVerifyContactRowExistsStoredProcedure","Promise","ReQL","ReQLSuspense","gkx","justknobx","nullthrows","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||d("react"),o=n.useEffect,p=n.useMemo;n=Boolean((k||(k=c("Env"))).isMessengerDotComOnComet)?"Messenger":c("gkx")("22979")?"Instagram":"Facebook";var q=h._(/*BTDS*/"{Platform Name} user",[h._param("Platform Name",n)]).toString(),r=/(\$?)\$([a-zA-Z_]+)(?:\((.*?)\))?/g,s=/()(@)(?:(\d*?)@msgr)/g,t=d("CometLruCache").create(100);function u(a,e){var f=(l||(l=d("I64"))).to_string(e);if(t.has(f))return(i||(i=b("Promise"))).resolve();t.set(f,!0);return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:l.of_int32(c("LSAuthorityLevel").OPTIMISTIC),blockedByViewerStatus:l.of_int32(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:l.of_int32(c("LSContactIdType").FBID),contactType:l.of_int32(c("LSContactType").USER),contactViewerRelationship:l.of_int32(c("LSContactViewerRelationship").UNKNOWN),gender:l.of_int32(c("LSContactGender").UNKNOWN),id:e,isBlocked:!1,isMemorialized:!1,isSelf:e===d("CurrentMessengerUser").getID(),workForeignEntityType:l.of_int32(c("LSContactWorkForeignEntityType").UNKNOWN)})}function v(a,b){var c=0,d=a.length-1;while(c<=d){var e=c+d>>1;a[e][0]<b?c=e+1:d=e-1}return d}function w(a,b,c,d){var e=[[-1,0]];a=a.replace(c,function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),f=1;f<b;f++)c[f-1]=arguments[f];var g=c[c.length-2],h=d.apply(void 0,[a].concat(c));if(h.length===a.length)return h;e.push([g,a.length-h.length+e[e.length-1][1]]);return h});if(e.length===1)return{textWithSubstitutions:a,updatedRanges:b};c=[];for(b of b){var f=v(e,b.offset);c.push(babelHelpers["extends"]({},b,{length:b.length-(e[f+1]!=null&&e[f+1][0]<=b.offset+b.length?e[f+1][1]-e[f][1]:0),offset:b.offset-e[f][1]}))}return{textWithSubstitutions:a,updatedRanges:c}}var x={CONTACT_FIRST_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(a){var b=a.firstName;a=a.name;return b!=null?b:a})}},function(a){return q},u],CONTACT_FULL_NAME:[function(a){return function(b){return d("ReQL").fromTableAscending(a.tables.contacts,["name"]).getKeyRange(b).map(function(a){a=a.name;return a})}},function(a){return q},u],PARTICIPANT_FIRST_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","firstName","id"]).getKeyRange(b).map(function(b){var c=b.firstName,g=b.id;b=b.name;g=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,g),f.id+":190");return(g=(g=g==null?void 0:g.nickname)!=null?g:c)!=null?g:b})}},function(a){return q},u],PARTICIPANT_FULL_NAME:[function(a){return function(b,c){var e=c.threadKey;return d("ReQL").fromTableAscending(a.tables.contacts,["name","id"]).getKeyRange(b).map(function(b){var c=b.id;b=b.name;c=e==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(e,c),f.id+":209");return(c=c==null?void 0:c.nickname)!=null?c:b})}},function(a){return q},u]};function y(a,e,g,h,k,m){var n=function(a){return((a=a.entity)==null?void 0:a.__typename)==="Thread"},q=e.filter(n),r=e.filter(function(a){return!n(a)}),s=(j||(j=c("useReStore")))(),t=d("Int64Hooks").useMemoInt64(function(){return{threadKey:g}},[g]),u=p(function(){var b,e=[],f=0;if(a!=null){h.lastIndex=0;var g=function(){var a=c("nullthrows")(b);a[0];var g=a[1],h=a[2];a=a[3];if(!g){var i=(l||(l=d("I64"))).of_string_opt(a);if(i==null||a==="0")m&&c("FBLogger")("messenger_web").mustfix("Invalid user id for substitution key %s: %s",h,a);else{var j=f,n=k[h];n!=null&&(e.push([n[0](s)(i,t).take(1).map(function(a){return[j,a]}),function(a){return n[2](a,i)}]),f++)}}};while((b=h.exec(a))!==null)g()}return e},[t,s,a,h,k]),v=d("ReQLSuspense").useArray(function(){return u.length?u.length===1?u[0][0]:d("ReQL").union.apply(void 0,u.map(function(a){return a[0]})):d("ReQL").empty()},[u],f.id+":297"),x=p(function(){return new Map(v)},[v]);o(function(){var a=u.map(function(a,b){a[0];a=a[1];return x.has(b)?null:a}).filter(Boolean);a.length&&c("promiseDone")(s.runInTransaction(function(c){return(i||(i=b("Promise"))).all(a.map(function(a){return a(c)}))},"readwrite",void 0,void 0,f.id+":324"))},[s,u,x]);return p(function(){if(a==null)return null;var b=0,c=w(a,r,h,function(a,c,e,f){var g=k[e];return c||g==null||(l||(l=d("I64"))).of_string_opt(f)==null?a:x.get(b++)||k[e][1](f)}),e=c.textWithSubstitutions;c=c.updatedRanges;return{textWithSubstitutions:e,updatedRanges:[].concat(c,q)}},[a,r,q,h,x,k])}function a(a,b){return(a=y(a,[],b,r,x,!0))==null||(a=a.textWithSubstitutions)==null||a.replace==null?void 0:a.replace(/\$\$/g,"$$")}function e(a,b,e,g){var h=p(function(){return{"@":[function(a){return function(b){return e.has((l||(l=d("I64"))).to_string(b))?d("ReQL").fromTableAscending(a.tables.contacts,["name","id"]).getKeyRange(b).map(function(b){var e=b.id;b=b.name;if(c("justknobx")._("1389")){e=g==null?null:d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.tables.participants,["nickname"]).getKeyRange(g,e),f.id+":416");e=(e=e==null?void 0:e.nickname)!=null?e:b;return"@"+e}else return"@"+b}):d("ReQL").empty()}},function(a){return e.has(a)?"@"+q:"@"+a+"@msgr"},u]}},[e]);return y(a,b,void 0,s,h,!1)}g.useStringWithSubstitutions=a;g.useStringWithMentionSubstitutionsAndUpdatedRanges=e}),226);/*FB_PKG_DELIM*/
__d("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24784488421147370"}),null);
__d("EBBatchRequestResignCdnUrlQuery.graphql",["EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackupMailbox",kind:"LinkedField",name:"mailbox",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"payloads",variableName:"request"}],concreteType:"XFBResignCdnUrlResponse",kind:"LinkedField",name:"batch_resigned_attachment_cdn_url",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"instance_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"path",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"exception_enum",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"EBBatchRequestResignCdnUrlQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"EBBatchRequestResignCdnUrlQuery",selections:c},params:{id:b("EBBatchRequestResignCdnUrlQuery_facebookRelayOperation"),metadata:{},name:"EBBatchRequestResignCdnUrlQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("EBBatchRequestResignCdnUrl",["EBBatchRequestResignCdnUrlQuery.graphql","EBEnqueueResignCdnUrlRequests","FBLogger","WADirectPath","WAErrorMessage","WAMediaUtils","WAResultOrError","createWorkerQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r=function(){return c("FBLogger")("wmi").tags(["labyrinth_web","resign_cdn_url"])};async function a(a){var b=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap(),c=[];for(b of b.entries()){var e=b[0],f=b[1];f.pending||c.push([e,f])}if(c.length<1)return;e=c.map(function(a){return{instance_key:a[0],payload:a[1].payload}});c.forEach(function(b){var a=b[0];b=b[1];d("EBEnqueueResignCdnUrlRequests").setGqlRestoredCdnUrlMap(a,{payload:b.payload,pending:!0,resolvable:b.resolvable})});await s(a,e)}async function s(a,b){if(b.length<1)return;var e=d("EBEnqueueResignCdnUrlRequests").getGqlRestoredCdnUrlMap();a==null||a.addPoint("resign_cdn_url_query_start");try{var f,g,h=await c("createWorkerQuery")(t,{request:b.map(function(a){return{instance_key:a.instance_key,payload:a.payload.payload}})});a==null||a.addPoint("resign_cdn_url_query_end");h=h==null||(f=h.viewer)==null||(f=f.messenger_default_encrypted_backup)==null||(f=f.mailbox)==null?void 0:f.batch_resigned_attachment_cdn_url;r().DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Received "," requests"])),h==null?void 0:h.length);a==null||a.addAnnotations({int:{resign_cdn_url_gql_batch_size:(g=h==null?void 0:h.length)!=null?g:0}});h==null||h.forEach(function(b){var c=b.instance_key!=null?d("WAMediaUtils").stringToDeliveryObjectId(b.instance_key):null,f=b.path;if(c!=null){var g=d("WADirectPath").validateDirectPath(f);if(!g.success){r().WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),g.error,b.exception_message);a==null||a.addAnnotations({string:{resign_cdn_url_exception_enum:(b=b.exception_enum)!=null?b:"unknown"}})}b=(b=e.get(c))==null?void 0:b.resolvable;b!=null?b.resolve(g):r().MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found for instance key: ",""])),c);e.delete(c)}else r().MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url came back with no instance key, ",""])),f)})}catch(c){g=d("WAErrorMessage").maybeGetMessageFromError(c);a==null||a.addPoint("resign_cdn_url_query_fail");a==null||a.addAnnotations({string:{resign_cdn_url_gql_error:g}});r().WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),g);b.forEach(function(a){var b;b=(b=e.get(d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key)))==null?void 0:b.resolvable;b!=null?b.resolve(d("WAResultOrError").makeError("resign-cdn-url-gql-error")):r().MUSTFIX(n||(n=babelHelpers.taggedTemplateLiteralLoose(["No resolvable found during error for instance key: ",""])),a.instance_key)})}finally{b.forEach(function(a){var b=d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key);b=(b=e.get(b))==null?void 0:b.resolvable;(b==null?void 0:b.isSettled)===!1&&r().MUSTFIX(o||(o=babelHelpers.taggedTemplateLiteralLoose(["Resolvable was not properly settled"])));e.delete(d("WAMediaUtils").stringToDeliveryObjectId(a.instance_key))})}}async function e(a,b,e){a==null||a.addPoint("resign_cdn_url_query_start");try{var f;b=await c("createWorkerQuery")(t,{request:[{instance_key:b,payload:e.payload}]});a==null||a.addPoint("resign_cdn_url_query_end");e=b==null||(f=b.viewer)==null||(f=f.messenger_default_encrypted_backup)==null||(f=f.mailbox)==null?void 0:f.batch_resigned_attachment_cdn_url;(e==null?void 0:e.length)!==1&&(a==null||a.addPoint("resign_cdn_url_should_have_one_response"));b=e==null?void 0:e[0];e=b==null?void 0:b.path;e=d("WADirectPath").validateDirectPath(e);if(!e.success){r().WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",", graphql error: ",""])),e.error,b==null?void 0:b.exception_message);a==null||a.addAnnotations({string:{resign_cdn_url_exception_enum:(b=b==null?void 0:b.exception_enum)!=null?b:"unknown"}})}return e}catch(c){b=d("WAErrorMessage").maybeGetMessageFromError(c);a==null||a.addPoint("resign_cdn_url_query_fail");a==null||a.addAnnotations({string:{resign_cdn_url_gql_error:b}});r().WARN(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),b);return d("WAResultOrError").makeError("resign-cdn-url-gql-error")}}var t=h!==void 0?h:h=b("EBBatchRequestResignCdnUrlQuery.graphql");g.batchedResignCdnUrlFromMap=a;g.batchedResignCdnUrlWithGraphQL=s;g.resignCdnUrlWithGraphQL=e}),98);
__d("EBEnqueueResignCdnUrlRequests",["EBBatchRequestResignCdnUrl","WACustomError","WAPromiseDelays","WAPromiseTimeout","WAResolvable","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){var a=!0;return{get:function(){return a},set:function(b){a=b}}}(),i=function(){var a=window.performance.now();return{get:function(){return a},set:function(b){a=b}}}(),j=new Map(),k=c("justknobx")._("4662"),l=c("justknobx")._("3244");function a(a,b,c){var e;e=(e=j.get(a))==null?void 0:e.resolvable;if(e!=null){c==null||c.addPoint("resign_cdn_url_map_hit");return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise})}e=new(d("WAResolvable").Resolvable)();var f=j.size===0;j.set(a,{payload:b,pending:!1,resolvable:e});if(!h.get())return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise});void n(f);return m({mediaDownloadFlow:c,objectId:a,payload:b,promise:e.promise})}function m(a){var b=a.mediaDownloadFlow,c=a.objectId,e=a.payload;a=a.promise;return d("WAPromiseTimeout").promiseTimeout(a,l).then(function(a){if(!a.success&&a.error==="direct-path-undefined"){j["delete"](c);return d("WAPromiseDelays").delayMs(l).then(function(){return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e)})}return a})["catch"](function(a){var f=a instanceof Error&&["NetworkTransportError","NetworkTimeoutError","NetworkRequestError"].includes(a.name);if(a instanceof d("WACustomError").TimeoutError||f){b==null||b.addPoint("resign-cdn-url-gql-timeout");j["delete"](c);return d("EBBatchRequestResignCdnUrl").resignCdnUrlWithGraphQL(b,c,e)}else{b==null||b.addPoint("resign-cdn-url-gql-unexpected-error");b==null||b.addAnnotations({string:{resign_cdn_url_payload_fail_reason:a.message}});throw a}})}function n(a,b){h.set(!1);if(a){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(b)}else{a=Math.max(k-(window.performance.now()-i.get()),0);return d("WAPromiseDelays").delayMs(a).then(function(){h.set(!0);i.set(window.performance.now());return d("EBBatchRequestResignCdnUrl").batchedResignCdnUrlFromMap(b)})}}function b(){return j}function e(a,b){j.set(a,b)}g.enqueueResignCdnUrl=a;g.getGqlRestoredCdnUrlMap=b;g.setGqlRestoredCdnUrlMap=e}),98);
__d("EBCreateResignCDNUrlPayload",["CreateDerivedKeys","EBBase64Encode","EBWorkerEBDBApi","GetBlobFromInt64BE","Hmac_v2","I64","LSVec","OcmfClientMap","OpeEncrypt","TruncateSortKey","WAArrayBufferUtils","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i="thread_ope_key",j="__DEVICE_ID_PLACEHOLDER__";async function a(a){var b=a.accessTokenSecret,c=a.deliveryObjectId,e=a.mediaType,f=a.messageId,g=a.primaryKeySecret,h=a.productType,i=a.sort;i=i===void 0?!1:i;var l=a.sortOrderMs;a=a.threadId;b=await k({accessTokenSecret:b,deliveryObjectId:c,mediaType:e,messageId:f,primaryKeySecret:g,productType:h,sortOrderMs:l,threadId:a});if(!b.success)return b;c=b.value;e=c.device_id;f=babelHelpers.extends({},c,{device_id:j});g=i?JSON.stringify(f,Object.keys(f).sort()):JSON.stringify(f);return d("WAResultOrError").makeResult(g.replace('"'+j+'"',String(e)))}async function k(a){var b=a.accessTokenSecret,e=a.deliveryObjectId,f=a.mediaType,g=a.messageId,h=a.primaryKeySecret,i=a.productType,j=a.sortOrderMs;a=a.threadId;var k=await d("EBWorkerEBDBApi").getSecureEBClientState();if(k==null)return d("WAResultOrError").makeError("no-eb-client-state");var n=String(k.backupId),o=k.deviceId;if(o==null)return d("WAResultOrError").makeError("no-device-id");var p=c("EBBase64Encode")(k.mailboxRootKeyBlob),q=c("EBBase64Encode")(k.ocmfClientStateBlob);k=await Promise.all([l("attachment_key_scope",JSON.stringify([n,e]),k.ocmfClientStateBlob),l("mailbox_id_scope",n,k.ocmfClientStateBlob),l("message_id_scope",g,k.ocmfClientStateBlob),l("attachment_token_salt_scope",g,k.ocmfClientStateBlob),l("attachment_key_salt_scope",JSON.stringify([n,e]),k.ocmfClientStateBlob),l("attachment_token_salt_scope",JSON.stringify([g,e]),k.ocmfClientStateBlob),l("thread_id_scope",a,k.ocmfClientStateBlob),m(k.mailboxRootKeyBlob,j,a)]);var r=k[0],s=k[1],t=k[2],u=k[3],v=k[4],w=k[5],x=k[6];k=k[7];return k==null?d("WAResultOrError").makeError("no-encrypted-sort-key"):d("WAResultOrError").makeResult({access_token_secret:b,attachment_index_key:c("EBBase64Encode")(r),backup_ent_fbid:-8,backup_id:n,delivery_object_id:e,device_id:o,isOpenEB:0,mailbox_partial_id:c("EBBase64Encode")(s),media_type:f,message_partial_id:c("EBBase64Encode")(t),primary_key_secret:h,product_type:i,raw_identifiers:{otid:g,server_thread_key:null,timestamp:j.toString()},raw_tokens:{mailbox_root_key:p,ocmf_client_state_blob:q},salt_partial_access_token:c("EBBase64Encode")(w),salt_partial_attachment_index_key:c("EBBase64Encode")(v),salt_partial_id:c("EBBase64Encode")(u),sort_key:k,thread_id:a,thread_partial_id:c("EBBase64Encode")(x)})}function l(a,b,e){return c("Hmac_v2")(d("WAArrayBufferUtils").stringToArrayBuffer(a),d("WAArrayBufferUtils").stringToArrayBuffer(b)).then(function(a){return c("OcmfClientMap")(e,a[0])})}async function m(a,b,e){e=new TextEncoder().encode(i+"_"+e).buffer;e=(await d("CreateDerivedKeys").CreateDerivedKeys(e,void 0,a,[(h||(h=d("I64"))).of_int32(32)]))[0];if(e==null)return null;a=await d("GetBlobFromInt64BE").GetBlobFromInt64BE(h.of_float(b));b=await d("TruncateSortKey").TruncateSortKey(a[0]);a=await d("OpeEncrypt").OpeEncrypt(c("LSVec").toArray(e)[0],b[0],h.of_int32(16));e=Array.from(new Uint8Array(a[0]));b=e.map(function(a){return a.toString(16).padStart(2,"0")});return b.join("").toUpperCase()}g.createStringifiedMediaRestorePayloadFromEBDB=a}),98);
__d("EBMinosWasmDeriveAttachmentTokenPrimaryKey",["EBMinosWasmDeriveAttachmentAccessTokenSecret","EBMinosWasmDeriveAttachmentPrimaryKeySecret","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=await d("EBMinosWasmDeriveAttachmentPrimaryKeySecret").deriveAttachmentPrimaryKeySecret({mediaKey:a});if(!b.success)return d("WAResultOrError").makeError("derive-primary-key-secret-error");a=await d("EBMinosWasmDeriveAttachmentAccessTokenSecret").deriveAttachmentAccessTokenSecret({mediaKey:a});return!a.success?d("WAResultOrError").makeError("derive-access-token-secret-error"):d("WAResultOrError").makeResult({accessToken:a.value,primaryKey:b.value})}g.deriveAttachmentTokenPrimaryKeySecret=a}),98);
__d("LSCreateResignCDNUrlPayload",["LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFindBackup","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return a[10]?c.sequence([function(e){return c.blobs.neq(a[11],void 0)?c.sequence([function(e){return c.i64.neq(a[8],void 0)?c.sequence([function(e){return a[9]!==void 0?c.sequence([function(e){return c.blobs.neq(a[12],void 0)?c.sequence([function(e){return d[10]=c.createArray(),d[19]=(d[10].push(a[9]),d[10]),d[19]=(d[10].push(a[1]),d[10]),d[11]=c.toJSON(d[10]),d[12]=c.createArray(),d[19]=(d[12].push(c.i64.cast([0,32])),d[12]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[13]=a[0],a})},function(e){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[13],void 0,a[12],d[12]).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!1:d[15]=!0,d[15]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[20]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[20]].join("")),d[19]=c.createArray(),void 0!==void 0?d[21]=(d[19].push(void 0),d[19]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[20],d[19],c.i64.cast([0,3]))},function(a){return d[16]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[14],c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],d[20]=a[1],a})},function(a){return d[16]=d[19]}])},function(e){return c.blobs.neq(d[16],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[19]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[19]).then(function(a){return a=a,d[20]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[16],d[20],c.i64.cast([0,16])).then(function(a){return a=a,d[21]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[21]).then(function(a){return a=a,d[22]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[23]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[23]).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[24]).then(function(a){return a=a,d[25]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[25]).then(function(a){return a=a,d[26]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[9]).then(function(a){return a=a,d[27]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[27]).then(function(a){return a=a,d[28]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[28]).then(function(a){return a=a,d[29]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[29]).then(function(a){return a=a,d[30]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[33]).then(function(a){return a=a,d[34]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[37]).then(function(a){return a=a,d[38]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(e){return d[43]=new c.Map(),d[43].set("attachment_index_key",d[26]==null?"":d[26]),d[43].set("backup_ent_fbid",a[0]),d[43].set("delivery_object_id",a[1]),d[43].set("device_id",a[8]),d[43].set("mailbox_partial_id",d[30]==null?"":d[30]),d[43].set("media_type",a[3]),d[43].set("message_partial_id",d[34]==null?"":d[34]),d[43].set("product_type",a[2]),d[43].set("salt_partial_id",d[38]==null?"":d[38]),d[43].set("sort_key",d[22]==null?"":d[22]),d[43].set("thread_partial_id",d[42]==null?"":d[42]),d[43].set("isOpenEB",a[10]===!0),d[44]=new c.Map(),d[44].set("otid",a[4]),d[44].set("server_thread_key",a[7]),d[44].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),a[11]).then(function(a){return a=a,d[45]=a[0],a})},function(e){return c.nativeOperation(b("LSBase64Encode.nop"),a[12]).then(function(a){return a=a,d[46]=a[0],a})},function(e){return d[47]=new c.Map(),d[47].set("ocmf_client_state_blob",d[45]==null?"":d[45]),d[47].set("mailbox_root_key",d[46]==null?"":d[46]),d[48]=c.createArray(),d[60]=(d[48].push(a[4]),d[48]),d[60]=(d[48].push(a[1]),d[48]),d[49]=c.toJSON(d[48]),d[43].set("raw_identifiers",d[44]),d[43].set("backup_id",a[9]),d[43].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[50]).then(function(a){return a=a,d[51]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return d[43].set("salt_partial_access_token",d[53]==null?"":d[53]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[11]).then(function(a){return a=a,d[54]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[54]).then(function(a){return a=a,d[55]=a[0],a})},function(e){return c.nativeOperation(b("LSOcmfClientMap.nop"),a[11],d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(b){return d[43].set("salt_partial_attachment_index_key",d[57]==null?"":d[57]),d[43].set("raw_tokens",d[47]),a[13]!==void 0?d[43].set("access_token_secret",a[13]):0,a[14]!==void 0?d[43].set("primary_key_secret",a[14]):0,d[58]=c.toJSON(d[43]),d[59]=new c.Map(),d[59].set("payload",d[58]),b=[d[59],void 0],d[17]=b[0],d[18]=b[1]}]):c.resolve((d[19]=new c.Map(),d[19].set("error_code",c.i64.cast([0,25])),d[19].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[19].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[19]],d[17]=e[0],d[18]=e[1]))},function(a){return a=[d[17],d[18]],d[8]=a[0],d[9]=a[1],a}]):c.resolve((d[10]=new c.Map(),d[10].set("error_code",c.i64.cast([0,20])),d[10].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[10].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[10]],d[8]=e[0],d[9]=e[1]))},function(a){return a=[d[8],d[9]],d[6]=a[0],d[7]=a[1],a}]):c.resolve((d[8]=new c.Map(),d[8].set("error_code",c.i64.cast([0,1])),d[8].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[8].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[8]],d[6]=e[0],d[7]=e[1]))},function(a){return a=[d[6],d[7]],d[4]=a[0],d[5]=a[1],a}]):c.resolve((d[6]=new c.Map(),d[6].set("error_code",c.i64.cast([0,24])),d[6].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[6].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[6]],d[4]=e[0],d[5]=e[1]))},function(a){return a=[d[4],d[5]],d[2]=a[0],d[3]=a[1],a}]):c.resolve((d[4]=new c.Map(),d[4].set("error_code",c.i64.cast([0,22])),d[4].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[4].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[4]],d[2]=e[0],d[3]=e[1]))},function(a){return a=[d[2],d[3]],d[0]=a[0],d[1]=a[1],a}]):c.sequence([function(a){return c.islc(c.filter(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var f=a.done;a=a.value;return f?(f=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,c.i64.cast([0,20]),void 0,void 0],d[2]=f[0],d[3]=f[1],d[4]=f[2],d[5]=f[3],d[6]=f[4],d[7]=f[5],d[8]=f[6],d[9]=f[7],d[10]=f[8],d[11]=f[9],d[12]=f[10],d[13]=f[11],d[14]=f[12],d[15]=f[13],d[16]=f[14],d[17]=f[15],d[18]=f[16],d[19]=f[17],f):(e=a.item,c.sequence([function(a){return d[29]=e.backupTenancy,d[28]=e.encryptionVersion,d[24]=void 0,c.i64.neq(d[24],void 0)?c.resolve(d[25]=d[24]):c.sequence([function(a){return d[30]=c.createArray(),c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[40]=(d[30].push(c.i64.cast([0,0])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[40]=(d[30].push(c.i64.cast([0,2])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[40]=(d[30].push(c.i64.cast([0,3])),d[30]):0,c.storedProcedure(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[40]=(d[30].push(c.i64.cast([0,4])),d[30]):0,d[35]=c.createArray(),d[36]=c.i64.of_int32(d[30].length),c.i64.gt(d[36],c.i64.cast([0,0]))?c.loopAsync(d[36],function(a){return d[40]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[30],d[40]).then(function(a){return a=a,d[41]=a[0],d[42]=a[1],a})},function(a){return d[43]=(d[35].push(d[41]),d[35])}])}):c.resolve()},function(a){return c.sequence([function(a){return d[40]=c.createArray(),d[41]=c.i64.of_int32(d[35].length),c.i64.gt(d[41],c.i64.cast([0,0]))?c.loopAsync(d[41],function(a){return d[43]=a,c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[35],d[43]).then(function(a){return a=a,d[44]=a[0],d[45]=a[1],a})},function(a){return d[46]=(d[40].push(c.i64.to_string(d[44])),d[40])}])}):c.resolve()},function(a){return d[42]=d[40].join(","),d[37]=d[42]}])},function(a){return d[35].some(function(a){return c.i64.eq(d[28],a)})?d[38]=d[28]:d[38]=void 0,c.i64.neq(d[38],void 0)?d[39]=d[38]:d[39]=void 0,d[25]=d[39]}])},function(a){return c.i64.neq(d[25],void 0)?d[26]=d[25]:d[26]=c.i64.cast([0,0]),c.i64.neq(d[29],void 0)?d[27]=d[29]:d[27]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,void 0,void 0,d[26],d[27],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel,void 0,void 0],d[2]=a[0],d[3]=a[1],d[4]=a[2],d[5]=a[3],d[6]=a[4],d[7]=a[5],d[8]=a[6],d[9]=a[7],d[10]=a[8],d[11]=a[9],d[12]=a[10],d[13]=a[11],d[14]=a[12],d[15]=a[13],d[16]=a[14],d[17]=a[15],d[18]=a[16],d[19]=a[17]}]))})},function(a){return c.storedProcedure(b("LSFindBackup")).then(function(a){return a=a,d[21]=a[0],a})},function(e){return c.blobs.neq(d[5],void 0)?c.sequence([function(e){return c.i64.neq(d[3],void 0)?c.sequence([function(e){return d[21]!==void 0?c.sequence([function(e){return c.blobs.neq(d[4],void 0)?c.sequence([function(e){return d[30]=c.createArray(),d[39]=(d[30].push(d[21]),d[30]),d[39]=(d[30].push(a[1]),d[30]),d[31]=c.toJSON(d[30]),d[32]=c.createArray(),d[39]=(d[32].push(c.i64.cast([0,32])),d[32]),c.nativeOperation(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[5]].join("")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return c.nativeOperation(b("LSCreateDerivedKeys.nop"),d[33],void 0,d[4],d[32]).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!1:d[35]=!0,d[35]?c.sequence([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[40]="Got null keys while deriving message list OPE key. Returning null blobish",function(a){c.logger(a).mustfix(a)}(["[EncryptedBackups][MEBCryptoUtils] ","",d[40]].join("")),d[39]=c.createArray(),void 0!==void 0?d[41]=(d[39].push(void 0),d[39]):0,c.nativeOperation(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils",d[40],d[39],c.i64.cast([0,3]))},function(a){return d[36]=void 0}]):c.sequence([function(a){return c.nativeTypeOperation("Array",b("LSArrayGetObjectAt"),d[34],c.i64.cast([0,0])).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[36]=d[39]}])},function(e){return c.blobs.neq(d[36],void 0)?c.sequence([function(e){return c.nativeOperation(b("LSGetBlobFromInt64BE.nop"),a[6]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nativeOperation(b("LSTruncateSortKey.nop"),d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nativeOperation(b("LSOpeEncrypt.nop"),d[36],d[40],c.i64.cast([0,16])).then(function(a){return a=a,d[41]=a[0],a})},function(a){return c.nativeOperation(b("LSBinaryToHex.nop"),d[41]).then(function(a){return a=a,d[42]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[43]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2NvcGU="),d[43]).then(function(a){return a=a,d[44]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[44]).then(function(a){return a=a,d[45]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[45]).then(function(a){return a=a,d[46]=a[0],a})},function(a){return c.nativeOperation(b("LSGetBlobFromString.nop"),d[21]).then(function(a){return a=a,d[47]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[47]).then(function(a){return a=a,d[48]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[49]).then(function(a){return a=a,d[50]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[51]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[51]).then(function(a){return a=a,d[52]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[52]).then(function(a){return a=a,d[53]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[53]).then(function(a){return a=a,d[54]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[4]).then(function(a){return a=a,d[55]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[55]).then(function(a){return a=a,d[56]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[56]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[57]).then(function(a){return a=a,d[58]=a[0],a})},function(e){return c.nativeOperation(b("LSGetBlobFromString.nop"),a[5]).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[59]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[60]).then(function(a){return a=a,d[61]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[61]).then(function(a){return a=a,d[62]=a[0],a})},function(e){return d[63]=new c.Map(),d[63].set("attachment_index_key",d[46]==null?"":d[46]),d[63].set("backup_ent_fbid",a[0]),d[63].set("delivery_object_id",a[1]),d[63].set("device_id",d[3]),d[63].set("mailbox_partial_id",d[50]==null?"":d[50]),d[63].set("media_type",a[3]),d[63].set("message_partial_id",d[54]==null?"":d[54]),d[63].set("product_type",a[2]),d[63].set("salt_partial_id",d[58]==null?"":d[58]),d[63].set("sort_key",d[42]==null?"":d[42]),d[63].set("thread_partial_id",d[62]==null?"":d[62]),d[63].set("isOpenEB",a[10]===!0),d[64]=new c.Map(),d[64].set("otid",a[4]),d[64].set("server_thread_key",a[7]),d[64].set("timestamp",c.i64.to_string(a[6])),c.nativeOperation(b("LSBase64Encode.nop"),d[5]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[4]).then(function(a){return a=a,d[66]=a[0],a})},function(e){return d[67]=new c.Map(),d[67].set("ocmf_client_state_blob",d[65]==null?"":d[65]),d[67].set("mailbox_root_key",d[66]==null?"":d[66]),d[68]=c.createArray(),d[80]=(d[68].push(a[4]),d[68]),d[80]=(d[68].push(a[1]),d[68]),d[69]=c.toJSON(d[68]),d[63].set("raw_identifiers",d[64]),d[63].set("backup_id",d[21]),d[63].set("thread_id",a[5]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[69]).then(function(a){return a=a,d[70]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF90b2tlbl9zYWx0X3Njb3Bl"),d[70]).then(function(a){return a=a,d[71]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[71]).then(function(a){return a=a,d[72]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[72]).then(function(a){return a=a,d[73]=a[0],a})},function(a){return d[63].set("salt_partial_access_token",d[73]==null?"":d[73]),c.nativeOperation(b("LSGetBlobFromString.nop"),d[31]).then(function(a){return a=a,d[74]=a[0],a})},function(a){return c.nativeOperation(b("LSHmac_v2.nop"),c.blob("YXR0YWNobWVudF9rZXlfc2FsdF9zY29wZQ=="),d[74]).then(function(a){return a=a,d[75]=a[0],a})},function(a){return c.nativeOperation(b("LSOcmfClientMap.nop"),d[5],d[75]).then(function(a){return a=a,d[76]=a[0],a})},function(a){return c.nativeOperation(b("LSBase64Encode.nop"),d[76]).then(function(a){return a=a,d[77]=a[0],a})},function(b){return d[63].set("salt_partial_attachment_index_key",d[77]==null?"":d[77]),d[63].set("raw_tokens",d[67]),a[13]!==void 0?d[63].set("access_token_secret",a[13]):0,a[14]!==void 0?d[63].set("primary_key_secret",a[14]):0,d[78]=c.toJSON(d[63]),d[79]=new c.Map(),d[79].set("payload",d[78]),b=[d[79],void 0],d[37]=b[0],d[38]=b[1]}]):c.resolve((d[39]=new c.Map(),d[39].set("error_code",c.i64.cast([0,25])),d[39].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[39].set("error_message","OPE key is null for IssueAttachmentRestoreTask"),e=[void 0,d[39]],d[37]=e[0],d[38]=e[1]))},function(a){return a=[d[37],d[38]],d[28]=a[0],d[29]=a[1],a}]):c.resolve((d[30]=new c.Map(),d[30].set("error_code",c.i64.cast([0,20])),d[30].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[30].set("error_message","Missing mailbox_root_key for IssueAttachmentRestoreTask"),e=[void 0,d[30]],d[28]=e[0],d[29]=e[1]))},function(a){return a=[d[28],d[29]],d[26]=a[0],d[27]=a[1],a}]):c.resolve((d[28]=new c.Map(),d[28].set("error_code",c.i64.cast([0,1])),d[28].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[28].set("error_message","Missing backup_id for IssueAttachmentRestoreTask"),e=[void 0,d[28]],d[26]=e[0],d[27]=e[1]))},function(a){return a=[d[26],d[27]],d[24]=a[0],d[25]=a[1],a}]):c.resolve((d[26]=new c.Map(),d[26].set("error_code",c.i64.cast([0,24])),d[26].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[26].set("error_message","Missing device_id for IssueAttachmentRestoreTask"),e=[void 0,d[26]],d[24]=e[0],d[25]=e[1]))},function(a){return a=[d[24],d[25]],d[22]=a[0],d[23]=a[1],a}]):c.resolve((d[24]=new c.Map(),d[24].set("error_code",c.i64.cast([0,22])),d[24].set("stored_procedure","LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure"),d[24].set("error_message","Missing ocmf_client_state_blob for IssueAttachmentRestoreTask"),e=[void 0,d[24]],d[22]=e[0],d[23]=e[1]))},function(a){return a=[d[22],d[23]],d[0]=a[0],d[1]=a[1],a}])},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSEncryptedBackupsCreateResignCDNUrlPayloadStoredProcedure";a.__tables__=["secure_encrypted_backups_client_state"];e.exports=a}),null);
__d("LSCreateResignCDNUrlPayloadStoredProcedure",["LSCreateResignCDNUrlPayload","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSCreateResignCDNUrlPayload"),e.backupEntFbid,e.deliveryObjectId,e.productType,e.mediaType,e.messageId,e.threadId,e.sortOrder,e.serverThreadKey,e.deviceId,e.backupId,e.isOpenEb,e.ocmfClientState,e.mailboxRootKey,e.accessTokenSecret,e.primaryKeySecret);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("EBLSResignCdnUrl",["Base64Utils","EBCreateResignCDNUrlPayload","EBEnqueueResignCdnUrlRequests","EBLS","EBMinosCheckWasmFeatureSupport","EBMinosWasmDeriveAttachmentTokenPrimaryKey","FBLogger","I64","LSCreateResignCDNUrlPayloadStoredProcedure","LSFactory","LSShape","MAWConfig","WAJids","WAResultOrError","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w=function(){return c("FBLogger")("wmi").tags(["labyrinth_web","resign_cdn_url"])};e="-8";var x=(v||(v=d("I64"))).of_string(e);async function a(a){var b=a.chatJid,e=a.deliveryObjectId,g=a.externalId,o=a.mediaDownloadFlow,p=a.mediaKey,q=a.mediaType;a=a.sortOrderMs;w().INFO(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL"])));var r=await d("EBMinosCheckWasmFeatureSupport").checkWasFeatureSupportAndGK();o==null||o.addPoint("resign_cdn_url_gql_ebls_start");var s=(await d("EBLS").init()).db;o==null||o.addPoint("resign_cdn_url_gql_ebls_end");var t=null,u=null;if(r){r=await d("EBMinosWasmDeriveAttachmentTokenPrimaryKey").deriveAttachmentTokenPrimaryKeySecret(p);!r.success?w().WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),r.error):(t=d("Base64Utils").fromArrayBuffer(r.value.accessToken),u=d("Base64Utils").fromArrayBuffer(r.value.primaryKey))}var y={accessTokenSecret:t,backupEntFbid:x,deliveryObjectId:e,mediaType:q,messageId:g,primaryKeySecret:u,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(v||(v=d("I64"))).of_float(a),threadId:d("WAJids").threadIdForChatJid(b)};o==null||o.addPoint("resign_cdn_url_gql_payload_start");p=[s.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),y)},"readwrite",void 0,void 0,f.id+":108").then(function(a){var b=a[0];a=a[1];if(b!=null)return d("LSShape").toRecord(b);b=a==null?{}:d("LSShape").toRecord(a);w().MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),b.stored_procedure,b.error_code,b.error_message);return null}).catch(function(a){a=c("getErrorSafe")(a);o==null||o.addPoint("resign_cdn_url_gql_lsdb_payload_fail");w().catching(a).MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Failed to create lsdb payload"])));return null}),d("EBCreateResignCDNUrlPayload").createStringifiedMediaRestorePayloadFromEBDB({accessTokenSecret:t,deliveryObjectId:e,mediaType:q,messageId:g,primaryKeySecret:u,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(b)}).then(function(a){if(a.success)return{payload:a.value};o==null||o.addPoint("resign_cdn_url_gql_ebdb_payload_fail");o==null||o.addAnnotations({string:{payload_fail_error:a.error}});return null}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to create ebdb payload"])));o==null||o.addAnnotations({string:{payload_fail_error:a.message}});return null})];r=await Promise.all(p);s=r[0];t=r[1];q=s!=null?s:t;s==null&&t!=null&&(o==null||o.addPoint("resign_cdn_url_fallback_to_ebdb"));if(q==null){o==null||o.addPoint("resign_cdn_url_gql_payload_fail");return d("WAResultOrError").makeError("create-payload-failed")}o==null||o.addPoint("resign_cdn_url_gql_payload_end");o==null||o.addPoint("resign_cdn_url_gql_restore_start");g=await d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(e,q,o);if(!g.success){w().MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL failed: ",""])),g.error);o==null||o.addPoint("resign_cdn_url_gql_restore_fail");return g}o==null||o.addPoint("resign_cdn_url_gql_restore_end");w().INFO(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with EBLS GraphQL succeeded"])));return d("WAResultOrError").makeResult(g.value)}function y(a,b){var c=[];for(var d in a)a[d]instanceof Object?!(b[d]instanceof Object)?c.push(d):c.push.apply(c,y(a[d],b[d])):a[d]!==b[d]&&c.push(d);return c}async function b(a){var b=a.chatJid,c=a.deliveryObjectId,e=a.externalId,f=a.mediaDownloadFlow,g=a.mediaKey,h=a.mediaType;a=a.sortOrderMs;var i=await d("EBMinosCheckWasmFeatureSupport").checkWasFeatureSupportAndGK(),j=null,k=null;if(i){i=await d("EBMinosWasmDeriveAttachmentTokenPrimaryKey").deriveAttachmentTokenPrimaryKeySecret(g);!i.success?w().WARN(o||(o=babelHelpers.taggedTemplateLiteralLoose(["",""])),i.error):(j=d("Base64Utils").fromArrayBuffer(i.value.accessToken),k=d("Base64Utils").fromArrayBuffer(i.value.primaryKey))}g={accessTokenSecret:j,chatJid:b,deliveryObjectId:c,externalId:e,mediaDownloadFlow:f,mediaType:h,primaryKeySecret:k,sortOrderMs:a};i=await A(g);if(i==null)return z(g);j=await C({deliveryObjectId:c,mediaDownloadFlow:f,payload:i});return!j.success?z(g):j}async function z(a){var b;(b=a.mediaDownloadFlow)==null||b.addPoint("resign_cdn_url_fallback_to_ls");b=await B(a);return b==null?d("WAResultOrError").makeError("create-payload-failed"):C({deliveryObjectId:a.deliveryObjectId,mediaDownloadFlow:a.mediaDownloadFlow,payload:b})}function A(a){var b=a.accessTokenSecret,e=a.chatJid,f=a.deliveryObjectId,g=a.externalId,h=a.mediaDownloadFlow,i=a.mediaType,j=a.primaryKeySecret;a=a.sortOrderMs;h==null||h.addPoint("resign_cdn_url_gql_payload_start");return d("EBCreateResignCDNUrlPayload").createStringifiedMediaRestorePayloadFromEBDB({accessTokenSecret:b,deliveryObjectId:f,mediaType:i,messageId:g,primaryKeySecret:j,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrderMs:a,threadId:d("WAJids").threadIdForChatJid(e)}).then(function(a){if(a.success){h==null||h.addPoint("resign_cdn_url_gql_payload_end");return{payload:a.value}}h==null||h.addAnnotations({string:{payload_fail_error:a.error}});h==null||h.addPoint("resign_cdn_url_gql_payload_fail");return null}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload"])));h==null||h.addAnnotations({string:{payload_fail_error:a.message}});h==null||h.addPoint("resign_cdn_url_gql_payload_fail");return null})}function B(a){var b=a.accessTokenSecret,e=a.chatJid,g=a.deliveryObjectId,h=a.externalId,i=a.mediaDownloadFlow,j=a.mediaType,k=a.primaryKeySecret,l=a.sortOrderMs;i==null||i.addPoint("resign_cdn_url_gql_payload_start");return d("EBLS").init().then(function(a){return a.db.runInTransaction(function(a){return c("LSCreateResignCDNUrlPayloadStoredProcedure")(c("LSFactory")(a),{accessTokenSecret:b,backupEntFbid:x,deliveryObjectId:g,mediaType:j,messageId:h,primaryKeySecret:k,productType:d("MAWConfig").getConfig().productTypeForEBAttachments,sortOrder:(v||(v=d("I64"))).of_float(l),threadId:d("WAJids").threadIdForChatJid(e)})},"readwrite",void 0,void 0,f.id+":362").then(function(a){var b=a[0];a=a[1];if(b!=null){i==null||i.addPoint("resign_cdn_url_gql_payload_end");return d("LSShape").toRecord(b)}b=a==null?{}:d("LSShape").toRecord(a);w().MUSTFIX(q||(q=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload. stored procedure: ",", error code: ",", error message: ",""])),b.stored_procedure,b.error_code,b.error_message);i==null||i.addPoint("resign_cdn_url_gql_payload_fail");return null})}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(r||(r=babelHelpers.taggedTemplateLiteralLoose(["Failed to create payload"])));i==null||i.addAnnotations({string:{payload_fail_error:a.message}});i==null||i.addPoint("resign_cdn_url_gql_payload_fail");return null})}function C(a){var b=a.deliveryObjectId,e=a.mediaDownloadFlow;a=a.payload;e==null||e.addPoint("resign_cdn_url_gql_restore_start");return d("EBEnqueueResignCdnUrlRequests").enqueueResignCdnUrl(b,a,e).then(function(a){if(!a.success){w().MUSTFIX(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with GraphQL failed: ",""])),a.error);e==null||e.addPoint("resign_cdn_url_gql_restore_fail");return a}e==null||e.addPoint("resign_cdn_url_gql_restore_end");w().INFO(t||(t=babelHelpers.taggedTemplateLiteralLoose(["Resigning cdn url with GraphQL succeeded"])));return a}).catch(function(a){a=c("getErrorSafe")(a);w().catching(a).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Failed to resign cdn url"])));e==null||e.addAnnotations({string:{resign_cdn_url_gql_restore_error:a.message}});e==null||e.addPoint("resign_cdn_url_gql_restore_fail");return d("WAResultOrError").makeError("resign-cdn-url-runtime-error")})}g.DEPRECATED_eblsResignCdnUrlWithGraphQL=a;g.getPayloadMismatches=y;g.resignCdnUrlUsingEbdb=b}),98);
__d("EBMinosWasmOpenEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosTypes","EBMinosWasm.pb","EBMinosWasmReactorSingleton","WACreateWasmFunction","WAResultOrError","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule,e=d("EBMinosLogger").minosLogger.TAGS(["open-epoch"]);function f(a){var b;a=a.minosSignedEpoch;var c=a.epochHead,e=a.epochPublicData;a=a.signatures;return d("WAResultOrError").makeResult({epochHead:(b=d("EBMinosTypes")).unsafeCastToEpochHead(c),epochPublicData:{epochNumber:b.unsafeCastToEpochNumber(e.epochNumber),mailboxAuthPk:b.unsafeCastToMailboxAuthPK(e.mailboxAuthPk),mailboxEncryptionPk:b.unsafeCastToMailboxEncryptionPK(e.mailboxEncryptionPk),mailboxSigningPk:b.unsafeCastToMailboxSigningPK(e.mailboxSigningPk),previousEpochHead:e.previousEpochHead==null?null:d("EBMinosTypes").unsafeCastToEpochHead(e.previousEpochHead),userFbid:d("EBMinosTypes").unsafeCastToUserFbId(e.userFbid)},signatures:{prevSignature:a.prevSignature==null?null:d("EBMinosTypes").unsafeCastToEpochPrevSig(a.prevSignature),selfSignature:d("EBMinosTypes").unsafeCastToEpochSelfSig(a.selfSignature)}})}return async function(a){var g=a.epochNumber,h=a.exportRootKey,i=a.previousEpochHead,j=a.previousEpochNumber,k=a.previousExportRootKey;a=a.userFbid;var l="EBMinosWasmOpenEpoch";if(c("gkx")("12911"))return await d("EBMinosWasmReactorSingleton").minosCommand({InputSpec:d("EBMinosWasm.pb").MinosCommandSpec,ResultSpec:d("EBMinosWasm.pb").MinosOpenEpochResultSpec,validateResult:f},{minosOpenEpoch:{epochNumber:g,exportRootKey:h,previousEpochHead:i,previousEpochNumber:j,previousExportRootKey:k,userFbid:a}});else{l=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosOpenEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosOpenEpochResultSpec,cli:"minos_cli",command:"minos-open-epoch",getWasmModule:b,logger:e,validateResult:f},l+"_CLI");l=await l({epochNumber:g,exportRootKey:h,previousEpochHead:i,previousEpochNumber:j,previousExportRootKey:k,userFbid:a});return l}}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm});g.openEpoch=b}),98);
__d("WASmaxInAbPropsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","error");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQErrorResponseMixin=a}),98);
__d("WASmaxInAbPropsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","bad-request");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",400);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorBadRequestMixin=a}),98);
__d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","feature-not-implemented");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",501);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorFeatureNotImplementedMixin=a}),98);
__d("WASmaxInAbPropsNoRetryErrors",["WAResultOrError","WASmaxInAbPropsIQErrorBadRequestMixin","WASmaxInAbPropsIQErrorFeatureNotImplementedMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorFeatureNotImplemented"],[b,c])}g.parseNoRetryErrors=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry",["WAResultOrError","WASmaxInAbPropsIQErrorResponseMixin","WASmaxInAbPropsNoRetryErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInAbPropsNoRetryErrors").parseNoRetryErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorNoRetryErrors:b.value}))}g.parseGetExperimentConfigResponseErrorNoRetry=a}),98);
__d("WASmaxInAbPropsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"text","internal-server-error");if(!b.success)return b;a=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrInt,a,"code",500);return!a.success?a:d("WAResultOrError").makeResult({text:b.value,code:a.value})}g.parseIQErrorInternalServerErrorMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry",["WAResultOrError","WASmaxInAbPropsIQErrorInternalServerErrorMixin","WASmaxInAbPropsIQErrorResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;c=d("WASmaxInAbPropsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(c.value);if(!c.success)return c;a=d("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorIQErrorInternalServerErrorMixin:c.value},a.value))}g.parseGetExperimentConfigResponseErrorRetry=a}),98);
__d("WASmaxInAbPropsExperimentConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"config_code",1,void 0);if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"config_value");if(!c.success)return c;a=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,a,"config_expo_key",0,void 0);return!a.success?a:d("WAResultOrError").makeResult({configCode:b.value,configValue:c.value,configExpoKey:a.value})}g.parseExperimentConfigMixin=a}),98);
__d("WASmaxInAbPropsSamplingConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxParseUtils").attrIntRange(a,"event_code",1,void 0);if(!b.success)return b;a=d("WASmaxParseUtils").attrIntRange(a,"sampling_weight",-1e4,1e4);return!a.success?a:d("WAResultOrError").makeResult({eventCode:b.value,samplingWeight:a.value})}g.parseSamplingConfigMixin=a}),98);
__d("WASmaxInAbPropsConfigs",["WAResultOrError","WASmaxInAbPropsExperimentConfigMixin","WASmaxInAbPropsSamplingConfigMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInAbPropsExperimentConfigMixin").parseExperimentConfigMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"ExperimentConfig",value:b.value});var c=d("WASmaxInAbPropsSamplingConfigMixin").parseSamplingConfigMixin(a);return c.success?d("WAResultOrError").makeResult({name:"SamplingConfig",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["ExperimentConfig","SamplingConfig"],[b,c])}g.parseConfigs=a}),98);
__d("WASmaxInAbPropsEnums",[],(function(a,b,c,d,e,f){a={"false":"false","true":"true"};f.ENUM_FALSE_TRUE=a}),66);
__d("WASmaxInAbPropsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["id"]);if(!c.success)return c;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"id",c.value);if(!c.success)return c;c=d("WASmaxParseReference").attrStringFromReference(b,["to"]);if(!c.success)return c;b=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"from",c.value);if(!b.success)return b;c=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,a,"type","result");return!c.success?c:d("WAResultOrError").makeResult({type:c.value})}g.parseIQResultResponseMixin=a}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseSuccess",["WAResultOrError","WASmaxInAbPropsConfigs","WASmaxInAbPropsEnums","WASmaxInAbPropsIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"prop");if(!b.success)return b;b=d("WASmaxInAbPropsConfigs").parseConfigs(a);return!b.success?b:d("WAResultOrError").makeResult({configs:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"erid");if(!b.success)return b;b=d("WASmaxParseUtils").contentBytesRange(a,1,100);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"props");if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"erid",i);if(!e.success)return e;var f=d("WASmaxParseUtils").literal(d("WASmaxParseUtils").attrString,c.value,"protocol","1");if(!f.success)return f;var g=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"ab_key");if(!g.success)return g;var j=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrString,c.value,"hash");if(!j.success)return j;var k=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh",0,void 0);if(!k.success)return k;var l=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrIntRange,c.value,"refresh_id",0,void 0);if(!l.success)return l;var m=d("WASmaxParseUtils").optional(d("WASmaxParseUtils").attrStringEnum,c.value,"delta_update",d("WASmaxInAbPropsEnums").ENUM_FALSE_TRUE);if(!m.success)return m;a=d("WASmaxInAbPropsIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"prop",0,Infinity,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({propsProtocol:f.value,propsAbKey:g.value,propsHash:j.value,propsRefresh:k.value,propsRefreshId:l.value,propsDeltaUpdate:m.value},a.value,{erid:e.value,propsProp:b.value}))}g.parseGetExperimentConfigResponseSuccessPropsProp=h;g.parseGetExperimentConfigResponseSuccessErid=i;g.parseGetExperimentConfigResponseSuccess=a}),98);
__d("WASmaxOutAbPropsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(a,b,c,d,e,f,g){function h(){var a=d("WASmaxJsx").smax("iq",{id:d("WAWap").generateId(),type:"get"});return a}function a(a){var b=h();return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeBaseIQGetRequestMixin=a}),98);
__d("WASmaxOutAbPropsGetExperimentConfigRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAbPropsBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.propsHash;a=a.propsRefreshId;b=d("WASmaxOutAbPropsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{xmlns:"abt",to:d("WAWap").S_WHATSAPP_NET},d("WASmaxJsx").smax("props",{protocol:"1",hash:d("WASmaxAttrs").OPTIONAL(d("WAWap").CUSTOM_STRING,b),refresh_id:d("WASmaxAttrs").OPTIONAL(d("WAWap").INT,a)})));return b}g.makeGetExperimentConfigRequest=a}),98);
__d("WASmaxAbPropsGetExperimentConfigRPC",["WAComms","WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry","WASmaxInAbPropsGetExperimentConfigResponseErrorRetry","WASmaxInAbPropsGetExperimentConfigResponseSuccess","WASmaxOutAbPropsGetExperimentConfigRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutAbPropsGetExperimentConfigRequest").makeGetExperimentConfigRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInAbPropsGetExperimentConfigResponseSuccess").parseGetExperimentConfigResponseSuccess(b,a);if(c.success)return{name:"GetExperimentConfigResponseSuccess",value:c.value};var e=d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry").parseGetExperimentConfigResponseErrorNoRetry(b,a);if(e.success)return{name:"GetExperimentConfigResponseErrorNoRetry",value:e.value};b=d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry").parseGetExperimentConfigResponseErrorRetry(b,a);if(b.success)return{name:"GetExperimentConfigResponseErrorRetry",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("GetExperimentConfig",{Success:c,ErrorNoRetry:e,ErrorRetry:b}))}g.sendGetExperimentConfigRPC=a}),98);
__d("WAGetAbPropsProtocol",["WALogger","WAResultOrError","WASmaxAbPropsGetExperimentConfigRPC"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a){a=await d("WASmaxAbPropsGetExperimentConfigRPC").sendGetExperimentConfigRPC({propsHash:a});if(a.name==="GetExperimentConfigResponseSuccess"){var b=a.value,c=b.propsAbKey,e=b.propsHash,f=b.propsRefresh,g=b.propsRefreshId,j=b.propsProp;b=b.erid;j=i(j);var k=j.newProps;j=j.samplingConfigs;return d("WAResultOrError").makeResult({abKey:c,hash:e,refresh:f,refreshId:g,props:k,samplingConfigs:j,erid:b==null?void 0:b.elementValue})}d("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getAbPropsProtocol failed ",""])),a.value);return d("WAResultOrError").makeError()}function i(a){var b=[],c=[];a.forEach(function(a){a=a.configs;if(a.name==="ExperimentConfig"){var d;b.push({configCode:a.value.configCode,configValue:a.value.configValue,configExpoKey:(d=a.value.configExpoKey)==null?void 0:d.toString()})}else a.name==="SamplingConfig"&&c.push({eventCode:a.value.eventCode,samplingWeight:a.value.samplingWeight})});return{newProps:b,samplingConfigs:c}}g.getAbPropsProtocol=a}),98);
__d("WAAbPropsSync",["WAAbProps","WAAbPropsHelpers","WAGetAbPropsProtocol","WALogger","WAPromiseManagement","WAResultOrError","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=d("WAPromiseManagement").cacheWhilePending(function(){return"abProps"},a);function a(a){var b=a.sendHash;b=b===void 0?!0:b;var c=a.eventFlow;c==null||c.addPoint("sync_ab_props",{bool:{sendHash:b}});return b==null||b===!1?l(null,c):d("WAAbProps").getHash().then(function(a){return l(a,c)})}c=a;async function l(a,b){b==null||b.addPoint("fetch_ab_props");a=await d("WAGetAbPropsProtocol").getAbPropsProtocol(a);if(!a.success)d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["fetchAbProps failed"])));else{a=a.value;var c=a.abKey,e=a.hash,f=a.refresh;a=a.props;a=d("WAAbPropsHelpers").parseAbProps(d("WAAbProps").getConfig(),a);b==null||b.addPoint("save_ab_props");b=await m(c,e,f,a);b.success===!1&&(b.error,d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["syncAbProps: detected no hash"]))))}c=await d("WAAbProps").getRefreshSecs();return{seconds:c}}async function m(a,b,c,e){var f=await d("WAAbProps").getAbProps();a={abKey:a!=null?a:f.abKey,hash:b!=null?b:f.hash,refresh:d("WAAbPropsHelpers").maybeUpdateRefresh(c),lastSyncTime:d("WATimeUtils").unixTime(),propValues:f.propValues,propExpoKeys:f.propExpoKeys,internalExpoKeys:f.internalExpoKeys,expoKeyStr:f.expoKeyStr};if(b==null){await d("WAAbProps").setAbProps(a);d("WALogger").LOG(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: detected no hash"])));return d("WAResultOrError").makeError("noHash")}d("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["WAAbProps.update: updating ab configs"])));c=e.values;b=e.expoKeys;e=d("WAAbPropsHelpers").maybeUpdatePropValues(c,f.propValues,d("WAAbProps").getConfig());c=d("WAAbPropsHelpers").maybeUpdateExpoKeys(b,f.propExpoKeys,d("WAAbProps").getConfig());b=c.propExpoKeys;c=c.expoKeysToDelete;var g,h;c=d("WAAbPropsHelpers").maybeUpdateInternalExpoKeys(c,f.internalExpoKeys);c!=null&&(g=c.internalExpoKeys,h=c.expoKeyStr);await d("WAAbProps").setAbProps(babelHelpers.extends({},a,{propValues:e,propExpoKeys:b,internalExpoKeys:g,expoKeyStr:h}));return d("WAResultOrError").makeResult()}g.syncAbProps=b;g.syncAbPropsDebug=c}),98);
__d("WASmaxInDevicesFetchSelfResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup").parseRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup:b.value}))}g.parseFetchSelfResponseError=a}),98);
__d("WASmaxInDevicesDeviceInfoMixin",["WAResultOrError","WASmaxInDevicesIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"platform");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function i(a){var b=d("WASmaxParseUtils").assertTag(a,"manufacturer");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function j(a){var b=d("WASmaxParseUtils").assertTag(a,"model");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function k(a){var b=d("WASmaxParseUtils").assertTag(a,"seen");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function l(a){var b=d("WASmaxParseUtils").assertTag(a,"creation");if(!b.success)return b;b=d("WASmaxParseUtils").contentInt(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function m(a){var b=d("WASmaxParseUtils").assertTag(a,"ip");if(!b.success)return b;b=d("WASmaxParseUtils").contentString(a);return!b.success?b:d("WAResultOrError").makeResult({elementValue:b.value})}function n(a){var b=d("WASmaxParseUtils").assertTag(a,"location");if(!b.success)return b;b=d("WASmaxParseUtils").attrString(a,"latitude");if(!b.success)return b;var c=d("WASmaxParseUtils").attrString(a,"longitude");if(!c.success)return c;a=d("WASmaxParseUtils").contentString(a);return!a.success?a:d("WAResultOrError").makeResult({latitude:b.value,longitude:c.value,elementValue:a.value})}function a(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxParseUtils").optionalChildWithTag(a,"platform",h);if(!b.success)return b;var c=d("WASmaxParseUtils").optionalChildWithTag(a,"manufacturer",i);if(!c.success)return c;var e=d("WASmaxParseUtils").optionalChildWithTag(a,"model",j);if(!e.success)return e;var f=d("WASmaxParseUtils").optionalChildWithTag(a,"seen",k);if(!f.success)return f;var g=d("WASmaxParseUtils").optionalChildWithTag(a,"creation",l);if(!g.success)return g;var o=d("WASmaxParseUtils").optionalChildWithTag(a,"ip",m);if(!o.success)return o;var p=d("WASmaxParseUtils").optionalChildWithTag(a,"location",n);if(!p.success)return p;var q=d("WASmaxParseUtils").attrIntRange(a,"id",1,999);if(!q.success)return q;a=d("WASmaxInDevicesIdentityKeyMixin").parseIdentityKeyMixin(a);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({id:q.value},a.value,{platform:b.value,manufacturer:c.value,model:e.value,seen:f.value,creation:g.value,ip:o.value,location:p.value}))}g.parseDeviceInfoPlatform=h;g.parseDeviceInfoManufacturer=i;g.parseDeviceInfoModel=j;g.parseDeviceInfoSeen=k;g.parseDeviceInfoCreation=l;g.parseDeviceInfoIp=m;g.parseDeviceInfoLocation=n;g.parseDeviceInfoMixin=a}),98);
__d("WASmaxInDevicesFetchSelfResponseSuccess",["WAResultOrError","WASmaxInDevicesDeviceInfoMixin","WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function h(a){var b=d("WASmaxParseUtils").assertTag(a,"device");if(!b.success)return b;b=d("WASmaxInDevicesDeviceInfoMixin").parseDeviceInfoMixin(a);return!b.success?b:b}function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"self");if(!c.success)return c;a=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxParseUtils").mapChildrenWithTag(c.value,"device",1,25,h);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{selfDevice:b.value}))}g.parseFetchSelfResponseSuccessSelfDevice=h;g.parseFetchSelfResponseSuccess=a}),98);
__d("WASmaxOutDevicesFetchSelfRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQGetRequestMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(){var a=d("WASmaxOutDevicesBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxJsx").smax("self",null)));return a}g.makeFetchSelfRequest=a}),98);
__d("WASmaxDevicesFetchSelfRPC",["WAComms","WASmaxInDevicesFetchSelfResponseError","WASmaxInDevicesFetchSelfResponseSuccess","WASmaxOutDevicesFetchSelfRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a){var b=d("WASmaxOutDevicesFetchSelfRequest").makeFetchSelfRequest();a=await d("WAComms").sendSmaxStanza(b,a);var c=d("WASmaxInDevicesFetchSelfResponseSuccess").parseFetchSelfResponseSuccess(a,b);if(c.success)return{name:"FetchSelfResponseSuccess",value:c.value};a=d("WASmaxInDevicesFetchSelfResponseError").parseFetchSelfResponseError(a,b);if(a.success)return{name:"FetchSelfResponseError",value:a.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("FetchSelf",{Success:c,Error:a}))}g.sendFetchSelfRPC=a}),98);
__d("WAGetCurrentUserDeviceList",["WAAssertUnreachable","WAGlobals","WAJids","WALogger","WAPersistedJobManager","WASignalKeys","WASmaxDevicesFetchSelfRPC","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,b){if(a.isCurrentDevice&&b.isCurrentDevice){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Two devices were detected as isCurrentDevice in getCurrentUserDeviceList"])));return 0}if(a.isCurrentDevice)return-1;if(b.isCurrentDevice)return 1;if(a.lastSeen!=null&&b.lastSeen==null)return-1;if(a.lastSeen==null&&b.lastSeen!=null)return 1;if(a.lastSeen!=null&&b.lastSeen!=null){a=a.lastSeen;b=b.lastSeen;return b.getTime()-a.getTime()}return 0}async function a(a){a=await d("WASmaxDevicesFetchSelfRPC").sendFetchSelfRPC();switch(a.name){case"FetchSelfResponseError":var b=a.value.errorRetryableIQErrorOrNonRetryableIQErrorRetryableIQErrorMixinGroup;switch(b.name){case"RetryableIQError":var e=b.value.backoff;if(e!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{delay:e,type:"constant"},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{first:d("WATimeUtils").HOUR_MILLISECONDS/60,type:"exponential"},jitter:.1});default:b.name;e=b.value.code;throw c("err")("Failed with an error code "+e)}case"FetchSelfResponseSuccess":var f=d("WAJids").extractDeviceId(d("WAGlobals").getMyDeviceJid());return a.value.selfDevice.map(function(a){var b=a.creation,c=a.elementValue,e=a.id,g=a.ip,h=a.location,i=a.manufacturer,j=a.model,k=a.platform;a=a.seen;return{creationTime:b==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(b.elementValue)),id:d("WAJids").interpretAsDeviceId(e),identityKey:d("WASignalKeys").serializeIdentity(c),ipAddress:(b=g==null?void 0:g.elementValue)!=null?b:null,isCurrentDevice:e===f,lastSeen:a==null?null:d("WATimeUtils").toDate(d("WATimeUtils").castToUnixTime(a.elementValue)),latitude:h==null?null:parseFloat(h.latitude),location:(c=h==null?void 0:h.elementValue)!=null?c:null,longitude:h==null?null:parseFloat(h.longitude),manufacturer:(g=i==null?void 0:i.elementValue)!=null?g:null,model:(b=j==null?void 0:j.elementValue)!=null?b:null,platform:(e=k==null?void 0:k.elementValue)!=null?e:null}}).sort(i);default:return c("WAAssertUnreachable")(a.name)}}g.getCurrentUserDeviceList=a}),98);
__d("WAPublishAppDataProtocol",["FBLogger","WABridge","WAEncUserMsg","WAGetCurrentUserDeviceInfoApi","WAGlobals","WAOdsEnums","WASmaxAppdataPublishPeerRPC","WATagsLogger","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("WATagsLogger").TAGS(["sendAppDataFanout"]);async function a(a,b){var e=b.messagePayload;a=b.identities;b=b.externalId;a=a.get(d("WAGlobals").getMyUserJid());if(a==null)throw c("FBLogger")("wmi").mustfixThrow("Missing my user identities");a=Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return{identity:a,jid:b}});var f=[{devicesInfo:a,user:d("WAGlobals").getMyUserJid()}];a=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WAEncUserMsg").encryptUserMsg(f,{messageBytes:e.messageBytes,type:"appdata"},{cryptoManager:a})},{operationType:"encrypt",flush:!0});var g=a.phash,k=!1,l=[];a.participants!=null&&a.participants.forEach(function(a){a.type==="pkmsg"&&(k=!0),l.push({toJid:a.to,encTypeIndividualMixinArgs:{encType:a.type,encElementValue:a.ciphertext},encVersionFutureproofMixinArgs:{encV:parseInt(a.v,10)}})});a={appdataTo:d("WAGlobals").getMyUserJid(),toArgs:l};a={peerPeerFanout:a};var m=void 0;if(k){var n=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();n=n==null?void 0:n.identityKey;if(n==null){j.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch current device public identity key"])));throw c("FBLogger")("wmi").mustfixThrow("No public identity key")}m={deviceIdentityElementValue:n}}n={appdataDeviceListCheck:"true"};b={appdataId:b,peerMsgTypesArgs:a,deviceIdentityMixinArgs:m,withDeviceListCheckMixinArgs:n};a=await d("WASmaxAppdataPublishPeerRPC").sendPeerRPC(b);switch(a.name){case"PeerResponseSuccess":n=(m=a.value.deviceListStaleMixin)==null?void 0:m.phash;if(n!=null&&g!=null&&n!==g){j.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch on appdata, local[","] server[","]"])),g,n);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:"appdata"});return{type:"success",ts:d("WATimeUtils").castToUnixTime(a.value.t),phash:{type:"mismatch",local:g,server:n},count:null,reportingMeta:null}}else return{type:"success",ts:d("WATimeUtils").castToUnixTime(a.value.t),phash:{type:"ok"},count:null,reportingMeta:null};default:a.name;throw c("FBLogger")("wmi").mustfixThrow("Failed to send appdata %s",a.value.error)}}g.publishAppData=a}),98);
__d("WASaveReceiptApi",["MAWTransactionMode","WADbTransactor","WAMsg"],(function(a,b,c,d,e,f,g){"use strict";a=d("WADbTransactor").makeSignalTransactor({receipts:d("MAWTransactionMode").READWRITE},"saveReceipt",function(a){return function(b){return a.receipts.put({msgId:b.id.externalId.toString(),permittedIdentitiesPerDevice:b.permittedIdentitiesPerDevice,recipientDevices:b.recipientDevices,waMsgId:d("WAMsg").craftWAMsgIdString(b.id)}).then(function(){})}});g.saveReceipt=a}),98);
__d("WAPublishMessage",["FBLogger","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function j(a,b){var c=a.identities;a=a.messagePayload;a={author:a.protocolMsgId.author,chat:a.protocolMsgId.chat,externalId:a.protocolMsgId.externalId};var e=await d("WALoadReceiptApi").loadReceipt(a);if(e.success)return e.value;e=new Map();for(c of c){c[0];var f=c[1];for(f of f){var g=f[0],h=f[1];if(g===d("WAGlobals").getMyDeviceJid())continue;e.set(g,{pubKey:h})}}g=new Set();h={permittedIdentitiesPerDevice:e,recipientDevices:g,id:a};b.addPoint("save_receipts_start");await d("WASaveReceiptApi").saveReceipt(h);b.addPoint("save_receipts_end");return h}async function a(a,b){var e=a.messagePayload,f=a.identities;a=a.sendIdentity;a=a===void 0?!1:a;b.addPoint("prepare_receipt_start");f=await j({messagePayload:e,identities:f},b);b.addPoint("prepare_receipt_end");b.addPoint("calculate_recipients_start");var g=e.frankingKey,i=e.frankingVersion,m=e.messageBytes,n=e.backupDirective,o=e.messageType;e=e.protocolMsgId;f=k(f.permittedIdentitiesPerDevice);f=o.type==="text"&&o.invitedParticipantUserJid!=null?f.filter(function(a){return a.user===o.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):f;b.addPoint("calculate_recipients_end",{int:{recipientsCount:f.length}});var p=o.type==="text"&&o.invitedParticipantUserJid!=null?o.invitedParticipantUserJid:e.chat,q=e.chat===d("WAGlobals").getMyUserJid();if(f.length===0&&!q)throw c("FBLogger")("wmi").mustfixThrow("Trying to send a message with no recipients");else if(f.length===0&&q)return{serverResponse:{type:"success",ts:d("WATimeUtils").unixTime(),phash:{type:"ok"},count:null,reportingMeta:null},encryption:{type:"user",messageTo:d("WAGlobals").getMyUserJid(),participants:[],phash:""}};q=a?await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return l(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;a=await (o.isRevoked===!0?Promise.resolve(null):d("WAGenReportingMeta").genReportingMeta(m.bytes,g,i));p=await d("WASendMsgInternal").sendMessageV2({type:"chat",messageBytes:m,chat:p,deviceIdentity:q,messageType:o,protocolMsgId:e,externalId:e.externalId,recipients:f,reportingMeta:a,backupDirective:n},b);q=p.serverResponse;q.type==="success"&&await d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:q.ts,frankingKey:g,frankingVersion:i,messageBytes:m,backupDirective:n,messageType:o,protocolMsgId:e,waMsgId:d("WAMsg").craftWAMsgIdString({author:e.author,chat:e.chat,externalId:e.externalId})}).catch(function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""])),a)});return p}function k(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}async function l(a){try{a=await a.storage.loadIdentities(d("WAGlobals").getMyUserJid());a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""])),a)}}g.publishMessage=a}),98);
__d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestMixin","WASmaxInDevicesIQErrorItemNotFoundMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:b.value});var c=d("WASmaxInDevicesIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(a);return c.success?d("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["IQErrorBadRequest","IQErrorItemNotFound"],[b,c])}g.parseIQErrorBadRequestOrItemNotFoundMixinGroup=a}),98);
__d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin",["WAResultOrError","WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxParseUtils").assertTag(a,"error");if(!b.success)return b;b=d("WASmaxInDevicesIQErrorBadRequestOrItemNotFoundMixinGroup").parseIQErrorBadRequestOrItemNotFoundMixinGroup(a);return!b.success?b:d("WAResultOrError").makeResult({iQErrorBadRequestOrItemNotFoundMixinGroup:b.value})}g.parseNonRetryableRemoveDeviceIQErrorMixin=a}),98);
__d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup",["WAResultOrError","WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin","WASmaxInDevicesRetryableIQErrorMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=d("WASmaxInDevicesRetryableIQErrorMixin").parseRetryableIQErrorMixin(a);if(b.success)return d("WAResultOrError").makeResult({name:"RetryableIQError",value:b.value});var c=d("WASmaxInDevicesNonRetryableRemoveDeviceIQErrorMixin").parseNonRetryableRemoveDeviceIQErrorMixin(a);return c.success?d("WAResultOrError").makeResult({name:"NonRetryableRemoveDeviceIQError",value:c.value}):d("WASmaxParseUtils").errorMixinDisjunction(a,["RetryableIQError","NonRetryableRemoveDeviceIQError"],[b,c])}g.parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup=a}),98);
__d("WASmaxInDevicesRemoveResponseError",["WAResultOrError","WASmaxInDevicesIQErrorResponseMixin","WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInDevicesIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInDevicesRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup").parseRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup:b.value}))}g.parseRemoveResponseError=a}),98);
__d("WASmaxInDevicesRemoveResponseSuccess",["WASmaxInDevicesIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInDevicesIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRemoveResponseSuccess=a}),98);
__d("WASmaxOutDevicesKeyDataMixin",["WASmaxJsx","WASmaxMixins"],(function(a,b,c,d,e,f,g){function h(a){a=a.anyElementValue;a=d("WASmaxJsx").smax("smax$any",null,a);return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeKeyDataMixin=a}),98);
__d("WASmaxOutDevicesIdentityKeyMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutDevicesKeyDataMixin"],(function(a,b,c,d,e,f,g){function h(a){a=d("WASmaxJsx").smax("smax$any",null,d("WASmaxOutDevicesKeyDataMixin").mergeKeyDataMixin(d("WASmaxJsx").smax("identity",null),a));return a}function a(a,b){b=h(b);return d("WASmaxMixins").mergeStanzas(a,b)}g.mergeIdentityKeyMixin=a}),98);
__d("WASmaxOutDevicesRemoveRequest",["WASmaxJsx","WASmaxOutDevicesBaseIQSetRequestMixin","WASmaxOutDevicesIdentityKeyMixin","WAWap"],(function(a,b,c,d,e,f,g){function a(a){var b=a.removeId;a=a.identityKeyMixinArgs;b=d("WASmaxOutDevicesBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(d("WASmaxJsx").smax("iq",{to:d("WAWap").S_WHATSAPP_NET,xmlns:"fbid:devices"},d("WASmaxOutDevicesIdentityKeyMixin").mergeIdentityKeyMixin(d("WASmaxJsx").smax("remove",{id:d("WAWap").INT(b)}),a)));return b}g.makeRemoveRequest=a}),98);
__d("WASmaxDevicesRemoveRPC",["WAComms","WASmaxInDevicesRemoveResponseError","WASmaxInDevicesRemoveResponseSuccess","WASmaxOutDevicesRemoveRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutDevicesRemoveRequest").makeRemoveRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInDevicesRemoveResponseSuccess").parseRemoveResponseSuccess(b,a);if(c.success)return{name:"RemoveResponseSuccess",value:c.value};b=d("WASmaxInDevicesRemoveResponseError").parseRemoveResponseError(b,a);if(b.success)return{name:"RemoveResponseError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("Remove",{Success:c,Error:b}))}g.sendRemoveRPC=a}),98);
__d("WARemoveDevice",["WALogger","WAPersistedJobManager","WAPushSafeTypes","WAResultOrError","WASignalOther","WASmaxDevicesRemoveRPC","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a,b){a=d("WAPushSafeTypes").unsafeNotNullable(b);b=a.deviceId;a=a.identity;d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeDevice called for device "," and identity ",""])),b,a);a=d("WASignalOther").sliceBytes(a,1,32);a=await d("WASmaxDevicesRemoveRPC").sendRemoveRPC({removeId:b,identityKeyMixinArgs:{anyElementValue:a}});d("WALogger").LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["removeDevice result for ",": "," "])),b,a);if(a.name==="RemoveResponseSuccess")return d("WAResultOrError").makeResult();else{a.name;b=a.value.errorRetryableOrNonRetryableRemoveDeviceIQErrorMixinGroup;if(b.name!=="RetryableIQError")return d("WAResultOrError").makeError();b.name;a=b.value.backoff;if(a!=null)throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"constant",delay:a},jitter:0});else throw new(d("WAPersistedJobManager").RetryOnBackoff)({algo:{type:"exponential",first:d("WATimeUtils").HOUR_MILLISECONDS/60},jitter:.1})}}g.removeDevice=a}),98);
__d("WARemoveCurrentDevice",["WAGetCurrentUserDeviceInfoApi","WAGlobals","WALogger","WARemoveDevice","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=async function(a){d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["removeCurrentDevice called for current device"])));var b=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();if(b==null){d("WALogger").WARN(i||(i=babelHelpers.taggedTemplateLiteralLoose(["There is no stored user info, it was already deleted or this job was called twice, possibly from another tab"])));return d("WAResultOrError").makeResult()}var c=b.deviceId;b=b.identityKey;a=await d("WARemoveDevice").removeDevice(a,{deviceId:c,identity:b});if(a.success){await d("WAGlobals").getDependencies().clearSignalAndTempStores();return d("WAResultOrError").makeResult()}return d("WAResultOrError").makeResult()};g.removeCurrentDevice=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysRequestErrors").parseRequestErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorRequestErrors:b.value}))}g.parseRotateSignedResponseRequestError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);if(!a.success)return a;b=d("WASmaxInPreKeysServerErrors").parseServerErrors(c.value);return!b.success?b:d("WAResultOrError").makeResult(babelHelpers["extends"]({},a.value,{errorServerErrors:b.value}))}g.parseRotateSignedResponseServerError=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseSuccess",["WASmaxInPreKeysIQResultResponseMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(a,b);return!c.success?c:c}g.parseRotateSignedResponseSuccess=a}),98);
__d("WASmaxInPreKeysRotateSignedResponseValidationError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxParseUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c=d("WASmaxParseUtils").assertTag(a,"iq");if(!c.success)return c;c=d("WASmaxParseUtils").flattenedChildWithTag(a,"error");if(!c.success)return c;var e=d("WASmaxParseUtils").attrString(c.value,"text");if(!e.success)return e;var f=d("WASmaxParseUtils").attrIntRange(c.value,"code",400,499);if(!f.success)return f;c=d("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(c.value);if(!c.success)return c;a=d("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(a,b);return!a.success?a:d("WAResultOrError").makeResult(babelHelpers["extends"]({errorText:e.value,errorCode:f.value,errorIdentityKeyMixin:c.value},a.value))}g.parseRotateSignedResponseValidationError=a}),98);
__d("WASmaxOutPreKeysRotateSignedRequest",["WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WASmaxOutPreKeysSignedPreKeyMixin"],(function(a,b,c,d,e,f,g){function a(a){a=a.signedPreKeyMixinArgs;a=d("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(d("WASmaxJsx").smax("iq",{type:"set"},d("WASmaxOutPreKeysSignedPreKeyMixin").mergeSignedPreKeyMixin(d("WASmaxJsx").smax("rotate",null),a)));return a}g.makeRotateSignedRequest=a}),98);
__d("WASmaxPreKeysRotateSignedRPC",["WAComms","WASmaxInPreKeysRotateSignedResponseRequestError","WASmaxInPreKeysRotateSignedResponseServerError","WASmaxInPreKeysRotateSignedResponseSuccess","WASmaxInPreKeysRotateSignedResponseValidationError","WASmaxOutPreKeysRotateSignedRequest","WASmaxParsingFailure","WASmaxRpcUtils"],(function(a,b,c,d,e,f,g){async function a(a,b){a=d("WASmaxOutPreKeysRotateSignedRequest").makeRotateSignedRequest(a);b=await d("WAComms").sendSmaxStanza(a,b);var c=d("WASmaxInPreKeysRotateSignedResponseSuccess").parseRotateSignedResponseSuccess(b,a);if(c.success)return{name:"RotateSignedResponseSuccess",value:c.value};var e=d("WASmaxInPreKeysRotateSignedResponseValidationError").parseRotateSignedResponseValidationError(b,a);if(e.success)return{name:"RotateSignedResponseValidationError",value:e.value};var f=d("WASmaxInPreKeysRotateSignedResponseRequestError").parseRotateSignedResponseRequestError(b,a);if(f.success)return{name:"RotateSignedResponseRequestError",value:f.value};b=d("WASmaxInPreKeysRotateSignedResponseServerError").parseRotateSignedResponseServerError(b,a);if(b.success)return{name:"RotateSignedResponseServerError",value:b.value};throw new(d("WASmaxParsingFailure").SmaxParsingFailure)(d("WASmaxRpcUtils").errorMessageRpcParsing("RotateSigned",{Success:c,ValidationError:e,RequestError:f,ServerError:b}))}g.sendRotateSignedRPC=a}),98);
__d("WARotateSignedPreKeyProtocol",["WACryptoManager","WAErrorMessage","WAGlobals","WAHandleFailureUtils","WAMakeSignedPreKeyMixin","WAResultOrError","WASmaxPreKeysRotateSignedRPC","WATagsLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n=d("WATagsLogger").TAGS(["rotateSignedPreKeyProtocol"]);async function a(){n.LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["start generating skey..."])));try{var a=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WACryptoManager").generateSignedPreKey(a)},{operationType:"generate_signed_prekey",flush:!0,afterInit:!0});n.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["generated skey. Start rotating skey..."])));a=await d("WASmaxPreKeysRotateSignedRPC").sendRotateSignedRPC({signedPreKeyMixinArgs:d("WAMakeSignedPreKeyMixin").makeSignedPreKeyMixin(a)});switch(a.name){case"RotateSignedResponseValidationError":var b=a.value,c=b.errorCode,e=b.errorText;b=b.errorIdentityKeyMixin;n.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["ValidationError: "," ",""])),c,e);return d("WAResultOrError").makeError({type:"validation-error",identity:b.elementValue});case"RotateSignedResponseRequestError":c=a.value.errorRequestErrors.value.code;e=a.value.errorRequestErrors.name;n.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["RequestError: "," ",""])),c,e);return d("WAResultOrError").makeError({type:"request-error"});case"RotateSignedResponseServerError":b=a.value.errorServerErrors.value.code;c=a.value.errorServerErrors.name;n.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["ServerError: "," ",""])),b,c);return d("WAResultOrError").makeError({type:"server-error"});default:a.name;n.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["successfully rotated new skey"])));return d("WAResultOrError").makeResult()}}catch(a){e=d("WAErrorMessage").maybeGetMessageFromError(a);if(e.includes("No lastSignedPrekeyId and registration")){await d("WAHandleFailureUtils").reregisterPhone();return d("WAResultOrError").makeError({type:"no-prekey-reregistered"})}throw a}}g.rotateSignedPreKeyProtocol=a}),98);
__d("WARotateSignedPreKey",["WAGenerateAndUploadPreKeys","WALoggerTag","WARotateSignedPreKeyProtocol","WATagsLogger","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("WATagsLogger").TAGS([c("WALoggerTag").SignedPrekeyRotation,c("WALoggerTag").SignedPrekey]);async function a(a){a=await d("WARotateSignedPreKeyProtocol").rotateSignedPreKeyProtocol();if(a.success||a.error.type==="no-prekey-reregistered")return;if(a.error.type==="validation-error"){k.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Signed prekey failed server validation. need to upload all keys."])));d("WAGenerateAndUploadPreKeys").generateAndUploadPreKeys(null,{reason:"signed prekey failed server validation"}).catch(function(a){k.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Error while generating and uploading prekeys: ",""])),a)});return Promise.resolve()}k.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["rotateSignedPreKey failed."])));throw c("err")("rotateSignedPreKey RPC failed: "+a.error.type)}g.rotateSignedPreKey=a}),98);
__d("WASendAppDataFanoutProtocol",["WAAsMessageApplication","WABridge","WAConvertAppData","WAEncUserMsg","WAErrorMessage","WAGetCurrentUserDeviceInfoApi","WAGlobals","WAMsgApplication.pb","WAOdsEnums","WAResultOrError","WASmaxAppdataPublishPeerRPC","WATagsLogger","WATimeUtils","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=d("WATagsLogger").TAGS(["sendAppDataFanout"]),p=24;function a(a,b){a=b.contents;var c=b.externalId,e=b.permittedIdentitiesPerDevice;b=b.checkPhash;b=b===void 0?"checkPhash":b;return q(a,c,e,b).catch(function(a){a=d("WAErrorMessage").maybeGetMessageFromError(a);o.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata to devices with error: ",""])),a);return d("WAResultOrError").makeError("runtime-error")})}async function q(a,b,c,e){e===void 0&&(e="checkPhash");o.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Sending appdata, externalId: ",""])),b);a=d("WAConvertAppData").convertAppData(a);var f={bytes:d("WAAsMessageApplication").castToMessageApplicationBytes(d("encodeProtobuf").encodeProtobuf(d("WAMsgApplication.pb").MessageApplicationSpec,a).readByteArrayView()),version:"v3"},g=[];a=Array.from(c.entries()).map(function(a){var b=a[0];a=a[1];return{identity:a.pubKey,jid:b}});c=p;a.length>c&&(o.WARN(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to "," devices"])),a.length),o.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Attempting to send an appData stanza to more than the allowed "," devices"])),c),a=a.slice(0,c));var h=[{devicesInfo:a,user:d("WAGlobals").getMyUserJid()}];c=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return d("WAEncUserMsg").encryptUserMsg(h,{messageBytes:f,type:"appdata"},{cryptoManager:a})},{operationType:"encrypt",flush:!0});a=c.phash;var q=!1;c.participants!=null&&c.participants.forEach(function(a){a.type==="pkmsg"&&(q=!0),g.push({toJid:a.to,encTypeIndividualMixinArgs:{encType:a.type,encElementValue:a.ciphertext},encVersionFutureproofMixinArgs:{encV:parseInt(a.v,10)}})});c={appdataTo:d("WAGlobals").getMyUserJid(),toArgs:g};c={peerPeerFanout:c};var r=void 0;if(q){var s=await d("WAGetCurrentUserDeviceInfoApi").getCurrentUserDeviceInfo();s=s==null?void 0:s.identityKey;if(s==null){o.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Failed to fetch current device public identity key"])));return d("WAResultOrError").makeError("no-public-identity")}r={deviceIdentityElementValue:s}}s={appdataDeviceListCheck:e==="checkPhash"?"true":"false"};e={appdataId:b,peerMsgTypesArgs:c,deviceIdentityMixinArgs:r,withDeviceListCheckMixinArgs:s};b=await d("WASmaxAppdataPublishPeerRPC").sendPeerRPC(e);switch(b.name){case"PeerResponseSuccess":r=(c=b.value.deviceListStaleMixin)==null?void 0:c.phash;if(r!=null&&a!=null&&r!==a){o.LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Got phash mismatch on appdata, local[","] server[","]"])),a,r);d("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:d("WAOdsEnums").Entity.PHASH_MISMATCH,key:"appdata"});return d("WAResultOrError").makeResult({phashMismatch:!0,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)})}else return d("WAResultOrError").makeResult({phashMismatch:!1,serverTs:d("WATimeUtils").castToUnixTime(b.value.t)});default:b.name;o.ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Failed to send appdata. Error: ",""])),b.value.error);return d("WAResultOrError").makeError("ack-failure")}}g.MAX_APPDATA_RECIPIENTS=p;g.sendAppDataToDevicesProtocol=a}),98);
__d("WASendMsgUtilV2",["WADevicesState","WAGenReportingMeta","WAGlobals","WAJids","WALoadReceiptApi","WALogger","WAMsg","WAResultOrError","WASaveReceiptApi","WASendMsgInternal","WASentBytesCache","WATimeUtils","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n;function o(a){return Promise.resolve()}function p(a,b){return d("WADevicesState").getDevicesState().waitForUserDevices(Array.from(new Set([a,d("WAGlobals").getMyUserJid()])),"GetDevicesBeforeSend: "+b)}function q(a,b){a=b.chatJid;var c=b.reason;return d("WAJids").switchOnChatJidType(a,{group:function(a){return o(a)},interopUser:function(a){return p(a,c)},lidUser:function(a){return p(a,c)},msgrUser:function(a){return p(a,c)},phoneUser:function(a){return p(a,c)}}).catch(function(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error during get devices before sending: ",""])),a);return Promise.resolve()})}async function r(a,b){var c=a.messagePayload;a=a.loadThreadParticipants;var e={author:c.protocolMsgId.author,chat:c.protocolMsgId.chat,externalId:c.protocolMsgId.externalId},f=await d("WALoadReceiptApi").loadReceipt(e);if(f.success)return f;b.addPoint("get_devices_before_send_start");await q(void 0,{chatJid:c.protocolMsgId.chat,reason:"prepareReceipt"});b.addPoint("get_devices_before_send_end");var g=await a(c.protocolMsgId.chat);b.addPoint("get_identities_start");f=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{flush:!1,afterInit:!0,operationType:"prepare_receipt_load_identities"});a=[];if(f.size===0)a=[].concat(g);else for(c of f){var h=c[0],j=c[1];j.size===0&&a.push(h)}a.length>0&&(await d("WADevicesState").getDevicesState().waitForUserDevices(a,"GetDevicesBeforeSend: prepareReceipt",!0),f=await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return a.storage.bulkLoadIdentities(g)},{afterInit:!0,flush:!1,operationType:"prepare_receipt_load_identities"}));j=new Map();for(h of f){h[0];c=h[1];for(a of c){f=a[0];c=a[1];if(f===d("WAGlobals").getMyDeviceJid())continue;j.set(f,{pubKey:c})}}b.addPoint("get_identities_end");f=new Set();c={permittedIdentitiesPerDevice:j,recipientDevices:f,id:e};b.addPoint("save_receipts_start");await d("WASaveReceiptApi").saveReceipt(c).catch(function(a){b.addPoint("save_receipts_fail");d("WALogger").ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Failed to save receipt for message with error ",""])),a);return d("WAResultOrError").makeError("missing-receipt")});b.addPoint("save_receipts_end");return d("WAResultOrError").makeResult(c)}async function a(a,b,c){a=b.messagePayload;var e=b.loadThreadParticipants,f=b.sendIdentity;f=f===void 0?!1:f;b=b.isInstamadillo;b=b===void 0?!1:b;c.addPoint("prepare_receipt_start");e=await r({messagePayload:a,loadThreadParticipants:e},c);if(e.success===!1){c.addPoint("prepare_receipt_fail");d("WALogger").ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message that does not have a receipt in db"])));return d("WAResultOrError").makeError({type:"missing-receipt"})}c.addPoint("prepare_receipt_end");e=e.value;var g=a.frankingKey,h=a.frankingVersion,i=a.messageBytes,n=a.backupDirective,o=a.messageType,p=a.protocolMsgId;a=s(e.permittedIdentitiesPerDevice);e=o.type==="text"&&o.invitedParticipantUserJid!=null?a.filter(function(a){return a.user===o.invitedParticipantUserJid||a.user===d("WAGlobals").getMyUserJid()}):a;c.addPoint("recipients-calculated",{int:{recipientsCount:e.length},string:{msgType:o.type}});a=o.type==="text"&&o.invitedParticipantUserJid!=null?o.invitedParticipantUserJid:p.chat;var q=p.chat===d("WAGlobals").getMyUserJid();if(e.length===0&&!q){d("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients"])));return d("WAResultOrError").makeError({type:"no-recipients",isRetriable:!1})}else if(e.length===0&&q){d("WALogger").LOG(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Trying to send a message with no recipients, but it is a self thread"])));return d("WAResultOrError").makeResult({baseKey:null,reportingMeta:null,serverTs:d("WATimeUtils").unixTime()})}q=f?await d("WAGlobals").getWaOneQueue().enqueue(function(a){a=a.cryptoManager;return t(a)},{operationType:"get_my_device_identity",flush:!1,afterInit:!0}):null;f=await (o.isRevoked===!0?Promise.resolve(null):d("WAGenReportingMeta").genReportingMeta(i.bytes,g,h));return d("WASendMsgInternal").sendMessage({type:"chat",messageBytes:i,chat:a,deviceIdentity:q,messageType:o,protocolMsgId:p,externalId:p.externalId,recipients:e,reportingMeta:f,backupDirective:n},c,b).then(function(a){if(a.success)return d("WASentBytesCache").sentBytesCache().saveSentBytes({ts:a.value.serverTs,frankingKey:g,frankingVersion:h,messageBytes:i,backupDirective:n,messageType:o,protocolMsgId:p,waMsgId:d("WAMsg").craftWAMsgIdString({author:p.author,chat:p.chat,externalId:p.externalId})}).catch(function(a){d("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["sendWrittenMsg failed to save sent bytes to cache: ",""])),a)}).then(function(){return a});else return a})}function s(a){var b=new Map();a.forEach(function(a,c){a=a.pubKey;var e=d("WAJids").extractUserJid(c);a={identity:a,jid:c};c=b.get(e)||[];c.push(a);b.set(e,c)});return Array.from(b,function(a){var b=a[0];a=a[1];return{devicesInfo:a,user:b}})}async function t(a){try{a=await a.storage.loadIdentities(d("WAGlobals").getMyUserJid());a=a.get(d("WAGlobals").getMyDeviceJid());if(a!=null)return a;throw c("err")("missing-identity")}catch(a){d("WALogger").ERROR(n||(n=babelHelpers.taggedTemplateLiteralLoose(["Error loading current device identity ",""])),a)}}g.getDevicesBeforeSend=q;g.sendChatMessage=a}),98);
__d("WASetClockSkewApi",["WASetMetaApi"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=a.clockSkew;return d("WASetMetaApi").setMeta({clockSkew:a})};g.setClockSkew=a}),98);
__d("WASendPing",["WAComms","WALogger","WASetClockSkewApi","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sendPing: sending"]))),d("WAComms").sendPing()}async function b(a,b){a=b.clockSkew;d("WATimeUtils").setClockSkew(a);await d("WASetClockSkewApi").setClockSkew({clockSkew:a})}g.sendPing=a;g.updateClockSkew=b}),98);
__d("WASyncAbProps",["WAAbPropsSync","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){b=b.sendHash;d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Syncing ABProps"])));await d("WAAbPropsSync").syncAbProps({sendHash:b,eventFlow:a!=null?a:void 0})}g.syncAbProps=a}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupSecretRestoreModule",["E2EEBackupCommon","QuickPerformanceLogger","Random","VestaClient","VestaClientError","VestaClientV2","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("qpl")._(235874858,"168");function j(){return d("Random").uint32()}async function a(a,b,e){var f=j();(h||(h=c("QuickPerformanceLogger"))).markerStart(i,f);h.markerAnnotate(i,{string:{product_use_case:b.productUseCase}},{instanceKey:f});try{var g=c("gkx")("13570");(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{bool:{is_wasm_vesta_client_v2:g}},{instanceKey:f});var k=await a.initLogin({clientId:b.clientId,productUseCase:b.productUseCase},e),l=k.islandRsaPub,m=k.islandRsaPubSig,n=k.islandEd25519Pub,o=k.islandEd25519PubSig;k=k.isRegistered;h.markerPoint(i,"init_login_network_end",{instanceKey:f});if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"NOT_REGISTERED"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NOT_REGISTERED)}var p;if(g){k=await Promise.all([d("VestaClientV2").validateHsmKey(l,m),d("VestaClientV2").validateHsmKey(n,o)]);p=k[0];k=k[1];if(!p.success)throw p.error;if(!k.success)throw k.error;p=p.value;k=k.value}else{l=await Promise.all([d("VestaClient").validateHsmKey(l,m),d("VestaClient").validateHsmKey(n,o)]);p=l[0];k=l[1]}if(!p){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_RSA_KEY_INVALID"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_RSA_KEY_INVALID)}if(!k){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"ISLAND_PUB_ED25519_KEY_INVALID"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.ISLAND_PUB_ED25519_KEY_INVALID)}h.markerPoint(i,"validate_hsm_keys_client_end",{instanceKey:f});m=b.vestaAccountPin;if(m==null)throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.MISSING_PIN_INPUT);else{o=new TextEncoder();if(g){l=await d("VestaClientV2").beginLogin(o.encode(m));if(!l.success)throw l.error;l=l.value}else l=await d("VestaClient").beginLogin(o.encode(m));p=l;k=p.clientState;o=p.l1Message;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"begin_login_client_end",{instanceKey:f});m=await a.beginLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL1:o},e);l=m.opaqueL2;p=m.opaqueL2Sig;h.markerPoint(i,"begin_login_network_end",{instanceKey:f});if(g){o=await d("VestaClientV2").finishLogin(l,p,n,k);if(!o.success)throw o.error;o=o.value}else o=await d("VestaClient").finishLogin(l,p,n,k);m=o;l=m.exportKey;p=m.l3Message;n=m.sessionKey;h.markerPoint(i,"finish_login_client_end",{instanceKey:f});k=await a.finishLogin({clientId:b.clientId,productUseCase:b.productUseCase,opaqueL3:p},e);o=k.loginSuccess;m=k.loginPayload;h.markerPoint(i,"finish_login_network_end",{instanceKey:f});if(!o){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}if(m!=null){if(g){a=await d("VestaClientV2").unpackLoginPayload(m,n,l);if(!a.success)throw a.error;a=a.value}else a=await d("VestaClient").unpackLoginPayload(m,n,l);b=a;p=b.userSecret;(h||(h=c("QuickPerformanceLogger"))).markerPoint(i,"unpack_login_payload",{instanceKey:f});h.markerEnd(i,2,f);return p}h.markerAnnotate(i,{string:{failure_reason:"VESTA_SERVER_ERROR"}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_SERVER_ERROR)}}catch(a){if(a instanceof d("E2EEBackupCommon").BackupError)throw a;else if(a instanceof c("VestaClientError")){(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:"VestaClientException: "+a.name}},{instanceKey:f});h.markerEnd(i,3,f);if(a.name==="InvalidUserPassword")throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD,a);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.VESTA_CLIENT_ERROR,a)}else{(h||(h=c("QuickPerformanceLogger"))).markerAnnotate(i,{string:{failure_reason:a.message}},{instanceKey:f});h.markerEnd(i,3,f);throw new(d("E2EEBackupCommon").BackupError)(d("E2EEBackupCommon").BackupErrorType.NETWORK_PROVIDER_ERROR,a)}}}g.restoreBackupSecret=a}),98);
__d("MAWEncryptedBackupsClearRecoveryCode",["Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return(h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_recovery_code_data)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.secure_encrypted_backups_recovery_code_status))]).then(function(c){var d=c[0],e=c[1];if(d!=null||e!=null)return a.runInTransaction(function(a){return(h||(h=b("Promise"))).all([(d==null?void 0:d.taskId)!=null?a.secure_recovery_code_data["delete"](d.taskId):(h||(h=b("Promise"))).resolve(),(e==null?void 0:e.pk)!=null?a.secure_encrypted_backups_recovery_code_status["delete"](e.pk):(h||(h=b("Promise"))).resolve()])},"readwrite",void 0,void 0,f.id+":27")})}g.encryptedBackupsClearRecoveryCode=a}),98);
__d("MWChatEBPinCodeVerifyIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.isMessenger;a=a?"disabled_DEPRECATED":"blue";var e;b[0]!==a?(e=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXSpinner.react"),{color:a,size:12})}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"meta3",children:h._(/*BTDS*/"Verifying your PIN")})}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsxs(c("MWXRow.react"),{align:"center",paddingTop:8,spacing:8,children:[e,a]}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24783313654667152"}),null);
__d("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters",["MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatEncryptedBackupsForgotPINDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsForgotPINDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatEncryptedBackupsForgotPINDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWChatEncryptedBackupsForgotPINDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPINDialog.react").__setRef("MWChatEncryptedBackupsForgotPINDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWChatEncryptedBackupsForgotPinStepDialogPage.react").__setRef("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint")};g["default"]=a}),98);
__d("MWEBNoMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBNoMobileEOTRInformationalDialogForEntrypoint.react").__setRef("MWEBNoMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBUntrustedMobileEOTRInformationalDialogForEntrypoint.react").__setRef("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint")};g["default"]=a}),98);
__d("useWAInfraMobileDeviceList",["cr:8431","react","react-compiler-runtime","useWAInfraDeviceList"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(3),e=c("useWAInfraDeviceList")(),f;a[0]!==e?(f=e.filter(i),a[0]=e,a[1]=f):f=a[1];e=f;f=e;if(b("cr:8431")){a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[b("cr:8431")],a[2]=e):e=a[2];return e}return f}function i(a){var b;return a.platform==="Messenger"&&!["Mac OS X","Windows"].includes(a.manufacturer)&&!["Chrome","Safari","Firefox","Edge","System Product Name"].includes(a.model)&&!(a.manufacturer==="Apple"&&(b=a.model)!=null&&b.includes("Mac"))}g["default"]=a}),98);
__d("MWEncryptedBackupsForgotPinStep",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsForgotPINDialog.entrypoint","MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBNoMobileEOTRInformationalDialog.entrypoint","MWEBUntrustedMobileEOTRInformationalDialog.entrypoint","MWEBVirtualDevicesContext.react","MWJewelPopoverDialogContext.react","QPLUserFlow","UserMobileEBState","emptyFunction","gkx","qex","react","react-compiler-runtime","useGetUserMobileEBState","useMWXEntryPointDialog","usePushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["onHighIntent"],j=["onHighIntent"],k=["onHighIntent"],l;l||(l=d("react"));var m=l.useContext,n=h._(/*BTDS*/"Forgotten PIN?"),o=h._(/*BTDS*/"Need help?");e="https://www.facebook.com/help/messenger-app/431055522328649?ref=learn_more";f=c("gkx")("14456")||c("qex")._("2123")||!1;var p=function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a===n?"PIN_CODE_RESTORE_FORGOT_PIN_CLICK":"PIN_CODE_RESTORE_NEED_HELP_CLICK")},q=f?n:o;h=function(){p(q)};var r={children:q,href:e,onClick:h,rel:"noreferrer",target:"_blank"};function a(a){var b=d("react-compiler-runtime").c(39),e=a.offlineDevicesCount,f=a.onClose,g=a.onComplete,h=a.pushPage;a=c("useGetUserMobileEBState")();var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[0]=l):l=b[0];l=c("usePushPage")(c("MWEBNoMobileEOTRInformationalDialog.entrypoint"),l);var m=l[0];l=l[1];if(b[1]!==l){l.onHighIntent;var q=babelHelpers.objectWithoutPropertiesLoose(l,i);q=q;b[1]=l;b[2]=q}else q=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[3]=l):l=b[3];l=c("usePushPage")(c("MWEBUntrustedMobileEOTRInformationalDialog.entrypoint"),l);var s=l[0];l=l[1];if(b[4]!==l){l.onHighIntent;var t=babelHelpers.objectWithoutPropertiesLoose(l,j);t=t;b[4]=l;b[5]=t}else t=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l={},b[6]=l):l=b[6];l=c("usePushPage")(c("MWChatEncryptedBackupsForgotPinStepDialogPage.entrypoint"),l);var u=l[0];l=l[1];if(b[7]!==l){l.onHighIntent;var v=babelHelpers.objectWithoutPropertiesLoose(l,k);v=v;b[7]=l;b[8]=v}else v=b[8];if(a.state===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE){b[9]!==f||b[10]!==g||b[11]!==h||b[12]!==s?(l=function(){p(n),s({onClose:f,onComplete:g,pushPage:h})},b[9]=f,b[10]=g,b[11]=h,b[12]=s,b[13]=l):l=b[13];var w;b[14]!==l||b[15]!==t.onHoverIn||b[16]!==t.onHoverOut||b[17]!==t.onPressIn?(w={children:n,onClick:l,onHoverEnd:t.onHoverOut,onHoverStart:t.onHoverIn,onPressStart:t.onPressIn},b[14]=l,b[15]=t.onHoverIn,b[16]=t.onHoverOut,b[17]=t.onPressIn,b[18]=w):w=b[18];return w}if(a.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE){b[19]!==f||b[20]!==g||b[21]!==m?(l=function(){p(n),m({onClose:f,onComplete:g})},b[19]=f,b[20]=g,b[21]=m,b[22]=l):l=b[22];b[23]!==q.onHoverIn||b[24]!==q.onHoverOut||b[25]!==q.onPressIn||b[26]!==l?(t={children:n,onClick:l,onHoverEnd:q.onHoverOut,onHoverStart:q.onHoverIn,onPressStart:q.onPressIn},b[23]=q.onHoverIn,b[24]=q.onHoverOut,b[25]=q.onPressIn,b[26]=l,b[27]=t):t=b[27];return t}var x=e>0||!0;if(x){b[28]!==x||b[29]!==f||b[30]!==g||b[31]!==u||b[32]!==h?(w=function(){p(o),u({isRCDeviceEnabled:x,onClose:f,onComplete:g,pushPage:h},{})},b[28]=x,b[29]=f,b[30]=g,b[31]=u,b[32]=h,b[33]=w):w=b[33];b[34]!==v.onHoverIn||b[35]!==v.onHoverOut||b[36]!==v.onPressIn||b[37]!==w?(a={children:o,onClick:w,onHoverEnd:v.onHoverOut,onHoverStart:v.onHoverIn,onPressStart:v.onPressIn},b[34]=v.onHoverIn,b[35]=v.onHoverOut,b[36]=v.onPressIn,b[37]=w,b[38]=a):a=b[38];return a}else return r}function b(a){var b=d("react-compiler-runtime").c(17);a=a.onDismiss;var e=a===void 0?c("emptyFunction"):a,f=c("useGetUserMobileEBState")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var g=a[0];a=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();a=a.virtualDeviceInfo;a=a.offlineDevicesCount;var h=m(c("MWJewelPopoverDialogContext.react")),i=h.setIsOpenForDialog;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(h={},b[1]=h):h=b[1];h=c("useMWXEntryPointDialog")(c("MWChatEncryptedBackupsForgotPINDialog.entrypoint"),h);var j,k;b[2]!==h?(k=h[0],j=h.slice(1),b[2]=h,b[3]=j,b[4]=k):(j=b[3],k=b[4]);if(f.state===d("UserMobileEBState").UserMobileEBState.UNTRUSTED_MOBILE||f.state===d("UserMobileEBState").UserMobileEBState.NO_MOBILE){b[5]!==g||b[6]!==f.state?(h={children:n,onClick:function(){p(n),g({onDismissUpsell:c("emptyFunction"),skipToEOTRForgotPINStep:f.state,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP})}},b[5]=g,b[6]=f.state,b[7]=h):h=b[7];return h}h=a>0;if(h){a=j;h=a[0];j=a[1];a=a[2];var l;b[8]!==e||b[9]!==i||b[10]!==k?(l=function(){p(o),i(!0),k({onDismiss:e})},b[8]=e,b[9]=i,b[10]=k,b[11]=l):l=b[11];var q;b[12]!==j||b[13]!==h||b[14]!==a||b[15]!==l?(q={children:o,onClick:l,onHoverEnd:j,onHoverStart:h,onPressStart:a},b[12]=j,b[13]=h,b[14]=a,b[15]=l,b[16]=q):q=b[16];return q}else return r}g.STATIC_HELP_CENTER_LINK_PROPS=r;g.useForgotPinLinkPushPageProps=a;g.useForgotPinLinkShowDialogProps=b}),226);
__d("MWChatEncryptedBackupsRestoreJewelForgotPinButtonSuspender.react",["MWEncryptedBackupsForgotPinStep","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["children","href","onClick","onHoverEnd","onHoverStart","onPressStart","rel","target"],i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(24),c=a.children;a=a.dismissSoftblock;var e;b[0]!==a?(e={onDismiss:a},b[0]=a,b[1]=e):e=b[1];a=d("MWEncryptedBackupsForgotPinStep").useForgotPinLinkShowDialogProps(e);var f,g,i,j,k,l,m,n;b[2]!==a?(e=a.children,g=a.href,i=a.onClick,j=a.onHoverEnd,k=a.onHoverStart,l=a.onPressStart,m=a.rel,n=a.target,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[2]=a,b[3]=f,b[4]=g,b[5]=e,b[6]=i,b[7]=j,b[8]=k,b[9]=l,b[10]=m,b[11]=n):(f=b[3],g=b[4],e=b[5],i=b[6],j=b[7],k=b[8],l=b[9],m=b[10],n=b[11]);if(b[12]!==c||b[13]!==f||b[14]!==a||b[15]!==g||b[16]!==e||b[17]!==i||b[18]!==j||b[19]!==k||b[20]!==l||b[21]!==m||b[22]!==n){var o=babelHelpers["extends"]({},f,{label:e,linkProps:g!=null?{rel:m,target:n,url:g}:void 0,onHoverIn:k,onHoverOut:j,onPress:i,onPressIn:l});o=c({buttonProps:o,linkProps:a});b[12]=c;b[13]=f;b[14]=a;b[15]=g;b[16]=e;b[17]=i;b[18]=j;b[19]=k;b[20]=l;b[21]=m;b[22]=n;b[23]=o}else o=b[23];return o}g["default"]=a}),98);
__d("MWChatEncryptedBackupsSetIsDialogPersistedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({setIsDialogPersisted:function(){}});g["default"]=b}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:!1,kind:"LocalArgument",name:"labyrinthOnePointOneSecurityUX"}],c={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},d={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{args:[{kind:"Variable",name:"labyrinthOnePointOneSecurityUX",variableName:"labyrinthOnePointOneSecurityUX"}],kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsDialogStep_query"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[c,e],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[f,e,{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{condition:"labyrinthOnePointOneSecurityUX",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_sender_backup",storageKey:null}]},d,{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},e],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:b("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWEBOTCDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWEBOTCDialog.react").__setRef("MWEBOTCDialog.entrypoint")};g["default"]=a}),98);
__d("MWEBOTCInterstitialIllustration.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(7),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var i;b[0]!==g?(i=k?g?h("925480"):h("925482"):h("414641"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i):i=b[6];return i}g["default"]=a}),98);
__d("MWEBQPWithPinState.enum",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({INITIAL:0,RESTORE_IN_PROGRESS:1});c=a;f["default"]=c}),66);
__d("MWEBRestoreQPWithPin_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEBRestoreQPWithPin_viewer",selections:[{args:null,kind:"FragmentSpread",name:"useMWChatEncryptedBackupsVestaUserInfo_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"qp_with_pin_state",storageKey:null}]}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("gkx")("23433");function a(){var a=i?h("414274"):h("1745665");return a}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsAddDevice",["EBMainThreadEBDBApiDeferred","EBSMAPI","Promise","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=["onStart"],i,j;e=j||d("react");e.useCallback;var k=e.useRef,l=e.useState,m=c("requireDeferred")("MAWEncryptedBackupsClearRecoveryCode").__setRef("useMWChatEncryptedBackupsAddDevice"),n=c("requireDeferred")("mwEBAddDevice").__setRef("useMWChatEncryptedBackupsAddDevice");function a(a){var e=d("react-compiler-runtime").c(12),f=a.environment,g=a.hsmFleetMigrationResetPIN,j=a.onComplete,r=a.onFailure,s=a.onInvalidRecoveryCode,t=a.onStart;a=l(!1);var u=a[0],v=a[1];e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){v(!1)},e[0]=a):a=e[0];var w=a,x=c("useAsyncReStore")(),y=k("");e[1]!==x||e[2]!==f||e[3]!==g||e[4]!==j||e[5]!==r||e[6]!==s||e[7]!==t?(a=function(a,d){y.current=d||"",c("promiseDone")((i||(i=b("Promise"))).all([x,m.load(),n.load().then(q)]),function(d){var e=d[0],b=d[1],i=d[2];d=b.encryptedBackupsClearRecoveryCode;return c("promiseDone")(d(e),function(){var b={onFailure:function(a){w(),r(a)},onInvalidRecoveryCode:function(){w(),s()},onStart:function(){v(!0),t==null||t()},onSuccess:function(){c("promiseDone")(c("EBSMAPI").fetchBackupIds("useMWChatEncryptedBackupsAddDevice")),w(),j(),g&&y.current!==""&&g(y.current)},recoveryCode:a,storage:e};b.onStart();b.onStart;b=babelHelpers.objectWithoutPropertiesLoose(b,h);return i(babelHelpers["extends"]({},b,{environment:f,trackAddingDevice:p,trackOverprompting:o}))})})},e[1]=x,e[2]=f,e[3]=g,e[4]=j,e[5]=r,e[6]=s,e[7]=t,e[8]=a):a=e[8];a=a;var z;e[9]!==u||e[10]!==a?(z=[a,u],e[9]=u,e[10]=a,e[11]=z):z=e[11];return z}function o(a){return d("EBMainThreadEBDBApiDeferred").trackOverprompting(a)}function p(){return d("EBMainThreadEBDBApiDeferred").addNewDevice()}function q(a){return a.EBAddDevice}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsPinCodeRestore",["CometRelay","EBSMGatingUI","JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSetIsDialogPersistedContext","MWEBODSEntityName.enum","MWEBPinCodeSize","MWEBUpsellDismissedEnum.facebook","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWChatEncryptedBackupsAddDevice","useMWChatEncryptedBackupsNumericCode","useMWEBFlowSourceContext","useReStore","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");b.useCallback;var j=b.useContext,k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("MWEBUseLocalStorage").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),o=c("requireDeferred")("MWEncryptedBackupsSharedState").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),p=c("requireDeferred")("mwEBGetPINSecretFromVesta").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),q=c("requireDeferred")("updateUpsellsStateInRelayStore").__setRef("useMWChatEncryptedBackupsPinCodeRestore"),r=c("JSResourceForInteraction")("MWEncryptedBackupsHsmFleetMigrationGated").__setRef("useMWChatEncryptedBackupsPinCodeRestore");function a(a){var b=d("react-compiler-runtime").c(47),e=a.clientID,f=a.focusRegionId,g=a.onSubmitPin,i=a.onSubmitPinFailure,t=a.onVestaComplete,u=d("CometRelay").useRelayEnvironment();a=m(!1);var v=a[0],w=a[1];a=m(!1);var x=a[0],y=a[1];a=m(!1);var z=a[0],A=a[1],B=l(!1);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var C=a.startFlow,D=(h||(h=c("useReStore")))(),E=c("useMWEBFlowSourceContext")();a=m(!1);var F=a[0],G=a[1],H=j(c("MWChatEncryptedBackupsSetIsDialogPersistedContext")).setIsDialogPersisted;b[0]!==D||b[1]!==u||b[2]!==C?(a=function(a){c("promiseDone")(r.load().then(function(b){b({db:D,environment:u,pinCode:a,startFlow:C})}))},b[0]=D,b[1]=u,b[2]=C,b[3]=a):a=b[3];a=a;var I;b[4]!==D||b[5]!==u||b[6]!==t?(I=function(){var a;c("QPLUserFlow").addPoint((a=d("MWChatEncryptedBackupsQPLEvents")).restoreDeviceAuthQplEvent,"add_device_success");c("QPLUserFlow").addPoint(a.restoreQplEvent,"restore_auth_finished_and_dismissed");o.onReady(function(a){a=a.upsertEBSharedStateEntry;c("vulture")("2QC91LZgYfx9jYQu5IFjdQPsFc0=");c("promiseDone")(a({db:D,stateKey:c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_RESTORED_SUCCESSFULLY}))});n.onReady(s);d("MWChatEncryptedBackupsLogging").endSuccess({annotations:{bool:{is_backend_setup:d("EBSMGatingUI").isBackendSetupSuccessfulForEBSM()}},event:a.restoreQplEvent});d("MWChatEncryptedBackupsLogging").endSuccess({event:a.restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});t();G(!1);c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED})})},b[4]=D,b[5]=u,b[6]=t,b[7]=I):I=b[7];I=I;var J;b[8]!==u||b[9]!==i||b[10]!==H?(J=function(a){i==null||i(),B.current=!0,y(!0),G(!1),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a),d("MWChatEncryptedBackupsLogging").endFailure({errorName:a,event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("promiseDone")(q.load(),function(a){c("vulture")("1qS5kQHO8pI2UXjjvdu04Vm9ld8="),a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null||H(!1)},b[8]=u,b[9]=i,b[10]=H,b[11]=J):J=b[11];J=J;var K;b[12]!==u||b[13]!==i||b[14]!==H?(K=function(){i==null||i(),B.current=!0,y(!0),G(!1),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"pin_code_restore_wrong_recovery_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_restore_wrong_recovery_code"),c("promiseDone")(q.load(),function(a){a({environment:u,updateValue:d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.NOT_DISMISSED})}),H==null||H(!1)},b[12]=u,b[13]=i,b[14]=H,b[15]=K):K=b[15];K=K;var L;b[16]!==u||b[17]!==a||b[18]!==I||b[19]!==J||b[20]!==K?(L={environment:u,hsmFleetMigrationResetPIN:a,onComplete:I,onFailure:J,onInvalidRecoveryCode:K},b[16]=u,b[17]=a,b[18]=I,b[19]=J,b[20]=K,b[21]=L):L=b[21];a=c("useMWChatEncryptedBackupsAddDevice")(L);var M=a[0];b[22]===Symbol.for("react.memo_cache_sentinel")?(I=function(){y(!1),A(!1),w(!1)},b[22]=I):I=b[22];b[23]!==M||b[24]!==e||b[25]!==u||b[26]!==E||b[27]!==g||b[28]!==i||b[29]!==H||b[30]!==C?(J=async function(a){var b=await p.load();await b({addDevice:M,clientID:e,environment:u,getSourceFromContext:E,onSubmitPin:g,onSubmitPinFailure:i,onVestaSecretFetch:function(){H==null||H(!0)},pinCode:a,productUseCase:"MSGR_ENC_BACKUP",setIsInProgress:G,setIsPinCodeIncorrect:w,setIsVestaError:A,startFlow:C})},b[23]=M,b[24]=e,b[25]=u,b[26]=E,b[27]=g,b[28]=i,b[29]=H,b[30]=C,b[31]=J):J=b[31];b[32]!==f||b[33]!==J?(K={enableMasking:!0,focusRegionId:f,inputSize:d("MWEBPinCodeSize").EB_PIN_CODE_SIZE,onChange:I,onComplete:J,type:"pin"},b[32]=f,b[33]=J,b[34]=K):K=b[34];L=d("useMWChatEncryptedBackupsNumericCode").useMWChatEncryptedBackupsNumericCode(K);a=L[0];I=L[1];var N=I.clearNumericInput;f=I.disabled;J=I.focusOnInput;K=I.invalidKeyPressedError;b[35]!==N?(L=function(){B.current&&(N(),B.current=!1)},I=[N],b[35]=N,b[36]=L,b[37]=I):(L=b[36],I=b[37]);k(L,I);L=f!=null?f:!1;b[38]!==J||b[39]!==a||b[40]!==K||b[41]!==F||b[42]!==x||b[43]!==v||b[44]!==z||b[45]!==L?(I={focusOnInput:J,inputProps:a,invalidKeyPressedError:K,isDisabled:L,isInProgress:F,isLabyrinthError:x,isPinCodeIncorrect:v,isVestaError:z},b[38]=J,b[39]=a,b[40]=K,b[41]=F,b[42]=x,b[43]=v,b[44]=z,b[45]=L,b[46]=I):I=b[46];return I}function s(a){var b=a.mwEBCreateLocalStorageEntry;a=a.mwEBDeleteLocalStorageEntry;b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION);b(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_RESTORED_IN_CURRENT_SESSION_2);a(c("MWEncryptedBackupsLocalStorageEntryEnum").EBSM_CORRUPTION_WIPE)}g.useMWChatEncryptedBackupsPinCodeRestore=a}),98);
__d("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9618790408209960"}),null);
__d("useMWEBSetHasSeenNoticeMutation.graphql",["useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"SetHasSeenEbAutoRestoreNoticeResponsePayload",kind:"LinkedField",name:"set_has_seen_eb_auto_restore_notice",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBSetHasSeenNoticeMutation",selections:a,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBSetHasSeenNoticeMutation",selections:a},params:{id:b("useMWEBSetHasSeenNoticeMutation_facebookRelayOperation"),metadata:{},name:"useMWEBSetHasSeenNoticeMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("useMWEBSetHasSeenNotice",["CometRelay","react","react-compiler-runtime","useMWEBSetHasSeenNoticeMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMWEBSetHasSeenNoticeMutation.graphql"),a[0]=c):c=a[0];c=d("CometRelay").useMutation(c);var e=c[0];a[1]!==e?(c=function(){e({variables:{}})},a[1]=e,a[2]=c):c=a[2];return c}g["default"]=a}),98);
__d("useMWEBAutoRestoreNoticeDialog",["JSResourceForInteraction","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWEBUseLocalStorage","MWEncryptedBackupsLocalStorageEntryEnum","QPLUserFlow","ReQL","ReQLSuspense","react","react-compiler-runtime","useLabyrinthLogging","useMWEBSetHasSeenNotice","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=c("JSResourceForInteraction")("MWEBAutoRestoreNoticeDialog.react").__setRef("useMWEBAutoRestoreNoticeDialog");function a(){var a=d("react-compiler-runtime").c(9),b=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),e=b.startFlow;b=c("useMWXLazyDialog")(j);var g=b[0],i=(h||(h=c("useReStore")))();a[0]!==i.tables.auto_restore_opt_out?(b=function(){return d("ReQL").fromTableAscending(i.tables.auto_restore_opt_out)},a[0]=i.tables.auto_restore_opt_out,a[1]=b):b=a[1];var l;a[2]!==i?(l=[i],a[2]=i,a[3]=l):l=a[3];var m=d("ReQLSuspense").useArray(b,l,f.id+":45"),n=c("useMWEBSetHasSeenNotice")();a[4]!==m||a[5]!==n||a[6]!==g||a[7]!==e?(b=function(a){var b=a.hasSeenNotice;a=a.source;var f=m.filter(k).length>0;e({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,source:a});if(f){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_OUT");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent,"AUTO_RESTORE_NOTICE_SCREEN_OPTED_IN");d("MWEBUseLocalStorage").mwEBCreateLocalStorageEntry(c("MWEncryptedBackupsLocalStorageEntryEnum").ENCRYPTED_BACKUPS_REMEMBER_BROWSER_CONSENT);if(b){d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").restoreWithAutoRestoreConsentQplEvent});return}n();g({})},a[4]=m,a[5]=n,a[6]=g,a[7]=e,a[8]=b):b=a[8];return b}function k(a){return a.optOutKey===c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_HAS_OPTED_OUT_OF_AUTO_RESTORE}g["default"]=a}),98);
__d("MWEBRestoreQPWithPin.react",["fbt","CometPlaceholder.react","CometRelay","CometVisualCompletionAttributes","EncryptedBackupsSupportedPlatformUtils","FBLogger","FocusRegion.react","JSResourceForInteraction","MWChatEBPinCodeVerifyIndicator.react","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsNumericCodeErrorWrapper.react","MWChatEncryptedBackupsNumericCodeInput.react","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWChatEncryptedBackupsRestoreJewelForgotPinButtonSuspender.react","MWEBFlowSourceContextProvider.react","MWEBOTCDialog.entrypoint","MWEBQPWithPinState.enum","MWEBRestoreQPWithPin_viewer.graphql","MWEncryptedBackupsForgotPinStep","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWLogInboxFiltersInteraction","MWLogInteraction","MWXCircleButton.react","MWXColumn.react","MWXColumnItem.react","MWXIconCross","MWXImage.react","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","focusScopeQueries","getMWEBRestoreQPCautionCircleProperties","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useLabyrinthLogging","useMWChatEncryptedBackupsPinCodeRestore","useMWChatEncryptedBackupsVestaUserInfo","useMWEBAutoRestoreNoticeDialog","useMWEBFlowSourceContext","useMWXEntryPointDialog","useMWXLazyDialog","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useEffect;e.useMemo;var n=e.useRef,o=e.useState,p=c("JSResourceForInteraction")("MWChatEncryptedBackupsPinCodeBlockedDialog.react").__setRef("MWEBRestoreQPWithPin.react"),q="chat-encrypted-backups-jewel-qp-with-pin-input",r={icon:{paddingTop:"x889kno",$$css:!0}};function s(a){var e,f,g=d("react-compiler-runtime").c(81),j=a.clientID,s=a.doesUserHaveOtcEligibleDevices,x=a.fragmentKey,y=a.isInbox,z=a.setClosed,A=a.setDismissed,B=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEBRestoreQPWithPin_viewer.graphql"),x),C=d("CometRelay").useRelayEnvironment();g[0]!==C?(a=function(a){return d("CometRelay").commitLocalUpdate(C,function(b){b=b.getRoot().getLinkedRecord("viewer");if(b==null){c("FBLogger")("wmi_eb").mustfix("[labyrinth][jewel_softblock_state] A viewer record does not exist when propagating EB restore qp with pin state");return}b.setValue(a,"qp_with_pin_state")})},g[0]=C,g[1]=a):a=g[1];var D=a;g[2]!==B?(x={viewer$key:B},g[2]=B,g[3]=x):x=g[3];var E=c("useMWChatEncryptedBackupsVestaUserInfo")(x),F=E.attemptsRemaining===0||E.loginTimeoutRemainingSecs!=null;a=o(!1);var G=a[0],H=a[1],I=n(!1);x=c("useMWXLazyDialog")(p);var J=x[0];g[4]!==F||g[5]!==J||g[6]!==G||g[7]!==E.attemptsRemaining||g[8]!==E.loginTimeoutRemainingSecs||g[9]!==E.refetchVestaClientInfo?(a=function(){F&&G===!0&&I.current!==!0&&(I.current=!0,J({attemptsRemaining:E.attemptsRemaining,loginTimeoutRemainingSecs:E.loginTimeoutRemainingSecs,onDismiss:w,refetchVestaClientInfo:E.refetchVestaClientInfo}))},x=[F,J,G,E.attemptsRemaining,E.loginTimeoutRemainingSecs,E.refetchVestaClientInfo],g[4]=F,g[5]=J,g[6]=G,g[7]=E.attemptsRemaining,g[8]=E.loginTimeoutRemainingSecs,g[9]=E.refetchVestaClientInfo,g[10]=a,g[11]=x):(a=g[10],x=g[11]);m(a,x);a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var K=a.startFlow,L=c("useAsyncReStore")();x=c("useMWEBFlowSourceContext")();g[12]!==x?(a=x(),g[12]=x,g[13]=a):a=g[13];x=a;var M=x;g[14]!==L||g[15]!==s||g[16]!==M||g[17]!==K?(a=function(a){c("promiseDone")(L.then(function(b){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;K({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:s.toString(),is_pin_set:"true",restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:M});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a)}})}))},g[14]=L,g[15]=s,g[16]=M,g[17]=K,g[18]=a):a=g[18];var N=a;g[19]!==y||g[20]!==z||g[21]!==A||g[22]!==N?(x=function(){var a=y?"RESTORE_QP_WITH_PIN_INBOX_DISMISSED":"RESTORE_QP_WITH_PIN_JEWEL_DISMISSED";N(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_qp_with_pin",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});z();A()},g[19]=y,g[20]=z,g[21]=A,g[22]=N,g[23]=x):x=g[23];a=x;x=l(c("MWJewelPopoverDialogContext.react"));var O=x.setIsOpenForDialog,P=c("useMWEBAutoRestoreNoticeDialog")();if(g[24]!==P||g[25]!==(B==null||(e=B.encrypted_backup)==null?void 0:e.has_seen_eb_auto_restore_notice)||g[26]!==M||g[27]!==z||g[28]!==O||g[29]!==D){var Q;x=function(){var a,b;z();P({hasSeenNotice:(a=B==null||(b=B.encrypted_backup)==null?void 0:b.has_seen_eb_auto_restore_notice)!=null?a:!1,source:M});O(!0);D(c("MWEBQPWithPinState.enum").INITIAL)};g[24]=P;g[25]=B==null||(Q=B.encrypted_backup)==null?void 0:Q.has_seen_eb_auto_restore_notice;g[26]=M;g[27]=z;g[28]=O;g[29]=D;g[30]=x}else x=g[30];B==null||(f=B.encrypted_backup)==null||f.has_seen_eb_auto_restore_notice;x=x;var R,S;g[31]!==D?(R=function(){H(!0),d("MWLogInteraction").logPopoverOpenCancel("initiate_restore"),d("MWLogInboxFiltersInteraction").logInboxFiltersNavigationCancel("initiate_restore"),D(c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS)},S=function(){D(c("MWEBQPWithPinState.enum").INITIAL)},g[31]=D,g[32]=R,g[33]=S):(R=g[32],S=g[33]);var T;g[34]!==j||g[35]!==x||g[36]!==R||g[37]!==S?(T={clientID:j,focusRegionId:q,onSubmitPin:R,onSubmitPinFailure:S,onVestaComplete:x},g[34]=j,g[35]=x,g[36]=R,g[37]=S,g[38]=T):T=g[38];j=d("useMWChatEncryptedBackupsPinCodeRestore").useMWChatEncryptedBackupsPinCodeRestore(T);x=j.inputProps;R=j.invalidKeyPressedError;S=j.isInProgress;T=j.isLabyrinthError;var U=j.isPinCodeIncorrect;j=j.isVestaError;S=(B==null?void 0:B.qp_with_pin_state)===c("MWEBQPWithPinState.enum").RESTORE_IN_PROGRESS||S;var V;g[39]!==y||g[40]!==N?(V={onVisible:function(){d("FocusRegion.react").focusRegionById(q,d("focusScopeQueries").tabbableScopeQuery);var a=y?"RESTORE_QP_WITH_PIN_INBOX_IMPRESSION":"RESTORE_QP_WITH_PIN_JEWEL_IMPRESSION";N(a)}},g[39]=y,g[40]=N,g[41]=V):V=g[41];V=c("useVisibilityObserver")(V);var W;g[42]===Symbol["for"]("react.memo_cache_sentinel")?(W={},g[42]=W):W=g[42];W=c("useMWXEntryPointDialog")(c("MWEBOTCDialog.entrypoint"),W);var X=W[0];g[43]!==y||g[44]!==X?(W=function(){X({source:y?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP},v)},g[43]=y,g[44]=X,g[45]=W):W=g[45];var Y=W;g[46]!==R||g[47]!==T||g[48]!==U||g[49]!==j?(W=R!=null?R:U?h._(/*BTDS*/"Incorrect PIN. Try again."):T||j?h._(/*BTDS*/"There was an error while using the PIN code. Please try again"):void 0,g[46]=R,g[47]=T,g[48]=U,g[49]=j,g[50]=W):W=g[50];R=W;if(F===!0){z();return null}T=c("gkx")("23219");g[51]===Symbol["for"]("react.memo_cache_sentinel")?(U={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk xe4pinz x14vqqas x1ys307a xod5an3 xyqm7xq xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},1:{className:"x1obq294 x5a5i1n xde0f50 x15x8krk xe4pinz x14vqqas x1ys307a xod5an3 xyqm7xq xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x1jx94hy"}}[!!T<<0],g[51]=U):U=g[51];g[52]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("MWXRowItem.react"),{xstyle:r.icon,children:k.jsx(c("MWXImage.react"),{src:c("getMWEBRestoreQPCautionCircleProperties")()})}),g[52]=j):j=g[52];g[53]===Symbol["for"]("react.memo_cache_sentinel")?(W=k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",isSemanticHeading:!0,numberOfLines:2,type:"headlineEmphasized4",children:h._(/*BTDS*/"Chat history is missing")})}),g[53]=W):W=g[53];g[54]===Symbol["for"]("react.memo_cache_sentinel")?(W=k.jsx(c("MWXRowItem.react"),{expanding:!0,children:k.jsxs(c("MWXColumn.react"),{paddingTop:8,spacing:12,children:[W,k.jsx(c("MWXColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"start",color:T?"secondary":"primary",numberOfLines:2,type:"body4",children:h._(/*BTDS*/"Enter your PIN to restore chat history.")})})]})}),g[54]=W):W=g[54];var Z;g[55]===Symbol["for"]("react.memo_cache_sentinel")?(Z=h._(/*BTDS*/"Close"),g[55]=Z):Z=g[55];g[56]!==a?(j=k.jsx(c("MWXColumnItem.react"),{children:k.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:12,children:[j,W,k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconCross"),label:Z,onPress:a,size:T?24:32,testid:void 0})})]})}),g[56]=a,g[57]=j):j=g[57];g[58]!==x||g[59]!==S?(W=k.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:q,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeInput.react"),babelHelpers["extends"]({},x,{color:T?"primary":"secondary",disabled:S,inputSize:"small",testid:void 0}))}),g[58]=x,g[59]=S,g[60]=W):W=g[60];g[61]!==R||g[62]!==W?(Z=k.jsx(c("MWXColumnItem.react"),{paddingTop:16,children:k.jsx(c("MWChatEncryptedBackupsNumericCodeErrorWrapper.react"),{error:R,inputSize:"small",children:W})}),g[61]=R,g[62]=W,g[63]=Z):Z=g[63];g[64]!==S?(a=S&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",{className:"xfitlp5 x9otpla",children:k.jsx(c("MWChatEBPinCodeVerifyIndicator.react"),{isMessenger:T})})}),g[64]=S,g[65]=a):a=g[65];g[66]!==s||g[67]!==R||g[68]!==S||g[69]!==Y||g[70]!==O?(x=!S&&k.jsx(c("MWXColumnItem.react"),{align:"center",children:k.jsx("div",babelHelpers["extends"]({},{0:{},2:{className:"xod5an3"},1:{className:"x12nagc x1iorvi4"},3:{className:"x12nagc x1iorvi4"}}[!!(R==null)<<1|!!(R!=null)<<0],{children:k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s===!0?k.jsx(c("MWXLink.react"),{onClick:function(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_USE_ONE_TIME_CODE_CLICK"),O(!0),Y()},children:h._(/*BTDS*/"Use a one-time code instead")}):k.jsx("div",babelHelpers["extends"]({},c("CometVisualCompletionAttributes").IGNORE,{children:k.jsx(c("CometPlaceholder.react"),{fallback:k.jsx(c("MWXLink.react"),babelHelpers["extends"]({testid:void 0},d("MWEncryptedBackupsForgotPinStep").STATIC_HELP_CENTER_LINK_PROPS,{onClick:u})),name:"mw-chat-encrypted-backups-jewel-forgot-pin-fallback-link",children:k.jsx(c("MWChatEncryptedBackupsRestoreJewelForgotPinButtonSuspender.react"),{children:t})})}))})}))}),g[66]=s,g[67]=R,g[68]=S,g[69]=Y,g[70]=O,g[71]=x):x=g[71];g[72]!==V||g[73]!==j||g[74]!==Z||g[75]!==a||g[76]!==x?(W=k.jsxs(c("MWXColumn.react"),{ref:V,testid:void 0,children:[j,Z,a,x]}),g[72]=V,g[73]=j,g[74]=Z,g[75]=a,g[76]=x,g[77]=W):W=g[77];g[78]!==U||g[79]!==W?(T=k.jsx("div",babelHelpers["extends"]({},U,{children:W})),g[78]=U,g[79]=W,g[80]=T):T=g[80];return T}function t(a){var b=a.linkProps;return k.jsx(c("MWXLink.react"),babelHelpers["extends"]({testid:void 0},b,{onClick:function(a){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"RESTORE_FORGOT_PIN_CLICK"),b.onClick==null||b.onClick(a)}}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){c("FBLogger")("wmi_eb").tags(["jewel_restore_qp"]).warn("User clicked on the placeholder Forgot PIN button"),d("MWEncryptedBackupsForgotPinStep").STATIC_HELP_CENTER_LINK_PROPS.onClick==null||d("MWEncryptedBackupsForgotPinStep").STATIC_HELP_CENTER_LINK_PROPS.onClick(a)}function v(){c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"OTC_RESTORE_CLOSE_DIALOG_CLICK")}function w(){}function a(a){var b=d("react-compiler-runtime").c(10),e=a.clientID,f=a.currentSupportedPlatform,g=a.doesUserHaveOtcEligibleDevices,h=a.fragmentKey,i=a.setClosed;a=a.setDismissed;f=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;var j=f?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP_WITH_PIN:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP_WITH_PIN,l;b[0]!==e||b[1]!==g||b[2]!==h||b[3]!==f||b[4]!==i||b[5]!==a?(l=k.jsx(s,{clientID:e,doesUserHaveOtcEligibleDevices:g,fragmentKey:h,isInbox:f,setClosed:i,setDismissed:a}),b[0]=e,b[1]=g,b[2]=h,b[3]=f,b[4]=i,b[5]=a,b[6]=l):l=b[6];b[7]!==j||b[8]!==l?(e=k.jsx(c("MWEBFlowSourceContextProvider.react"),{source:j,children:l}),b[7]=j,b[8]=l,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListPersistentBanner.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsThreadListPersistentBanner.react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.onDismissUpsell;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),a);var f=a[0];a=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();var g=a!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM;a=l(c("MWJewelPopoverDialogContext.react"));var j=a.setIsOpenForDialog,o=(i||(i=c("useReStore")))();a=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var p=a.startFlow,q=m(!1),r=g?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_PERSISTENT_BANNER:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER;b[1]!==o||b[2]!==r||b[3]!==p?(a=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:o,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;p({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:r});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);q.current===!1&&(q.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},b[1]=o,b[2]=r,b[3]=p,b[4]=a):a=b[4];var s=a;b[5]!==g||b[6]!==s?(a={onVisible:function(){s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_IMPRESSION")}},b[5]=g,b[6]=s,b[7]=a):a=b[7];a=c("useVisibilityObserver")(a);var t;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x1xmf6yo x1e56ztr xyqm7xq x1ys307a x6ikm8r x10wlt62 xyamay9 x1l90r2v xf7dkkf xv54qhq"},b[8]=t):t=b[8];var u;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(u=h._(/*BTDS*/"Missing chat history."),b[9]=u):u=b[9];var v;b[10]!==g||b[11]!==e||b[12]!==j||b[13]!==f||b[14]!==r||b[15]!==s?(v=function(){j(!0),s(g?"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED_INBOX":"RESTORE_THREAD_LIST_PERSISTENT_BANNER_CTA_CLICKED"),f({onDismissUpsell:e,source:r})},b[10]=g,b[11]=e,b[12]=j,b[13]=f,b[14]=r,b[15]=s,b[16]=v):v=b[16];var w;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Restore now"),b[17]=w):w=b[17];b[18]!==v?(u=k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsxs(k.Fragment,{children:[u," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:v,target:"_blank",testid:void 0,children:w})})]})}),b[18]=v,b[19]=u):u=b[19];b[20]!==a||b[21]!==u?(w=k.jsx("div",babelHelpers["extends"]({},t,{ref:a,children:u})),b[20]=a,b[21]=u,b[22]=w):w=b[22];return w}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer"}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapper_viewer",selections:[{args:null,kind:"FragmentSpread",name:"MWEBRestoreQPWithPin_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWEncryptedBackupsVerifyDeviceNux.react",["fbt","EncryptedBackupsSupportedPlatformUtils","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWJewelPopoverDialogContext.react","MWXQPCard.react","QPLUserFlow","getMWEBRestoreQPCautionCircleProperties","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEncryptedBackupsVerifyDeviceNux.react");function a(a){var b=d("react-compiler-runtime").c(46),e=a.children,f=a.currentSupportedPlatform,g=a.setClosed,j=a.setDismissed;a=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState();var o;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(o={},b[0]=o):o=b[0];o=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),o);var p=o[0],q=(i||(i=c("useReStore")))(),r=f!==d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,s=r?c("MWChatEncryptedBackupsQPLSource.enum").INBOX_THREADLIST_QP:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP;o=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var t=o.startFlow,u=m(!1);f=l(c("MWJewelPopoverDialogContext.react"));var v=f.setIsOpenForDialog;o=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();f=o.virtualDeviceInfo;var w=f.vestaClientID!=null;o=f.offlineDevicesCount>0;var x=f.doesUserHaveOtcEligibleDevices;f=!w&&x;var y;b[1]!==q||b[2]!==x||b[3]!==w||b[4]!==s||b[5]!==t?(y=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:q,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,j=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;t({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:j,has_user_restored_before_temp:b,is_otc_eligible:x.toString(),is_pin_set:w.toString(),restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:s});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);u.current===!1&&(u.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},b[1]=q,b[2]=x,b[3]=w,b[4]=s,b[5]=t,b[6]=y):y=b[6];var z=y;b[7]!==r||b[8]!==z?(y={onVisible:function(){var a=r?"VERIFY_DEVICE_INBOX_QP_THREAD_LIST_IMPRESSION":"VERIFY_DEVICE_QP_THREAD_LIST_IMPRESSION";z(a)}},b[7]=r,b[8]=z,b[9]=y):y=b[9];y=c("useVisibilityObserver")(y);var A;b[10]!==r||b[11]!==g||b[12]!==v||b[13]!==z?(A=function(){var a=r?"USER_CLICKED_INBOX_THREAD_LIST_VERIFY_DEVICE":"USER_CLICKED_FB_THREAD_LIST_VERIFY_DEVICE";z(a);v(!0);g()},b[10]=r,b[11]=g,b[12]=v,b[13]=z,b[14]=A):A=b[14];var B=A,C;b[15]!==r||b[16]!==g||b[17]!==j||b[18]!==z?(A=function(){var a=r?"USER_CLOSED_INBOX_THREAD_LIST_VERIFY_DEVICE_NUX":"USER_CLOSED_FB_THREAD_LIST_VERIFY_DEVICE_NUX";z(a);d("MWChatEncryptedBackupsLogging").cancelFlow({cancelEndPoint:"thread_list_nux",event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent});C()},C=function(){j(),g()},b[15]=r,b[16]=g,b[17]=j,b[18]=z,b[19]=A,b[20]=C):(A=b[19],C=b[20]);if(!w&&!o&&!x)return e;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Chat history is missing"),b[21]=o):o=b[21];e=o;b[22]!==x||b[23]!==a||b[24]!==w||b[25]!==f?(o=a&&x?h._(/*BTDS*/"Restore now"):w?h._(/*BTDS*/"Enter PIN"):f?h._(/*BTDS*/"Restore now"):h._(/*BTDS*/"Enter 40-character code"),b[22]=x,b[23]=a,b[24]=w,b[25]=f,b[26]=o):o=b[26];var D;b[27]!==C||b[28]!==B||b[29]!==s||b[30]!==p?(D=function(){B(),p({onDismissUpsell:C,source:s})},b[27]=C,b[28]=B,b[29]=s,b[30]=p,b[31]=D):D=b[31];var E;b[32]!==o||b[33]!==D?(E={label:o,onPress:D,testid:"mw-encrypted-backups-in-thread-verify-device-nux-verify-now-button"},b[32]=o,b[33]=D,b[34]=E):E=b[34];b[35]!==x||b[36]!==a||b[37]!==w||b[38]!==f?(o=a&&x?h._(/*BTDS*/"Send a one-time code to restore your chat history"):w?h._(/*BTDS*/"Enter your PIN to see messages that aren't loaded on this device."):f?h._(/*BTDS*/"Send a one-time code to restore your chat history"):h._(/*BTDS*/"Enter your 40-character code to see messages that aren't loaded on this device."),b[35]=x,b[36]=a,b[37]=w,b[38]=f,b[39]=o):o=b[39];b[40]===Symbol["for"]("react.memo_cache_sentinel")?(D={props:{src:c("getMWEBRestoreQPCautionCircleProperties")()},type:"image"},b[40]=D):D=b[40];b[41]!==A||b[42]!==y||b[43]!==E||b[44]!==o?(a=k.jsx(c("MWXQPCard.react"),{addOnPrimary:E,body:o,headline:e,icon:D,onClose:A,ref:y}),b[41]=A,b[42]=y,b[43]=E,b[44]=o,b[45]=a):a=b[45];return a}g["default"]=a}),226);
__d("MWEncryptedBackupsThreadListRestoreQPWrapper.react",["CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBEntrypointsKillswitch.enum","MWEBRestoreQPWithPin.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsThreadListPersistentBanner.react","MWEncryptedBackupsThreadListQPWrapper.react","MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql","MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql","MWEncryptedBackupsVerifyDeviceNux.react","react","react-compiler-runtime","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react");function m(a){var e=d("react-compiler-runtime").c(32),f=a.backupState,g=a.children,i=a.currentSupportedPlatform,k=a.fragmentKey,m=a.setHasDismissedQp,n=a.setHasDismissedQpWithPin;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapper_viewer.graphql"),k);var o=(j||(j=c("useReStore")))();k=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();k=k.virtualDeviceInfo;var p=i===d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM,q=k.doesUserHaveOtcEligibleDevices,r=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),s;e[0]!==f||e[1]!==r?(s={backupState:f,isCooldownOrLockOutState:r},e[0]=f,e[1]=r,e[2]=s):s=e[2];f=c("useHasRestoreInterstitialSoftblockBeenDismissed")(s);if(!q&&r&&f)return null;else if(r&&f){e[3]!==m?(s=function(){m(!0)},e[3]=m,e[4]=s):s=e[4];e[5]!==o?(q=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[5]=o,e[6]=q):q=e[6];e[7]!==g||e[8]!==i||e[9]!==s||e[10]!==q?(r=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:s,setDismissed:q}),e[7]=g,e[8]=i,e[9]=s,e[10]=q,e[11]=r):r=e[11];return r}else if(p&&k.vestaClientID!=null&&c("MWEBRestoreQPWithPin.react")){e[12]!==n?(f=function(){n(!0)},e[12]=n,e[13]=f):f=e[13];e[14]!==o?(s=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL})},e[14]=o,e[15]=s):s=e[15];e[16]!==i||e[17]!==a||e[18]!==f||e[19]!==s||e[20]!==k.doesUserHaveOtcEligibleDevices||e[21]!==k.vestaClientID?(q=l.jsx(c("MWEBRestoreQPWithPin.react"),{clientID:k.vestaClientID,currentSupportedPlatform:i,doesUserHaveOtcEligibleDevices:k.doesUserHaveOtcEligibleDevices,fragmentKey:a,setClosed:f,setDismissed:s}),e[16]=i,e[17]=a,e[18]=f,e[19]=s,e[20]=k.doesUserHaveOtcEligibleDevices,e[21]=k.vestaClientID,e[22]=q):q=e[22];return q}else{e[23]!==m?(r=function(){m(!0)},e[23]=m,e[24]=r):r=e[24];e[25]!==o?(p=function(){return d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:o,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL})},e[25]=o,e[26]=p):p=e[26];e[27]!==g||e[28]!==i||e[29]!==r||e[30]!==p?(a=l.jsx(c("MWEncryptedBackupsVerifyDeviceNux.react"),{children:g,currentSupportedPlatform:i,setClosed:r,setDismissed:p}),e[27]=g,e[28]=i,e[29]=r,e[30]=p,e[31]=a):a=e[31];return a}}function a(a){var e=d("react-compiler-runtime").c(12),f=a.children,g=a.currentSupportedPlatform,h=a.fragmentKey,k=a.hasDismissedQps,n=a.setHasDismissedBanner,o=a.setHasDismissedQp,p=a.setHasDismissedQpWithPin;a=a.trigger;h=d("CometRelay").useFragment(i!==void 0?i:i=b("MWEncryptedBackupsThreadListRestoreQPWrapper_query.graphql"),h);var q=(j||(j=c("useReStore")))(),r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r={entrypoint:c("MWEBEntrypointsKillswitch.enum").INBOX_THREADLIST},e[0]=r):r=e[0];r=c("useMWEBBackupState")(r);var s;e[1]!==r||e[2]!==f||e[3]!==g||e[4]!==(h==null?void 0:h.viewer)||e[5]!==q||e[6]!==k||e[7]!==n||e[8]!==o||e[9]!==p||e[10]!==a?(s=k?l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(c("MWEncryptedBackupsThreadListPersistentBanner.react"),{onDismissUpsell:function(){n(!0),d("MWEncryptedBackupsDeferLocalStorageUpsell").updateUpsellEntry({db:q,upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL})}})}):l.jsx(d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsThreadListQPWrapper,{trigger:a,children:l.jsx(m,{backupState:r,children:f,currentSupportedPlatform:g,fragmentKey:h==null?void 0:h.viewer,setHasDismissedQp:o,setHasDismissedQpWithPin:p})}),e[1]=r,e[2]=f,e[3]=g,e[4]=h==null?void 0:h.viewer,e[5]=q,e[6]=k,e[7]=n,e[8]=o,e[9]=p,e[10]=a,e[11]=s):s=e[11];return s}g["default"]=a}),98);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9747954008656745"}),null);
__d("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql",["VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"begin_login_request",variableName:"input"}],concreteType:"VestaBeginLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_begin_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_l2_sig",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderBeginLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderBeginLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderBeginLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9611648865601020"}),null);
__d("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql",["VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"finish_login_request",variableName:"input"}],concreteType:"VestaFinishLoginResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_finish_login",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_login_payload",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_success",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderFinishLoginMutation",selections:c},params:{id:b("VestaServerGraphQLLoginProviderFinishLoginMutation_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderFinishLoginMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9285801411531503"}),null);
__d("VestaServerGraphQLLoginProviderInitQuery.graphql",["VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"request"}],c=[{alias:null,args:[{kind:"Variable",name:"vesta_init_request",variableName:"request"}],concreteType:"VestaInitIqResponse",kind:"LinkedField",name:"fbid_based_auth_layer_vesta_login_init",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_rsa_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_opaque_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"base64url_encoded_island_ed25519_pub_signature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"VestaServerGraphQLLoginProviderInitQuery",selections:c,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"VestaServerGraphQLLoginProviderInitQuery",selections:c},params:{id:b("VestaServerGraphQLLoginProviderInitQuery_facebookRelayOperation"),metadata:{},name:"VestaServerGraphQLLoginProviderInitQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("VestaServerGraphQLLoginProvider",["E2EEBackupUtil","RelayHooks","RelayModern","VestaServerGraphQLLoginProviderBeginLoginMutation.graphql","VestaServerGraphQLLoginProviderFinishLoginMutation.graphql","VestaServerGraphQLLoginProviderInitQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function a(a,c){c=c.environment;c=await d("RelayHooks").fetchQuery(c,h!==void 0?h:h=b("VestaServerGraphQLLoginProviderInitQuery.graphql"),{request:{fbid:a.clientId,product_use_case:a.productUseCase,vesta_client_api_version:6}}).toPromise();a=c==null?void 0:c.fbid_based_auth_layer_vesta_login_init;c=a==null?void 0:a.base64url_encoded_island_rsa_pub;var e=a==null?void 0:a.base64url_encoded_island_rsa_pub_signature,f=a==null?void 0:a.base64url_encoded_opaque_pub,g=a==null?void 0:a.base64url_encoded_opaque_pub_signature,i=a==null?void 0:a.base64url_encoded_island_ed25519_pub,j=a==null?void 0:a.base64url_encoded_island_ed25519_pub_signature,k=a==null?void 0:a.is_registered;a=a==null?void 0:a.attempts_remaining;if(c!=null&&e!=null&&f!=null&&g!=null&&i!=null&&j!=null&&k!=null){var l;return{islandRsaPub:(l=d("E2EEBackupUtil")).decodeBase64Url(c),islandRsaPubSig:l.decodeBase64Url(e),opaquePub:l.decodeBase64Url(f),opaquePubSig:l.decodeBase64Url(g),islandEd25519Pub:l.decodeBase64Url(i),islandEd25519PubSig:l.decodeBase64Url(j),isRegistered:k,loginAttemptsRemaining:a}}throw new Error("GraphQL Response is Null")}function c(a,c){var e=c.environment,f=i!==void 0?i:i=b("VestaServerGraphQLLoginProviderBeginLoginMutation.graphql"),g={input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l1:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL1)}};return new Promise(function(a,b){d("RelayModern").commitMutation(e,{mutation:f,variables:g,onCompleted:function(c){c=c.fbid_based_auth_layer_vesta_begin_login;var e=c==null?void 0:c.base64url_encoded_opaque_l2;c=c==null?void 0:c.base64url_encoded_opaque_l2_sig;if(e!=null&&c!=null){a({opaqueL2:d("E2EEBackupUtil").decodeBase64Url(e),opaqueL2Sig:d("E2EEBackupUtil").decodeBase64Url(c)});return}b(new Error("GraphQL Response is Null"))},onError:function(a){b(a)}})})}function e(a,c){var e=c.environment,f=c.updater;return new Promise(function(c,g){d("RelayModern").commitMutation(e,{mutation:j!==void 0?j:j=b("VestaServerGraphQLLoginProviderFinishLoginMutation.graphql"),variables:{input:{fbid:a.clientId,product_use_case:a.productUseCase,base64url_encoded_opaque_l3:d("E2EEBackupUtil").encodeBase64Url(a.opaqueL3)}},onCompleted:function(a){a=a.fbid_based_auth_layer_vesta_finish_login;var b=a==null?void 0:a.base64url_encoded_login_payload,e=a==null?void 0:a.login_success;a=a==null?void 0:a.attempts_remaining;if(e!=null){c({loginSuccess:e,loginPayload:b==null?b:d("E2EEBackupUtil").decodeBase64Url(b),attemptsRemaining:a});return}g(new Error("GraphQL Response is Null"))},onError:function(a){g(a)},updater:f})})}g.initLogin=a;g.beginLogin=c;g.finishLogin=e}),98);
__d("mwEBAddDevice",["EBSMAPI","MAWCurrentUser","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsInitializeRestoreDeferred","QPLUserFlow","isInstamadilloEB"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.onFailure,f=a.onInvalidRecoveryCode,g=a.onSuccess,h=a.recoveryCode,i=a.storage;return c("EBSMAPI").addDeviceWithRecoveryCode({environment:b,recoveryCode:h,userId:d("MAWCurrentUser").getID()}).then(function(a){a.success?(g(),!c("isInstamadilloEB")()?d("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:i,onFailure:function(){},onSuccess:function(){}}):c("QPLUserFlow").endSuccess(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent)):a.error==="INVALID_RECOVERY_CODE"?f():e(a.error)})}g.EBAddDevice=a}),98);
__d("vestaBackupSecretRestore",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("vestaBackupSecretRestore"),i=c("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("vestaBackupSecretRestore");async function a(a){var b=a.input;a=a.environment;var c=await Promise.all([i.load(),h.load()]),d=c[0],e=d.beginLogin,f=d.finishLogin;d=d.initLogin;c=c[1].restoreBackupSecret;return c({beginLogin:e,finishLogin:f,initLogin:d},b,{environment:a})}g.default=a}),98);
__d("mwEBGetPINSecretFromVesta",["CometRelay","E2EEBackupCommon","FBLogger","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","QPLUserFlow","promiseDone","vestaBackupSecretRestore"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){var b=a.addDevice,e=a.clientID,f=a.environment,g=a.getSourceFromContext,h=a.onSubmitPin,i=a.onSubmitPinFailure,j=a.onVestaSecretFetch,k=a.pinCode,l=a.productUseCase,m=a.setIsInProgress,n=a.setIsPinCodeIncorrect,o=a.setIsVestaError;a=a.startFlow;m(!0);h==null||h();h=g();c("QPLUserFlow").addAnnotations(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code",source:h}});g=new TextDecoder();var p;a({additionalAnnotations:{device_type:"HSM"},event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH,source:h});try{c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_begin"),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SUBMIT"),p=g.decode(await c("vestaBackupSecretRestore")({environment:f,input:{clientId:e,productUseCase:l,vestaAccountPin:k}})),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_success")}catch(b){i==null||i();c("promiseDone")(d("CometRelay").fetchQuery(f,c("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise());if(b.errorType===d("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD)m(!1),n(!0),d("MWChatEncryptedBackupsLogging").endFailure({errorName:"incorrect_pin_code",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:c("MWEBODSEntityKey.enum").INCORRECT_PIN_CODE,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"incorrect_pin_code");else{d("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorMessage:b.message,errorType:b.errorType}},errorName:"vesta_login_failure",event:d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:c("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH});c("QPLUserFlow").markError(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error");m(!1);o(!0);a="Error when restoring using PIN: "+b;c("FBLogger")("wmi_eb").mustfix(a)}throw b}p!=null&&(j==null||j(),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_begin"),b(p,k))}g.default=a}),98);
__d("updateUpsellsStateInRelayStore",["CometRelay","FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.environment,e=a.updateValue;d("CometRelay").commitLocalUpdate(b,function(a){a=a.getRoot().getLinkedRecord("viewer");if(a==null){c("FBLogger")("wmi_eb").mustfix("[labyrinth][upsells] A viewer record does not exist when updating upsell state.");return}a.setValue(e,"is_eb_restore_upsells_dismissed")})}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(ENVIRONMENT_IS_SHELL){if(typeof process=="object"&&typeof require==="function"||typeof window=="object"||typeof importScripts=="function")throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(typeof read!="undefined"){read_=read;}readBinary=function readBinary(f){if(typeof readbuffer=="function"){return new Uint8Array(readbuffer(f));}var data=read(f,"binary");assert(typeof data=="object");return data;};readAsync=function readAsync(f,onload,onerror){setTimeout(function(){return onload(readBinary(f));});};if(typeof clearTimeout=="undefined"){globalThis.clearTimeout=function(id){};}if(typeof setTimeout=="undefined"){globalThis.setTimeout=function(f){return typeof f=="function"?f():abort();};}if(typeof scriptArgs!="undefined"){arguments_=scriptArgs;}else if(typeof arguments!="undefined"){arguments_=arguments;}if(typeof quit=="function"){quit_=function quit_(status,toThrow){setTimeout(function(){if(!(toThrow instanceof ExitStatus)){var toLog=toThrow;if(toThrow&&typeof toThrow=="object"&&toThrow.stack){toLog=[toThrow,toThrow.stack];}err("exiting due to exception: "+toLog);}quit(status);});throw toThrow;};}if(typeof print!="undefined"){if(typeof console=="undefined")console={};console.log=print;console.warn=console.error=typeof printErr!="undefined"?printErr:print;}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href;}else if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};if(ENVIRONMENT_IS_WORKER){readBinary=function readBinary(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response);};}readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};}else{throw new Error("environment detection error");}var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var _EmscriptenEH3=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var _EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(_EmscriptenEH3);var _CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(_EmscriptenEH3);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new _CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("file-saver-2.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(a,b){"undefined"!=typeof g?b():(b(),a.FileSaver={exports:{}}.exports)})(this,function(){function b(b,a){return"undefined"==typeof a?a={autoBom:!1}:"object"!=typeof a&&(!1,a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["\ufeff",b],{type:b.type}):b}function c(a,b,c){var d=new XMLHttpRequest;d.open("GET",a),d.responseType="blob",d.onload=function(){g(d.response,b,c)},d.onerror=function(){},d.send()}function d(b){var a=new XMLHttpRequest;a.open("HEAD",b,!1);try{a.send()}catch(a){}return 200<=a.status&&299>=a.status}function e(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(c){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),b.dispatchEvent(a)}}var f="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,g=f.saveAs||("object"!=typeof window||window!==f?function(){}:"download"in HTMLAnchorElement.prototype?function(a,b,g){var h=f.URL||f.webkitURL,i=document.createElement("a");b=b||a.name||"download",i.download=b,i.rel="noopener","string"==typeof a?(i.href=a,i.origin===location.origin?e(i):d(i.href)?c(a,b,g):e(i,i.target="_blank")):(i.href=h.createObjectURL(a),setTimeout(function(){h.revokeObjectURL(i.href)},4e4),setTimeout(function(){e(i)},0))}:"msSaveOrOpenBlob"in navigator?function(a,f,g){if(f=f||a.name||"download","string"!=typeof a)navigator.msSaveOrOpenBlob(b(a,g),f);else if(d(a))c(a,f,g);else{var h=document.createElement("a");h.href=a,h.target="_blank",setTimeout(function(){e(h)})}}:function(e,a,b,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),"string"==typeof e)return c(e,a,b);a="application/octet-stream"===e.type;b=/constructor/i.test(f.HTMLElement)||f.safari;var g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||a&&b)&&"object"==typeof FileReader){var h=new FileReader;h.onloadend=function(){var a=h.result;a=g?a:a.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=a:location=a,d=null},h.readAsDataURL(e)}else{var i=f.URL||f.webkitURL,j=i.createObjectURL(e);d?d.location=j:location.href=j,d=null,setTimeout(function(){i.revokeObjectURL(j)},4e4)}});f.saveAs=g.saveAs=g,"undefined"!=typeof h&&(h.exports=g)})}var j=!1;function k(){j||(j=!0,i());return h.exports}function b(a){switch(a){case void 0:return k()}}e.exports=b}),null);
__d("file-saver",["file-saver-2.0.2"],(function(a,b,c,d,e,f){e.exports=b("file-saver-2.0.2")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);/*FB_PKG_DELIM*/
__d("EARInitType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["EB_INIT","LS_INIT","MAW_INIT","MAW_RP_INIT","MAW_IN_UI_INIT"]);c=a;f["default"]=c}),66);
__d("IndexedDbPolyfills",[],(function(a,b,c,d,e,f){"use strict";var g=function(){function a(){this.$1=new Map()}var b=a.prototype;b.emit=function(a){var b=this.$1.get(a);for(var c=arguments.length,d=new Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];if(b!==void 0)for(var f of b)f.apply(void 0,d);var g=this["on"+a];g!=null&&g.apply(void 0,d)};b.addEventListener=function(a,b,c){var d=this;c===void 0&&(c={});c=c;c=c.signal;var e=this.$1.get(a);e===void 0&&(e=new Set(),this.$1.set(a,e));e.add(b);c!=null&&(c.onabort=function(){d.removeEventListener(a,b)})};b.removeEventListener=function(a,b){a=this.$1.get(a);if(a===void 0)return;a["delete"](b)};return a}();a=function(){return function(a,b){a=this.openCursor(a!=null?a:null);var c=[],d=new g();a.onsuccess=function(a){a=a.target.result;if(a!=null&&(b===void 0||c.length<b))c.push(a.value),a["continue"]();else{d.result=c;d.onsuccess==null||d.onsuccess({target:{readyState:"done",result:c}});return}};a.onerror=function(a){d.onerror==null||d.onerror(a)};return d}};b=typeof window!=="undefined"?window:self;typeof b.IDBObjectStore!=="undefined"&&b.IDBObjectStore.prototype.getAll===void 0&&(b.IDBObjectStore.prototype.getAll=a());f.IDBRequest=g;f.getAll=a}),66);
__d("MAWAdminAddParticipantMsg",["MAWLocalizationType","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h=1;function i(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU};case 2:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS}}}function j(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS}}}function k(a,b,c,e){switch(a){case 1:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER};case 2:return{adminMsgContent:[b,c,e],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER}}return{adminMsgContent:[b,c,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER}}function l(a,b){switch(a){case 1:return{adminMsgContent:[],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU};case 2:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_ONE_USER}}return{adminMsgContent:[(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER}}function m(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_ONE_USER};case 2:return{adminMsgContent:[b,c],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_TWO_USER}}return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_ADDED_MORE_THAN_TWO_USER}}function n(a,b){var c=d("MAWUserJidWrapper").getMyUserJid(),e=b[0],f=b[1],g=d("WAJids").userIdFromJid(e);f=f!=null?d("WAJids").userIdFromJid(f):"";if(a==null)return b.includes(c)?l(b.length,e===c?f:g):m(b.length,g,f);if(a===c)return j(b.length,g,f);a=d("WAJids").userIdFromJid(a);return b.includes(c)?i(b.length,a,e===c?f:g):k(b.length,a,g,f)}function a(a,b){return babelHelpers["extends"]({},n(a,b),{version:h})}g.createAddParticipantsAdminMessage=a}),98);
__d("MAWAdminRemoveParticipantMsg",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g){"use strict";var h=1;function i(a,b,c){switch(a){case 1:return{adminMsgContent:[b],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU};case 2:return{adminMsgContent:[b,c],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_ONE_USER};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_YOU_AND_MORE_THAN_ONE_USERS}}}function j(a,b,c,e){switch(a){case 1:return e?{adminMsgContent:[],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LEFT_GROUP}:{adminMsgContent:[b],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT};case 2:return{adminMsgContent:[b,c],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_TWO_PARTICIPANTS};default:return{adminMsgContent:[b,(a-1).toString()],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_REMOVED_MORE_THAN_TWO_PARTICIPANTS}}}function k(a,b,c,e,f){switch(a){case 1:return f?{adminMsgContent:[b],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LEFT_GROUP}:{adminMsgContent:[b,c],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_ONE_USER};case 2:return{adminMsgContent:[b,c,e],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_TWO_USER}}return{adminMsgContent:[b,c,(a-1).toString()],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_REMOVED_MORE_THAN_TWO_USER}}function l(a,b){var c=d("MAWUserJidWrapper").getMyUserJid(),e=b[0],f=b[1],g=d("WAJids").userIdFromJid(e);f=f!=null?d("WAJids").userIdFromJid(f):"";if(a==null)return b.includes(c)?{adminMsgContent:[],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_YOU}:{adminMsgContent:[g],adminType:d("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_REMOVED_ONE_USER};if(a===c)return j(b.length,g,f,e===c);var h=d("WAJids").userIdFromJid(a);return b.includes(c)?i(b.length,h,e===c?f:g):k(b.length,h,g,f,e===a)}function a(a,b){return babelHelpers["extends"]({},l(a,b),{version:h})}g.createRemoveParticipantsAdminMessage=a}),98);
__d("MAWAdminWriteGroupNameChangeAdminMsgContent",["MAWAdminMsgType","MAWUserJidWrapper","WAJids"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("MAWUserJidWrapper").getMyUserJid(),e=[];a===c?(c=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_NAMED_GROUP,e.push(b)):a==null?(c=d("MAWAdminMsgType").ADMIN_MSG_TYPE.UNKNOWN_USER_NAMED_GROUP,e.push(b)):(c=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_NAMED_GROUP,e.push(d("WAJids").userIdFromJid(a),b));return{adminMsgContent:e,adminType:c,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWDbXMA",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return a}function b(a){return a}function c(a){return(h||(h=d("I64"))).to_float(a)}g.convertNumbersToXMAIds=a;g.convertNumberToXMAId=b;g.convertXMAId64ToXMAId=c}),98);
__d("MAWEncryptionIndexedDbV2",["BrowserLockManager","EARInitType","ExecutionEnvironment","FBLogger","IndexedDbPolyfills","MAWCurrentUser","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWQplProxy","MWEARKeychainV3","Promise","QPLUserFlow","WALogger","WAWorkerGlobalScope","err","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b("IndexedDbPolyfills");var k="browserEncryptionMetaV2",l="version",m=1,n=6e4,o=null,p=null,q=null;function a(){return o}function e(){return o!=null}var r=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));function s(a,e){e===void 0&&(e=0);var f=d("MAWCurrentUser").getID();if(e>m){v(a,"ear_idb_retry_failed_max_reached");return(j||(j=b("Promise"))).reject(new r())}if(o!=null){v(a,"ear_db_exists");return(j||(j=b("Promise"))).resolve()}if(indexedDB==null){v(a,"ear_idb_unavailable");return(j||(j=b("Promise"))).reject(c("err")("IndexedDB API not available"))}v(a,"ear_db_open_start",{bool:{browserLockEnabled:c("BrowserLockManager")!=null}});return new(j||(j=b("Promise")))(function(b,g){var h=function(c){s(a,e+1).then(b)["catch"](function(a){if(a instanceof r)return g(c);g(a)})};try{q=d("MAWIndexedDbMetadata").encryptionDbName(f);var j=indexedDB.open(q),m=d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("IndexedDB initialisation timeout in %s flow, isInWorker: %s, openRequest: %s",String(a),(i||(i=c("ExecutionEnvironment"))).isInWorker?"true":"false",j.readyState))},n);j.onupgradeneeded=function(b){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);v(a,"ear_db_upgrade_start");b=b.target.result;if(!b.objectStoreNames.contains(k)){b=b.createObjectStore(k,{autoIncrement:!0,keyPath:"id"});b.createIndex(l,l,{unique:!0})}v(a,"ear_db_upgrade_end")};j.onblocked=function(){v(a,"ear_db_open_blocked"),d("WAWorkerGlobalScope").workerGlobalScope.setTimeout(function(){g(c("err")("EAR Open timed out while blocked"))},2e3)};j.onsuccess=function(e){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);var f=e.target.result;if(!f.objectStoreNames.contains(k)){e=j.result.objectStoreNames.contains(k);c("FBLogger")("messenger_web").warn("Missing encryption meta table. Is store present: %s",e);d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);return t(f,"missing_encryption_meta_table").then(function(){h(c("err")("Malformed encryption DB"))})["catch"](function(b){v(a,"ear_idb_retry_failed_delete_failed");return g(c("err")("Failed to delete malformed encryption DB: "+b.message))})}f.onversionchange=function(){f.close(),c("FBLogger")("messenger_web").info("EAR onversionchange triggered"),d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m),p==null||p()};v(a,"ear_db_open_end");o=f;d("MWEARKeychainV3").setNamespaceSourceDbAndMarkAsReady("global_ear",o);b()};j.onerror=function(){d("WAWorkerGlobalScope").workerGlobalScope.clearTimeout(m);if(j.error.name==="UnknownError"){v(a,"ear_db_open_error_unknown_error");return h(j.error)}v(a,"ear_db_open_error");g(j.error)}}catch(b){v(a,"ear_db_error"),g(b)}})}function f(a){p=p==null?a:p}function t(a,b){a===void 0&&(a=o);c("FBLogger")("messenger_web").warn("EAR DB deletion triggered: %s",b);a!=null&&a.close();return d("MAWIndexedDBDeletion").deleteDB(q,"ear")}function u(a){switch(a){case c("EARInitType").EB_INIT:return c("qpl")._(521477507,"1406");case c("EARInitType").MAW_INIT:return c("qpl")._(25310776,"6155");case c("EARInitType").MAW_RP_INIT:d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[Armadillo Web Remote Presence] MAW RP Initialising EAR"])));return c("qpl")._(25310776,"6155");case c("EARInitType").LS_INIT:return c("qpl")._(25305590,"1127");case c("EARInitType").MAW_IN_UI_INIT:return null}}function v(a,b,e){a=u(a);if(a==null)return;(i||(i=c("ExecutionEnvironment"))).isInWorker?d("MAWQplProxy").sendQplPointThroughBridge(a,"worker_"+b,{annotations:e}):(c("QPLUserFlow").addPoint(a,b),e!=null&&c("QPLUserFlow").addAnnotations(a,e))}g.storeName=k;g.ENCRYPTION_MAW_STORES_INDEX=l;g.getEncryptionDB=a;g.isEncryptionDBInited=e;g.makeEncryptionDB=s;g.maybeSetEncryptionDbOnVersionChange=f;g.deleteEncryptionDB_UNSAFE=t}),98);
__d("MAWEphemeralUtils",["MAWLocalizationType","MAWUserJidWrapper","WAArmadilloApplication.pb","WAJids","err"],(function(a,b,c,d,e,f,g){"use strict";var h=60,i=60*h,j=24*i;function a(a,b,c,e){var f=[],g=b===j,k=a===d("MAWUserJidWrapper").getMyUserJid();if(e)e=d("MAWLocalizationType").LOCALIZATION_TYPE.EPHEMERAL_SETTINGS_AUTO_RESET;else if(a==null)b===0?e=d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:b<h?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(b.toString())):b<i?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push((b/h).toString())):b<j||g?(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS,f.push((b/i).toString())):(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS,f.push((b/j).toString()));else{a=d("WAJids").extractUserId(a).toString();b===0?k?e=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:(e=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF,f.push(a)):b<h?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS,f.push(a)),f.push(b.toString())):b<i?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES,f.push(a)),f.push((b/h).toString())):b<j||g?(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS,f.push(a)),f.push((b/i).toString())):(k?e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:(e=c?d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS,f.push(a)),f.push((b/j).toString()))}return{adminMsgContent:f,adminType:e,version:1}}function b(a,b,e){var f,g=[];b=d("WAJids").extractUserId(b).toString();switch(a){case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT,g.push(b));break;case d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREEN_RECORDING:e?f=d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:(f=d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN,g.push(b));break;default:throw c("err")("Received unexpected screenshot action type")}return{ephemeralScreenshotActionContent:g,ephemeralScreenshotActionType:f}}g.getEphemeralSettingChangeData=a;g.getEphemeralScreenshotActionData=b}),98);
__d("MAWWriteLimitSharingAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c;b?(b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_ENABLED:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED,c=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_ENABLED?[a]:[]):(b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_LIMIT_SHARING_DISABLED:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED,c=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_LIMIT_SHARING_DISABLED?[a]:[]);return{adminMsgContent:c,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWritePinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_PINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_PINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadHotlikeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=a===d("MAWCurrentUser").getID();c=c?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_HOTLIKE;var e=[];c===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_HOTLIKE?e.push(b):e.push(a,b);return{adminMsgContent:e,adminType:c,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadNicknameCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("MAWCurrentUser").getID(),f=a===e&&a!==b,g=b===e&&b!==a,h=b===a&&e===b;e=b===a&&e!==b;var i;h&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_OWN_NICKNAME:e&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:e&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:f&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:f&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:g&&c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:g&&c.length===0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:c.length>0?i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:i=d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME;h=[];switch(i){case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_NICKNAME:h.push(b,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_CURRENT_USER_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_SET_OWN_NICKNAME:h.push(a,c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_SET_OWN_NICKNAME:h.push(c);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CLEAR_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_OWN_NICKNAME:h.push(b);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_CURRENT_USER_NICKNAME:h.push(a);break;case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PARTICIPANT_NICKNAME:case d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CLEAR_PARTICIPANT_NICKNAME:h.push(a,b,c);break;default:break}return{adminMsgContent:h,adminType:i,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteThreadPhotoCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_PHOTO:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_PHOTO?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MessengerThreadThemeType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({COLOR_GRADIENT:1,THEME:2,THIRD_PARTY:3,INTERACTIVE:4,IGD_CHANNEL_CUSTOMIZED_THEME:5,AI_AGENT:6,AI_GENERATED_THEME:7,AI_STUDIO_GENERATED_THEME:8,AI_INTERACTIVE_THEME:9,AI_INTERACTIVE_THEME_GENERATED:10,MSGR_CUSTOM_THEME:11});c=a;f["default"]=c}),66);
__d("MAWWriteThreadThemeCustomizationAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser","MessengerThreadThemeType","WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e){var f=a===d("MAWCurrentUser").getID();f=i(f,e);e=[];f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME||f===d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME?e.push(c):e.push(a,c);b!=null&&e.push(b);return{adminMsgContent:e,adminType:f,version:1}}function i(a,b){if(b!=null)try{b=c("MessengerThreadThemeType").cast(parseInt(b,10))===7;if(b)return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_AI_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_AI_THEME}catch(a){d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Unable to convert theme type to integer: ",""])),a)}return a?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_CUSTOMIZE_THEME:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_CUSTOMIZE_THEME}g.getAdminMsgContent=a}),98);
__d("MAWWriteUKOSAAdminMsgContent",["MAWAdminMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MAWAdminMsgType").ADMIN_MSG_TYPE.E2EE_THREAD_UK_OSA_ADMIN_MESSAGE;a=[a];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MAWWriteUnpinMessageAdminMsgContent",["MAWAdminMsgType","MAWCurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a===d("MAWCurrentUser").getID()?d("MAWAdminMsgType").ADMIN_MSG_TYPE.CURRENT_USER_UNPINNED_MESSAGE:d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE;a=b===d("MAWAdminMsgType").ADMIN_MSG_TYPE.PARTICIPANT_UNPINNED_MESSAGE?[a]:[];return{adminMsgContent:a,adminType:b,version:1}}g.getAdminMsgContent=a}),98);
__d("MpsAdminMsgToBridge",["FBLogger","MAWAckLevel","MAWAdminAddParticipantMsg","MAWAdminMsgHelpers","MAWAdminRemoveParticipantMsg","MAWAdminWriteGroupNameChangeAdminMsgContent","MAWEphemeralUtils","MAWJids","MAWWriteLimitSharingAdminMsgContent","MAWWritePinMessageAdminMsgContent","MAWWriteThreadHotlikeCustomizationAdminMsgContent","MAWWriteThreadNicknameCustomizationAdminMsgContent","MAWWriteThreadPhotoCustomizationAdminMsgContent","MAWWriteThreadThemeCustomizationAdminMsgContent","MAWWriteUKOSAAdminMsgContent","MAWWriteUnpinMessageAdminMsgContent","WAArmadilloMiTransportAdminMessage.pb","WAMsgType","err","getErrorSafe","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=["$$unknownFieldCount","skipBumpThread","skipSnippetUpdate"],i=["type"],j=["type"],k=["type"],l=["type"],m=["type"],n=["type"],o=["type"],p=["type"],q=["type"],r=["type"],s=["type"],t=["type"],u=["type"],v=["type"],w=["type"],x=["type"],y=["type"],z=["type"],A=["type"],B=["type"];function C(a,b){return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(b.emojiName,"emojiName is null"))}function D(a,b){return d("MAWWriteThreadHotlikeCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(b.threadIcon,"threadIcon is null"))}function E(a,b){return d("MAWWriteThreadThemeCustomizationAdminMsgContent").getAdminMsgContent(a,b.themeEmoji,c("nullthrows")(b.themeName,"themeName is null"),""+((a=b.themeType)!=null?a:""))}function F(a,b){return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED?d("MAWWritePinMessageAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED?d("MAWWriteUnpinMessageAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNSET?null:b.action===null||b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function G(a,b){return d("MAWWriteThreadNicknameCustomizationAdminMsgContent").getAdminMsgContent(a,c("nullthrows")(b.targetUserId,"targetUserId is null"),c("nullthrows")(b.nickname,"nickname is null"))}function H(a){return d("MAWWriteUKOSAAdminMsgContent").getAdminMsgContent(c("nullthrows")((a=a.ukOsaAdminText)==null?void 0:a.initiatorUserId,"initiatorUserId is null"))}function I(a,b){return d("MAWEphemeralUtils").getEphemeralSettingChangeData(d("MAWJids").toUserJid(a),(a=b.disappearingSettingDurationSeconds)!=null?a:0,((a=b.oldDisappearingSettingDurationSeconds)!=null?a:0)===0,!1)}function J(a,b){return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.CHANGED?d("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.REMOVED?d("MAWWriteThreadPhotoCustomizationAdminMsgContent").getAdminMsgContent(a):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupImageChanged$Action.UNSET?null:b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function K(a,b){return b.sharingType===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED?d("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(a,!0):b.sharingType===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED?d("MAWWriteLimitSharingAdminMsgContent").getAdminMsgContent(a,!1):b.sharingType===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET?null:b.sharingType===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.sharingType)}()}function L(a,b){return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.ADDED?d("MAWAdminAddParticipantMsg").createAddParticipantsAdminMessage(d("MAWJids").toUserJid(a),(b.targetUserId||[]).map(function(a){return d("MAWJids").toUserJid(a)})):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.REMOVED?d("MAWAdminRemoveParticipantMsg").createRemoveParticipantsAdminMessage(d("MAWJids").toUserJid(a),(b.targetUserId||[]).map(function(a){return d("MAWJids").toUserJid(a)})):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupParticipantChanged$Action.UNSET?null:b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function M(a,b){return d("MAWAdminWriteGroupNameChangeAdminMsgContent").getAdminMsgContent(d("MAWJids").toUserJid(a),c("nullthrows")(b.groupName))}function N(a,b){var e;return b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.ADDED?d("MAWAdminMsgHelpers").createParticipantPromoteAdminMessage(d("MAWJids").toUserJid(c("nullthrows")((e=b.targetUserId)==null?void 0:e[0])),d("MAWJids").toUserJid(a)):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.REMOVED?d("MAWAdminMsgHelpers").createParticipantDemoteAdminMessage(d("MAWJids").toUserJid(c("nullthrows")((e=b.targetUserId)==null?void 0:e[0])),d("MAWJids").toUserJid(a)):b.action===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupAdminChanged$Action.UNSET?null:b.action===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.action)}()}function O(a,b){return b.mode===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ADMINS_ONLY?d("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(d("MAWJids").toUserJid(a),"admin_add"):b.mode===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.ALL_MEMBERS?d("MAWAdminMsgHelpers").createMemberAddModeChangeAdminMessage(d("MAWJids").toUserJid(a),"all_member_add"):b.mode===d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$GroupMembershipAddModeChanged$Mode.UNSET?null:b.mode===void 0?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b.mode)}()}function P(a,b){return I(a,{disappearingSettingDurationSeconds:b.disappearingSettingTime!=null?Number(b.disappearingSettingTime):0,oldDisappearingSettingDurationSeconds:b.oldDisappearingSettingTime!=null?Number(b.oldDisappearingSettingTime):0})}function Q(a){return a.initiatorUserId!=null?H({ukOsaAdminText:{initiatorUserId:a.initiatorUserId}}):null}function R(a,b){return K(a,{sharingType:b.limitSharingType==="disabled"?d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.DISABLED:b.limitSharingType==="enabled"?d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.ENABLED:d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$LimitSharingChanged$SharingType.UNSET})}function S(a){return F(a,{action:d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.PINNED})}function T(a){return F(a,{action:d("WAArmadilloMiTransportAdminMessage.pb").MiTransportAdminMessage$MessagePinned$Action.UNPINNED})}function U(a,b){return E(a,{themeEmoji:b.themeEmoji,themeName:b.themeNameWithSubtitle,themeType:b.themeType})}function V(a,b){return b.threadIcon!=null?D(a,{threadIcon:b.threadIcon}):null}function W(a,b){return b.participantId!=null&&b.nickname!=null?G(a,{nickname:b.nickname,targetUserId:""+b.participantId}):null}function X(a,b){return b.threadQuickReactionEmoji!=null?C(a,{emojiName:b.threadQuickReactionEmoji}):null}function Y(a){var b=Object.keys(a);if(b.length!==1)throw c("err")("Expected exactly one key");b=b[0];return babelHelpers["extends"]({type:b},a[b])}function Z(a,b){b.$$unknownFieldCount;b.skipBumpThread;b.skipSnippetUpdate;b=babelHelpers.objectWithoutPropertiesLoose(b,h);b=Y(b);return function(b){if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="quickReactionChanged"){b.type;var c=babelHelpers.objectWithoutPropertiesLoose(b,i);return C(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="iconChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,j);return D(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="chatThemeChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,k);return E(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="messagePinned"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,l);return F(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="nicknameChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,m);return G(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="linkCta"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,n);return H(c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="disappearingSettingChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,o);return I(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupImageChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,p);return J(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="limitSharingChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,q);return K(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupParticipantChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,r);return L(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupNameChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,s);return M(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupAdminChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,t);return N(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="groupMembershipAddModeChanged"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,u);return O(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatDisappearingSetting"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,v);return P(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatLinkCta"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,w);return Q(c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessagingLimitSharing"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,x);return R(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatPinMessageV2")return S(a);if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatUnpinMessageV2")return T(a);if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThemeColor"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,y);return U(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThreadIcon"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,z);return V(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThreadNickname"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,A);return W(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatThreadQuickReaction"){b.type;c=babelHelpers.objectWithoutPropertiesLoose(b,B);return X(a,c)}if((typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatFriendRequestConfirmedEncrypted"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatInstantGameEncryptedDynamicCustomUpdate"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMagicWords"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerQrCodeScanned"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumAddition"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumContentRemoval"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumDeletion"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbumRename"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatMessengerSharedAlbum"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatGenaiTaskAdd"||(typeof b==="object"&&b!==null||typeof b==="function")&&b.type==="xmatUpdatePayments")return null;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+b)}(b)}function a(a){var b;b=(b=a.deserialize().adminMessage())==null?void 0:b.proto;if(b==null)return;var e;try{e=Z(a.message.senderId,b)}catch(a){c("FBLogger")("mps").catching(c("getErrorSafe")(a)).warn("Failed to get admin message content")}b={ack:d("MAWAckLevel").ACK.received,adminContent:(b=e)==null?void 0:b.adminMsgContent,adminType:(b=e)==null?void 0:b.adminType,adminVersion:(b=e)==null?void 0:b.version,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:b}}g.getMessageContent=Z;g.adminMsgToBridgeMsg=a}),98);
__d("MpsBumpMessageToBridgeMsg",["MAWAckLevel","MAWMsgType","MpsToBridgeMessageId","MpsTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.deserialize().encryptedTransportMessage(),f=e==null||(b=e.armadillo())==null||(b=b.proto.payload)==null||(b=b.content)==null?void 0:b.bumpExistingMessage;if(f==null||((c=f.key)==null?void 0:c.id)==null||e==null)return null;c=d("MpsTypes").toMessageId(f.key.id);c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),replyContent:{isBumpMsg:!0,replyToMsgId:d("MpsToBridgeMessageId").mpsToBridgeMsgId(a.message.threadId,c),replyType:"MESSAGE"},replySourceId:(e=f.key)==null?void 0:e.id,sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("MAWMsgType").MSG_TYPE.BUMP_EXISTING_MESSAGE};return{kind:"bridgeMsg",value:c}}g.bumpMessageToBridgeMsg=a}),98);
__d("MpsEditToBridge",["LSMessageSendStatus","MAWDbEditMsgHistory","MAWMpsGating","WAJids","WAStanzaUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=d("MAWDbEditMsgHistory").convertToEditMsgHistoryId64(d("MAWDbEditMsgHistory").unsafeCoerceToEditMsgHistoryId(Number(a.getExternalId()))),f=a.topLevelMetadata();e={author:a.getAuthor(),editExternalId:d("WAStanzaUtils").toStanzaId(a.getExternalId()),editMsgHistoryId:e,editTs:a.getUnixTs(),msgContent:b,originalMsgExternalId:d("WAStanzaUtils").toStanzaId(f.getExternalId()),originalMsgId:f.getMsgId(),sendStatus:c("LSMessageSendStatus").SENDING_TO_SERVER,threadJid:a.getChatJid()};return{kind:"bridgeEditHistoryMsg",value:e}}function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null||(b=b.consumerMessage())==null||(b=b.payload)==null||(b=b.content)==null||(b=b.editMessage)==null?void 0:b.message;if(b==null)return;return h(a,{commands:b==null?void 0:b.commands,content:((a=b==null?void 0:b.text)!=null?a:"")+(d("MAWMpsGating").isFullMpsEnabled()?" *":""),mentionedJids:b==null?void 0:b.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean)})}function b(a){var b,c,d=a.supplementals,e=a.topLevel;if(e.kind!=="bridgeMsg")return a;var f=d.map(function(a){return a.kind==="bridgeEditHistoryMsg"?a.value:null}).filter(Boolean).sort(function(a,b){return b.editTs-a.editTs});if(f.length===0)return a;d.push(h(a.message,{commands:e.value.commands&&[].concat(e.value.commands),content:(b=e.value.content)!=null?b:"",mentionedJids:e.value.mentionedJids&&[].concat(e.value.mentionedJids)}));b=f[0].msgContent;e.value=babelHelpers["extends"]({},e.value,{commands:(c=b.commands)!=null?c:e.value.commands,content:(c=b.content)!=null?c:e.value.content,editCount:f.length,mentionedJids:(c=b.mentionedJids)!=null?c:e.value.mentionedJids});return babelHelpers["extends"]({},a,{supplementals:d,topLevel:e})}g.editMessageToBridgeMsg=a;g.processEditedMessage=b}),98);
__d("MpsEphemeralMessageToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.supplementals,e=a.topLevel;b=(b=a.message.deserialize().encryptedTransportMessage())==null||(b=b.proto.metadata)==null||(b=b.chatEphemeralSetting)==null?void 0:b.ephemeralExpiration;if(b==null||b===0)return a;var f=d("WATimeUtils").castToUnixTime(a.message.getUnixTs()+b),g=d("WATimeUtils").cappedMillisecondsUntil(f);if(g<=0)return a;e.kind==="bridgeMsg"&&(e.value=babelHelpers["extends"]({},e.value,{ephemeralDurationInSec:b}));a.supplementals.push({kind:"bridgeMsgsStartCountdown",value:{msgs:[{countdownTs:f,millisecondsUntilCountdownTs:g,msgId:a.message.getMsgId(),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()}]}});return babelHelpers["extends"]({},a,{supplementals:c,topLevel:e})}g.processEphemeralMessage=a}),98);
__d("MpsForwardToBridge",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b,c=a.message,d=a.topLevel;c=c.deserialize().encryptedTransportMessage();if(c==null||d.kind!=="bridgeMsg"||((b=c.proto.metadata)==null?void 0:b.isForwarded)!==!0)return a;d.value=babelHelpers["extends"]({},d.value,{forwardingScore:(d=(b=c.proto.metadata)==null?void 0:b.forwardingScore)!=null?d:0,isForwarded:(d=(b=c.proto.metadata)==null?void 0:b.isForwarded)!=null?d:!1,replyContent:{replyType:"FORWARD"}});return a}f.processForwarding=a}),66);
__d("MpsFutureproofToBridge",["MAWAckLevel","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.FUTUREPROOF};return{kind:"bridgeMsg",value:a}}g.futureproofBridgeMsg=a}),98);
__d("MpsMediaToBridge",["FBLogger","MAWAckLevel","MAWDbMedia","MAWImageUtils","MAWMsgType","WAHashUtils","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=d("getMediaTypeFromConsumerMessage").getMediaTypeFromConsumerMessage(a.proto);if(a==null)return;return i(a)}function i(a){return a==="ptt"?d("MAWMsgType").MSG_TYPE.PTT:a==="image"?d("MAWMsgType").MSG_TYPE.IMAGE:a==="video"?d("MAWMsgType").MSG_TYPE.VIDEO:a==="gif"?d("MAWMsgType").MSG_TYPE.GIF:a==="sticker"?d("MAWMsgType").MSG_TYPE.STICKER:a==="document"?d("MAWMsgType").MSG_TYPE.DOCUMENT_FILE:a==="xma-image"?null:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+a)}()}function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null?void 0:c.consumerMessage();if(c==null||e==null)return;e=h(e);if(e==null)return;c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,groupId:(b=c.proto.metadata)==null?void 0:b.groupId,groupIndex:(b=c.proto.metadata)==null?void 0:b.groupIndex,groupSize:(b=c.proto.metadata)==null?void 0:b.groupSize,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e};return{kind:"bridgeMsg",value:c}}function j(a,b,c){var e,f;c={height:c==null||(e=c.transport)==null||(e=e.ancillary)==null||(e=e.thumbnail)==null?void 0:e.thumbnailHeight,width:c==null||(f=c.transport)==null||(f=f.ancillary)==null||(f=f.thumbnail)==null?void 0:f.thumbnailWidth};b={height:b==null?void 0:b.height,width:b==null?void 0:b.width};if(a==="Sticker"){c=(a=d("MAWImageUtils")).boundHeightWidth(c.height,c.width,a.STICKER_THUMBNAIL_MAX_SIZE);b=a.boundHeightWidth(b.height,b.width,a.STICKER_THUMBNAIL_MAX_SIZE)}return{previewHeight:c.height,previewHeightLarge:b.height,previewWidth:c.width,previewWidthLarge:b.width}}function k(a,b,c,e){var f,g,h,i,k,l=a.ancillary;a=a.integral;if(l==null||a==null)return;if(l.receiverFetchId!=null||(a==null?void 0:a.receiverFetchId)!=null)return;var m=c.getMsgId(),n=a==null||(f=a.transport)==null||(f=f.integral)==null?void 0:f.mediaKeyTimestamp,o=a==null||(g=a.transport)==null||(g=g.integral)==null?void 0:g.fileSha256;o=o!=null?d("WAHashUtils").toPlaintextHash(o):void 0;return babelHelpers["extends"]({accessibilitySummaryText:l.accessibilityLabel,defaultFilename:e,duration:((h=l.seconds)!=null?h:0)*1e3,filenames:e!=null?(h={},h[m]=e,h):void 0,filesize:d("WALongInt").numberOrThrowIfTooLarge((e=a==null||(i=a.transport)==null||(i=i.ancillary)==null?void 0:i.fileLength)!=null?e:0),gifPlayback:l.gifPlayback,hasMedia:!0,hasPreviewMedia:(a==null||(k=a.transport)==null||(k=k.ancillary)==null?void 0:k.thumbnail)!=null},l.hdType!=null?{hdTypes:(h={},h[m]=l.hdType,h)}:{},{mediaId:d("MAWDbMedia").convertNumberToMediaId(0),mediaType:b,messagesSortOrderMs:(e={},e[m]=c.topLevel.timestampMs,e),msgIds:[m],offlineAttachmentId:o,plaintextHash:o},j(b,l,a),{sortOrderMs:n!=null?d("WATimeUtils").castLongIntToMillisTime(n):void 0,threadJid:c.getChatJid(),transportKey:"WhatsApp",ts:c.getUnixTs()})}function l(a,b){var d,e;d=(d=a.documentMessage())==null?void 0:d.fileName;e=(e=a.attachmentMessage())==null?void 0:e.payload;if(e==null)return;a=h(a);if(a==null){c("FBLogger")("mps").mustfix("media type is null for attachment message");return}return k(e,a,b,d)}function b(a){var b;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;b=l(b,a.message);if(b==null)return a;a.supplementals.push({kind:"bridgeMedia",value:b});return a}g.getMediaTypeForMessage=h;g.getMediaTypeForServerMediaType=i;g.mediaToBridge=a;g.getBridgeFromAttachmentTransport=k;g.getBridgeMediaFromConsumerMessage=l;g.processAttachment=b}),98);
__d("mwv2MessageIsEmojiOnly",["EmojiRenderer","EmoticonRenderer","ReStoreVaulting"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,b){if(a==null)return!1;var c=d("ReStoreVaulting").maybeUnvault(a);a=d("EmojiRenderer").parse(c).map(function(a){return{length:a.length,offset:a.offset}});b=b?d("EmoticonRenderer").parse(c).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];a=a.concat(b);if(a.length===0)return!1;b=a.sort(function(a,b){return a.offset-b.offset|0});var e={contents:0},f={contents:0};a=b.some(function(a){e.contents===a.offset?(e.contents=e.contents+a.length|0,f.contents=e.contents):f.contents=a.offset;var b=c.substring(e.contents,f.contents);e.contents=a.offset+a.length|0;return h.test(b)===!1});b=e.contents!==c.length&&!h.test(c.substring(f.contents));if(a)return!1;else return!b}g["default"]=a}),98);
__d("MpsMessageTextToBridge",["MAWAckLevel","MAWMpsGating","MAWVault","WAJids","WAMsgType","maybeConvertMessageTextMentionsV2ToV1","mwv2MessageIsEmojiOnly"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f=a.deserialize().encryptedTransportMessage(),g=f==null?void 0:f.consumerMessage(),h=(g==null||(b=g.payload)==null||(b=b.content)==null?void 0:b.messageText)&&c("maybeConvertMessageTextMentionsV2ToV1")(g==null||(e=g.payload)==null||(e=e.content)==null?void 0:e.messageText);if(g==null||h==null||f==null)return;f=(f=h.text)!=null?f:"";d("MAWMpsGating").isFullMpsEnabled()&&!c("mwv2MessageIsEmojiOnly")(f,!0)&&(f+="*");f=d("MAWVault").vault(f);g={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:h.commands,content:f,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,mentionedJids:h.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,specialTextSize:(h=(f=g.metadata)==null?void 0:f.specialTextSize)!=null?h:void 0,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.TEXT};return{kind:"bridgeMsg",value:g}}g.messageTextToBridgeMsg=a}),98);
__d("MpsReceiverFetchInfoToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c,e,f,g,h=a.ancillary;a=a.integral;c=(c=a==null?void 0:a.receiverFetchId)!=null?c:h==null?void 0:h.receiverFetchId;a=a==null||(e=a.transport)==null||(e=e.ancillary)==null?void 0:e.mimetype;if(c==null||a==null)return;f=(f=h==null?void 0:h.width)!=null?f:0;g=(g=h==null?void 0:h.height)!=null?g:0;return{accessibilitySummaryText:h==null?void 0:h.accessibilityLabel,mimetype:a,msgId:b.getMsgId(),previewHeight:g,previewWidth:f,receiverFetchId:c,sortOrderMs:d("WATimeUtils").castLongIntToMillisTime(b.message.timestampMs),threadJid:b.getChatJid(),transportKey:"WhatsApp",type:"sticker"}}function i(a,b){a=(a=a.stickerMessage())==null?void 0:a.payload;if(a==null)return;return h(a,b)}function a(a){var b;b=(b=a.message.deserialize().encryptedTransportMessage())==null?void 0:b.consumerMessage();if(b==null)return a;b=i(b,a.message);if(b==null)return a;a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:b});return a}g.getReceiverFetchInfoForAttachmentTransport=h;g.getReceiverFetchInfoFromConsumerMessage=i;g.processReceiverFetchInfo=a}),98);
__d("MpsXmaToBridge",["MAWAckLevel","MAWBridgeXMA","MAWDbMedia","MAWDbXMA","MAWParseCollapsibleIdFromXMADataClass","MAWXMAUtils","MWXMAV2IsCollapsibleXMA","MWXMAV2XmaDataClass","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","WAArmadilloXMA.pb","WAHashUtils","WAJids","WALongInt","WAMedia","WATimeUtils","maybeConvertMessageTextMentionsV2ToV1","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";var h=["actionContentBlob"];function i(a){var b;if(((b=(b=a.payload.messageText)==null?void 0:b.length)!=null?b:0)>0)return c("maybeConvertMessageTextMentionsV2ToV1")({commands:a.payload.commands,mentionedJid:a.payload.mentionedJid,mentions:a.payload.mentions,text:a.payload.messageText});a=(b=a.associatedMessage())==null||(b=b.consumerMessage())==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.messageText;if(a!=null&&a.text!=null)return c("maybeConvertMessageTextMentionsV2ToV1")(a)}function j(a){if(a==null)return;a=d("WATimeUtils").castLongIntToUnixTime(a);if(a==null)return;var b=d("WATimeUtils").cappedMillisecondsUntil(a);if(b==null)return;var c=b<=0;return{countdownTs:a,isExpiredXmaMsg:c,millisecondsUntilCountdownTs:b}}function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.armadillo())==null?void 0:b.extendedContentMessage();if(c==null||e==null||d("MAWXMAUtils").isXMAStoryReply(e.payload.targetType))return;var f;c=d("MWXMAV2XmaDataClass").parseXmaDataClass(e.payload.xmaDataclass);d("MWXMAV2IsCollapsibleXMA").isCollapsibleXMA(c)&&(f=d("MAWParseCollapsibleIdFromXMADataClass").parseCollapsibleIdFromXMADataClass(c));c=i(e);var g=j(e==null?void 0:e.payload.targetExpiringAtSec);g=babelHelpers["extends"]({ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid()},f!=null?{collapsibleId:f}:{},{commands:c==null?void 0:c.commands,content:c==null?void 0:c.text,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isExpiredXmaMsg:g==null?void 0:g.isExpiredXmaMsg,isFBPostMention:d("MAWXMAUtils").isFBXMAPostMention(e.payload.targetType),isFBStoryMention:d("MAWXMAUtils").isFBXMAStoryMention(e.payload.targetType),isForwarded:!1,isIGStoryMention:d("MAWXMAUtils").isIGXMAStoryMention(e.payload.targetType),isIGXMAPostShare:d("MAWXMAUtils").isIGXMAPostShare(e.payload.targetType),isIGXMAStoryShare:d("MAWXMAUtils").isIGXMAStoryShare(e.payload.targetType),isMsgHighlightsTabFriendUpdatesReply:d("MAWXMAUtils").isXMAMsgHighlightsTabFriendUpdatesReply(e.payload.targetType),isPostPrivateReply:d("MAWXMAUtils").isXMAPostPrivateReply(e.payload.targetType),isStoryHighlightShare:d("MAWXMAUtils").isXMAStoryHighlightShare(e.payload.targetType),isStoryProducerReply:d("MAWXMAUtils").isXMAStoryProducerReply(e.payload.targetType),isStoryReaction:d("MAWXMAUtils").isXMAStoryReaction(e.payload.targetType),isStoryReply:d("MAWXMAUtils").isXMAStoryReply(e.payload.targetType),isStoryShare:d("MAWXMAUtils").isXMAStoryShare(e.payload.targetType),mentionedJids:c==null?void 0:c.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:"XMA",xmaMessageType:e.payload.targetType});return{kind:"bridgeMsg",value:g}}function b(a){var b,e,f,g,i,j,k,l,m,n=a.message,o=a.topLevel;if(o.value.type_!=="XMA")return a;o=n.deserialize().encryptedTransportMessage();var p=o==null||(b=o.armadillo())==null?void 0:b.extendedContentMessage();if(o==null||p==null)return a;o=p.payload.ctas.map(function(a){a.actionContentBlob;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return a});var q=c("nullthrows")(p.payload.targetType),r=q===d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_CONTACT;r=r?[null,p.previews().at(0)]:[p.previews().at(0),p.favicon()];var s=r[0];r=r[1];var t=s==null||(e=s.integral)==null||(e=e.transport)==null||(e=e.integral)==null?void 0:e.fileSha256;t=t!=null?d("WAHashUtils").toPlaintextHash(t):void 0;r=r==null||(f=r.integral)==null||(f=f.transport)==null||(f=f.integral)==null?void 0:f.fileSha256;var u=r!=null?d("WAHashUtils").toPlaintextHash(r):void 0;g=(g=p.headerImage())==null||(g=g.integral)==null||(g=g.transport)==null||(g=g.integral)==null?void 0:g.fileSha256;var v=g!=null?d("WAHashUtils").toPlaintextHash(g):void 0,w=d("WAMedia").MEDIA_TYPE.IMAGE,x=d("MAWBridgeXMA").mediaTypeToMimeType(w);o={author:n.getAuthor(),contentRef:p.payload.contentRef,ctas:o.slice(1),defaultCTA:o.at(0),defaultPreviewMediaId:d("MAWDbMedia").convertNumberToMediaId(0),defaultPreviewMediaPlaintextHash:t,duration:null,faviconMediaId:d("MAWDbMedia").convertNumberToMediaId(0),faviconPlaintextHash:u,filesize:d("WALongInt").numberOrThrowIfTooLarge((n=s==null||(i=s.integral)==null||(i=i.transport)==null||(i=i.ancillary)==null?void 0:i.fileLength)!=null?n:0),hasMedia:t!=null,hasXmaFaviconMedia:r!=null,hasXmaHeaderMedia:g!=null,headerMediaId:d("MAWDbMedia").convertNumberToMediaId(0),headerMediaPlaintextHash:v,headerTitle:p.payload.headerTitle,maxSubtitleNumOfLines:p.payload.maxSubtitleNumOfLines,maxTitleNumOfLines:p.payload.maxTitleNumOfLines,mediaType:w,msgId:a.message.getMsgId(),offlineAttachmentId:t,overlayIconGlyph:p.payload.overlayIconGlyph,overlayTitle:p.payload.overlayTitle,playableUrlMimeType:x,previewHeight:s==null||(j=s.integral)==null||(j=j.transport)==null||(j=j.ancillary)==null||(j=j.thumbnail)==null?void 0:j.thumbnailHeight,previewHeightLarge:s==null||(k=s.ancillary)==null?void 0:k.height,previewUrlMimeType:x,previewWidth:s==null||(l=s.integral)==null||(l=l.transport)==null||(l=l.ancillary)==null||(l=l.thumbnail)==null?void 0:l.thumbnailWidth,previewWidthLarge:s==null||(m=s.ancillary)==null?void 0:m.width,subtitleText:p.payload.subtitleText,targetId:p.payload.targetId,targetType:q,targetUsername:p.payload.targetUsername,threadJid:a.message.getChatJid(),titleText:p.payload.titleText,ts:a.message.getUnixTs(),xmaDataclass:p.payload.xmaDataclass,xmaId:d("MAWDbXMA").convertNumberToXMAId(0),xmaLayoutType:p.payload.xmaLayoutType};a.supplementals.push({kind:"bridgeXMA",value:o});return a}function e(a){var b,c,e=a.message.deserialize().encryptedTransportMessage();e=e==null||(b=e.armadillo())==null?void 0:b.extendedContentMessage();e=e==null||(c=e.associatedMessage())==null?void 0:c.consumerMessage();if(e==null)return a;var f=d("MpsMediaToBridge").getBridgeMediaFromConsumerMessage(e,a.message);f!=null&&a.supplementals.push({kind:"bridgeMedia",value:f});f=d("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoFromConsumerMessage(e,a.message);f!=null&&a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:f});return a}function f(a){var b,c=a.message.deserialize().encryptedTransportMessage();c=c==null||(b=c.armadillo())==null?void 0:b.extendedContentMessage();c=j(c==null?void 0:c.payload.targetExpiringAtSec);if(c==null)return a;var d=c.countdownTs;c=c.millisecondsUntilCountdownTs;a.supplementals.push({kind:"bridgeXMAStartCountdown",value:{msgs:[{countdownTs:d,millisecondsUntilCountdownTs:c,msgId:a.message.getMsgId(),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()}]}});return a}g.computeXmaContent=i;g.getExpiredXMAParams=j;g.xmaToBridge=a;g.processXmaAttachment=b;g.processXmaAssociatedMessageAttachment=e;g.processXmaExpiration=f}),98);
__d("MpsNoteReplyToBridge",["MAWAckLevel","MAWVault","MpsMediaToBridge","MpsReceiverFetchInfoToBridge","MpsXmaToBridge","WALongInt","WATimeUtils","getMediaTypeFromConsumerMessage","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a==null?void 0:a.videoContent();a=a==null?void 0:a.stickerContent();var e=b!=null?b:a;if(e==null)return;e=b!=null?d("getMediaTypeFromConsumerMessage").getMediaTypeForVideo(b):void 0;b=a!=null?"sticker":void 0;a=c("nullthrows")(e!=null?e:b);return d("MpsMediaToBridge").getMediaTypeForServerMediaType(a)}function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.armadillo())==null?void 0:b.noteReply();if(c==null||e==null)return;c=e.payload;var f=c.noteText,g=c.noteTimestampMs;c=c.textContent;var i=e.payload.noteTimestampMs!=null?d("WATimeUtils").castMilliSecondsToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e.payload.noteTimestampMs)):void 0;i=d("MpsXmaToBridge").getExpiredXMAParams(i);var j=a.message.senderId;e=h(e);i={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),content:(c==null?void 0:c.text)==null?void 0:d("MAWVault").vault(c.text),editCount:0,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isExpiredMsg:!1,isForwarded:!1,isNoteReply:!0,msgId:a.getMsgId(),replyContent:{noteContent:i!=null&&i.isExpiredXmaMsg?void 0:d("MAWVault").vault((c=f==null?void 0:f.text)!=null?c:""),replyMediaExpirationTimestampMs:g!=null?d("WATimeUtils").castToMillisTime(d("WALongInt").numberOrThrowIfTooLarge(g)):void 0,replyToMsgId:a.getMsgId(),replyToUserId:j,replyType:"LIGHTWEIGHT_STATUS"},sender:j,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e!=null?e:"Text"};return{kind:"bridgeMsg",value:i}}function b(a){var b,c=a.message.deserialize().encryptedTransportMessage(),e=c==null||(b=c.armadillo())==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.noteReplyMessage;if(c==null||e==null)return a;c=e.noteTimestampMs!=null?d("WATimeUtils").castMilliSecondsToUnixTime(d("WALongInt").numberOrThrowIfTooLarge(e.noteTimestampMs)):void 0;e=d("MpsXmaToBridge").getExpiredXMAParams(c);if(e==null)return a;c=e.countdownTs;e=e.millisecondsUntilCountdownTs;a.supplementals.push({kind:"bridgeNoteReplyStartCountdown",value:{msgs:[{countdownTs:c,millisecondsUntilCountdownTs:e,msgId:a.message.getMsgId(),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()}]}});return a}function e(a){var b,c=a.message,e=c.deserialize().encryptedTransportMessage();e=e==null||(b=e.armadillo())==null?void 0:b.noteReply();var f=e==null?void 0:e.videoContent(),g=e==null?void 0:e.stickerContent();f=f!=null?f:g;e=h(e);if(f==null||e==null)return a;f=d("MpsMediaToBridge").getBridgeFromAttachmentTransport(f,e,c);f!=null&&a.supplementals.push({kind:"bridgeMedia",value:f});if(g!=null){e=d("MpsReceiverFetchInfoToBridge").getReceiverFetchInfoForAttachmentTransport(g,c);e!=null&&a.supplementals.push({kind:"bridgeReceiverFetchInfo",value:e})}return a}g.noteReplyToBridge=a;g.processNoteReply=b;g.processNoteReplyAttachment=e}),98);
__d("MpsRavenToBridge",["EphemeralMediaViewMode","FBLogger","MAWAckLevel","MAWDbMedia","MAWProtobufDeserializers","RavenMessagingState","WAArmadilloApplication.pb","WAHashUtils","WAMsgType","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c;b=(b=a.deserialize().encryptedTransportMessage())==null||(b=b.armadillo())==null||(b=b.payload)==null?void 0:b.content;c=(c=b==null?void 0:b.ravenMessage)!=null?c:b==null?void 0:b.ravenMessageMsgr;if(c==null)return;b={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),content:"",externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.RAVEN};return{kind:"bridgeMsg",value:b}}function b(a){var b,e=a.message;e=(e=e.deserialize().encryptedTransportMessage())==null||(e=e.armadillo())==null||(e=e.payload)==null?void 0:e.content;var f=(b=e==null?void 0:e.ravenMessage)!=null?b:e==null?void 0:e.ravenMessageMsgr;if(f==null)return a;var g,h;a.supplementalMessages.forEach(function(a){var b;a=(a=d("MAWProtobufDeserializers").DeserializedBackupMessage.create(a.payload).encryptedTransportMessage())==null||(a=a.armadillo())==null||(a=a.payload)==null?void 0:a.content;g=(b=a==null?void 0:a.ravenMessage)!=null?b:a==null?void 0:a.ravenMessageMsgr;h=a==null?void 0:a.ravenActionNotifMessage});b=(typeof g==="object"&&g!==null||typeof g==="function")&&(typeof g.videoMessage==="object"&&g.videoMessage!==null||typeof g.videoMessage==="function")?d("WAMsgType").MSG_TYPE.VIDEO:(typeof g==="object"&&g!==null||typeof g==="function")&&(typeof g.imageMessage==="object"&&g.imageMessage!==null||typeof g.imageMessage==="function")?d("WAMsgType").MSG_TYPE.IMAGE:null;if(b==null&&h==null){c("FBLogger")("mps").mustfix("Unsupported Raven type");return a}e=a.message.getMsgId();var i=f.ephemeralType===d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.VIEW_ONCE?c("EphemeralMediaViewMode").READ_ONCE:f.ephemeralType===d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.ALLOW_REPLAY?c("EphemeralMediaViewMode").REPLAYABLE:f.ephemeralType===d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_RAVEN_MESSAGE_EPHEMERAL_TYPE.KEEP_IN_CHAT?c("EphemeralMediaViewMode").PERMANENT:f.ephemeralType===void 0?void 0:function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+f.ephemeralType)}();b={duration:null,ephemeralMediaState:h==null?c("RavenMessagingState").UNSEEN:c("RavenMessagingState").SEEN,ephemeralMediaViewMode:i,filesize:100,hasMedia:!1,hasPreviewMedia:!1,mediaId:d("MAWDbMedia").convertNumberToMediaId(0),mediaType:b||d("WAMsgType").MSG_TYPE.IMAGE,messagesSortOrderMs:(i={},i[e]=a.message.topLevel.timestampMs,i),msgIds:[a.message.getMsgId()],plaintextHash:d("WAHashUtils").stringToPlaintextHash("aaa"),previewHeight:1,previewHeightLarge:1,previewWidth:1,previewWidthLarge:1,sortOrderMs:d("WATimeUtils").castLongIntToMillisTime(a.message.topLevel.timestampMs),threadJid:a.message.getChatJid(),ts:a.message.getUnixTs()};a.supplementals.push({kind:"bridgeMedia",value:b});return a}g.ravenToBridge=a;g.processRavenAttachment=b}),98);
__d("MpsReactionToBridge",["WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;b=(b=a.deserialize().encryptedTransportMessage())==null||(b=b.consumerMessage())==null||(b=b.payload)==null||(b=b.content)==null?void 0:b.reactionMessage;if(b==null)return;var c=b.senderTimestampMs!=null?d("WATimeUtils").castMilliSecondsToUnixTime(d("WATimeUtils").castLongIntToMillisTime(b.senderTimestampMs)):a.getUnixTs();b=(b=b.text)!=null?b:"";a=b===""?{reaction:{actorId:a.message.senderId,chatJid:a.getChatJid(),messageId:a.topLevelMetadata().getMsgId()},type:"delete"}:{reaction:{actorId:a.message.senderId,chatJid:a.getChatJid(),messageId:a.topLevelMetadata().getMsgId(),reaction:b,ts:c},type:"upsert"};return{kind:"bridgeReactionAction",value:a}}g.reactionMessageToBridgeMsg=a}),98);
__d("MpsReplyToBridge",["MpsToBridgeMessageId","MpsTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.message,c=a.topLevel,e=b.deserialize().encryptedTransportMessage();if(c.kind!=="bridgeMsg"||e==null)return a;e=(e=e.proto.metadata)==null?void 0:e.quotedMessage;if(e==null||e.stanzaId==null)return a;if(c.value.replyContent!=null)return a;e=d("MpsTypes").toMessageId(e.stanzaId);c.value=babelHelpers["extends"]({},c.value,{replyContent:{isBumpMsg:!1,replyToMsgId:d("MpsToBridgeMessageId").mpsToBridgeMsgId(b.message.threadId,e),replyType:"MESSAGE"}});return babelHelpers["extends"]({},a,{topLevel:c})}g.processReplyMessage=a}),98);
__d("MpsRevokeMessageToBridgeMsg",["MAWAckLevel","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.consumerMessage())==null||(b=b.payload)==null||(b=b.applicationData)==null?void 0:b.revoke;if(c==null||e==null)return;return{kind:"bridgeMsg",value:{ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.REVOKED}}}g.revokeMessageToBridgeMsg=a}),98);
__d("MpsScreenshotActionToBridgeMsg",["MAWAckLevel","MAWEphemeralUtils","WAArmadilloApplication.pb","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportMessage(),e=c==null||(b=c.armadillo())==null||(b=b.proto.payload)==null||(b=b.content)==null?void 0:b.screenshotAction;if(e==null||c==null)return;e=d("MAWEphemeralUtils").getEphemeralScreenshotActionData((c=e.screenshotType)!=null?c:d("WAArmadilloApplication.pb").ARMADILLO_CONTENT_SCREENSHOT_ACTION_SCREENSHOT_TYPE.SCREENSHOT_IMAGE,a.getSenderJid(),a.isAuthorMe());c={ack:d("MAWAckLevel").ACK.received,adminContent:e.ephemeralScreenshotActionContent,adminType:e.ephemeralScreenshotActionType,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:c}}g.screenshotActionToBridgeMsg=a}),98);
__d("MpsUnsupportedMessagesToBridge",["MAWAckLevel","MAWParseXMAFBConfig","MAWParseXMAUnsupportedMessageType","WACommon.pb","WAMsgType","WAParseReadOnlyMetadataDataclassUtils","gkx","justknobx","maybeConvertMessageTextMentionsV2ToV1"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e,f,g,h,i,j,k=a.deserialize().encryptedTransportMessage();if(k==null)return;var l=k==null?void 0:k.consumerMessage();a={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.FUTUREPROOF};var m=(l==null||(b=l.payload)==null||(b=b.content)==null?void 0:b.messageText)&&c("maybeConvertMessageTextMentionsV2ToV1")(l==null||(e=l.payload)==null||(e=e.content)==null?void 0:e.messageText);if(m!=null){m=((m=m.commands)==null?void 0:m.some(function(a){return a.commandType===d("WACommon.pb").COMMAND_COMMAND_TYPE.AI}))===!0;if(m&&!c("gkx")("12661"))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"metaAiMessage"})}}m=k==null||(f=k.armadillo())==null?void 0:f.paymentsTransactionMessage();var n=m!=null?m:k==null||(g=k.armadillo())==null?void 0:g.extendedContentMessage();if(n!=null){n=n.payload;var o=n.targetType;n=n.xmaDataclass;if(o==null||!d("MAWParseXMAFBConfig").isFBSupportedTargetType({fbTargetType:o,xmaDataclass:n})){m=m!=null;return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:d("MAWParseXMAUnsupportedMessageType").getXMAUnsupportedMessageType(o,n,m)})}}}o=l==null||(h=l.stickerMessage())==null?void 0:h.payload;if(o!=null){n=((n=o.integral)==null?void 0:n.receiverFetchId)!=null||((m=o.ancillary)==null?void 0:m.receiverFetchId)!=null;if(n&&!c("justknobx")._("3677"))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"stickerReceiverFetchMessage"})}}o=l==null||(i=l.documentMessage())==null?void 0:i.payload;if(o!=null&&!!c("gkx")("23924"))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a)};if(d("WAParseReadOnlyMetadataDataclassUtils").isNoteMention(k.proto.metadata))return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"noteMention"})};m=l==null||(j=l.payload)==null||(j=j.content)==null?void 0:j.pollCreationMessage;if(m!=null)return{kind:"bridgeMsg",value:babelHelpers["extends"]({},a,{unsupportedType:"pollCreationMessage"})}}g.unsupportedMessagesBridgeMsg=a}),98);
__d("MpsWaAdminMsgToBridge",["MAWAckLevel","MAWGetUserDeviceChangeAdminType","MAWJids","MAWLocalizationType","MAWUserJidWrapper","WAArmadilloTransportEvent.pb","WAJids","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c,e=a.deserialize();b=(b=e.encryptedTransportEvent())==null?void 0:b.proto.event;if(!b)return;var f=b.deviceChange;b=b.icdcAlert;if(((c=e.proto.metadata)==null?void 0:c.senderId)==null)return;c=d("WAJids").unsafeCoerceToUserJid((c=e.proto.metadata)==null?void 0:c.senderId);c=d("MAWJids").toUserJid(c);c=c===d("MAWUserJidWrapper").getMyUserJid()?[]:[d("WAJids").userIdFromJid(c)];if(b)return{kind:"bridgeMsg",value:{ack:d("MAWAckLevel").ACK.received,adminContent:c,adminType:d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ICDC_ALERT}};if(f){var g;b=(typeof f==="object"&&f!==null||typeof f==="function")&&"type"in f&&f.type===d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.ADDED?"add":(typeof f==="object"&&f!==null||typeof f==="function")&&"type"in f&&f.type===d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REMOVED?"remove":typeof f==="object"&&f!==null||typeof f==="function"?"update":function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+f)}();if(((g=e.proto.metadata)==null?void 0:g.senderId)==null)return;e=d("WAJids").unsafeCoerceToUserJid((g=e.proto.metadata)==null?void 0:g.senderId);g=d("MAWJids").toUserJid(e);e=d("MAWGetUserDeviceChangeAdminType").getUserDeviceAdminType(b,g===d("MAWUserJidWrapper").getMyUserJid());b={ack:d("MAWAckLevel").ACK.received,adminContent:c,adminType:e,adminVersion:1,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:d("WAMsgType").MSG_TYPE.ADMIN};return{kind:"bridgeMsg",value:b}}return}g.waAdminMsgToBridgeMsg=a}),98);
__d("MpsWaPlaceholderToBridge",["MAWAckLevel","WAArmadilloTransportEvent.pb","WAMsgType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.deserialize().encryptedTransportEvent(),e=c==null||(b=c.proto.placeholder)==null?void 0:b.type;if(c==null||e==null)return;c={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,msgId:a.getMsgId(),sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:e===d("WAArmadilloTransportEvent.pb").TransportEvent$Placeholder$Type.UNAVAILABLE_MESSAGE?d("WAMsgType").MSG_TYPE.UNAVAILABLE:d("WAMsgType").MSG_TYPE.CIPHERTEXT};return{kind:"bridgeMsg",value:c}}g.waPlaceholderToBridgeMsg=a}),98);
__d("MpsXmaMentionToBridge",["MAWUserJidWrapper","MAWXMAUtils","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,c=a.message,e=a.topLevel,f=c.deserialize().encryptedTransportMessage(),g=f==null||(b=f.armadillo())==null?void 0:b.extendedContentMessage(),h=g==null?void 0:g.payload.targetType,i=d("MAWXMAUtils").isXMAStoryMention(h)||d("MAWXMAUtils").isFBXMAPostMention(h);if(f==null||g==null||!i||e.kind!=="bridgeMsg")return a;f=d("MAWXMAUtils").isFBXMAPostMention(h);g=d("WAJids").interpretAsUserJid(c.getChatJid());i=d("WAJids").extractUserId(d("MAWUserJidWrapper").getMyUserJid());h=g==null?i:d("WAJids").userIdFromJid(g);g={mentionedUserId:h!=null?h:i,timestampMs:d("WATimeUtils").castToMillisTime(c.message.timestampMs)};h=f?babelHelpers["extends"]({},g,{replyType:"FB_POST_MENTION"}):babelHelpers["extends"]({},g,{replyType:"FB_STORY_MENTION"});e.value=babelHelpers["extends"]({},e.value,{replyContent:h});return a}g.processXmaMention=a}),98);
__d("MpsXmaStoryReplyToBridge",["MAWAckLevel","MAWDbMedia","MAWMsgType","MAWUserJidWrapper","MAWXMAUtils","MpsMediaToBridge","MpsXmaToBridge","WAHashUtils","WAJids","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;c=(c=d("WAJids").interpretAsUserJid(b.getChatJid()))!=null?c:b.getSenderJid();var e=d("MAWUserJidWrapper").getMyUserJid();if(d("MAWXMAUtils").isXMAStoryProducerReply(a.targetType))return b.isAuthorMe()?e:c;else return b.isAuthorMe()?c:e}function a(a){var b,c,e,f,g=a.deserialize().encryptedTransportMessage(),i=g==null||(b=g.armadillo())==null?void 0:b.extendedContentMessage();if(g==null||i==null||!d("MAWXMAUtils").isXMAStoryReply(i.payload.targetType))return;g=d("MpsXmaToBridge").computeXmaContent(i);var j=i.previews().at(0);j=j==null||(c=j.integral)==null||(c=c.transport)==null||(c=c.integral)==null?void 0:c.fileSha256;j=j!=null?d("WAHashUtils").toPlaintextHash(j):void 0;e=(e=i.payload.ctas.at(0))==null?void 0:e.nativeUrl;var k=h(i.payload,a),l=d("MAWXMAUtils").isXMAStoryProducerReply(i.payload.targetType);f=(f=i.associatedMessage())==null?void 0:f.consumerMessage();f=f!=null?d("MpsMediaToBridge").getMediaTypeForMessage(f):null;i=d("MpsXmaToBridge").getExpiredXMAParams(i==null?void 0:i.payload.targetExpiringAtSec);l=l?{replyType:"FB_PRODUCER_STORY_REPLY",storyMediaId:d("MAWDbMedia").convertNumberToMediaId(1),storyMediaPlaintextHash:i!=null&&i.isExpiredXmaMsg?void 0:j,storyMsgType:d("MAWMsgType").MSG_TYPE.IMAGE,storyOwnerId:d("WAJids").extractUserId(k),storyUrl:e!=null?e:"",timestampMs:d("WATimeUtils").castToMillisTime(a.message.timestampMs)}:{replyType:"STORY",storyMediaPlaintextHash:i!=null&&i.isExpiredXmaMsg?void 0:j,storyOwnerId:d("WAJids").extractUserId(k),storyUrl:e!=null?e:"",timestampMs:d("WATimeUtils").castToMillisTime(a.message.timestampMs)};i={ack:d("MAWAckLevel").ACK.received,chatJid:a.getChatJid(),commands:g==null?void 0:g.commands,content:g==null?void 0:g.text,externalId:a.getExternalId(),forwardingScore:0,isAdminMessage:!1,isAuthorMe:a.isAuthorMe(),isForwarded:!1,isStoryReply:!0,mentionedJids:g==null?void 0:g.mentionedJid.map(d("WAJids").validateUserJid).filter(Boolean),msgId:a.getMsgId(),replyContent:l,sender:a.message.senderId,sortOrderMs:a.message.timestampMs,ts:a.getUnixTs(),type_:f!=null?f:"Text"};return{kind:"bridgeMsg",value:i}}g.storyReplyToBridge=a}),98);
__d("MpsMessageToBridge",["MAWMsgType","MpsAdminMsgToBridge","MpsBumpMessageToBridgeMsg","MpsEditToBridge","MpsEphemeralMessageToBridge","MpsForwardToBridge","MpsFutureproofToBridge","MpsMediaToBridge","MpsMessageTextToBridge","MpsMessageToBridgeWrapper","MpsNoteReplyToBridge","MpsRavenToBridge","MpsReactionToBridge","MpsReceiverFetchInfoToBridge","MpsReplyToBridge","MpsRevokeMessageToBridgeMsg","MpsScreenshotActionToBridgeMsg","MpsUnsupportedMessagesToBridge","MpsWaAdminMsgToBridge","MpsWaPlaceholderToBridge","MpsXmaMentionToBridge","MpsXmaStoryReplyToBridge","MpsXmaToBridge"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MpsUnsupportedMessagesToBridge").unsupportedMessagesBridgeMsg,d("MpsMessageTextToBridge").messageTextToBridgeMsg,d("MpsMediaToBridge").mediaToBridge,d("MpsAdminMsgToBridge").adminMsgToBridgeMsg,d("MpsScreenshotActionToBridgeMsg").screenshotActionToBridgeMsg,d("MpsRevokeMessageToBridgeMsg").revokeMessageToBridgeMsg,d("MpsBumpMessageToBridgeMsg").bumpMessageToBridgeMsg,d("MpsWaAdminMsgToBridge").waAdminMsgToBridgeMsg,(b=d("MpsXmaToBridge")).xmaToBridge,d("MpsXmaStoryReplyToBridge").storyReplyToBridge,d("MpsRavenToBridge").ravenToBridge,d("MpsNoteReplyToBridge").noteReplyToBridge,d("MpsWaPlaceholderToBridge").waPlaceholderToBridgeMsg,d("MpsFutureproofToBridge").futureproofBridgeMsg],i=[d("MpsEditToBridge").editMessageToBridgeMsg,d("MpsReactionToBridge").reactionMessageToBridgeMsg],j=[d("MpsEditToBridge").processEditedMessage,d("MpsReplyToBridge").processReplyMessage,d("MpsMediaToBridge").processAttachment,d("MpsEphemeralMessageToBridge").processEphemeralMessage,d("MpsReceiverFetchInfoToBridge").processReceiverFetchInfo,b.processXmaAttachment,b.processXmaAssociatedMessageAttachment,d("MpsXmaMentionToBridge").processXmaMention,d("MpsRavenToBridge").processRavenAttachment,d("MpsForwardToBridge").processForwarding,d("MpsNoteReplyToBridge").processNoteReply,d("MpsNoteReplyToBridge").processNoteReplyAttachment,b.processXmaExpiration];function k(a,b){for(a of a){var c=a(b);if(c!=null)return c}}function a(a){var b=d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromTopLevel(a.toplevelProtobuf),c=k(h,b);if(c==null)return;if(c.kind==="bridgeMsg"&&c.value.type_===d("MAWMsgType").MSG_TYPE.ADMIN&&c.value.adminType==null)return;if(c.kind==="bridgeMsg"&&c.value.type_===d("MAWMsgType").MSG_TYPE.FUTUREPROOF)return{supplementals:[],topLevel:c};var e=a.supplementalProtobufs.values().toArray().map(function(b){return k(i,d("MpsMessageToBridgeWrapper").MpsMessageToBridgeWrapper.fromSupplemental(b,a.toplevelProtobuf))}).filter(Boolean);b=j.reduce(function(a,b){return b(a)},{message:b,supplementalMessages:a.supplementalProtobufs,supplementals:e,topLevel:c});return{supplementals:b.supplementals,topLevel:b.topLevel}}g.mpsFullMessagetoBridge=a}),98);
__d("isMAWUniversalSearchWithEBEnabled",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("4741")}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("MDSTextConfig",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={blueLink:{color:"x1fey0fg",$$css:!0},disabled:{color:"x1dntmbh",$$css:!0},highlight:{color:"x1qq9wsj",$$css:!0},negative:{color:"x1a1m0xk",$$css:!0},positive:{color:"x6u5lvz",$$css:!0},primary:{color:"xzsf02u",$$css:!0},secondary:{color:"xi81zsa",$$css:!0},secondaryOnMedia:{color:"xkxfvhb",$$css:!0},tertiary:{color:"x12scifz",$$css:!0},white:{color:"x14ctfv",$$css:!0}};b={disabledButton:{color:"x1x80s81",$$css:!0},primaryButton:{color:"xtk6v10",$$css:!0},primaryDeemphasizedButton:{color:"x1mvi0mv",$$css:!0},secondaryButton:{color:"x1dem4cn",$$css:!0}};d={blueLink:{color:"x15k1xyk",$$css:!0},disabled:{color:"xc7hbz8",$$css:!0},highlight:{color:"x16uf79r",$$css:!0},negative:{color:"x1unwjcu",$$css:!0},positive:{color:"xxmynsg",$$css:!0},primary:{color:"xw2npq5",$$css:!0},primaryOnMedia:{color:"x8w7gz1",$$css:!0},secondary:{color:"xhgddhk",$$css:!0},secondaryOnMedia:{color:"xzutexd",$$css:!0},tertiary:{color:"xerl464",$$css:!0},white:{color:"xnba3h0",$$css:!0}};var h={apple:{MozOsxFontSmoothing:"xlh3980",WebkitFontSmoothing:"xvmahel",fontFamily:"x1n0sxbx",$$css:!0},"default":{fontFamily:"x10flsy6",$$css:!0},segoe:{fontFamily:"x1xmvt09",$$css:!0}},i={"default":function(a){switch(a){case"body1":return[4,5];case"body2":return[3,5];case"body3":return[4,5];case"body4":return[3,4];case"bodyLink1":return[4,5];case"bodyLink2":return[3,5];case"bodyLink3":return[4,5];case"bodyLink4":return[3,4];case"button1":return[3,5];case"button2":return[4,5];case"entityHeaderHeadline1":return[7,8];case"entityHeaderHeadline2":return[5,7];case"entityHeaderMeta1":return[4,5];case"entityHeaderMeta2":return[4,5];case"entityHeaderMeta3":return[4,3];case"headline3":return[3,5];case"headline4":return[4,5];case"headlineDeemphasized3":return[3,5];case"headlineDeemphasized4":return[4,5];case"headlineEmphasized1":return[5,6];case"headlineEmphasized2":return[4,5];case"headlineEmphasized3":return[3,4];case"headlineEmphasized4":return[4,5];case"headlineEmphasized5":return[3,4];case"meta1":return[3,4];case"meta2":return[3,4];case"meta3":return[3,4];case"meta4":return[3,4]}},segoe:function(a){switch(a){case"body1":return[6,4,1];case"body2":return[5,3,1];case"body3":return[5,4];case"body4":return[4,3,1];case"bodyLink1":return[6,4,1];case"bodyLink2":return[5,3,1];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3,1];case"button1":return[5,3,1];case"button2":return[5,4];case"entityHeaderHeadline1":return[10,6,2];case"entityHeaderHeadline2":return[8,5,3];case"entityHeaderMeta1":return[5,4,1];case"entityHeaderMeta2":return[5,4,1];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3,1];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3,1];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[7,4,2];case"headlineEmphasized2":return[6,4,2];case"headlineEmphasized3":return[5,3,1];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[5,3,1];case"meta1":return[4,3,1];case"meta2":return[4,3,1];case"meta3":return[4,3,1];case"meta4":return[4,3]}},sfGecko:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[5,4];case"body4":return[4,3];case"bodyLink1":return[6,4];case"bodyLink2":return[4,3];case"bodyLink3":return[5,4];case"bodyLink4":return[4,3];case"button1":return[4,3];case"button2":return[5,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[7,5];case"entityHeaderMeta1":return[5,4];case"entityHeaderMeta2":return[5,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[5,3];case"headline4":return[5,4];case"headlineDeemphasized3":return[5,3];case"headlineDeemphasized4":return[5,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[6,4];case"headlineEmphasized3":return[4,3];case"headlineEmphasized4":return[5,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[4,3]}},sfWebkit:function(a){switch(a){case"body1":return[5,5];case"body2":return[4,4];case"body3":return[4,4];case"body4":return[4,3];case"bodyLink1":return[5,5];case"bodyLink2":return[4,4];case"bodyLink3":return[4,4];case"bodyLink4":return[4,3];case"button1":return[4,4];case"button2":return[4,4];case"entityHeaderHeadline1":return[8,7];case"entityHeaderHeadline2":return[6,6];case"entityHeaderMeta1":return[4,4];case"entityHeaderMeta2":return[4,4];case"entityHeaderMeta3":return[4,3];case"headline3":return[4,4];case"headline4":return[4,4];case"headlineDeemphasized3":return[4,4];case"headlineDeemphasized4":return[4,4];case"headlineEmphasized1":return[6,5];case"headlineEmphasized2":return[5,5];case"headlineEmphasized3":return[4,4];case"headlineEmphasized4":return[4,4];case"headlineEmphasized5":return[4,3];case"meta1":return[4,3];case"meta2":return[4,3];case"meta3":return[4,3];case"meta4":return[3,3]}}};e=function(){if(c("UserAgent").isPlatform("Windows >= 6"))return[h.segoe,i.segoe];return c("UserAgent").isPlatform("Mac OS X >= 10.11")&&!c("UserAgent").isBrowser("Firefox < 55")||c("UserAgent").isPlatform("iOS >= 9")?[h.apple,c("UserAgent").isEngine("Gecko")?i.sfGecko:i.sfWebkit]:[h["default"],i["default"]]}();f=e[0];e=e[1];var j={body1:{fontSize:"x1603h9y",fontWeight:"x1fcty0u",$$css:!0},body2:{fontSize:"x1lkfr7t",fontWeight:"x1fcty0u",$$css:!0},body2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1fcty0u",$$css:!0},body3:{fontSize:"x6prxxf",fontWeight:"x1fcty0u",$$css:!0},body3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1fcty0u",$$css:!0},body4:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},body4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},bodyLink1:{fontSize:"x1603h9y",fontWeight:"x1s688f",$$css:!0},bodyLink2:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},bodyLink2ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},bodyLink3:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},bodyLink3ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},bodyLink4:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},bodyLink4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},button1:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},button1ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},button2:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},button2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},entityHeaderHeadline1:{fontSize:"x579bpy",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderHeadline2:{fontSize:"x1q74xe4",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta1ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2:{fontSize:"x6prxxf",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta2ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1xlr1w8",$$css:!0},entityHeaderMeta3:{fontSize:"x1nxh6w3",fontWeight:"x1xlr1w8",$$css:!0},headline3:{fontSize:"x1lkfr7t",fontWeight:"xk50ysn",$$css:!0},headline3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"xk50ysn",$$css:!0},headline4:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},headline4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"xk50ysn",$$css:!0},headlineEmphasized1:{fontSize:"xngnso2",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized2:{fontSize:"x1603h9y",fontWeight:"x1xlr1w8",$$css:!0},headlineEmphasized3:{fontSize:"x1lkfr7t",fontWeight:"x1s688f",$$css:!0},headlineEmphasized3ForDenseMode:{fontSize:"x1jchvi3",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4:{fontSize:"x6prxxf",fontWeight:"x1s688f",$$css:!0},headlineEmphasized4ForDenseMode:{fontSize:"x1f6kntn",fontWeight:"x1s688f",$$css:!0},headlineEmphasized5:{fontSize:"x6prxxf",fontWeight:"xk50ysn",$$css:!0},meta1:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta1ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta2:{fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0},meta2ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1s688f",$$css:!0},meta3:{fontSize:"x1nxh6w3",fontWeight:"x1fcty0u",$$css:!0},meta3ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0},meta4ForDenseMode:{fontSize:"x1pg5gke",fontWeight:"x1fcty0u",$$css:!0}},k=c("gkx")("5751");b={colors:{blueLink:k?d.blueLink:a.blueLink,disabled:k?d.disabled:a.disabled,disabledButton:b.disabledButton,highlight:k?d.highlight:a.highlight,negative:k?d.negative:a.negative,positive:k?d.positive:a.positive,primary:k?d.primary:a.primary,primaryButton:b.primaryButton,primaryDeemphasizedButton:b.primaryDeemphasizedButton,primaryOnMedia:k?d.primaryOnMedia:void 0,secondary:k?d.secondary:a.secondary,secondaryButton:b.secondaryButton,secondaryOnMedia:k?d.secondaryOnMedia:a.secondaryOnMedia,tertiary:k?d.tertiary:a.tertiary,white:k?d.white:a.white},defaultFontFamily:f,offsets:e,styles:{body1:{lineHeight:24,style:j.body1},body2:{lineHeight:20,style:j.body2},body3:{lineHeight:19.9995,style:j.body3},body4:{lineHeight:16,style:j.body4},bodyLink1:{lineHeight:24,style:j.bodyLink1},bodyLink2:{lineHeight:20,style:j.bodyLink2},bodyLink3:{lineHeight:19.9995,style:j.bodyLink3},bodyLink4:{lineHeight:16,style:j.bodyLink4},button1:{lineHeight:20,style:j.button1},button2:{lineHeight:19.9995,style:j.button2},entityHeaderHeadline1:{lineHeight:38,style:j.entityHeaderHeadline1},entityHeaderHeadline2:{lineHeight:32,style:j.entityHeaderHeadline2},entityHeaderMeta1:{lineHeight:19,style:j.entityHeaderMeta1},entityHeaderMeta2:{lineHeight:19,style:j.entityHeaderMeta2},entityHeaderMeta3:{lineHeight:17,style:j.entityHeaderMeta3},headline3:{lineHeight:20,style:j.headline3},headline4:{lineHeight:19.9995,style:j.headline4},headlineEmphasized1:{lineHeight:28,style:j.headlineEmphasized1},headlineEmphasized2:{lineHeight:24,style:j.headlineEmphasized2},headlineEmphasized3:{lineHeight:20,style:j.headlineEmphasized3},headlineEmphasized4:{lineHeight:19.9995,style:j.headlineEmphasized4},headlineEmphasized5:{lineHeight:20,style:j.headlineEmphasized5},meta1:{lineHeight:16,style:j.meta1},meta2:{lineHeight:16,style:j.meta2},meta3:{lineHeight:16,style:j.meta3},meta4:{lineHeight:15,style:j.meta4}},stylesForDenseMode:{body2:{lineHeight:20,style:j.body2ForDenseMode},body3:{lineHeight:20,style:j.body3ForDenseMode},body4:{lineHeight:16,style:j.body4ForDenseMode},bodyLink2:{lineHeight:20,style:j.bodyLink2ForDenseMode},bodyLink3:{lineHeight:20,style:j.bodyLink3ForDenseMode},bodyLink4:{lineHeight:16,style:j.bodyLink4ForDenseMode},button1:{lineHeight:18,style:j.button1ForDenseMode},button2:{lineHeight:18,style:j.button2ForDenseMode},entityHeaderMeta1:{lineHeight:18,style:j.entityHeaderMeta1ForDenseMode},entityHeaderMeta2:{lineHeight:18,style:j.entityHeaderMeta2ForDenseMode},headline3:{lineHeight:20,style:j.headline3ForDenseMode},headline4:{lineHeight:20,style:j.headline4ForDenseMode},headlineEmphasized3:{lineHeight:20,style:j.headlineEmphasized3ForDenseMode},headlineEmphasized4:{lineHeight:20,style:j.headlineEmphasized4ForDenseMode},meta1:{lineHeight:14,style:j.meta1ForDenseMode},meta2:{lineHeight:14,style:j.meta2ForDenseMode},meta3:{lineHeight:14,style:j.meta3ForDenseMode},meta4:{lineHeight:15,style:j.meta4ForDenseMode}}};k=b;g["default"]=k}),98);
__d("useXPlatReactTranslationKeyForTextParent",["cr:2099"],(function(a,b,c,d,e,f,g){"use strict";function a(){}e=(d=b("cr:2099"))!=null?d:{useTranslationKeyForTextParent:a};var h=e.useTranslationKeyForTextParent;function c(){return h()}g["default"]=c}),98);
__d("MDSTextImpl.react",["BaseHeading.react","BaseText.react","BaseTextContext","CometDensityModeContext","JSResourceForInteraction","MDSTextConfig","react","useXPlatReactTranslationKeyForTextParent","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext,k=b.useMemo;e=c("JSResourceForInteraction")("MDSTooltipImpl.react").__setRef("MDSTextImpl.react");var l=d("BaseText.react").createBaseTextComponent(c("MDSTextConfig"),e),m={heading:{maxWidth:"x193iq5w",minWidth:"xeuugli",$$css:!0},text:{whiteSpace:"xq9mrsl",$$css:!0}},n={disabled:"disabledButton",highlight:"primaryDeemphasizedButton",secondary:"secondaryButton",white:"primaryButton"};function o(a,b){return b?(b=n[a])!=null?b:a:a}var p=["entityHeaderMeta1","entityHeaderMeta2","meta1","meta2","meta3","meta4"];function a(a){var b=a.ref,e=a.align;e=e===void 0?"auto":e;var f=a.children,g=a.color,h=a.dir;h=h===void 0?"auto":h;var n=a.id,q=a.isPrimaryHeading;q=q===void 0?!1:q;var r=a.isSemanticHeading;r=r===void 0?!1:r;var s=a.numberOfLines,t=a.showTruncationTooltip;t=t===void 0?!0:t;var u=a.testid;u=a.truncationTooltip;var v=a.type;a=k(function(){return p.includes(v)?"secondary":"primary"},[v]);g=o(g!=null?g:a,v==="button1"||v==="button2");a=c("useXPlatReactTranslationKeyForTextParent")();var w=d("BaseTextContext").useBaseTextContext(),x=j(c("CometDensityModeContext"));x=x[0];w=(w==null?void 0:w.nested)===!0;e=i.jsx(l,{alignment:e!=null?e:void 0,colorName:g,dir:w?void 0:h,id:n,isDenseModeEnabled:x,lines:s||0,ref:d("xplatToDOMRef").xplatToDOMRef(b),styleName:v,testid:void 0,truncationTooltip:t?{tooltip:u!=null?u:f}:void 0,xstyle:m.text,children:f},a);return r||q?i.jsx(c("BaseHeading.react"),{isPrimaryHeading:q,xstyle:m.heading,children:e}):e}a.displayName=a.name+" [from "+f.id+"]";a.displayName="MDSText";g["default"]=a}),98);
__d("MDSText.react",["MDSTextImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=j.jsx(c("MDSTextImpl.react"),babelHelpers["extends"]({ref:f},e)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSButtonImpl.react",["BaseStyledButton.react","BaseTheme.react","CometContainerPressableContext","FDSIcon.react","MDSText.react","emptyFunction","gkx","mergeRefs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["addOnStart","disabled","icon","isContainerTarget","label","labelIsHidden","linkProps","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","padding","reduceEmphasis","size","suppressHydrationWarning","testid","type"],j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useEffect,n=b.useRef,o={destructive:{backgroundColor:"xb4tp27",$$css:!0},disabled:{backgroundColor:"xwcfey6",$$css:!0},primary:{backgroundColor:"xtvsq51",$$css:!0},primaryDeemphasized:{backgroundColor:"x1hr4nm9",$$css:!0},secondary:{backgroundColor:"x1qhmfi1",$$css:!0},secondaryDeemphasized:{backgroundColor:"x1f3278h",$$css:!0},secondaryDeemphasized_DEPRECATED:{backgroundColor:"xjbqb8w",$$css:!0},sizeLarge:{height:"xc9qbxq",$$css:!0},sizeMedium:{height:"x10w6t97",$$css:!0},sizeSmall:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x1fgtraw",$$css:!0}},p={dark:{"destructive-button-background":"rgba(235, 52, 52, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(155, 160, 168, 0.5)","primary-button-background":"#429AFF","secondary-button-background":"rgba(255, 255, 255, 0.19)"},light:{"destructive-button-background":"rgba(255, 41, 41, 100)","disabled-button-background":"var(--secondary-button-background)","disabled-button-text":"rgba(134, 142, 153, 0.5)","primary-button-background":"#0A7CFF","secondary-button-background":"rgba(0, 0, 0, 0.04)"},type:"VARIABLES"},q={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"white",textColor:"white"},r={":deemphasized":{iconColor:"highlight",textColor:"highlight"},":disabled":{iconColor:"disabled",textColor:"disabled"},iconColor:"primary",textColor:"secondary"};function s(a){switch(a){case"secondary":return r;case"destructive":case"primary":default:return q}}function t(a,b){var c=b.disabled;b=b.reduceEmphasis;a=s(a);return(c?a[":disabled"]:null)||(b?a[":deemphasized"]:null)||a}function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var d=a.addOnStart,e=a.disabled;e=e===void 0?!1:e;var f=a.icon,g=a.isContainerTarget,j=g===void 0?!1:g;g=a.label;var q=a.labelIsHidden;q=q===void 0?!1:q;var r=a.linkProps,s=a.onFocusIn,u=a.onFocusOut,v=a.onHoverIn,w=a.onHoverOut,x=a.onPress,y=a.onPressIn,z=a.onPressOut,A=a.padding;A=A===void 0?"normal":A;var B=a.reduceEmphasis;B=B===void 0?!1:B;var C=a.size;C=C===void 0?32:C;var D=a.suppressHydrationWarning;D=D===void 0?!1:D;var E=a.testid;E=a.type;E=E===void 0?"primary":E;a=babelHelpers.objectWithoutPropertiesLoose(a,i);var F=t(E,{disabled:e,reduceEmphasis:B}),G=F.iconColor;F=F.textColor;var H=n(null),I=n(null),J=l(c("CometContainerPressableContext"));m(function(){j&&J&&J.onMount({onContextMenu:c("emptyFunction"),onPress:function(a){a=H.current;a&&a.click()},target:r==null?void 0:r.target,url:r==null?void 0:r.url},I)},[J,j,r==null?void 0:r.url,r==null?void 0:r.target]);return k.jsx(c("BaseTheme.react"),{config:c("gkx")("5751")?void 0:p,style:{width:"100%"},children:k.jsx(c("BaseStyledButton.react"),babelHelpers["extends"]({},a,{addOnStart:d,"aria-label":(d=a["aria-label"])!=null?d:g,content:q?null:k.jsx(c("MDSText.react"),{color:F,numberOfLines:1,type:"button2",children:g}),contentXstyle:[C===28&&o.sizeSmall,C===32&&o.sizeMedium,C===36&&o.sizeLarge],disabled:e,icon:f==null?null:k.jsx(c("FDSIcon.react"),{color:G,icon:f,size:24}),linkProps:r,onFocusIn:s,onFocusOut:u,onHoverIn:v,onHoverOut:w,onPress:x,onPressIn:y,onPressOut:z,padding:A,ref:c("mergeRefs")(H,b),suppressHydrationWarning:D,testid:void 0,xstyle:[E==="primary"&&o.primary,E==="secondary"&&o.secondary,E==="destructive"&&o.destructive,E==="secondary"&&B?c("gkx")("5751")?o.secondaryDeemphasized:o.secondaryDeemphasized_DEPRECATED:null,E==="primary"&&B&&o.primaryDeemphasized,e&&o.disabled]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSButton.react",["MDSButtonImpl.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e,f;b[0]!==a?(e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]!==e||b[4]!==f?(a=j.jsx(c("MDSButtonImpl.react"),babelHelpers["extends"]({ref:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"],i,j=i||(i=d("react"));b=i;var k=b.useContext;b.useMemo;var l={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},m={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},n={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},o={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(43),e,f,g,i,p,q,r,s,u,v,w,x;b[0]!==a?(i=a.ref,p=a.align,e=a.children,q=a.expanding,r=a.hasDividers,s=a.paddingHorizontal,f=a.paddingTop,u=a.paddingVertical,v=a.spacing,w=a.verticalAlign,x=a.xstyle,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=p,b[6]=q,b[7]=r,b[8]=s,b[9]=u,b[10]=v,b[11]=w,b[12]=x):(e=b[1],f=b[2],g=b[3],i=b[4],p=b[5],q=b[6],r=b[7],s=b[8],u=b[9],v=b[10],w=b[11],x=b[12]);a=p===void 0?null:p;p=q===void 0?!1:q;q=r===void 0?!1:r;r=s===void 0?null:s;s=u===void 0?0:u;u=v===void 0?null:v;v=w===void 0?"top":w;w=k(c("MDSColumnContext"));var y;b[13]!==a||b[14]!==q||b[15]!==r||b[16]!==u?(y={align:a,hasDividers:q,paddingHorizontal:r,spacing:u},b[13]=a,b[14]=q,b[15]=r,b[16]=u,b[17]=y):y=b[17];a=y;q=a;b[18]!==p?(r=p===!0&&[l.expanding,c("isIE11OrGreater")&&l.expandingIE11],b[18]=p,b[19]=r):r=b[19];u=n[s];y=f!=null&&m[f];b[20]!==r||b[21]!==u||b[22]!==y||b[23]!==x?(a=[l.root,r,u,y,x],b[20]=r,b[21]=u,b[22]=y,b[23]=x,b[24]=a):a=b[24];s=v!=="top"&&o[v];b[25]!==s?(f=[l.inner,s],b[25]=s,b[26]=f):f=b[26];b[27]!==e?(r=t(e),b[27]=e,b[28]=r):r=b[28];b[29]!==q||b[30]!==r?(u=j.jsx(c("MDSColumnContext").Provider,{value:q,children:r}),b[29]=q,b[30]=r,b[31]=u):u=b[31];b[32]!==f||b[33]!==u?(y=j.jsx(c("BaseView.react"),{xstyle:f,children:u}),b[32]=f,b[33]=u,b[34]=y):y=b[34];b[35]!==g||b[36]!==i||b[37]!==a||b[38]!==y?(x=j.jsx(c("BaseView.react"),babelHelpers["extends"]({},g,{ref:i,xstyle:a,children:y})),b[35]=g,b[36]=i,b[37]=a,b[38]=y,b[39]=x):x=b[39];v=x;if(w!=null){s=p!=null?p:void 0;b[40]!==v||b[41]!==s?(e=j.jsx(c("MDSColumnItem.react"),{expanding:s,children:v}),b[40]=v,b[41]=s,b[42]=e):e=b[42];return e}return v}e=a;var p={isFirst:!0,isLast:!1},q={isFirst:!1,isLast:!0},r={isFirst:!0,isLast:!0},s={isFirst:!1,isLast:!1};function t(a){return j.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?r:e?p:d?q:s;return j.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=e}),98);
__d("MDSPressable.react",["CometPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["overlayRadius","ref"],i,j=i||d("react"),k={hover:{backgroundColor:"x1yjz2vk",$$css:!0}};function l(a){switch(a){case"normal":return 6;case"50%":return"50%";case"compact":return 4;case"inherit":default:return void 0}}function a(a){var b=d("react-compiler-runtime").c(10),e,f,g;b[0]!==a?(f=a.overlayRadius,g=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g):(e=b[1],f=b[2],g=b[3]);b[4]!==f?(a=l(f),b[4]=f,b[5]=a):a=b[5];b[6]!==e||b[7]!==g||b[8]!==a?(f=j.jsx(c("CometPressable.react"),babelHelpers["extends"]({overlayFocusVisibleStyle:k.hover,overlayHoveredStyle:k.hover,overlayRadius:a,ref:g},e)),b[6]=e,b[7]=g,b[8]=a,b[9]=f):f=b[9];return f}g["default"]=a}),98);
__d("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9685249484907022"}),null);
__d("MessengerCreateVideoMeetupLinkMutation.graphql",["MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_audio_only",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MessengerCreateVideoMeetupLinkMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MessengerCreateVideoMeetupLinkMutation",selections:c},params:{id:b("MessengerCreateVideoMeetupLinkMutation_facebookRelayOperation"),metadata:{},name:"MessengerCreateVideoMeetupLinkMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("MessengerCreateVideoMeetupLinkMutation",["MessengerCreateVideoMeetupLinkMutation.graphql","Promise","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,d,e){return new(i||(i=b("Promise")))(function(f,g){var i;b("cr:1012418").commitMutation(a,{mutation:h!==void 0?h:h=b("MessengerCreateVideoMeetupLinkMutation.graphql"),onCompleted:function(a){var b,c,d,e,h=a==null||(b=a.create_video_meetup_link)==null||(b=b.meetup_link)==null?void 0:b.is_audio_only,i=a==null||(c=a.create_video_meetup_link)==null||(c=c.meetup_link)==null?void 0:c.link_url,j=a==null||(d=a.create_video_meetup_link)==null||(d=d.meetup_link)==null?void 0:d.link_hash;a=a==null||(e=a.create_video_meetup_link)==null||(e=e.meetup_link)==null?void 0:e.id;return i!=null&&j!=null&&h!=null?f({isAudioOnly:h,linkHash:j,linkId:a,linkUrl:i}):g({error:"Failed to create linkurl."})},onError:function(a){g(a)},optimisticUpdater:null,variables:{input:{client_mutation_id:"",funnel_session_id:e,link_options:{availability_settings_options:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?{join_permission:d==null?void 0:d.joinPermission,visibility_mode:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}:void 0,chat_mode:(i=d==null?void 0:d.chatMode)!=null?i:null,is_audio_only:(i=d==null?void 0:d.isAudioOnly)!=null?i:null,is_live_enabled:(i=d==null?void 0:d.isLiveEnabled)!=null?i:null,is_room_join_requestable:(i=d==null?void 0:d.joinRequestable)!=null?i:null,link_surface:(i=d==null?void 0:d.linkSurface)!=null?i:c("gkx")("20836")?"WORKPLACE":void 0,revocation_behavior:(i=d==null?void 0:d.revocationBehavior)!=null?i:null,should_allow_anonymous_guests:(i=d==null?void 0:d.allowAnonymousGuests)!=null?i:!0,supports_pages:(i=d==null?void 0:d.supportsPages)!=null?i:!1,supports_profile_plus:(i=d==null?void 0:d.supportsProfilePlus)!=null?i:!1,visibility_mode:(d==null?void 0:d.linkSurface)==="MESSENGER_V2"?void 0:(i=d==null?void 0:d.visibilityMode)!=null?i:"NONE"}}}})})}g["default"]=a}),98);
__d("RoomsLinkUtils",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b;a=d("ConstUriUtils").getUri(a);var c=a==null?void 0:a.getDomain();a=a==null||(b=a.stripTrailingSlash())==null?void 0:b.getPath();if(a==null)return null;if(c==="msngr.com")return a.substring(1);var e=/^\/v(id)?\//;if(c==="m.me"&&e.test(a))return a.replace(e,"");c=/^\/groupcall\/LINK:/;return c.test(a)?a.replace(c,""):null}g.getRoomsLinkHash=a}),98);
__d("VideoChatLinksUserActionsMultiplexLogger",["cr:1443591"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1443591")}),98);
__d("XGroupCallControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupcall/{?call_context}/",Object.freeze({users_to_ring:[],has_video:!0,initialize_video:!0,auto_join:!1,use_joining_context:!1,has_seen_interstitial:!1,use_dapp:!1,is_e2ee_mandated:!1,use_www:!1}),void 0);b=a;g["default"]=b}),98);
__d("ZenonCallIdentifiersUtil",["Random"],(function(a,b,c,d,e,f,g){"use strict";function a(){return String(d("Random").uint32()+1)}g.generateZenonClientSessionID=a}),98);
__d("ZenonCallWindowErrors",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonOpeningAnotherCallError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));b=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonConferenceNameMutationFailedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));c=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonIncompleteControllerParamsError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));d=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonUnsupportedThreadTypeError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));e=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonCannotAcceptInviteError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));var g=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonInviteNotFoundError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),h=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.name="ZenonUninitializedError",babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.OpeningAnotherCallError=a;f.ConferenceNameMutationFailedError=b;f.IncompleteControllerParamsError=c;f.UnsupportedThreadTypeError=d;f.CannotAcceptInviteError=e;f.InviteNotFoundError=g;f.UninitializedError=h}),66);
__d("ZenonPeerID",["invariant"],(function(a,b,c,d,e,f,g,h){"use strict";var i="MW_PEER_ID";function a(a){a.length>0||h(0,33504);if(a==="MW_PEER_ID")return i;isNaN(a)===!1||h(0,33551,a);return a}function b(a){return isNaN(a)||a===i?null:a}g.ZenonMWPeerID=i;g.convertStringToPeerID=a;g.convertPeerIDForLogging=b}),98);
__d("randomZenonNonce",["Random"],(function(a,b,c,d,e,f,g){"use strict";var h=2,i=6,j=36,k=2176782336;function a(){var a="";for(var b=0;b<h;b++){var c=Math.floor(d("Random").random()*k).toString(j);while(c.length<i)c="0"+c;a+=c}return a}g["default"]=a}),98);
__d("ZenonPreCallHookBuilderHelper",["ConstUriUtils","FBLogger","MessengerCreateVideoMeetupLinkMutation","RoomsLinkUtils","VideoChatLinksUserActionsMultiplexLogger","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonCallWindowErrors","ZenonPeerID","ZenonSignalingProtocol","getErrorSafe","gkx","nullthrows","randomZenonNonce"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var e=a.callInviteModel;a=a.callWindowController;var f=e.getCurrentInvite();if(f===null)throw new(d("ZenonCallWindowErrors").InviteNotFoundError)();if(f.type!=="ringing"||f.context.type!=="thread")throw new(d("ZenonCallWindowErrors").CannotAcceptInviteError)();var g=c("randomZenonNonce")(),h=f.context.thread;a=a.initCall({context:{controllerParams:f.controllerParams,intent:"accept invite"},hideE2eeAttributions:b,isE2eeMandated:f.isE2eeMandated,joinContext:{thread:h!=null?h:{id:"0",type:2},type:"thread"},mediaType:f.requestingVideo?"video":"audio",nonce:g,representedID:f.receiverUserId});b=a[0];h=a[1];e.accept(g,{isPopupBlocked:b===null});await h}async function b(a,b,e,f,g,h){h===void 0&&(h={allowAnonymousGuests:!c("gkx")("20836")});if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();j(g,e,f).setEvent("meetup_attempt_create_meetup").log();try{a=await c("MessengerCreateVideoMeetupLinkMutation")(b,h,g);b=a.linkUrl;if(b!=null){j(g,e,f).setEvent("meetup_create_success").setVideoCallLinkURLRaw(b).log();return b}else j(g,e,f).setEvent("meetup_create_failed").log();return b}catch(a){h=c("getErrorSafe")(a);j(g,e,f).setEvent("meetup_create_failed").log();j(g,e,f).setEvent("error").setErrorType("LinkCreationError "+h.name).setErrorDetails(h.message).log();throw h}}async function e(a){var b=a.actorID,e=a.callback_users,f=a.context,g=a.forceSkipChildLobby;g=g===void 0?!1:g;var j=a.funnelSessionID;j=j===void 0?null:j;var k=a.hasVideo;k=k===void 0?!0:k;var l=a.linkUrl,m=a.referrerContext;m=m===void 0?null:m;var n=a.skipLinkUrlRewrite;n=n===void 0?!1:n;var o=a.startCallImmediately;o=o===void 0?!1:o;a=a.trigger;if(f===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var p=f.callWindowController;f=f.incomingRingSDK;var q=c("randomZenonNonce")(),r=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),s=l;if(!n){n=(n=d("ConstUriUtils").getUri(l))==null?void 0:n.getQueryParam("funnel_session_id");l=h(l);s=i(l,o?q:null,e,n!=null?String(n):j,g,m,b,a,k)}if(s==null)return Promise.reject("An invalid URI was provided");l=p.initCall({context:{existingCall:null,intent:"start or join",invitees:[],signalingID:r},joinContext:{linkUrl:s,type:"link"},mediaType:"video",nonce:q,representedID:d("ZenonActorHooks").ZenonActor.getID()});o=l[0];e=l[1];f.startCallIntent(q,{callTrigger:a!=null?a:"meetup_join",isE2eeMandated:!1,isPopupBlocked:o===null,isVideo:k,peerID:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:r});await e}async function f(a,b){var e=b.existingCall,f=b.extra,g=b.hideE2eeAttributions,h=b.invitees,i=b.isE2eeMandated,j=b.mediaType,k=b.representedID,l=b.thread;b=b.trigger;if(a===null)throw new(d("ZenonCallWindowErrors").UninitializedError)();var m=a.callWindowController;a=a.incomingRingSDK;var n=d("ZenonCallIdentifiersUtil").generateZenonClientSessionID(),o=c("randomZenonNonce")();m=m.initCall({context:{existingCall:e,intent:"start or join",invitees:h,signalingID:n},extra:f,hideE2eeAttributions:g,isE2eeMandated:i,joinContext:{thread:l,type:"thread"},mediaType:j,nonce:o,representedID:k!=null?k:d("ZenonActorHooks").ZenonActor.getID()});e=m[0];h=m[1];a.startCallIntent(o,{callTrigger:b,isE2eeMandated:i!=null?i:!1,isPopupBlocked:e===null,isVideo:j==="video",peerID:l.type===1?l.id:d("ZenonPeerID").ZenonMWPeerID,protocol:c("ZenonSignalingProtocol").MW,signalingID:n});await h}function h(a){var b=d("RoomsLinkUtils").getRoomsLinkHash(a);b==null&&c("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',a);return b}function i(a,b,d,e,f,g,h,i,j){if(a==null)return"";a={call_context:"LINK:"+a,call_trigger:i!=null?i:"",has_video:j,users_to_ring:d!=null?d:[]};b!=null&&(a.nonce=b);e!=null&&(a.funnel_session_id=e);f===!0&&(a.auto_join=!0);g!=null&&(a.referrer_context=g);h!=null&&(a.av=h);return c("nullthrows")(c("XGroupCallControllerRouteBuilder").buildUri(a).getQualifiedUri()).toString()}function j(a,b,d){return new(c("VideoChatLinksUserActionsMultiplexLogger"))().setFunnelSessionIDRaw(a).setSurface(b).setComponent(d)}g.acceptCall=a;g.createMeetup=b;g.joinMeetup=e;g.startCall=f}),98);
__d("useZenonCallInvite",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),c;b[0]!==a?(c=function(){return a?a.getCurrentInvite():null},b[0]=a,b[1]=c):c=b[1];c=j(c);var e=c[0],f=c[1],g;b[2]!==a?(c=function(){if(a){var b=a.addListener("callInvite",f);return function(){b.remove()}}else f(null)},g=[a],b[2]=a,b[3]=c,b[4]=g):(c=b[3],g=b[4]);i(c,g);return e}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","react-compiler-runtime","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");j.useCallback;var k=j.useContext,l=j.useDebugValue,m=j.useEffect,n=6e4;function a(a){function b(b){var c=d("react-compiler-runtime").c(3),e=k(a),f;c[0]!==e||c[1]!==b?(f=function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(e,b)},c[0]=e,c[1]=b,c[2]=f):f=c[2];return f}return b}function e(a){function b(){var b=k(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);l(b);return b}return b}function f(a,b){return function(e,f,g){function h(){var h=d("react-compiler-runtime").c(6),i=k(a),j=e(),l=f(),m=g(),n=b(),o;h[0]!==i||h[1]!==j||h[2]!==l||h[3]!==m||h[4]!==n?(o=function(a){if(!c("gkx")("24231"))return;var b=a.existingCall,d=a.thread;if(!i||!i.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))m(a);else bb8:switch(d.type){case 1:c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[d.id]})));break bb8;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break bb8;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?j(a,function(b){c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:b})))}):l(a,function(){c("promiseDone")(n(babelHelpers["extends"]({},a,{invitees:[]})))});break bb8;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},h[0]=i,h[1]=j,h[2]=l,h[3]=m,h[4]=n,h[5]=o):o=h[5];return o}return h}}function o(a,b){function c(){var c=d("react-compiler-runtime").c(4),e=k(a),f=b(),g,h;c[0]!==e||c[1]!==f?(g=function(){if(e&&f&&f.type==="ringing"){var a=window.setTimeout(function(){e.callInviteModel.decline("NoAnswerTimeout")},n);return function(){window.clearTimeout(a)}}},h=[e,f],c[0]=e,c[1]=f,c[2]=g,c[3]=h):(g=c[2],h=c[3]);m(g,h)}return c}function p(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a){var e=a.existingCall,g=a.extra,i=a.hideE2eeAttributions,j=a.invitees,k=a.isE2eeMandated,l=a.mediaType,m=a.representedID,n=a.thread;a=a.trigger;return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve():d("ZenonPreCallHookBuilderHelper").startCall(f,{existingCall:e,extra:g,hideE2eeAttributions:i,invitees:j,isE2eeMandated:k,mediaType:l,representedID:m,thread:n,trigger:a})},e[0]=f,e[1]=g):g=e[1];return g}return e}function q(a){function e(){var e=d("react-compiler-runtime").c(3),f=k(a),g=d("CometRelay").useRelayEnvironment(),i;e[0]!==f||e[1]!==g?(i=function(a,e,i,j){return!c("gkx")("24231")?(h||(h=b("Promise"))).resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(f,g,a,e,i,j)},e[0]=f,e[1]=g,e[2]=i):i=e[2];return i}return e}function r(a){function e(){var e=d("react-compiler-runtime").c(2),f=k(a),g;e[0]!==f?(g=function(a,e){e=e===void 0?{}:e;if(!c("gkx")("24231"))return(h||(h=b("Promise"))).resolve();e=e!=null?e:{};var g=e.actorID,i=e.callbackUsers,j=e.mediaType,k=e.referrerContext,l=e.startCallImmediately;e=e.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:i,context:f,forceSkipChildLobby:!1,hasVideo:j!=null?j==="video":!0,linkUrl:a,referrerContext:k,startCallImmediately:l,trigger:e})},e[0]=f,e[1]=g):g=e[1];return g}return e}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=o;g.createStartCallCallbackHook=p;g.createCreateMeetupCallbackHook=q;g.createJoinMeetupCallbackHook=r}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";e=(a=d("ZenonPreCallHookBuilder")).createAcceptCallCallbackHook(b=c("RTWebPreCallContext"));f=a.createCallInviteHook(b);d=a.createNoAnswerTimeoutHook(b,f);c=a.createStartCallCallbackHook(b);var h=a.createCreateMeetupCallbackHook(b),i=a.createJoinMeetupCallbackHook(b);a=a.createInviteAndStartCallCallbackHookFactory(b,c);g.useAcceptCallCallback=e;g.useCallInvite=f;g.useNoAnswerTimeout=d;g.useStartCallCallback=c;g.useCreateMeetupCallback=h;g.useJoinMeetupCallback=i;g.createInviteAndStartCallCallbackHook=a}),98);
__d("VideoChatLinksUserActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:VideoChatLinksUserActionsLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setCallEndReason=function(a){this.$1.call_end_reason=a;return this};c.setCallID=function(a){this.$1.call_id=a;return this};c.setCameraEnabled=function(a){this.$1.camera_enabled=a;return this};c.setClientAppVersion=function(a){this.$1.client_app_version=a;return this};c.setClientLockStatus=function(a){this.$1.client_lock_status=a;return this};c.setClientMonoTimeMs=function(a){this.$1.client_mono_time_ms=a;return this};c.setClienttime=function(a){this.$1.clienttime=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setConferenceNameRaw=function(a){this.$1.conference_name_raw=a;return this};c.setCreationAction=function(a){this.$1.creation_action=a;return this};c.setErrorDetails=function(a){this.$1.error_details=a;return this};c.setErrorType=function(a){this.$1.error_type=a;return this};c.setEvent=function(a){this.$1.event=a;return this};c.setEventDetails=function(a){this.$1.event_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setEventFireTimestamp=function(a){this.$1.event_fire_timestamp=a;return this};c.setEventFireTimestampOnClient=function(a){this.$1.event_fire_timestamp_on_client=a;return this};c.setExceptionObject=function(a){this.$1.exception_object=a;return this};c.setExperimentsEnabled=function(a){this.$1.experiments_enabled=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setFalcoBatchSequence=function(a){this.$1.falco_batch_sequence=a;return this};c.setFunnelSessionIDRaw=function(a){this.$1.funnel_session_id_raw=a;return this};c.setGroupID=function(a){this.$1.group_id=a;return this};c.setGroupSize=function(a){this.$1.group_size=a;return this};c.setGuestUserID=function(a){this.$1.guest_user_id=a;return this};c.setKickedUserID=function(a){this.$1.kicked_user_id=a;return this};c.setLinkShareTo=function(a){this.$1.link_share_to=a;return this};c.setLocalCallID=function(a){this.$1.local_call_id=a;return this};c.setMediaDevices=function(a){this.$1.media_devices=a;return this};c.setMicrophoneEnabled=function(a){this.$1.microphone_enabled=a;return this};c.setOpenLinkFrom=function(a){this.$1.open_link_from=a;return this};c.setOpenLinkFromAppVersion=function(a){this.$1.open_link_from_app_version=a;return this};c.setReason=function(a){this.$1.reason=a;return this};c.setReferralSurface=function(a){this.$1.referral_surface=a;return this};c.setRoomIDRaw=function(a){this.$1.room_id_raw=a;return this};c.setServerInfoData=function(a){this.$1.server_info_data=a;return this};c.setSource=function(a){this.$1.source=a;return this};c.setStatus=function(a){this.$1.status=a;return this};c.setSurface=function(a){this.$1.surface=a;return this};c.setTargetedUserIds=function(a){this.$1.targeted_user_ids=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setThreadSyncRoomData=function(a){this.$1.thread_sync_room_data=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setThreadType=function(a){this.$1.thread_type=a;return this};c.setUserIdsToBeRemoved=function(a){this.$1.user_ids_to_be_removed=b("GeneratedLoggerUtils").serializeVector(a);return this};c.setVideoCallLinkHashRaw=function(a){this.$1.video_call_link_hash_raw=a;return this};c.setVideoCallLinkIDRaw=function(a){this.$1.video_call_link_id_raw=a;return this};c.setVideoCallLinkIdentifierRaw=function(a){this.$1.video_call_link_identifier_raw=a;return this};c.setVideoCallLinkURLRaw=function(a){this.$1.video_call_link_url_raw=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={call_end_reason:!0,call_id:!0,camera_enabled:!0,client_app_version:!0,client_lock_status:!0,client_mono_time_ms:!0,clienttime:!0,component:!0,conference_name_raw:!0,creation_action:!0,error_details:!0,error_type:!0,event:!0,event_details:!0,event_fire_timestamp:!0,event_fire_timestamp_on_client:!0,exception_object:!0,experiments_enabled:!0,falco_batch_sequence:!0,funnel_session_id_raw:!0,group_id:!0,group_size:!0,guest_user_id:!0,kicked_user_id:!0,link_share_to:!0,local_call_id:!0,media_devices:!0,microphone_enabled:!0,open_link_from:!0,open_link_from_app_version:!0,reason:!0,referral_surface:!0,room_id_raw:!0,server_info_data:!0,source:!0,status:!0,surface:!0,targeted_user_ids:!0,thread_sync_room_data:!0,thread_type:!0,user_ids_to_be_removed:!0,video_call_link_hash_raw:!0,video_call_link_id_raw:!0,video_call_link_identifier_raw:!0,video_call_link_url_raw:!0};f["default"]=a}),66);
__d("ZenonProductConnectFunnel",["FBLogger","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){return Math.trunc((h||(h=c("performanceNow")))())};a=function(){function a(){this.$6=null,this.$7=null,this.$1=null,this.$2=null,this.$3=null,this.$4=null,this.$5=null,this.$8=new Map(),this.$9=new Map()}var b=a.prototype;b.$10=function(a){var b=this.$8.get(a);if(b!=null)return b;b={acceptedTs:this.$3,connectedTs:null,connectingTs:null,contactingTs:null,endCallTs:null,permissionsReceivedTs:this.$5,permissionsRequestTs:this.$4,ringingTs:this.$2,triggeredTs:this.$1};var c={cameraPermission:this.$6,microphonePermission:this.$7};this.clearPreJoinTimings();this.$8.set(a,b);this.$9.set(a,c);return b};b.$11=function(a,b){var d;a=a==null||(d=a.getLogIdentifiers())==null?void 0:d.clientSessionID;if(a==null){c("FBLogger")("rtc_www").warn("ProductConnectFunnel: could not record UI event due to missing signaling ID");return}a=this.$10(a);if(a[b]!=null)return;a[b]=i()};b.getTimings=function(a){return this.$8.get(a)};b.getPreJoinTimings=function(){return{acceptedTs:this.$3,ringingTs:this.$2,triggeredTs:this.$1}};b.clearPreJoinTimings=function(){this.$3=null,this.$2=null,this.$1=null,this.$4=null,this.$5=null,this.$6=null,this.$7=null};b.setPreJoinTimings=function(a){this.$3=a.acceptedTs,this.$2=a.ringingTs,this.$1=a.triggeredTs};b.getAnnotations=function(a){return this.$9.get(a)};b.remove=function(a){this.clearPreJoinTimings(),this.$8["delete"](a),this.$9["delete"](a)};b.setUITriggered=function(){var a;(a=this.$1)!=null?a:this.$1=i()};b.setUIPermissionsRequest=function(){var a=this;if(this.$4!=null||!navigator.permissions)return;this.$4=i();var b=navigator.permissions;c("promiseDone")(b.query({name:"microphone"}).then(function(b){a.$7=b.state}));c("promiseDone")(b.query({name:"camera"}).then(function(b){a.$6=b.state}))};b.setUIPermissionsReceived=function(){var a;if(this.$4==null)return;(a=this.$5)!=null?a:this.$5=i()};b.setUIAccepted=function(){var a;(a=this.$3)!=null?a:this.$3=i()};b.setUIConnected=function(a){this.$11(a,"connectedTs")};b.setUIConnecting=function(a){this.$11(a,"connectingTs")};b.setUIRinging=function(){var a;(a=this.$2)!=null?a:this.$2=i()};b.setUIContacting=function(a){this.$11(a,"contactingTs")};b.setUIEnded=function(a){this.$11(a,"endCallTs")};return a}();b=new a();g["default"]=b}),98);
__d("bs_caml_array",[],(function(a,b,c,d,e,f){"use strict";function a(b,c,a){var d=new Array(a),e=0;c=c;while(e<a)d[e]=b[c],e=e+1|0,c=c+1|0;return d}function g(a,b){while(!0){var c=b,d=a;if(!c)return d;b=c.tl;a=c.hd.length+d|0;continue}}function h(a,b,c){while(!0){var d=c,e=b;if(!d)return;var f=d.hd,g=f.length;e=e;var h=0;while(h<g)a[e]=f[h],e=e+1|0,h=h+1|0;c=d.tl;b=e;continue}}function b(a){var b=g(0,a);b=new Array(b);h(b,0,a);return b}function c(a,b,c){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};a[b]=c}function d(a,b){if(b<0||b>=a.length)throw{RE_EXN_ID:"Invalid_argument",_1:"index out of bounds",Error:new Error()};return a[b]}function e(a,b){var c=new Array(a);for(var d=0;d<a;++d)c[d]=b;return c}function i(a){var b=new Array(a);for(var c=0;c<a;++c)b[c]=0;return b}function j(b,c,d,e,a){if(e<=c){for(var f=0;f<a;++f)d[f+e|0]=b[f+c|0];return}for(f=a-1|0;f>=0;--f)d[f+e|0]=b[f+c|0]}function k(a){return a.slice(0)}f.dup=k;f.sub=a;f.concat=b;f.make=e;f.make_float=i;f.blit=j;f.get=d;f.set=c}),null);
__d("bs_curry",["bs_caml_array"],(function(a,b,c,d,e,f){"use strict";function g(a,c){while(!0){var d=c,e=a,f=e.length;f=f===0?1:f;var h=d.length;h=f-h|0;if(h===0)return e.apply(null,d);if(h>=0)return function(b,a){return function(c){return g(b,a.concat([c]))}}(e,d);c=b("bs_caml_array").sub(d,f,-h|0);a=e.apply(null,b("bs_caml_array").sub(d,0,f));continue}}function h(a,b){var c=a.length;if(c===1)return a(b);else switch(c){case 1:return a(b);case 2:return function(c){return a(b,c)};case 3:return function(c,d){return a(b,c,d)};case 4:return function(c,d,e){return a(b,c,d,e)};case 5:return function(c,d,e,f){return a(b,c,d,e,f)};case 6:return function(c,d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(c,d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b])}}function a(a){var b=a.length;if(b===1)return a;else return function(b){return h(a,b)}}function i(a,b,c){var d=a.length;if(d===2)return a(b,c);else switch(d){case 1:return g(a(b),[c]);case 2:return a(b,c);case 3:return function(d){return a(b,c,d)};case 4:return function(d,e){return a(b,c,d,e)};case 5:return function(d,e,f){return a(b,c,d,e,f)};case 6:return function(d,e,f,g){return a(b,c,d,e,f,g)};case 7:return function(d,e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c])}}function c(a){var b=a.length;if(b===2)return a;else return function(b,c){return i(a,b,c)}}function j(a,b,c,d){var e=a.length;if(e===3)return a(b,c,d);else switch(e){case 1:return g(a(b),[c,d]);case 2:return g(a(b,c),[d]);case 3:return a(b,c,d);case 4:return function(e){return a(b,c,d,e)};case 5:return function(e,f){return a(b,c,d,e,f)};case 6:return function(e,f,g){return a(b,c,d,e,f,g)};case 7:return function(e,f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d])}}function d(a){var b=a.length;if(b===3)return a;else return function(b,c,d){return j(a,b,c,d)}}function k(a,b,c,d,e){var f=a.length;if(f===4)return a(b,c,d,e);else switch(f){case 1:return g(a(b),[c,d,e]);case 2:return g(a(b,c),[d,e]);case 3:return g(a(b,c,d),[e]);case 4:return a(b,c,d,e);case 5:return function(f){return a(b,c,d,e,f)};case 6:return function(f,g){return a(b,c,d,e,f,g)};case 7:return function(f,g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e])}}function e(a){var b=a.length;if(b===4)return a;else return function(b,c,d,e){return k(a,b,c,d,e)}}function l(a,b,c,d,e,f){var h=a.length;if(h===5)return a(b,c,d,e,f);else switch(h){case 1:return g(a(b),[c,d,e,f]);case 2:return g(a(b,c),[d,e,f]);case 3:return g(a(b,c,d),[e,f]);case 4:return g(a(b,c,d,e),[f]);case 5:return a(b,c,d,e,f);case 6:return function(g){return a(b,c,d,e,f,g)};case 7:return function(g,h){return a(b,c,d,e,f,g,h)};default:return g(a,[b,c,d,e,f])}}function m(a){var b=a.length;if(b===5)return a;else return function(b,c,d,e,f){return l(a,b,c,d,e,f)}}function n(a,b,c,d,e,f,h){var i=a.length;if(i===6)return a(b,c,d,e,f,h);else switch(i){case 1:return g(a(b),[c,d,e,f,h]);case 2:return g(a(b,c),[d,e,f,h]);case 3:return g(a(b,c,d),[e,f,h]);case 4:return g(a(b,c,d,e),[f,h]);case 5:return g(a(b,c,d,e,f),[h]);case 6:return a(b,c,d,e,f,h);case 7:return function(g){return a(b,c,d,e,f,h,g)};default:return g(a,[b,c,d,e,f,h])}}function o(a){var b=a.length;if(b===6)return a;else return function(b,c,d,e,f,g){return n(a,b,c,d,e,f,g)}}function p(a,b,c,d,e,f,h,i){var j=a.length;if(j===7)return a(b,c,d,e,f,h,i);else switch(j){case 1:return g(a(b),[c,d,e,f,h,i]);case 2:return g(a(b,c),[d,e,f,h,i]);case 3:return g(a(b,c,d),[e,f,h,i]);case 4:return g(a(b,c,d,e),[f,h,i]);case 5:return g(a(b,c,d,e,f),[h,i]);case 6:return g(a(b,c,d,e,f,h),[i]);case 7:return a(b,c,d,e,f,h,i);default:return g(a,[b,c,d,e,f,h,i])}}function q(a){var b=a.length;if(b===7)return a;else return function(b,c,d,e,f,g,h){return p(a,b,c,d,e,f,g,h)}}function r(a,b,c,d,e,f,h,i,j){var k=a.length;if(k===8)return a(b,c,d,e,f,h,i,j);else switch(k){case 1:return g(a(b),[c,d,e,f,h,i,j]);case 2:return g(a(b,c),[d,e,f,h,i,j]);case 3:return g(a(b,c,d),[e,f,h,i,j]);case 4:return g(a(b,c,d,e),[f,h,i,j]);case 5:return g(a(b,c,d,e,f),[h,i,j]);case 6:return g(a(b,c,d,e,f,h),[i,j]);case 7:return g(a(b,c,d,e,f,h,i),[j]);default:return g(a,[b,c,d,e,f,h,i,j])}}function s(a){var b=a.length;if(b===8)return a;else return function(b,c,d,e,f,g,h,i){return r(a,b,c,d,e,f,g,h,i)}}f.app=g;f._1=h;f.__1=a;f._2=i;f.__2=c;f._3=j;f.__3=d;f._4=k;f.__4=e;f._5=l;f.__5=m;f._6=n;f.__6=o;f._7=p;f.__7=q;f._8=r;f.__8=s}),null);
__d("bs_belt_Option",["bs_caml_option","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,c){if(a!==void 0&&c(b("bs_caml_option").valFromOption(a)))return a}function a(a,c){return g(a,b("bs_curry").__1(c))}function h(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function c(a,c){return h(a,b("bs_curry").__1(c))}function d(a){if(a!==void 0)return b("bs_caml_option").valFromOption(a);throw{RE_EXN_ID:"Not_found",Error:new Error()}}function i(a,c,d){if(a!==void 0)return d(b("bs_caml_option").valFromOption(a));else return c}function e(a,c,d){return i(a,c,b("bs_curry").__1(d))}function j(a,c){if(a!==void 0)return b("bs_caml_option").some(c(b("bs_caml_option").valFromOption(a)))}function k(a,c){return j(a,b("bs_curry").__1(c))}function l(a,c){if(a!==void 0)return c(b("bs_caml_option").valFromOption(a))}function m(a,c){return l(a,b("bs_curry").__1(c))}function n(a,c){if(a!==void 0)return b("bs_caml_option").valFromOption(a);else return c}function o(a){return a!==void 0}function p(a){return a===void 0}function q(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return!1;else return c===void 0}function r(a,c,d){return q(a,c,b("bs_curry").__2(d))}function s(a,c,d){if(a!==void 0)if(c!==void 0)return d(b("bs_caml_option").valFromOption(a),b("bs_caml_option").valFromOption(c));else return 1;else if(c!==void 0)return-1;else return 0}function t(a,c,d){return s(a,c,b("bs_curry").__2(d))}f.keepU=g;f.keep=a;f.forEachU=h;f.forEach=c;f.getExn=d;f.mapWithDefaultU=i;f.mapWithDefault=e;f.mapU=j;f.map=k;f.flatMapU=l;f.flatMap=m;f.getWithDefault=n;f.isSome=o;f.isNone=p;f.eqU=q;f.eq=r;f.cmpU=s;f.cmp=t}),null);
__d("useGroupCallBlockedUserWarningInterstitial",["I64","JSResourceForInteraction","MAWMiActMappingTableAPI","Promise","ReQL","WAJids","nullthrows","react","react-compiler-runtime","useBlockedUserInterstitial","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;(k||d("react")).useCallback;var l=function(a,c,e){return c===!0?a.runInTransaction(function(a){return d("MAWMiActMappingTableAPI").getThreadKeyForChatJid(a,d("WAJids").unsafeCoerceToChatJid(e+"@g.us"))},"readonly",void 0,void 0,f.id+":41"):(i||(i=b("Promise"))).resolve((j||(j=d("I64"))).of_string(e))};function m(a,b,e){return d("useBlockedUserInterstitial").getBlockedUserQuery(a,b,c("nullthrows")(e)).then(function(a){return a==null?[]:d("ReQL").toArrayAsync(a).then(function(a){return a})})}function a(){var a=d("react-compiler-runtime").c(6),b=(h||(h=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWReceivedGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),a[0]=e):e=a[0];e=c("useMWXLazyDialog")(e);var f=e[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWGroupCallBlockedUserInGroupInterstitialDialog.react").__setRef("useGroupCallBlockedUserWarningInterstitial"),a[1]=e):e=a[1];e=c("useMWXLazyDialog")(e);var g=e[0];a[2]!==b||a[3]!==g||a[4]!==f?(e=function(a){var d=a.callType,e=a.isE2eeMandated,h=a.onContinue,i=a.threadID,j=a.threadType;l(b,e,i).then(function(a){return a==null?h():m(b,a,c("nullthrows")(j)).then(function(b){if(b.length===0)return h();d==="start"?g({blockedUsers:b,onContinue:h,threadKey:a}):f({blockedUsers:b,onContinue:h,threadKey:a})})})},a[2]=b,a[3]=g,a[4]=f,a[5]=e):e=a[5];return e}g.fetchThreadKeyFromID=l;g.getBlockedUsers=m;g.useGroupCallBlockedUserWarningInterstitial=a}),98);/*FB_PKG_DELIM*/
__d("CrossWindowEventEmitter",["CacheStorage","EventEmitter","cr:8958"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function d(d){var e;e=a.call(this)||this;e.$CrossWindowEventEmitter$p_2=d;e.$CrossWindowEventEmitter$p_1=new(c("CacheStorage"))("localstorage",d+":");e.$CrossWindowEventEmitter$p_1.addValueChangeCallback(function(c,d,f){d=c.split(":")[1];try{c=b("cr:8958").parse(f)}catch(a){c=void 0}if(c&&c.__v){(f=a.prototype.emit).call.apply(f,[e,d].concat(c.__v))}});return e}babelHelpers.inheritsLoose(d,a);var e=d.prototype;e.emit=function(b){var c;for(var d=arguments.length,e=new Array(d>1?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];this.emitRemote.apply(this,[b].concat(e));(c=a.prototype.emit).call.apply(c,[this,b].concat(e))};e.emitRemote=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];this.$CrossWindowEventEmitter$p_1.set(a,c)};return d}(c("EventEmitter"));g["default"]=a}),98);
__d("IrisSubscribeCheckerUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){if(typeof window!=="undefined"){var a;a=(a=window.location)==null?void 0:a.hostname;if(a==="m.facebook.com"||a==="mobile.facebook.com"||a==="mtouch.facebook.com")return!1}return!0}f.getIrisSubscribeCheckerInitialRunningState=a}),66);
__d("IrisSubscribeChecker",["IrisSubscribeCheckerUtils","MqttEnv"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=null,this.$3=!1,this.$4=!1,this.$5=!1,this.$6=d("IrisSubscribeCheckerUtils").getIrisSubscribeCheckerInitialRunningState(),this.$7=0,this.$8=a}var b=a.prototype;b.start=function(){this.$6=!0};b.stop=function(){this.$6=!1,this.$9()};b.onConnectAttempt=function(){};b.onConnectFailure=function(){this.$9()};b.onConnected=function(){var a=this;this.$7++;this.$9();this.$3=!1;this.$4=!1;this.$5=!1;this.$6&&(this.$2=d("MqttEnv").Env.setTimeout(function(){a.$10()},8e3))};b.onConnectSuccess=function(){};b.onConnectionLost=function(){this.$9()};b.onConnectionDisconnect=function(){};b.onSubscribe=function(a){a==="/t_ms"&&(this.$3=!0)};b.onUnsubscribe=function(a){};b.onPublish=function(a){(a==="/messenger_sync_get_diffs"||a==="/messenger_sync_create_queue")&&(this.$4=!0,this.$3&&(this.$5=!0,this.$9()))};b.onMessage=function(a){};b.onWSFatal=function(){};b.$9=function(){this.$2&&(d("MqttEnv").Env.clearTimeout(this.$2),this.$2=null)};b.$10=function(){if(this.$4===!1){var a=this.$7==1?"no_iris_session_initialConnect":"no_iris_session";this.$1.bumpCounter(a);this.$8()?this.$1.bumpCounter(a+".withProvider"):this.$1.bumpCounter(a+".withoutProvider");this.$3===!0?this.$1.bumpCounter(a+".withTopicSubscribe"):this.$1.bumpCounter(a+".withoutTopicSubscribe")}this.$3===!1&&this.$1.bumpCounter("no_iris_topic_subscribe");this.$3===!0&&this.$4===!0&&this.$5===!1&&this.$1.bumpCounter("session_before_topic_subscribe")};return a}();g["default"]=a}),98);
__d("MqttGlobalStreamCounter",["CrossWindowEventEmitter","MqttEnv","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=this;this.isTabClosed=!1;this.otherTabs=new Map();this.thisTab={totalConnectionStreams:0};this.broadcastChannel=new(c("CrossWindowEventEmitter"))("MqttGlobalStreamCounter");this.broadcastChannel.addListener("count-updated",function(b){b=JSON.parse(String(b));var c=!1;a.otherTabs.has(b.key)||(c=!0);b.event==="DELETE"?a.otherTabs["delete"](b.key):b.event==="UPDATE"&&b.value!=null&&(a.otherTabs.set(b.key,b.value),c&&a.$1())});this.tabID=c("uuidv4")()}var b=a.prototype;b.streamRequested=function(){this.thisTab.totalConnectionStreams++,this.$1()};b.streamClosed=function(){this.thisTab.totalConnectionStreams>0&&(this.thisTab.totalConnectionStreams--,this.$1())};b.tabClosed=function(){if(this.isTabClosed)return;this.isTabClosed=!0;var a={key:this.tabID,event:"DELETE"};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.getGlobalState=function(){var a={totalConnectionStreams:this.thisTab.totalConnectionStreams};this.otherTabs.forEach(function(b){a.totalConnectionStreams+=b.totalConnectionStreams});return a};b.$1=function(){var a={key:this.tabID,event:"UPDATE",value:this.thisTab};this.broadcastChannel.emitRemote("count-updated",JSON.stringify(a))};b.isEnabled=function(){return!0};return a}();var h=d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter)?new a():{streamRequested:function(){},streamClosed:function(){},tabClosed:function(){},getGlobalState:function(){return{totalConnectionStreams:-1}},isEnabled:function(){return!1}};b=function(){return h};g.getInstance=b}),98);
__d("MqttAnalyticsHook",["MqttEnv","MqttGlobalStreamCounter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("MqttEnv").Env.getLoggerInstance(),this.$2=d("MqttGlobalStreamCounter").getInstance(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$1.bumpCounter("session_start"),d("MqttEnv").Env.isUserLoggedInNow()||this.$1.bumpCounter("session_start.logout")}var b=a.prototype;b.onConnectAttempt=function(){this.$1.bumpCounter("ws_connect_attempt"),this.$2.streamRequested()};b.onConnectFailure=function(){this.$4++,this.$1.bumpCounter("ws_connect_failure"),this.$1.debugTrace("connect","Connect failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onConnected=function(){this.$1.bumpCounter("ws_connect_connected")};b.onConnectSuccess=function(){this.$3===0&&this.$1.bumpCounter("ws_connect_first_success"),this.$3++,this.$1.bumpCounter("ws_connect_success")};b.onConnectionLost=function(){this.$1.bumpCounter("ws_disconnect")};b.onConnectionDisconnect=function(){this.$2.streamClosed()};b.onSubscribe=function(a){};b.onUnsubscribe=function(a){};b.onPublish=function(a){this.$1.bumpCounter("ws_publish."+a)};b.onMessage=function(a){this.$1.bumpCounter("message_arrived."+a)};b.onWSFatal=function(){this.$1.bumpCounter("ws_fatal")};b.onPollRequestSent=function(){this.$1.bumpCounter("polling_request_send"),this.$2.streamRequested()};b.onPollRequestSuccess=function(){this.$1.bumpCounter("polling_request_succeed"),this.$5===0&&this.$1.bumpCounter("polling_first_success"),this.$5++};b.onPollResponse=function(a){this.$1.bumpCounter("lp.message_arrived."+a)};b.onPollFinish=function(){this.$1.bumpCounter("polling_request_finish"),this.$2.streamRequested()};b.onPollRequestFailed=function(a){this.$1.bumpCounter("polling_request_failed"),this.$1.bumpCounter("polling_request_failed_"+a),this.$6++,this.$1.debugTrace("PollRequest","Request failed existing streams count "+this.$2.getGlobalState().totalConnectionStreams),this.$2.streamClosed()};b.onPollShutdownAbort=function(){this.$2.streamClosed()};b.onTabClose=function(){this.$2.tabClosed()};return a}();g["default"]=a}),98);
__d("MqttConnectionHookCollection",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.addHook=function(a){this.$1.add(a)};b.removeHook=function(a){this.$1["delete"](a)};b.onConnectAttempt=function(){this.$1.forEach(function(a){a.onConnectAttempt==null||a.onConnectAttempt()})};b.onConnectFailure=function(){this.$1.forEach(function(a){a.onConnectFailure==null||a.onConnectFailure()})};b.onConnected=function(){this.$1.forEach(function(a){a.onConnected==null||a.onConnected()})};b.onConnectSuccess=function(){this.$1.forEach(function(a){a.onConnectSuccess==null||a.onConnectSuccess()})};b.onConnectionLost=function(){this.$1.forEach(function(a){a.onConnectionLost==null||a.onConnectionLost()})};b.onConnectionDisconnect=function(){this.$1.forEach(function(a){a.onConnectionDisconnect==null||a.onConnectionDisconnect()})};b.onSubscribe=function(a){this.$1.forEach(function(b){b.onSubscribe==null||b.onSubscribe(a)})};b.onUnsubscribe=function(a){this.$1.forEach(function(b){b.onUnsubscribe==null||b.onUnsubscribe(a)})};b.onPublish=function(a){this.$1.forEach(function(b){b.onPublish==null||b.onPublish(a)})};b.onMessage=function(a){this.$1.forEach(function(b){b.onMessage==null||b.onMessage(a)})};b.onWSFatal=function(){this.$1.forEach(function(a){a.onWSFatal==null||a.onWSFatal()})};return a}();f["default"]=a}),66);
__d("MqttProtocolClient",["ErrorSerializer","MqttEnv","MqttProtocolCodec","MqttProtocolUtils","MqttTypes","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h=20,i=6e4;a=function(){function a(a){var b=this;this.$12=function(a,c,e){c===void 0&&(c=null);b.$9.bumpCounter("protocol.debug.disconnect.internal."+a.errorName);b.$9.bumpCounter("protocol.debug.disconnect.internal");var f=b.$5,g=b.$2,h=g.onConnectFailure,i=g.onConnectionLost;b.setConnected(!1);b.$14();f?d("MqttEnv").Env.scheduleCallback(function(){i(a,c)}):d("MqttEnv").Env.scheduleCallback(function(){h(b.$11,new(d("MqttTypes").ConnectFailure)(a,e!=null?e:-1),c)})};this.$13=function(a){var c=b.$6;if(c==null){b.$9.bumpCounter("protocol.socket_send.failed.socket_null.<message type>");return 0}if(c.readyState!==c.OPEN){b.$9.bumpCounter("protocol.socket_send.failed.socket_not_open.<message type>");return 0}a=a.encode();var d=a.byteLength;c.send(a);return d};this.$3=a;this.$2={getKeepAliveIntervalSeconds:function(){return 10},getKeepAliveTimeoutSeconds:function(){return 10},ignoreSubProtocol:!1,mqttVersion:3,onConnectFailure:function(a,b,c){},onConnection:function(){},onConnectionLost:function(a,b){},onConnectSuccess:function(a){},onMessageArrived:function(a,b,c){},onMessageDelivered:function(a){},userName:""};this.$1="mqttwsclient";this.$4=0;this.$5=!1;this.$9=d("MqttEnv").Env.getLoggerInstance();this.$11=0}var b=a.prototype;b.connect=function(a){var b=this;if(this.$5)throw c("err")("Invalid state: connect - already connected");this.$2=a;this.setConnected(!1);this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$7=d("MqttEnv").Env.setTimeout(function(){b.$9.bumpCounter("protocol.error.connect.timeout"),b.$12(d("MqttTypes").MqttErrors.CONNECT_TIMEOUT)},h*1e3);this.$6=d("MqttEnv").Env.createSocket(this.$3);this.$6.binaryType="arraybuffer";this.$6.onopen=function(){b.setConnected(!0),b.$9.debugTrace("Socket-Open","MQTTProtocolClient Socket Open"),b.$11=b.$13(new(d("MqttProtocolCodec").WireMessage.Connect)(b.$1,a)),a.onConnection()};this.$6.onmessage=function(a){a=a.data;if(!(a instanceof ArrayBuffer)){b.$9.bumpCounter("protocol.error.onmessage.type");b.$12(d("MqttTypes").MqttErrors.INVALID_DATA_TYPE);return}try{a=new Uint8Array(a);b.$10!=null&&(a=d("MqttProtocolUtils").concatBuffers(b.$10,a),b.$9.bumpCounter("protocol.debug.usingMessagesBuffer"),delete b.$10,b.$10=null);a=d("MqttProtocolCodec").decodeByteMessages(a);var e=a.messages;b.$10=a.remaining;for(a=0;a<e.length;a++)b.handleMessage(e[a])}catch(e){a=c("getErrorSafe")(e);b.$10=null;b.$9.logError(a,d("MqttTypes").MqttErrors.SOCKET_MESSAGE.errorMessage);b.$9.bumpCounter("protocol.error.onmessage.parse");b.$12(d("MqttTypes").MqttErrors.SOCKET_MESSAGE,a.message)}};this.$6.onerror=function(a){b.$9.bumpCounter("protocol.error.socket");b.$9.debugTrace("Socket-Error","MQTTProtocolClient Socket Error");a=typeof a==="object"&&a!=null&&"error"in a&&!("message"in a)?a.error:a;b.$12(d("MqttTypes").MqttErrors.SOCKET_ERROR,c("ErrorSerializer").toReadableMessage(c("getErrorSafe")(a)))};this.$6.onclose=function(a){b.$9.bumpCounter("protocol.socket.close"),a.wasClean||b.$9.debugTrace("Socket-Unclean-Close","MQTTProtocolClient error code: "+a.code+" reason: "+a.reason),b.$12(d("MqttTypes").MqttErrors.SOCKET_CLOSE,a.code+" : "+a.reason)};this.$8!=null&&this.$8.cancel();this.$8=new(d("MqttProtocolUtils").Pinger)(a.getKeepAliveIntervalSeconds,a.getKeepAliveTimeoutSeconds,this.$13.bind(this,new(d("MqttProtocolCodec").WireMessage.Ping)("PINGREQ")),function(a,c){return b.$12(d("MqttTypes").MqttErrors.PING_TIMEOUT,a,c)})};b.$14=function(){var a=this;this.setConnected(!1);this.$8!=null&&this.$8.cancel();this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);this.$6!=null&&(this.$6.onopen=function(b){a.$9.debugTrace("Socket Open After Teardown","Socket opening after teardown")},this.$6.onmessage=function(a){},this.$6.onerror=function(a){},this.$6.onclose=function(b){a.$9.debugTrace("Socket Close After Teardown","code: "+b.code+", reason: "+b.reason)},this.$6.close(),this.$6=null);this.$2.onConnectSuccess=function(a){};this.$2.onConnectFailure=function(a,b){};this.$2.onConnection=function(){};this.$2.onConnectionLost=function(a){};this.$2.onMessageArrived=function(a,b,c){};this.$2.onMessageDelivered=function(a){}};b.disconnect=function(a){if(this.$6==null||this.$6.readyState!==this.$6.OPEN||!this.$5){this.$14();return}this.$13(new(d("MqttProtocolCodec").WireMessage.Disconnect)());this.$9.bumpCounter("protocol.debug.disconnect");this.$12(a)};b.isConnected=function(){return this.$5};b.setConnected=function(a){this.$5=a};b.subscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.subscribe.notconnected");throw c("err")("Invalid state: subscribe - not connected")}this.$9.bumpCounter("protocol.subscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("SUBSCRIBE",a,0,this.$15());this.$13(a)};b.unsubscribe=function(a){if(!this.$5){this.$9.bumpCounter("protocol.error.unsubscribe.notconnected");throw c("err")("Invalid state: unsubscribe - not connected")}this.$9.bumpCounter("protocol.unsubscribe."+a);a=new(d("MqttProtocolCodec").WireMessage.Subscription)("UNSUBSCRIBE",a,0,this.$15());this.$13(a)};b.publish=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithString(b),c)};b.publishBinary=function(a,b,c){return this.$16(a,d("MqttProtocolCodec").createMessageWithBytes(b),c)};b.$16=function(a,b,c){this.$5||this.$9.bumpCounter("protocol.error.publish.notconnected");this.$9.bumpCounter("protocol.publish."+a);var e=this.$15();a=new(d("MqttProtocolCodec").WireMessage.Publish)(a,b,c,e);this.$13(a);return e};b.$15=function(){++this.$4===i&&(this.$4=1);return this.$4};b.handleMessage=function(a){var b=this;switch(a.messageType){case d("MqttProtocolCodec").MESSAGE_TYPE.CONNACK:this.$7!=null&&(d("MqttEnv").Env.clearTimeout(this.$7),this.$7=null);if(a instanceof d("MqttProtocolCodec").WireMessage.ConnAck){var e=a;if(e.returnCode!==0){this.$9.bumpCounter("protocol.error.connack.invalidreturncode");this.setConnected(!1);this.$12(d("MqttTypes").MqttErrors.CONNACK_FAILURE,"connack code="+e.returnCode,e.returnCode);return}d("MqttEnv").Env.scheduleCallback(function(){b.$2.onConnectSuccess(b.$11)});this.$8!=null&&this.$8.reset()}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH:if(a instanceof d("MqttProtocolCodec").WireMessage.Publish){var f=a;d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageArrived(f.topic,f.payloadMessage,f.qos)});e=f.messageIdentifier;this.$9.bumpCounter("protocol.publish.received");if(f.qos===1&&e!=null){e=new(d("MqttProtocolCodec").WireMessage.PubAckUnsubAck)("PUBACK",e);this.$13(e)}}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PUBACK:if(a instanceof d("MqttProtocolCodec").WireMessage.PubAckUnsubAck){e=a;var g=e.messageIdentifier;this.$9.bumpCounter("protocol.puback.received");d("MqttEnv").Env.scheduleCallback(function(){b.$2.onMessageDelivered(g)})}break;case d("MqttProtocolCodec").MESSAGE_TYPE.PINGRESP:this.$8!=null&&this.$8.reset();break;case d("MqttProtocolCodec").MESSAGE_TYPE.DISCONNECT:this.$12(d("MqttTypes").MqttErrors.SERVER_DISCONNECT);break;case d("MqttProtocolCodec").MESSAGE_TYPE.SUBACK:this.$9.bumpCounter("protocol.suback.received");break;case d("MqttProtocolCodec").MESSAGE_TYPE.UNSUBACK:this.$9.bumpCounter("protocol.unsuback.received");break;default:this.$9.logError(c("err")("MqttProtocolClient: Received unhandled message type: "+a.messageType),"Received unhandled message type");this.$9.bumpCounter("protocol.error.handlemessage.unsupportedtype");break}};return a}();g["default"]=a}),98);
__d("MqttPublishListener",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({NOT_CONNECTED:"NOT_CONNECTED",PUBLISH_ERROR:"PUBLISH_ERROR",QUEUED:"QUEUED",SENT:"SENT",ACKED:"ACKED",NOT_ACKED:"NOT_ACKED"});f.MqttPublishEvent=a}),66);
__d("MqttConnection",["MqttConnectionHookCollection","MqttEnv","MqttProtocolClient","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h,i=15,j=15,k=1,l=1,m=64,n="publish",o="subscribe",p="unsubscribe",q=function(a){},r=18e4,s=5*1e3,t=15,u=21;a=function(){function a(){var a=this;this.$38=function(){return a.$20};this.$39=function(){return a.$21};this.$8=!1;this.$10=d("MqttEnv").Env.getLoggerInstance();this.$11="Disconnected";this.$17=new Set();this.$24=new Map();this.$12=0;this.$13=0;this.$14=0;this.$15=0;this.$16=0;this.$8=!1;this.$5="";this.$6=new(c("MqttUserName"))("",0,1,"",0,!0);this.$9=0;this.$18=0;this.$19=!1;this.$7=null;var b=function(){};this.$1=b;this.$2=b;this.$3=b;this.$25=!1;this.$26=!1;this.$27=new(c("MqttConnectionHookCollection"))();this.$4=function(){return[]};this.$20=i;this.$21=j;this.$22=null;this.$23=0}var e=a.prototype;e.run=function(a){var b=this,c=a.endpoint,d=a.extraConnectMessageProvider,e=a.mqttUserName,f=a.onJSError,g=a.onMessageReceived,h=a.onStateChange;a=a.subscribedTopics;if(this.$8){this.$10.debugTrace("run","Run called while in running state.");return}this.$1=h;this.$3=g;this.$5=c;this.$6=e;this.$8=!0;this.$18=Date.now();this.$12=0;this.$13=0;this.$2=f||q;a&&a.forEach(function(a){return b.$17.add(a)});this.$4=d;this.$20=i;this.$21=j;this.$28()};e.shutdown=function(a){this.$29(a),this.$30("shutdown"),this.$8=!1,this.$10.debugTrace("shutdown","Shutdown")};e.subscribe=function(a){this.$17.add(a);this.ensureConnected(o)&&this.$31(a);return!0};e.publish=function(a,b,c,d){return this.$32(a,b,c,d)};e.publishBinary=function(a,b,c,d){return this.$32(a,b,c,d)};e.$32=function(a,e,f,g){var i={reject:function(a){},resolve:function(){}};g!=null&&(i.listener=g);var j=new(h||(h=b("Promise")))(function(a,b){i.resolve=a,i.reject=b}),k=this.ensureConnected(n);!k?(g==null||g.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED),i.reject(c("err")("Client disconnected"))):this.$33(a,e,f,i);return j};e.unsubscribe=function(a){this.$17["delete"](a);this.ensureConnected(p)&&this.$34(a);return!0};e.addHook=function(a){this.$27.addHook(a)};e.removeHook=function(a){this.$27.removeHook(a)};e.isRunning=function(){return this.$8};e.getSessionId=function(){return this.$9};e.hasFatal=function(){return this.$25};e.hasConnectSuccess=function(){return this.$26};e.canPublish=function(){return this.ensureConnected("canPublish")};e.ensureConnected=function(a){return!this.$8||this.$7==null||!this.$7.isConnected()?!1:!0};e.connectionState=function(){return this.$11};e.mqttStateFromConnectionState=function(a){switch(a){case"Connecting":case"TransportConnected":return"Connecting";case"Connected":return"Connected";case"Disconnected":return"Disconnected"}throw c("err")("Unknown state "+a)};e.testOnlyGetSubscribedTopics=function(){return this.$17};e.getDisconnectCount=function(){return this.$23};e.$29=function(a){this.$8&&this.$7!=null&&(this.$35("Disconnected"),this.$7!=null&&(this.$7.disconnect(a),this.$27.onConnectionDisconnect()),this.$7=null)};e.$36=function(a){if(this.$11==="Connected"&&a==="Disconnected"&&this.$18===0){this.$18=Date.now();return}if(a==="Connecting"&&this.$18!==0&&!this.$19){this.$10.bumpCounter("protocol.reconnectstarted");this.$19=!0;return}if(a==="Connected"&&this.$18!==0){a=Date.now()-this.$18;switch(Math.floor(a/3e4)){case 0:this.$10.bumpCounter("protocol.reconnectedwithin30s");break;case 1:this.$10.bumpCounter("protocol.reconnectedwithin60s");break;case 2:this.$10.bumpCounter("protocol.reconnectedwithin90s");break;case 3:this.$10.bumpCounter("protocol.reconnectedwithin120s");break;default:this.$10.bumpCounter("protocol.reconnectedmorethan120s");break}this.$18=0;this.$19=!1;return}};e.$35=function(a){a!==this.$11&&(this.$10.debugTrace("MQTTConnection-updateState","State changed to: "+a),this.$36(a),this.$11=a,this.$1(a))};e.$28=function(){var a=this;if(!this.$8)return;this.$11!=="Disconnected"&&this.$10.debugTrace("Reconnect","Current State not disconnected: "+this.$11);this.$35("Connecting");var b=Date.now(),e=this.$10.getBrowserConnectivity();this.$9=d("MqttUtils").generateSessionId();var f=Array.from(this.$17),g=d("MqttUtils").endpointWithSessionId(this.$5,this.$9);g=d("MqttUtils").endpointWithExtraParameter(g,"cid",this.$6.getDeviceId());try{this.$7=new(c("MqttProtocolClient"))(g);var h=this.$37(),i=h.map(function(a){return a.topic});g=this.$6.gen(this.$9,f,h);this.$7!=null&&(this.$13+=1,this.$7.connect({getKeepAliveIntervalSeconds:this.$38,getKeepAliveTimeoutSeconds:this.$39,ignoreSubProtocol:!0,mqttVersion:3,onConnectFailure:function(c,d,g){return a.$40(d,b,a.$18,f,i,e,c,g)},onConnection:function(){return a.$41(h,f)},onConnectionLost:function(b,c){return a.$42(b,c)},onConnectSuccess:function(c){return a.$43(b,a.$18,f,i,e,c)},onMessageArrived:function(b,c,d){return a.$44(b,c,d)},onMessageDelivered:function(b){return a.$45(b)},userName:g}),this.$10.bumpCounter("protocol.connectattempt"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.connectattempt"),this.$27.onConnectAttempt())}catch(a){this.$10.bumpCounter("js_error_in_init_exception"),this.$35("Disconnected"),this.$46(!1,!1,b,this.$18,f,[],e,null,14,"init error - "+a.message),a&&this.$10.logErrorWarn(a,"ws_js_error"),this.$27.onWSFatal(),this.$47(new(d("MqttTypes").MqttChannelError)(!1,"ws_js_error",a),"client_init")}};e.$37=function(){var a=this.$4(),b=65536;return a.map(function(a){a.messageId=b--;return a})};e.$31=function(a){try{if(this.$7!=null){this.$7.subscribe(a);this.$10.debugTrace("#doSubscribe","Subscribing to "+a);this.$27.onSubscribe(a);this.$10.bumpCounter("protocol.subscribe");return!0}}catch(b){this.$10.logError(b,"Exception subscribing"),this.$10.bumpCounter("subscribe_exception."+a),this.$10.bumpCounter("protocol.subscribe.error")}return!1};e.$34=function(a){try{if(this.$7!=null){this.$7.unsubscribe(a);this.$10.debugTrace("#doUnsubscribe","Unsubscribing to "+a);this.$27.onUnsubscribe(a);this.$10.bumpCounter("protocol.unsubscribe");return!0}}catch(b){this.$10.logError(b,"Exception unsubscribing"),this.$10.bumpCounter("unsubscribe_exception."+a),this.$10.bumpCounter("protocol.unsubscribe.error")}return!1};e.$33=function(a,b,c,e){if(this.$7!=null)try{var f;typeof b==="string"?f=this.$7.publish(a,b,c):f=this.$7.publishBinary(a,b,c);this.$10.bumpCounter("protocol.publish");b=f!=null?f:"null";this.$10.debugTrace("#doPublish","publish "+a+" with messageId:"+b+" qos:"+c);this.$27.onPublish(a);(b=e.listener)==null||b.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT);f!=null?(this.$10.bumpCounter("publish.ack_expected"),this.$24.set(f,e)):e.resolve();return!0}catch(b){this.$10.logError(b,"Exception publishing");this.$10.bumpCounter("publish_exception."+a);e.reject(b);this.$10.bumpCounter("protocol.publish.error");return!1}else return!1};e.$48=function(a){var b=this;a===void 0&&(a=null);if(!this.$8)return;this.$29(d("MqttTypes").MqttErrors.RECONNECT);this.$30("reconnect");this.$49();this.$9=-1;this.$16=0;a=a;a==null&&(a=k*Math.pow(2,this.$12));a=Math.max(a,l);a=Math.min(a,m);a=a*(1e3+d("MqttEnv").Env.random()*200);this.$10.debugTrace("#scheduleReconnect","Reconnect in "+a+" ms");this.$22=d("MqttEnv").Env.setTimeout(function(){b.$28()},a);this.$12+=1};e.$49=function(){var a=Date.now()-this.$16,b=this.$16!==0&&a>s,c=this.$12>t;(b||c)&&(this.$12=0);this.$16!==0&&a<=s&&this.$10.bumpCounter("short_lived_session");c&&this.$10.bumpCounter("connection_attempt_limit")};e.$46=function(a,b,c,d,e,f,g,h,i,j){a?this.$14++:this.$15++;var k=Date.now();this.$10.eventLogConnect({ackReceived:b,attemptNumber:this.$13,connectionState:this.mqttStateFromConnectionState(this.$11),connectionStatus:a,disconnectCount:this.$23,duration:k-c,errorCode:i,errorMessage:j,failTotal:this.$15,hostname:this.$5,messageSizeBytes:h,osConnectivity:g,publishes:f,sessionID:this.$9,subscribedTopics:e,successTotal:this.$14,total_duration:k-d});a&&(this.$13=0)};e.$40=function(a,b,c,d,e,f,g,h){var i=a.mqttError;h=h!=null?i.errorMessage+" - "+h:i.errorMessage;this.$10.debugTrace("connect","Connect failed "+h);this.$10.bumpCounter("protocol.onconnectfailure");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectfailure");this.$27.onConnectFailure();this.$46(!1,a.connAck!==-1,b,c,d,e,f,g,i.errorCode,h);if(a.connAck!=null){this.$10.bumpCounter("protocol.connect_failure."+a.connAck);if(a.connAck===u){this.$48(r);return}}this.$48()};e.$41=function(a,b){var c=this;this.$10.bumpCounter("protocol.onconnection");this.$10.debugTrace("Connect","Socket established");this.$27.onConnected();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnection");b.forEach(function(a){c.$27.onSubscribe(a)});a.forEach(function(a){c.$27.onPublish(a.topic)});this.$35("TransportConnected")};e.$43=function(a,b,c,d,e,f){this.$10.bumpCounter("protocol.onconnectsuccess"),this.$10.debugTrace("connect","Connect success"),this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectsucess"),this.$27.onConnectSuccess(),this.$26=!0,this.$35("Connected"),this.$46(!0,!0,a,b,c,d,e,f),this.$50(c),this.$16=Date.now()};e.$42=function(a,b){this.$10.bumpCounter("protocol.onconnectionlost");this.$23++;if(a.errorCode){b=b!=null?a.errorMessage+" - "+b:a.errorMessage;this.$10.eventLogDisconnect({disconnectCount:this.$23,duration:Date.now()-this.$16,errorCode:a.errorCode,errorMessage:b,sessionID:this.$9})}this.$10.debugTrace("connect","connection lost");this.$27.onConnectionLost();this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onconnectionlost");this.$48()};e.$44=function(a,b,c){this.$10.bumpCounter("protocol.onmessagearrived");this.$6.getIsGuestAuthStringPresent()&&this.$10.bumpCounter("guestAuthentication.onmessagearrived");this.$10.debugTrace("onMessageArrived","Message received on "+a);this.$27.onMessage(a);try{this.$3(a,b,c)}catch(b){this.$10.logError(b,"Listener threw error"),this.$10.bumpCounter("listener_error."+a)}};e.$45=function(a){this.$10.bumpCounter("protocol.onmessagedelivered");var b=a!=null?a:"null";this.$10.debugTrace("onMessageDelivered","Delivered Message {ID: "+b+"}");if(a==null)return;b=this.$24.get(a);if(b==null){this.$10.bumpCounter("protocol.message_with_unknown_id");return}this.$24["delete"](a);(a=b.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.ACKED);b.resolve();this.$10.bumpCounter("publish.ack_received")};e.$30=function(a){this.$10.bumpCounter("protocol.fail_all_unacked_publishes."+a),this.$24.forEach(function(b,e,f){(e=b.listener)==null||e.onEvent(d("MqttPublishListener").MqttPublishEvent.NOT_ACKED);b.reject(c("err")(a))}),this.$24.clear()};e.$50=function(a){var b=this,c=new Set(a);c.forEach(function(a){b.$17.has(a)||b.unsubscribe(a)});a=new Set(this.$17);a.forEach(function(a){c.has(a)||b.subscribe(a)})};e.$47=function(a,b){try{this.$10.bumpCounter("js_error_in_init");this.$10.bumpCounter(b+".error");this.$25=!0;var c=a?a.message:"error";this.$10.debugTrace("onError",b+": "+c);this.$2(a)}catch(a){this.$10.bumpCounter("js_error_in_error_logging"),this.$10.logError(a,"JS error while trying to log previous error")}};e.setRunning_OnlyForTests=function(a){this.$8=a};return a}();g["default"]=a}),98);
__d("MqttChannel",["ChannelClientID","IrisSubscribeChecker","MetaConfig","MqttAnalyticsHook","MqttConnection","MqttEnv","MqttPublishListener","MqttTypes","MqttUserName","MqttUtils","MqttWebSocketUtils","Promise","Run","err","isFastRefreshEnabledForCurrentDomain","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=29125;a=function(){function a(a){var b=this,e=a.endpoint,f=a.pollingEndpoint,g=a.userFbid,h=a.appId,i=a.initialSubscribedTopics,j=a.capabilities,k=a.clientCapabilities,l=a.chatVisibility;l=l===void 0?!0:l;var m=a.guestAuthString;m=m===void 0?null:m;var n=a.phpOverride;n=n===void 0?"":n;var o=a.clientType;o=o===void 0?"websocket":o;var p=a.deviceId;p=p===void 0?c("ChannelClientID").getID():p;var q=a.pageId;q=q===void 0?null:q;var r=a.assetIds;r=r===void 0?null:r;a=a.appSpecificInfo;a=a===void 0?null:a;this.$11=d("MqttEnv").Env.getLoggerInstance();this.$11.setAppId(h);this.$12=new(c("MqttUserName"))(g,j,k,p,h,l,m,n,o,q,r,a);this.$1=e;this.$2=f;this.$5="Disconnected";this.$7="LPInactive";this.$6="Disconnected";this.$3=[];this.$4=new Set();this.$8=new Map();this.$9=new Map();this.$10=new(c("MqttConnection"))();this.$13=null;this.$16=new(c("MqttAnalyticsHook"))();this.$15=new Map();this.$14=[];if(!d("MqttEnv").Env.isUserLoggedInNow()&&!c("isFastRefreshEnabledForCurrentDomain")()&&(m==null||m=="")){this.$11.bumpCounter("logged_out_init");return}this.$10.addHook(this.$16);this.$10.addHook(new(c("IrisSubscribeChecker"))(function(){return b.$4.size>0}));this.$17(i);this.$18()}var e=a.prototype;e.$17=function(a){var b=this;if(this.$10.isRunning()){this.$19("run","Connection started calling run again");return}if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled))if(c("MetaConfig")._("15")){this.$19("MqttChannel","Websocket disabled, will do long polling only");return}else if(!d("MqttWebSocketUtils").hasWSSupport()){this.$19("MqttChannel","Websocket Unavailable, will do long polling only");this.$11.bumpCounter("ws_unavailable_polling");return}this.$10.run({endpoint:this.$1,extraConnectMessageProvider:function(){return b.$20()},mqttUserName:this.$12,onJSError:function(a){b.$21(a)},onMessageReceived:function(a,c,d){b.$22(a,c,d)},onStateChange:function(a){b.$23(a)},subscribedTopics:a});this.$24()};e.$24=function(){var a=this;d("Run").onUnload(function(){a.$25(d("MqttTypes").MqttErrors.BROWSER_CLOSE)})};e.shutdown=function(){this.$25(d("MqttTypes").MqttErrors.APP_DISCONNECT)};e.$25=function(a){this.$10&&this.$10.shutdown(a),this.$13&&this.$13.shutdown(),this.$16.onTabClose()};e.publish=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.publishBinary=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});return this.$26(a,b,c)};e.$26=function(a,b,c){c===void 0&&(c={qos:1,skipBuffer:!1});var e;c.qos===0?e=this.$27(a,b,c.listener):e=this.$28(a,b,c);d("MqttUtils").promiseDone(e,function(){},function(a){(a=c.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR)});return e};e.$27=function(a,b,c){return this.$29(a,b,0,c,1,null)};e.$28=function(a,c,e){var f={reject:function(a){},resolve:function(){}},g=new(h||(h=b("Promise")))(function(a,b){f.resolve=a,f.reject=b}),i=d("MqttEnv").Env.random();c={ack:f,attempt:0,options:e,payload:c,publishToken:i,startTime:Date.now(),timeoutId:null,topic:a};if(e.skipBuffer)if(this.$10.connectionState()==="Connecting"){this.$14.push(c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED)}else this.$30(c);else{c.timeoutId=this.$31(i);this.$15.set(i,c);(a=e.listener)==null||a.onEvent(d("MqttPublishListener").MqttPublishEvent.QUEUED);this.$32(c)}return g};e.$30=function(a){a.attempt+=1,d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){a.ack.resolve()},function(b){a.ack.reject(b)})};e.$32=function(a){var b=this;a.attempt+=1;d("MqttUtils").promiseDone(this.$29(a.topic,a.payload,a.options.qos,a.options.listener,a.attempt,a.startTime),function(){return b.$33(a)},function(a){})};e.$29=function(a,b,e,f,g,h){var i=this,j,k,l=this.getConnectionState(),m=Date.now();!this.$10.canPublish()&&this.$13&&this.$13.canPublish()?(typeof b==="string"?j=this.$13.publish(a,b,e):j=this.$13.publishBinary(a,b,e),k="lp",f!=null&&(j=j.then(function(){return f.onEvent(d("MqttPublishListener").MqttPublishEvent.SENT)})),this.$11.bumpCounter("try_publish_lp")):(typeof b==="string"?j=this.$10.publish(a,b,e,f):j=this.$10.publishBinary(a,b,e,f),k="ws",this.$11.bumpCounter("try_publish_ws"));c("promiseDone")(j,function(){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!0,thisAttemptStartTime:m,topic:a})},function(c){i.$11.eventLogOutgoingPublish({attempt:g,connectionState:l,disconnectCount:i.$10.getDisconnectCount(),errorMessage:c!=null?c.toString():null,firstAttemptStartTime:h,payloadSizeBytes:b.length*2,protocol:k,qos:e,sessionID:i.$10.getSessionId(),success:!1,thisAttemptStartTime:m,topic:a})});return j};e.subscribe=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$8.get(a);!d?(d=[b],this.$8.set(a,d)):d.push(b);return function(){var d=c.$8.get(a)||[];d=d.filter(function(a){return a!==b});c.$8.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeBinary=function(a,b){var c=this;this.$10.subscribe(a);var d=this.$9.get(a);!d?(d=[b],this.$9.set(a,d)):d.push(b);return function(){var d=c.$9.get(a)||[];d=d.filter(function(a){return a!==b});c.$9.set(a,d);d.length===0&&c.unsubscribeAll(a)}};e.subscribeChannelEvents=function(a){var b=this;this.$3.push(a);return function(){b.unsubscribeChannelEvents(a)}};e.unsubscribeChannelEvents=function(a){a=this.$3.indexOf(a);a>-1&&this.$3.splice(a,1)};e.registerExtraConnectPayloadProvider=function(a){var b=this;this.$19("MqttChannel","registerExtraConnectPayloadProvider called");this.$4.add(a);if(this.$10.isRunning()){a=a.getPublishMessages();a.forEach(function(a){typeof a.payload==="string"?b.publish(a.topic,a.payload,{qos:a.qos,skipBuffer:!0}):b.publishBinary(a.topic,a.payload,{qos:a.qos,skipBuffer:!0})})}};e.unregisterExtraConnectPayloadProvider=function(a){this.$4["delete"](a)};e.unsubscribeAll=function(a){this.$10.unsubscribe(a),this.$8["delete"](a),this.$9["delete"](a)};e.getConnectionState=function(){return this.$5};e.getLongPollingStatus=function(){return this.$7};e.getEndpoint=function(){return this.$1};e.addHook=function(a){this.$10.addHook(a)};e.removeHook=function(a){this.$10.removeHook(a)};e.testOnlyMessageReceived=function(a,b){this.$22(a,b,-1)};e.$34=function(a){var b=this.$15.get(a);b!=null&&b.timeoutId!=null&&d("MqttEnv").Env.clearTimeout(b.timeoutId);this.$15["delete"](a)};e.$31=function(a){var b=this;return d("MqttEnv").Env.setTimeout(function(a){var d=b.$15.get(a);if(!d)return;var e=d.topic;b.$11.bumpCounter("publish_timeout."+e);b.$11.debugTrace("publish_timeout","Timeout publishing topic: "+e+" publishToken: "+a);b.$34(a);d.ack.reject(c("err")("Publish Timed Out"))},i,a)};e.$33=function(a){var b=a.publishToken,c=this.$15.get(b);if(!c)return;this.$34(b);a.ack.resolve();this.$11.debugTrace("publish_success","Topic: "+a.topic+" publishToken: "+a.publishToken);this.$11.bumpCounter("publish_success."+a.topic)};e.$22=function(a,b,c){var d=this.$8.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadString.length*2,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no listeners");else for(d of d)try{d(b.payloadString)}catch(a){this.$11.logError(a,"Listener exception"),this.$11.bumpCounter("listener_error")}d=this.$9.get(a);this.$11.eventLogIncomingPublish({connectionState:this.getConnectionState(),disconnectCount:this.$10.getDisconnectCount(),payloadSizeBytes:b.payloadBytes.length,qos:c,sessionID:this.$10.getSessionId(),topic:a});if(!d)this.$11.debugTrace("_onMessageReceived",a+" being dropped, no binary listeners");else for(c of d)try{c(b.payloadBytes)}catch(a){this.$11.logError(a,"Binary Listener exception"),this.$11.bumpCounter("listener_error")}};e.$21=function(a){if(d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)){a.isRecoverable?this.$11.bumpCounter("recoverable_error_skipped"):this.$11.bumpCounter("unrecoverable_error_skipped");return}a.isRecoverable?this.$11.bumpCounter("recoverable_error_not_skipped"):this.$11.bumpCounter("unrecoverable_error_not_skipped");this.$35(a)};e.$36=function(a){this.$35(a)};e.$35=function(a){for(var b of this.$3)b.onJSError&&b.onJSError(a)};e.$37=function(){var a=this;this.$14.forEach(function(b){a.$30(b),a.$11.bumpCounter("publish_from_temp_buffer."+b.topic)});this.$14=[];this.$15.forEach(function(b,c,d){a.$32(b),a.$11.bumpCounter("publish_from_buffer."+b.topic)})};e.$23=function(a){a==="Connecting"?(this.$14.forEach(function(a){a.ack.reject(c("err")("Client Reconnecting - "+a.topic))}),this.$14=[]):a==="TransportConnected"&&this.$37(),this.$19("_changeState","Connection state = "+a),this.$38(a,this.$7)};e.$39=function(a,b){this.$13&&this.$13.canPublish()&&this.$37(),this.$19("_changeLPStatus","LP status = "+a+", LP Request status = "+b),this.$38(this.$6,a)};e.$38=function(a,b){var c=this.$10.mqttStateFromConnectionState(a);this.$13&&this.$13.canPublish()&&(c="Connected");this.$6=a;(c!==this.$5||b!=this.$7)&&(this.$5=c,this.$7=b,this.$40(c))};e.$40=function(a){for(var b of this.$3)b.onMQTTStateChanged(a)};e.$20=function(){var a=this,b=[];this.$4.forEach(function(c){try{c=c.getPublishMessages();Array.prototype.push.apply(b,c)}catch(b){a.$11.logError(b,"ConnectPayload provider exception"),a.$11.bumpCounter("connectPayloadProvider_error")}});return b};e.$18=function(){var a=this;d("MqttEnv").Env.genGk(d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled)&&!c("MetaConfig")._("261")&&this.$2&&this.$2!=""&&c("requireDeferred")("MqttLongPollingRunner").__setRef("MqttChannel").onReady(function(b){b=new b(a.$2,a.$12,a.$10.hasFatal(),a.$10.hasConnectSuccess(),function(b,c,d){return a.$22(b,c,d)},function(){var b=Array.from(a.$8.keys()),c=Array.from(a.$9.keys());return Array.from(new Set(b.concat(c)))},function(){return a.$20()},function(b){a.$36(b)},function(b,c){a.$39(b,c)});b.start();a.$10.addHook(b);b.addHook(a.$16);a.$13=b;a.$11.debugTrace("MqttChannel","longPollingRunner loaded")})};e.$19=function(a,b){this.$11.debugTrace(a,"Mqtt channel: "+b)};e.setForegroundState=function(a){this.$12&&this.$12.setForegroundState(a)};e.setChatVisibility=function(a){this.$12&&this.$12.setChatVisibility(a)};e.getEndpointCapabilities=function(){return this.$12.getEndpointCapabilities()};e.setEndpointCapabilities=function(a){this.$12.setEndpointCapabilities(a)};e.getConnection_OnlyForTests=function(){return this.$10};return a}();g["default"]=a}),98);
__d("MqttEnvConfigStorage",["WebStorage"],(function(a,b,c,d,e,f,g){var h,i="mqtt:";function a(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();if(d){d=d.getItem(i+a);if(d!=null)return d}return b}function b(a,b){var d=(h||(h=c("WebStorage"))).getLocalStorage();d&&(b==null?d.removeItem(i+a):(h||(h=c("WebStorage"))).setItemGuarded(d,i+a,b))}g.configRead=a;g.configWrite=b}),98);
__d("MqttUnifiedClientConnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744057");b=d("FalcoLoggerInternal").create("mqtt_unified_client_connect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientDisconnectFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744058");b=d("FalcoLoggerInternal").create("mqtt_unified_client_disconnect",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientIncomingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744059");b=d("FalcoLoggerInternal").create("mqtt_unified_client_incoming_publish",a);e=b;g["default"]=e}),98);
__d("MqttUnifiedClientOutgoingPublishFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744060");b=d("FalcoLoggerInternal").create("mqtt_unified_client_outgoing_publish",a);e=b;g["default"]=e}),98);
__d("MqttWsClientTypedLoggerLite",["generateLiteTypedLogger"],(function(a,b,c,d,e,f){"use strict";e.exports=b("generateLiteTypedLogger")("logger:MqttWsClientLoggerConfig")}),null);
__d("MqttLogger",["ChannelClientID","FBLogger","LogHistory","MetaConfig","MqttEnv","MqttGlobalStreamCounter","MqttUnifiedClientConnectFalcoEvent","MqttUnifiedClientDisconnectFalcoEvent","MqttUnifiedClientIncomingPublishFalcoEvent","MqttUnifiedClientOutgoingPublishFalcoEvent","MqttWsClientTypedLoggerLite","NetworkStatus","ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("MetaConfig")._("99"),j="mqtt_client",k=100,l="WEBSOCKET",m=typeof window!=="undefined"?window:self,n=null,o={CLIENT_ERROR:"mqtt_client_error",CONNECT:"mqtt_client_connect",DISCONNECT:"mqtt_client_disconnect",PUBLISH:"mqtt_client_publish",PUBLISH_TIMEOUT:"mqtt_qos1_publish_timeout",SOCKET_DISCONNECT:"mqtt_protocol_error"},p={CONNECT:"connect",DISCONNECT:"disconnect",INCOMING_PUBLISH:"incoming_publish",OUTGOING_PUBLISH:"outgoing_publish"};a=function(){function a(a){this.$1=d("LogHistory").getInstance(j),this.$2=0,this.$3=Date.now(),this.$4=c("ChannelClientID").getID(),this.$7(),this.$5=d("MqttGlobalStreamCounter").getInstance(),this.$5.isEnabled()||(this.$5=null),this.$6=a}a.getInstance=function(b){n||(n=new a(b));return n};var b=a.prototype;b.setAppId=function(a){this.$2===0&&(this.$2=a)};b.eventLogConnect=function(a){var b=a.ackReceived,d=a.attemptNumber,e=a.connectionState,f=a.connectionStatus,g=a.disconnectCount,h=a.duration,i=a.errorMessage,j=a.failTotal,k=a.hostname,m=a.messageSizeBytes,n=a.osConnectivity,q=a.sessionID,r=a.successTotal;a=a.total_duration;var s=f?"success":"failed";this.bumpCounter(o.CONNECT+"."+s);s=r/(r+j);r=n&&this.getBrowserConnectivity();var t={acked:b,attempt_number:d.toString(),client_type:l,connection_state:e,disconnect_count:g.toString(),duration:h.toString(),error:i,event_type:p.CONNECT,extra_data:{connect_success_rate:s.toString(),device_id:this.$4,hostname:k,connectionStatus:f.toString(),exposure:(j=this.$6)!=null?j:""},os_connectivity:r,payload_size:m==null?void 0:m.toString(),session_id:q.toString(),total_duration:a.toString(),ws_count:(n=this.$5)==null?void 0:n.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientConnectFalcoEvent").log(function(){return t})})};b.eventLogPull=function(a){var b=a.duration,c=a.errorMessage,e=a.hostname,f=a.pullEventName,g=a.sessionID;a=a.status;a={connection_status:a,device_id:this.$4,duration:b,error_message:c,hostname:e,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),session_id:g};this.$9(f,a)};b.eventLogPullFinish=function(a){var b=a.duration,c=a.errorMessage,e=a.publishReceived,f=a.publishSent,g=a.pullEventName;a=a.sessionID;b={device_id:this.$4,duration:b,error_message:c,href:m.location.hostname,logged_in:d("MqttEnv").Env.isUserLoggedInNow(),publish_received:e,publish_sent:f,session_id:a};this.$9(g,b)};b.eventLogDisconnect=function(a){var b=a.disconnectCount,d=a.duration,e=a.errorMessage;a=a.sessionID;this.bumpCounter(o.DISCONNECT);var f={client_type:l,connection_state:"Disconnected",disconnect_count:b.toString(),duration:d.toString(),error:e,event_type:p.DISCONNECT,extra_data:{device_id:this.$4,exposure:(b=this.$6)!=null?b:""},os_connectivity:this.getBrowserConnectivity(),session_id:a.toString(),ws_count:(d=this.$5)==null?void 0:d.getGlobalState().totalConnectionStreams.toString()};this.$8(function(){c("MqttUnifiedClientDisconnectFalcoEvent").log(function(){return f})})};b.eventLogOutgoingPublish=function(a){var b=a.attempt,d=a.connectionState,e=a.disconnectCount,f=a.errorMessage,g=a.firstAttemptStartTime,h=a.payloadSizeBytes,i=a.protocol,j=a.qos,k=a.sessionID,m=a.success,n=a.thisAttemptStartTime;a=a.topic;this.bumpCounter(o.PUBLISH+"."+a);var q=Date.now(),r={acked:j===1?m:null,attempt_number:b.toString(),client_type:l,connection_state:d,disconnect_count:e.toString(),duration:(q-n).toString(),error:f,event_type:p.OUTGOING_PUBLISH,extra_data:{device_id:this.$4,protocol:i},os_connectivity:this.getBrowserConnectivity(),payload_size:h.toString(),qos:j.toString(),session_id:k.toString(),topic:a,total_duration:g!=null?(q-g).toString():null};this.$8(function(){c("MqttUnifiedClientIncomingPublishFalcoEvent").log(function(){return r})})};b.eventLogIncomingPublish=function(a){var b=a.connectionState,d=a.disconnectCount,e=a.payloadSizeBytes,f=a.qos,g=a.sessionID;a=a.topic;var h={client_type:l,connection_state:b,disconnect_count:d.toString(),event_type:p.INCOMING_PUBLISH,extra_data:{device_id:this.$4},os_connectivity:this.getBrowserConnectivity(),payload_size:e.toString(),qos:f.toString(),session_id:g.toString(),topic:a};b=a=="/webrtc"||a=="/rtc_multi";this.$10(function(){c("MqttUnifiedClientOutgoingPublishFalcoEvent").log(function(){return h})},50,b)};b.logError=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).mustfix(b)}catch(a){}})};b.logErrorWarn=function(a,b){d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c("FBLogger")(j).catching(a).warn(b)}catch(a){}})};b.logWarn=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.warn(a,b)}catch(a){}})};b.debugTrace=function(a,b){var c=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){try{c.$1.debug(a,b)}catch(a){}})};b.bumpCounter=function(a){var b=this;if(!d("Random").coinflip(k))return;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.$2!==0&&(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",b.$2+"."+a,k),(h||(h=d("ODS"))).bumpEntityKey(2966,"mqtt_ws_client",a,k)})};b.$9=function(a,b,e){var f=this;d("MqttEnv").Env.scheduleLoggingCallback(function(){b.event_type=a;b.app_id=f.$2;b.online=f.$11();var d=JSON.stringify(b);f.$1.log(a,d,{weight:e});a!==o.DISCONNECT&&c("MqttWsClientTypedLoggerLite").log(b)})};b.$10=function(a,b,c){i&&b!==0?c=c||d("Random").coinflip(b):c=!0;c&&d("MqttEnv").Env.scheduleCallback(a)};b.$8=function(a){this.$10(a,0,!1)};b.$11=function(){return m.navigator&&m.navigator.onLine!==void 0?m.navigator.onLine:!1};b.getBrowserConnectivity=function(){return c("NetworkStatus").isOnline()};b.$7=function(){var a=this;if(m.navigator&&m.navigator.onLine!==void 0){var b=function(b){b=b.online;b||a.bumpCounter("browser_disconnect")};c("NetworkStatus").onChange(b)}};return a}();g["default"]=a}),98);
__d("MqttEnvGk",["MqttEnv","MqttLogger","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("MqttEnv").MqttGkNames.mqtt_waterfall_log_client_sampling:return c("gkx")("21119");case d("MqttEnv").MqttGkNames.mqtt_ws_polling_enabled:return!0;case d("MqttEnv").MqttGkNames.mqtt_lp_use_fetch:return c("gkx")("21120");case d("MqttEnv").MqttGkNames.mqtt_fast_lp:return!1;case d("MqttEnv").MqttGkNames.mqtt_lp_no_delay:return c("gkx")("21122");case d("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling:return c("gkx")("21123");case d("MqttEnv").MqttGkNames.mqttweb_global_connection_counter:return c("gkx")("21124");default:c("MqttLogger").getInstance().logError(new Error("unknown gk"),"Unknown GK value "+a);return!1}}g["default"]=a}),98);
__d("MqttEnvInitializer",["CurrentMessengerUser","MqttEnv","MqttEnvConfigStorage","MqttEnvGk","MqttLogger","Random","clearTimeout","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MqttEnv").Env.initialize(c("Random").random,d("CurrentMessengerUser").isLoggedInNow,c("clearTimeout"),c("setTimeoutAcrossTransitions"),function(){return c("MqttLogger").getInstance()},c("MqttEnvGk"),a!=null?a:null,null,null,d("MqttEnvConfigStorage").configRead,d("MqttEnvConfigStorage").configWrite)}b={genGk:c("MqttEnvGk"),initialize:a};g["default"]=b}),98);
__d("FBMqttChannel",["MqttChannel","MqttConfig","MqttEnvInitializer"],(function(a,b,c,d,e,f,g){"use strict";c("MqttEnvInitializer").initialize();b=new(c("MqttChannel"))({appId:(a=c("MqttConfig")).appID,capabilities:a.capabilities,chatVisibility:!1,clientCapabilities:a.clientCapabilities,endpoint:a.endpoint,initialSubscribedTopics:a.subscribedTopics,phpOverride:a.hostNameOverride,pollingEndpoint:a.pollingEndpoint,userFbid:a.fbid});g["default"]=b}),98);
__d("TWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(b){b===void 0&&(b=a.DEFAULT_BYTE_BUFFER_SIZE),this.$1=new DataView(new ArrayBuffer(b)),this.$2=0}var b=a.prototype;b.write=function(a){this.$2+a.length>this.$1.byteLength&&this.$3(this.$2+a.length);for(var b=0;b<a.length;b++)this.$1.setUint8(this.$2+b,a[b]);this.$2+=a.length;return a.length};b.writeByte=function(a){this.$2+1>this.$1.byteLength&&this.$3(this.$2+1);this.$1.setUint8(this.$2,a);this.$2++;return 1};b.writeFloatBE=function(a){this.$2+Float32Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float32Array.BYTES_PER_ELEMENT);this.$1.setFloat32(this.$2,a);this.$2+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$2+Float64Array.BYTES_PER_ELEMENT>this.$1.byteLength&&this.$3(this.$2+Float64Array.BYTES_PER_ELEMENT);this.$1.setFloat64(this.$2,a);this.$2+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){var a=new Uint8Array(this.$1.buffer,0,this.$2);return a};b.currentSize=function(){return this.$2};b.getUnderlyingDataView=function(){return this.$1};b.$3=function(a){a=a*2;if(!Number.isSafeInteger(a))throw new Error("unable to resize");a=new DataView(new ArrayBuffer(a));for(var b=0;b<this.$2;b++)a.setUint8(b,this.$1.getUint8(b));this.$1=a};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();a.DEFAULT_BYTE_BUFFER_SIZE=16;f["default"]=a}),66);
__d("StringToUtf8",["TWriteBuffer"],(function(a,b,c,d,e,f,g){a=function(a){var b=new(c("TWriteBuffer"))(a.length),d;for(var e=0;e<a.length;e++){d=a.charCodeAt(e);if(d<128)b.writeByte(d);else if(d<2048)b.writeByte(d>>6|192),b.writeByte(d&63|128);else if((d&64512)==55296){if(e+1>=a.length)throw new Error("UTF-16 string is truncated: ["+d.toString(16)+"]");if((a.charCodeAt(e+1)&64512)!==56320)throw new Error("Invalid UTF-16 string: ["+d.toString(16)+", "+a.charCodeAt(e+1).toString(16)+"]");d=65536+((d&1023)<<10)+(a.charCodeAt(++e)&1023);b.writeByte(d>>18|240);b.writeByte(d>>12&63|128);b.writeByte(d>>6&63|128);b.writeByte(d&63|128)}else b.writeByte(d>>12|224),b.writeByte(d>>6&63|128),b.writeByte(d&63|128)}return b.toByteArray()};g.StringToUtf8=a}),98);
__d("TNoOpWriteBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(){this.$1=0}var b=a.prototype;b.write=function(a){this.$1+=a.length;return a.length};b.writeByte=function(a){this.$1++;return 1};b.writeFloatBE=function(a){this.$1+=Float32Array.BYTES_PER_ELEMENT;return Float32Array.BYTES_PER_ELEMENT};b.writeDoubleBE=function(a){this.$1+=Float64Array.BYTES_PER_ELEMENT;return Float64Array.BYTES_PER_ELEMENT};b.toByteArray=function(){throw new Error("operation not supported")};b.currentSize=function(){return this.$1};b.readByte=function(){throw new Error("operation not supported")};b.readBytes=function(a){throw new Error("operation not supported")};b.readFloatBE=function(){throw new Error("operation not supported")};b.readDoubleBE=function(){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("TReadBuffer",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=a,this.$2=0}var b=a.prototype;b.readByte=function(){if(this.$2<this.$1.length)return this.$1[this.$2++];throw new Error("no available byte to read")};b.readBytes=function(a){if(a<0)throw new Error("cannot readBytes of negative length: "+a);if(a+this.$2>this.$1.length)throw new Error("not enough bytes to read");var b=new Uint8Array(this.$1.buffer,this.$3(),a);this.$2+=a;return b};b.readFloatBE=function(){if(Float32Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat32(this.$3());this.$2+=Float32Array.BYTES_PER_ELEMENT;return a};b.readDoubleBE=function(){if(Float64Array.BYTES_PER_ELEMENT+this.$2>this.$1.length)throw new Error("not enough bytes to read");var a=new DataView(this.$1.buffer).getFloat64(this.$3());this.$2+=Float64Array.BYTES_PER_ELEMENT;return a};b.$3=function(){return this.$2+this.$1.byteOffset};b.getCurrentCursor=function(){return this.$2};b.writeByte=function(a){throw new Error("operation not supported")};b.write=function(a){throw new Error("operation not supported")};b.toByteArray=function(){throw new Error("operation not supported")};b.writeFloatBE=function(a){throw new Error("operation not supported")};b.writeDoubleBE=function(a){throw new Error("operation not supported")};return a}();f["default"]=a}),66);
__d("ThriftTypes",[],(function(a,b,c,d,e,f){a=Object.freeze({STOP:0,VOID:1,BOOL:2,BYTE:3,I08:3,DOUBLE:4,I16:6,I32:8,I64:10,STRING:11,STRUCT:12,MAP:13,SET:14,LIST:15,FLOAT:19});b=a;f["default"]=b}),66);
__d("Utf8ToString",[],(function(a,b,c,d,e,f){var g=function(a,b){throw new Error(a+": ["+b.map(function(a){return a.toString(16)}).toString()+"]")},h=function(a){g("Invalid UTF-8 sequence",a)},i=function(a,b){g("Not enough bytes for "+a+"-byte sequence",b)};a=function(a){var b=0,c=[];while(b<a.length){var d=a[b++];if(d<128)c.push(String.fromCharCode(d));else if(d>=128&&d<194)h([d]);else if(d>=194&&d<224){b>=a.length&&i(2,[d]);var e=a[b++];(e&192)!==128&&h([d,e]);c.push(String.fromCharCode((d&31)<<6|e&63))}else if(d>=240&&d<245){b+2>=a.length&&i(4,[d]);e=a[b++];var f=a[b++],g=a[b++];(d==240&&(!(e>=144&&e<192)||(f&192)!==128||(g&192)!==128)||d>=241&&d<244&&((e&192)!==128||(f&192)!==128||(g&192)!==128)||d==244&&(!(e>=128&&e<144)||(f&192)!==128||(g&192)!==128))&&h([d,e,f,g]);e=((d&7)<<18|(e&63)<<12|(f&63)<<6|g&63)-65536;c.push(String.fromCharCode(55296+(e>>10)));c.push(String.fromCharCode(56320+(e&1023)))}else if(d>=245)h([d]);else{b+1>=a.length&&i(3,[d]);f=a[b++];g=a[b++];d==224?f>=160&&f<192||h([d,f,g]):d>=225&&d<237?f>=128&&f<192||h([d,f,g]):d==237?f>=128&&f<160||h([d,f,g]):d>=238&&d<240&&(f>=128&&f<192||h([d,f,g]));g>=128&&g<192||h([d,f,g]);c.push(String.fromCharCode((d&15)<<12|(f&63)<<6|g&63))}}return c.join("")};f.Utf8ToString=a}),66);/*FB_PKG_DELIM*/
__d("CometTahoeCustomVideoAreaContext",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k=i.createContext({customVideoAreaHidden:!0,setCustomVideoAreaHidden:c("emptyFunction")});function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=j(!0),e=c[0];c=c[1];b[0]!==e?(c={customVideoAreaHidden:e,setCustomVideoAreaHidden:c},b[0]=e,b[1]=c):c=b[1];e=c;c=e;b[2]!==a||b[3]!==c?(e=i.jsx(k.Provider,{value:c,children:a}),b[2]=a,b[3]=c,b[4]=e):e=b[4];return e}g.CometTahoeCustomVideoAreaContext=k;g.CometTahoeCustomVideoAreaContextProvider=a}),98);
__d("CometTahoeSidePaneContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b={rightRailExpanded:!1,rightRailHidden:!1,setRightRailExpanded:function(){},setRightRailHidden:function(){}};c=a.createContext(b);g["default"]=c}),98);
__d("VideoControlsContainerFocusedContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext(!1);g["default"]=b}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","react-compiler-runtime","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useState,n=44,o={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.height,g=a.initialBottomRowAddOn,i=a.isBackgroundVisible,p=a.isVisible,q=a.xstyle;a=g===void 0?null:g;g=m(0);var r=g[0],s=g[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(a){s(a.height)},b[0]=g):g=b[0];var t=c("useResizeObserver")(g),u=d("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(a);g=(j||(j=d("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions();var v=g.release,w=g.reserve,x=f!=null?f:n;b[1]!==x||b[2]!==i||b[3]!==p||b[4]!==v||b[5]!==w?(a=function(){if(Boolean(p)||Boolean(i)){var a=w({location:"bottom",size:x});return function(){v(a)}}},g=[p,i,w,v,x],b[1]=x,b[2]=i,b[3]=p,b[4]=v,b[5]=w,b[6]=a,b[7]=g):(a=b[6],g=b[7]);l(a,g);var y=i===!1||p===!1,z=i===!0||p===!0;b[8]!==u||b[9]!==r||b[10]!==t||b[11]!==e||b[12]!==x||b[13]!==y||b[14]!==z||b[15]!==p||b[16]!==q?(f=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsx(c("VideoControlsContainerFocusedContext").Provider,{value:b,children:k.jsxs("div",babelHelpers["extends"]({},{0:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h"},4:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},2:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h xg01cxk x47corl xlshs6z"},6:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np xg01cxk x47corl xlshs6z"},1:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x1hc1fzr"},5:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x1hc1fzr"},3:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x47corl xlshs6z x1hc1fzr"},7:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x47corl xlshs6z x1hc1fzr"}}[!!(u==null)<<2|!!(p===!1)<<1|!!(p===!0)<<0],{"data-testid":void 0,children:[k.jsx("div",{className:(h||(h=c("stylex")))(o.backgroundGradient,y&&o.hidden,z&&o.visible,q),style:{height:x+r}}),k.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:y,children:u==null?e:k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:e}),k.jsx(c("CometErrorBoundary.react"),{children:k.jsx("div",{ref:t,children:u})})]})})]}))})}}),b[8]=u,b[9]=r,b[10]=t,b[11]=e,b[12]=x,b[13]=y,b[14]=z,b[15]=p,b[16]=q,b[17]=f):f=b[17];return f}g["default"]=a}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext;function a(a){var b=d("react-compiler-runtime").c(10),e=a.children,f=a.isVisible,g=a.noPaddingEnd;a=a.noPaddingStart;f=f===void 0?!0:f;g=g===void 0?!1:g;a=a===void 0?!1:a;var h=j(c("VideoControlsContainerFocusedContext"));f=f||h;h=j(c("VideoPlayerControlsHiddenContext"));var k;b[0]!==f||b[1]!==g||b[2]!==a?(k={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1fmh03i x47corl"},4:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1fmh03i x47corl"},2:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1fmh03i x47corl"},6:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1hc1fzr"},5:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1hc1fzr"},3:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1hc1fzr"},7:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1hc1fzr"}}[!!g<<2|!!a<<1|!!f<<0],b[0]=f,b[1]=g,b[2]=a,b[3]=k):k=b[3];g=h||!f;b[4]!==e||b[5]!==g?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:g,children:e}),b[4]=e,b[5]=g,b[6]=a):a=b[6];b[7]!==k||b[8]!==a?(h=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),b[7]=k,b[8]=a,b[9]=h):h=b[9];return h}function b(a){var b=d("react-compiler-runtime").c(8),e=a.children;a=a.isVisible;a=a===void 0?!0:a;var f=j(c("VideoControlsContainerFocusedContext"));a=a||f;f=j(c("VideoPlayerControlsHiddenContext"));var g;b[0]!==a?(g={0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1hc1fzr"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];f=f||!a;b[2]!==e||b[3]!==f?(a=i.jsx(c("VideoPlayerControlsHiddenContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g.Contracted=a;g.Expanded=b}),98);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});g["default"]=b}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","FBLogger","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.onPress,f=a.playbackIcon,g=a.showTooltip;a=a.useOutlineIcons;g=g===void 0?!0:g;var j,l;bb0:switch(f){case"pause":var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Pause"),b[0]=m):m=b[0];j=m;b[1]!==a?(m=a===!0?d("fbicon")._(i("497677"),20):d("fbicon")._(i("497675"),20),b[1]=a,b[2]=m):m=b[2];l=m;break bb0;case"replay":b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Replay"),b[3]=m):m=b[3];j=m;b[4]!==a?(m=a===!0?d("fbicon")._(i("534222"),20):d("fbicon")._(i("534219"),20),b[4]=a,b[5]=m):m=b[5];l=m;break bb0;case"play":b[6]===Symbol["for"]("react.memo_cache_sentinel")?(m=h._(/*BTDS*/"Play"),b[6]=m):m=b[6];j=m;b[7]!==a?(m=a===!0?d("fbicon")._(i("484866"),20):d("fbicon")._(i("484863"),20),b[7]=a,b[8]=m):m=b[8];l=m;break bb0;default:throw c("FBLogger")("comet_video_player").mustfixThrow("The playback icon is unsupported %s",f)}a=g?j:null;b[9]!==l||b[10]!==j||b[11]!==e||b[12]!==a?(m=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:j,onPress:e,tooltip:a}),b[9]=l,b[10]=j,b[11]=e,b[12]=a,b[13]=m):m=b[13];return m}g["default"]=a}),226);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","react-compiler-runtime","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(14),e=a.isNPC,f=a.showTooltip,g=a.unmuteOnPlay;a=a.useOutlineIcons;var h=e===void 0?!1:e;e=f===void 0?!0:f;var m=g===void 0?!1:g;b[0]!==h?(f=function(){h&&c("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},g=[h],b[0]=h,b[1]=f,b[2]=g):(f=b[1],g=b[2]);k(f,g);f=c("useVideoPlayerControllerSubscription")(l);var n=f.showPauseButton;g=f.showReplayButton;var o=(i||(i=d("VideoPlayerHooks"))).useController(),p=c("useMinifiedProductAttribution")();b[3]!==o||b[4]!==h||b[5]!==p||b[6]!==n||b[7]!==m?(f=function(){h&&c("VideoHomeTypedLiteLogger").log({attribution_id_v2:p,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),n?o.pause("user_initiated"):(m&&o.setMuted(!1,"user_initiated"),o.play("user_initiated"))},b[3]=o,b[4]=h,b[5]=p,b[6]=n,b[7]=m,b[8]=f):f=b[8];f=c("useFeedClickEventHandler")(f);g=n?"pause":g?"replay":"play";var q;b[9]!==f||b[10]!==g||b[11]!==e||b[12]!==a?(q=j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:592,children:j.jsx(c("VideoPlayerPlaybackControlBase.react"),{onPress:f,playbackIcon:g,showTooltip:e,useOutlineIcons:a})}),b[9]=f,b[10]=g,b[11]=e,b[12]=a,b[13]=q):q=b[13];return q}function l(a,b){var c=a.getCurrentState(),d=c.ended,e=c.paused,f=c.playing,g=c.stalling;a=a.getPlayheadPosition();c=c.duration;e=!e&&(f||g);g=!f&&d&&a>=c;return b!=null&&b.showPauseButton===e&&b.showReplayButton===g?b:{showPauseButton:e,showReplayButton:g}}g["default"]=a}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b="";a=a;isNaN(a)?a=0:a<0&&(a*=-1,b="-");var c=Math.floor(a/d("DateConsts").SEC_PER_HOUR),e=Math.floor((a-c*d("DateConsts").SEC_PER_HOUR)/d("DateConsts").SEC_PER_MIN);a=Math.round(a-c*d("DateConsts").SEC_PER_HOUR-e*d("DateConsts").SEC_PER_MIN);a===d("DateConsts").SEC_PER_MIN&&(a=0,e++);e===d("DateConsts").MIN_PER_HOUR&&(e=0,c++);a=("0"+a).slice(-2);if(c===0)return""+b+e+":"+a;else{e=("0"+e).slice(-2);return""+b+c+":"+e+":"+a}}g["default"]=a}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.currentTime;a=a.duration;var f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb"},g={className:"x1s688f x15hfatp"},b[0]=f,b[1]=g):(f=b[0],g=b[1]);var h;b[2]!==e?(h=c("getFormattedTimestamp")(e),b[2]=e,b[3]=h):h=b[3];b[4]!==h?(e=i.jsx("span",babelHelpers["extends"]({},g,{children:h})),b[4]=h,b[5]=e):e=b[5];b[6]!==a?(g=a!=null&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:" / "}),i.jsx("span",{children:c("getFormattedTimestamp")(a)})]}),b[6]=a,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(h=i.jsxs("div",babelHelpers["extends"]({},f,{children:[e,g]})),b[8]=e,b[9]=g,b[10]=h):h=b[10];return h}g["default"]=a}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","react-compiler-runtime","useVideoPlayerControllerSubscription"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");j.useCallback;var k=j.useContext,l=10,m=10;function a(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;var c=Math.min(b.getPlayheadPosition()+l,a);c===a?(b.setIsLiveRewindActive(!1),b.seek(a)):b.seek(c);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function b(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;a=Math.max(b.getPlayheadPosition()-m,a);b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function e(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=a!=null?(a=a.end(a.length()-1))!=null?a:0:0;b.seek(a);b.play("user_initiated");b.setIsLiveRewindActive(!1);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function f(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function n(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.play("user_initiated"),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function o(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){b.pause("user_initiated"),b.setIsLiveRewindActive(!0),e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function p(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(){var a=b.getCurrentState().seekableRanges;a=(a=a==null?void 0:a.start(0))!=null?a:0;b.seek(a);b.setIsLiveRewindActive(!0);b.play("user_initiated");e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function q(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useController(),e=k(c("VideoPlayerLiveRewindControlContext")),f;a[0]!==e||a[1]!==b?(f=function(a){var c,d=b.getCurrentState().seekableRanges;c=(c=d==null?void 0:d.start(0))!=null?c:0;d=d!=null?(d=d.end(d.length()-1))!=null?d:0:0;c=Math.min(c+a,d);b.scrubEnd(c);c===d?b.setIsLiveRewindActive(!1):b.setIsLiveRewindActive(!0);e.onLiveRewindControlEvent()},a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function r(){return c("useVideoPlayerControllerSubscription")(s)}function s(a){return(a=(a=a.getCurrentState().seekableRanges)==null?void 0:a.start(0))!=null?a:0}g.useLiveRewindForward=a;g.useLiveRewindBack=b;g.useLiveRewindLive=e;g.useLiveRewindStart=f;g.useLiveRewindPlay=n;g.useLiveRewindPause=o;g.useLiveRewindReplay=p;g.useLiveRewindScrub=q;g.useLiveRewindSeekableStartTime=r}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");b=a;var k=function(a,b){return a-b.duration};function l(){var a=d("react-compiler-runtime").c(2),b=d("useLiveRewindUtils").useLiveRewindSeekableStartTime(),e=(i||(i=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200),f=i.useCurrentTimeThrottled(1e3,k),g=i.useIsLiveRewindActive();g=g?f:e-b;a[0]!==g?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:g,duration:null}),a[0]=g,a[1]=f):f=a[1];return f}function m(){var a=d("react-compiler-runtime").c(3),b=(i||(i=d("VideoPlayerHooks"))).useDuration(),e=i.useCurrentTimeThrottled(200),f;a[0]!==e||a[1]!==b?(f=j.jsx(c("VideoPlayerPlaybackTimerBase.react"),{currentTime:e,duration:b}),a[0]=e,a[1]=b,a[2]=f):f=a[2];return f}function a(){var a=d("react-compiler-runtime").c(2),b=(i||(i=d("VideoPlayerHooks"))).useIsLive();if(b){a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(l,{}),a[0]=b):b=a[0];return b}else{a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(m,{}),a[1]=b):b=a[1];return b}}e=b;g["default"]=e}),98);
__d("VideoPlayerPointerDrag",["react","react-compiler-runtime","useResizeObserver","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;f=h||d("react");var i=f.useEffect,j=f.useRef,k=f.useState;function a(){var a=d("react-compiler-runtime").c(5),b=j(null),e=j(null),f;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(a,c){b.current=c.getBoundingClientRect(),e.current=c},a[0]=f):f=a[0];f=c("useResizeObserver")(f);var g;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=function(){return function(){var a=e.current;a?b.current=a.getBoundingClientRect():b.current=null}},a[1]=g):g=a[1];g=c("useStable")(g);var h;a[2]!==g||a[3]!==f?(h={invalidateRootRect:g,rootRectRef:b,rootSizeRefCallback:f},a[2]=g,a[3]=f,a[4]=h):h=a[4];return h}function b(a,b){if(b==null)return null;var c=Math.max(0,Math.min(b.width,a.clientX-b.left));a=Math.max(0,Math.min(b.height,a.clientY-b.top));return{ratioX:b.width>0?c/b.width:0,ratioY:b.height>0?a/b.height:0}}function l(a,b){a=a.changedTouches;if(b==null||!a)return null;for(var c=0;c<a.length;++c){var d=a[c];if(d.identifier===b)return{clientX:d.clientX,clientY:d.clientY}}return null}function m(a,b){var c=a;switch(b.type){case"start":c=babelHelpers["extends"]({},a,{clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":a.lastEffect});break;case"move":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"dragging",lastEffect:a.dragState==="idle"?"start":"move"};break;case"end":if(a.dragState!=="dragging")break;c={clientX:b.clientX,clientY:b.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"end"};break;case"cancel":if(a.dragState!=="dragging")break;c={clientX:a.clientX,clientY:a.clientY,dragState:"idle",lastEffect:a.dragState==="idle"?a.lastEffect:"cancel"};break;default:break}return c.dragState!==a.dragState||c.lastEffect!==a.lastEffect||c.clientX!==a.clientX||c.clientY!==a.clientY?c:a}var n={clientX:0,clientY:0,dragState:"idle",lastEffect:null},o=function(){return window.navigator.userAgent.indexOf("MSIE")>=0};function p(a,b,c){var d=n,e=null,f=null,g=function(b){d=m(d,b),a(d)},h=function(a){g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null||a(d)},i=function(a){e&&e();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null||a(d)},j=function(){e&&e();g({type:"cancel"});var a=b.current.onDragCancelSync;a==null||a(d)},k=function(a){a=l(a,c.current);if(a==null)return;g({clientX:a.clientX,clientY:a.clientY,type:"move"});a=b.current.onDragMoveSync;a==null||a(d)},p=function(a){a=l(a,c.current);if(a==null)return;f&&f();g({clientX:a.clientX,clientY:a.clientY,type:"end"});a=b.current.onDragEndSync;a==null||a(d)},q=p;return{destroy:function(){e&&e(),f&&f()},onMouseDown:function(a){o()||a.preventDefault();g({clientX:a.clientX,clientY:a.clientY,type:"start"});a=b.current.onDragStartSync;a==null||a(d);e||(window.addEventListener("mousemove",h),window.addEventListener("mouseup",i),window.addEventListener("blur",j),window.addEventListener("mouseleave",j),e=function(){e=null,window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",i),window.removeEventListener("blur",j),window.removeEventListener("mouseleave",j)})},onTouchStart:function(a){a.preventDefault();var e=a.changedTouches[0];e!=null&&(c.current=e.identifier);e=l(a,c.current);if(e==null)return;g({clientX:e.clientX,clientY:e.clientY,type:"start"});a=b.current.onDragStartSync;a==null||a(d);f||(window.addEventListener("touchmove",k),window.addEventListener("touchend",p),window.addEventListener("touchcancel",q),window.addEventListener("blur",j),f=function(){f=null,window.removeEventListener("touchmove",k),window.removeEventListener("touchend",p),window.removeEventListener("touchcancel",q),window.removeEventListener("blur",j)})}}}function q(a,b){var c=d("react-compiler-runtime").c(6),e;c[0]!==b.current||c[1]!==a?(e=function(){var c=b.current,d=c.onDragCancel,e=c.onDragEnd,f=c.onDragMove;c=c.onDragStart;switch(a.lastEffect){case"start":c(a);return;case"move":f(a);return;case"end":e(a);return;case"cancel":d(a);return}},c[0]=b.current,c[1]=a,c[2]=e):e=c[2];var f;c[3]!==b||c[4]!==a?(f=[a,b],c[3]=b,c[4]=a,c[5]=f):f=c[5];i(e,f)}function r(a,b,e){var f=d("react-compiler-runtime").c(13),g=k(n),h=g[0],j=g[1];f[0]!==a||f[1]!==b?(g=function(){return p(j,a,b)},f[0]=a,f[1]=b,f[2]=g):g=f[2];g=c("useStable")(g);var l=g.destroy,m=g.onMouseDown;g=g.onTouchStart;var o,q;f[3]!==l?(o=function(){return l},q=[l],f[3]=l,f[4]=o,f[5]=q):(o=f[4],q=f[5]);i(o,q);f[6]!==m||f[7]!==g||f[8]!==(e==null?void 0:e.hasTouchEvents)?(o={onClick:function(a){a.stopPropagation(),a.preventDefault()},onMouseDown:m,onTouchStart:(e==null?void 0:e.hasTouchEvents)===!0?g:void 0},f[6]=m,f[7]=g,f[8]=e==null?void 0:e.hasTouchEvents,f[9]=o):o=f[9];f[10]!==h||f[11]!==o?(q={dragState:h,rootProps:o},f[10]=h,f[11]=o,f[12]=q):q=f[12];return q}function e(a,b){var c=d("react-compiler-runtime").c(7),e=j(a),f=j(null),g,h;c[0]!==a?(g=function(){e.current=a},h=[a],c[0]=a,c[1]=g,c[2]=h):(g=c[1],h=c[2]);i(g,h);g=r(e,f,b);h=g.dragState;f=g.rootProps;q(h,e);b=h.dragState==="dragging";c[3]!==h||c[4]!==f||c[5]!==b?(g={dragState:h,isDragging:b,rootProps:f},c[3]=h,c[4]=f,c[5]=b,c[6]=g):g=c[6];return g}g.usePointerDragResizeObserver=a;g.computePointerOffsetRatio=b;g.usePointerDrag=e}),98);
__d("VideoPlayerSliderNub.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4);a=a.isVisible;var c;b[0]!==a?(c={0:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya x1s85apg xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm"},1:{className:"x14hiurz x1g7gg9k x16h6fyj x1eoefnw x10eyzkn x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1nqv1ya xdk7pt x1x862rh x1rdy4ex x10l6tqk x3m8u43 x1xc55vz x1vjfegm x1lliihq"}}[!!a<<0],b[0]=a,b[1]=c):c=b[1];b[2]!==c?(a=i.jsx("div",babelHelpers["extends"]({},c,{"data-testid":void 0})),b[2]=c,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("VideoPlayerScrubberBaseContentDefault.react",["CometVisualCompletionAttributes","VideoPlayerSliderNub.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={liveRewindTimePlayed:{backgroundColor:"xh1tjdi",$$css:!0},liveTimePlayed:{backgroundColor:"x1ciooss",$$css:!0},timelineBackground:{backgroundColor:"x1rwy58d",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",boxShadow:"xpdb0fs",height:"xuoj239",textShadow:"xd9u3wd",userSelect:"x87ps6o",$$css:!0},timelineBuffered:{height:"xuoj239",position:"x10l6tqk",$$css:!0},timelineBufferedBackground:{backgroundColor:"x17j41np",$$css:!0},timelinePlayed:{backgroundColor:"x1evw4sf",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",height:"xuoj239",position:"x10l6tqk",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.bufferedRatio,f=a.isLive,g=a.isLiveRewindActive,i=a.isNubVisible,l=a.playedRatio,m=a.timelineBackgroundXStyle,n=a.timelineBufferedXStyle;a=a.timelinePlayedXStyle;var o;b[0]!==m?(o=(h||(h=c("stylex"))).props(k.timelineBackground,m),b[0]=m,b[1]=o):o=b[1];m=!f&&k.timelineBufferedBackground;var p;b[2]!==m||b[3]!==n?(p=(h||(h=c("stylex")))(k.timelineBuffered,m,n),b[2]=m,b[3]=n,b[4]=p):p=b[4];m=(100*e).toFixed(5)+"%";b[5]!==m?(n={width:m},b[5]=m,b[6]=n):n=b[6];b[7]!==p||b[8]!==n?(e=j.jsx("div",babelHelpers["extends"]({className:p},c("CometVisualCompletionAttributes").IGNORE,{style:n})),b[7]=p,b[8]=n,b[9]=e):e=b[9];m=f&&!g&&k.liveTimePlayed;p=f&&g&&k.liveRewindTimePlayed;b[10]!==m||b[11]!==p||b[12]!==a?(n=(h||(h=c("stylex")))(k.timelinePlayed,m,p,a),b[10]=m,b[11]=p,b[12]=a,b[13]=n):n=b[13];f=(100*l).toFixed(5)+"%";b[14]!==f?(g={width:f},b[14]=f,b[15]=g):g=b[15];b[16]!==i?(m=j.jsx(c("VideoPlayerSliderNub.react"),{isVisible:i}),b[16]=i,b[17]=m):m=b[17];b[18]!==g||b[19]!==m||b[20]!==n?(p=j.jsx("div",babelHelpers["extends"]({className:n},c("CometVisualCompletionAttributes").IGNORE,{style:g,children:m})),b[18]=g,b[19]=m,b[20]=n,b[21]=p):p=b[21];b[22]!==o||b[23]!==p||b[24]!==e?(a=j.jsxs("div",babelHelpers["extends"]({},o,{children:[e,p]})),b[22]=o,b[23]=p,b[24]=e,b[25]=a):a=b[25];return a}g["default"]=a}),98);
__d("useVideoPlayerScrubberState",["VideoPlayerPointerDrag","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function k(a,b){return Math.min(a>0?b/a:0,1)}function a(a){var b=d("react-compiler-runtime").c(41),e=a.bufferEnd,f=a.currentTime,g=a.duration,h=a.onScrubCancel,l=a.onScrubEnd,m=a.onScrubStart;a=a.supportsTouch;var n=d("VideoPlayerPointerDrag").usePointerDragResizeObserver(),o=n.invalidateRootRect,p=n.rootRectRef;n=n.rootSizeRefCallback;var q=j(0),r=q[0],s=q[1];q=j(!1);var t=q[0],u=q[1],v=c("usePrevious")(f),w;b[0]!==f||b[1]!==v?(q=function(){f!==v&&u(!1)},w=[f,v],b[0]=f,b[1]=v,b[2]=q,b[3]=w):(q=b[2],w=b[3]);i(q,w);b[4]!==h?(q=function(a){h()},b[4]=h,b[5]=q):q=b[5];b[6]!==g||b[7]!==h||b[8]!==l||b[9]!==p?(w=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a){h();return}s(a.ratioX);a=a.ratioX*g;l(a)},b[6]=g,b[7]=h,b[8]=l,b[9]=p,b[10]=w):w=b[10];var x;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(x=function(){u(!0)},b[11]=x):x=b[11];var y;b[12]!==p?(y=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX)},b[12]=p,b[13]=y):y=b[13];var z;b[14]!==o||b[15]!==m||b[16]!==p?(z=function(a){o();a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,p.current);if(!a)return;s(a.ratioX);m()},b[14]=o,b[15]=m,b[16]=p,b[17]=z):z=b[17];b[18]!==q||b[19]!==w||b[20]!==y||b[21]!==z?(x={onDragCancel:q,onDragEnd:w,onDragEndSync:x,onDragMove:y,onDragStart:z},b[18]=q,b[19]=w,b[20]=y,b[21]=z,b[22]=x):x=b[22];q=a===!0;b[23]!==q?(w={hasTouchEvents:q},b[23]=q,b[24]=w):w=b[24];y=d("VideoPlayerPointerDrag").usePointerDrag(x,w);z=y.isDragging;a=y.rootProps;b[25]!==e||b[26]!==g?(q=k(g,e),b[25]=e,b[26]=g,b[27]=q):q=b[27];x=q;b[28]!==f||b[29]!==g?(w=k(g,f),b[28]=f,b[29]=g,b[30]=w):w=b[30];y=w;b[31]!==x||b[32]!==y||b[33]!==o||b[34]!==z||b[35]!==t||b[36]!==r||b[37]!==a||b[38]!==p||b[39]!==n?(e={bufferedRatio:x,currentPlayedRatio:y,invalidateRootRect:o,isDragging:z,isWaitingForSeek:t,pointerOffsetRatio:r,rootProps:a,rootRectRef:p,rootSizeRefCallback:n},b[31]=x,b[32]=y,b[33]=o,b[34]=z,b[35]=t,b[36]=r,b[37]=a,b[38]=p,b[39]=n,b[40]=e):e=b[40];return e}g["default"]=a}),98);
__d("VideoPlayerScrubberBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerUserInteractionCounter","react","useVideoPlayerScrubberState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m=b.useState;function a(a){var b=a.bufferEnd,e=a.currentTime,f=a.disableKeyCommands,g=a.duration,i=a.hideNub;i=i===void 0?!1:i;var n=a.isLive,o=a.isLiveRewindActive,p=a.keyLeftDescription,q=a.keyRightDescription,r=a.onScrubCancel,s=a.onScrubEnd,t=a.onScrubStart,u=a.onUserInteraction,v=a.playFromBeginningImpl,w=a.renderScrubber,x=a.renderTooltip,y=a.skipBackwardImpl,z=a.skipForwardImpl,A=a.skipToEndImpl,B=a.supportsTouch,C=a.timelineBackgroundXStyle,D=a.timelineBufferedXStyle,E=a.timelinePlayedXStyle;a=a.withoutVerticalPadding;a=a===void 0?!1:a;var F=m(!1),G=F[0],H=F[1];F=m(0);var I=F[0],J=F[1];F=m(null);var K=F[0],L=F[1];F=c("useVideoPlayerScrubberState")({bufferEnd:b,currentTime:e,duration:g,onScrubCancel:r,onScrubEnd:s,onScrubStart:t,supportsTouch:B});b=F.bufferedRatio;r=F.currentPlayedRatio;var M=F.invalidateRootRect;s=F.isDragging;t=F.isWaitingForSeek;B=F.pointerOffsetRatio;var N=F.rootProps,O=F.rootRectRef;F=F.rootSizeRefCallback;var P=k(function(){H(!0)},[]),Q=k(function(){H(!1)},[]),R=k(function(a){M();if(O.current!=null){var b=O.current.left,c=O.current.width,d=Math.max(0,Math.min(c,a.clientX-b));d=c>0?d/c:0;c=Number.isFinite(g)&&g>0?g*d:null;J(a.clientX-b);L(c)}},[g,M,O]),S=G||s;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_scrubber",S,u);S=G||s||t;u=s||t?B:n&&!o?1:r;s=l(function(){return f===!0?[]:[{command:{key:c("CometKeys").RIGHT},description:q,handler:z},{command:{key:c("CometKeys").LEFT},description:p,handler:y},{command:{key:c("CometKeys").HOME},description:h._(/*BTDS*/"Play from beginning"),handler:v},{command:{key:c("CometKeys").END},description:h._(/*BTDS*/"Skip to end"),handler:A}]},[f,q,z,p,y,v,A]);t={bufferedRatio:b,duration:g,hoveringPositionSec:K,isHovering:G,isLive:n,isLiveRewindActive:o,isNubVisible:!i&&S,playedRatio:u,timelineBackgroundXStyle:C,timelineBufferedXStyle:D,timelinePlayedXStyle:E};return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,children:j.jsxs("div",babelHelpers["extends"]({},N,{"aria-label":h._(/*BTDS*/"Change Position"),"aria-orientation":"horizontal","aria-valuemax":g,"aria-valuemin":"0","aria-valuenow":e,className:{0:"x1ypdohk x1y1aw1k xyri2b xwib8y2 x1c1uobl x1n2onr6 x87ps6o xh8yej3",1:"x1ypdohk xyri2b x1c1uobl x1n2onr6 x87ps6o xh8yej3 x18d9i69 xexx8yu"}[!!a<<0],"data-testid":void 0,onMouseEnter:P,onMouseLeave:Q,onMouseMove:R,ref:F,role:"slider",tabIndex:0,children:[w!=null?w(t):j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},t)),x!=null&&K!=null&&G&&j.jsx("div",{className:"xfqi8uc x10l6tqk",style:{left:I},children:x(K)})]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerScrubber.react",["fbt","VideoPlayerHooks","VideoPlayerScrubberBase.react","react","react-compiler-runtime","useLiveRewindUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;function l(){return(j||(j=d("VideoPlayerHooks"))).useCurrentTimeThrottled(200)}function a(a){var b=d("react-compiler-runtime").c(48),e=a.onUserInteraction,f=a.renderScrubber;a=a.renderTooltip;var g=l(),i=(j||(j=d("VideoPlayerHooks"))).useDuration(),m=j.useController(),n=j.useBufferEnd(),o=j.useIsLive(),p=j.useIsLiveRewindActive(),q=d("useLiveRewindUtils").useLiveRewindScrub(),r=d("useLiveRewindUtils").useLiveRewindForward(),s=d("useLiveRewindUtils").useLiveRewindBack(),t=d("useLiveRewindUtils").useLiveRewindStart(),u=d("useLiveRewindUtils").useLiveRewindLive(),v=d("useLiveRewindUtils").useLiveRewindSeekableStartTime();o&&(i=i-v,i,g=g-v);b[0]!==m||b[1]!==i||b[2]!==o||b[3]!==r?(v=function(){if(o)r();else{var a=m.getPlayheadPosition()+5;a>=i?m.seek(i-.01):m.seek(a)}},b[0]=m,b[1]=i,b[2]=o,b[3]=r,b[4]=v):v=b[4];i;v=v;var w;b[5]!==o?(w=o?h._(/*BTDS*/"Fast-forward 10 seconds"):h._(/*BTDS*/"Fast-forward 5 seconds"),b[5]=o,b[6]=w):w=b[6];w=w;var x;b[7]!==m||b[8]!==o||b[9]!==s?(x=function(){if(o)s();else{var a=m.getPlayheadPosition()-5;a<0?m.seek(0):m.seek(a)}},b[7]=m,b[8]=o,b[9]=s,b[10]=x):x=b[10];x=x;var y;b[11]!==o?(y=o?h._(/*BTDS*/"Rewind 10 seconds"):h._(/*BTDS*/"Rewind 5 seconds"),b[11]=o,b[12]=y):y=b[12];y=y;var z;b[13]!==m||b[14]!==o||b[15]!==t?(z=function(){o?t():m.seek(0)},b[13]=m,b[14]=o,b[15]=t,b[16]=z):z=b[16];z=z;var A;b[17]!==m||b[18]!==i||b[19]!==o||b[20]!==u?(A=function(){o?u():m.seek(i-.01)},b[17]=m,b[18]=i,b[19]=o,b[20]=u,b[21]=A):A=b[21];i;A=A;var B;b[22]!==m?(B=function(){m.scrubEnd(null)},b[22]=m,b[23]=B):B=b[23];B=B;var C;b[24]!==m?(C=function(){m.scrubBegin()},b[24]=m,b[25]=C):C=b[25];C=C;var D;b[26]!==m||b[27]!==o||b[28]!==q?(D=function(a){!o?m.scrubEnd(a):q(a)},b[26]=m,b[27]=o,b[28]=q,b[29]=D):D=b[29];D=D;var E;b[30]!==n||b[31]!==g||b[32]!==i||b[33]!==o||b[34]!==p||b[35]!==A||b[36]!==y||b[37]!==w||b[38]!==e||b[39]!==z||b[40]!==f||b[41]!==a||b[42]!==B||b[43]!==D||b[44]!==C||b[45]!==x||b[46]!==v?(E=k.jsx(c("VideoPlayerScrubberBase.react"),{bufferEnd:n,currentTime:g,duration:i,isLive:o,isLiveRewindActive:p,keyLeftDescription:y,keyRightDescription:w,onScrubCancel:B,onScrubEnd:D,onScrubStart:C,onUserInteraction:e,playFromBeginningImpl:z,renderScrubber:f,renderTooltip:a,skipBackwardImpl:x,skipForwardImpl:v,skipToEndImpl:A}),b[30]=n,b[31]=g,b[32]=i,b[33]=o,b[34]=p,b[35]=A,b[36]=y,b[37]=w,b[38]=e,b[39]=z,b[40]=f,b[41]=a,b[42]=B,b[43]=D,b[44]=C,b[45]=x,b[46]=v,b[47]=E):E=b[47];return E}g["default"]=a}),226);
__d("VideoPlayerScrubberPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberPreview_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_preview_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberChapterPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberChapterPreviewRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberPreview_video",fragmentName:"VideoPlayerScrubberDefaultPreview_video",fragmentPropName:"video",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberPreview.react",["CometRelay","VideoPlayerScrubberPreview_video.graphql","VideoPlayerTimeIndicator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.timestampSec;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberPreview_video.graphql"),a);if(a==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:f}),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_preview_renderer;var i;e[2]!==f||e[3]!==a?(i={timestampSec:f,video:a},e[2]=f,e[3]=a,e[4]=i):i=e[4];e[5]!==g||e[6]!==i?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:i}),e[5]=g,e[6]=i,e[7]=f):f=e[7];return f}g["default"]=a}),98);
__d("VideoPlayerScrubberRenderer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberRenderer_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_player_scrubber_base_content_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerScrubberRenderer_video",fragmentName:"VideoPlayerScrubberBaseContentSegmented_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBVideoPlayerScrubberBaseContentSegmentedRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberRenderer.react",["CometRelay","VideoPlayerScrubberBaseContentDefault.react","VideoPlayerScrubberRenderer_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(7),f=a.scrubberProps;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberRenderer_video.graphql"),a);if((a==null?void 0:a.video_player_scrubber_base_content_renderer)==null){var g;e[0]!==f?(g=j.jsx(c("VideoPlayerScrubberBaseContentDefault.react"),babelHelpers["extends"]({},f)),e[0]=f,e[1]=g):g=e[1];return g}g=a==null?void 0:a.video_player_scrubber_base_content_renderer;e[2]!==f?(a=babelHelpers["extends"]({},f),e[2]=f,e[3]=a):a=e[3];e[4]!==g||e[5]!==a?(f=j.jsx(d("CometRelay").MatchContainer,{match:g,props:a}),e[4]=g,e[5]=a,e[6]=f):f=e[6];return f}g["default"]=a}),98);
__d("VideoPlayerVolumeControlBase.react",["fbt","ix","FocusWithinHandler.react","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useState,m=.33,n=.66;function a(a){var b=d("react-compiler-runtime").c(18),e=a.audioAvailabilityUI,f=a.isMuted,g=a.onMouseEnter,j=a.onMouseLeave,o=a.onSetMuted,p=a.onUserInteraction,q=a.renderVolumeSlider,r=a.useOutlineIcons;a=a.volume;r=r===void 0?!1:r;var s=!f&&a>0,t;b[0]!==e||b[1]!==s||b[2]!==r||b[3]!==a?(e!=null&&e.shouldShowNullIcon?t=r?d("fbicon")._(i("944795"),20):d("fbicon")._(i("944792"),20):s?a<=m?t=r?d("fbicon")._(i("1146252"),20):d("fbicon")._(i("1104387"),20):a<=n?t=r?d("fbicon")._(i("1104392"),20):d("fbicon")._(i("1104390"),20):t=r?d("fbicon")._(i("564393"),20):d("fbicon")._(i("564390"),20):t=r?d("fbicon")._(i("564399"),20):d("fbicon")._(i("564396"),20),b[0]=e,b[1]=s,b[2]=r,b[3]=a,b[4]=t):t=b[4];s=l(!1);var u=s[0],v=s[1];b[5]!==f?(r=f?h._(/*BTDS*/"Unmute"):h._(/*BTDS*/"Mute"),b[5]=f,b[6]=r):r=b[6];var w=r;b[7]!==e||b[8]!==t||b[9]!==f||b[10]!==u||b[11]!==w||b[12]!==g||b[13]!==j||b[14]!==o||b[15]!==p||b[16]!==q?(a=k.jsx(c("FocusWithinHandler.react"),{children:function(a,b){return k.jsxs("div",{className:"x1ypdohk x1rg5ohu xhsvlbd xyamay9 x1icxu4v x10b6aqq x25sj25 x1n2onr6",onMouseEnter:g,onMouseLeave:j,children:[e!=null&&e.shouldDisableVolumeControl?null:k.jsx("div",{className:"xk7dvq3 x9f619 x1o0tod x1yrsyyn x1icxu4v x10b6aqq x25sj25 x10l6tqk xh8yej3",children:q({focusVisible:b,onVisibilityChange:v})}),k.jsx(c("VideoPlayerControlIcon.react"),{icon:t,label:w,onPress:function(){e&&e.onVolumeControlPress(),e!=null&&e.shouldDisableVolumeControl||o(!f,"user_initiated"),p&&p({name:"video_mute_button",type:"happened"})},tooltip:e!=null?e.tooltipContent:null,tooltipAlign:"end",tooltipImpl:e!=null?e.tooltipImpl:null,tooltipOffsetY:u?-80:0})]})}}),b[7]=e,b[8]=t,b[9]=f,b[10]=u,b[11]=w,b[12]=g,b[13]=j,b[14]=o,b[15]=p,b[16]=q,b[17]=a):a=b[17];return a}g["default"]=a}),226);
__d("VideoPlayerVolumeSliderBase.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","VideoPlayerPointerDrag","VideoPlayerSliderNub.react","VideoPlayerUserInteractionCounter","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect;b.useMemo;var m=b.useRef,n=b.useState,o={root:{cursor:"x1ypdohk",height:"xng8ra",opacity:"xg01cxk",pointerEvents:"x47corl",position:"x1n2onr6",transitionDuration:"x1d8287x",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x1td3qas",zIndex:"x1ja2u2z",$$css:!0},rootVisible:{opacity:"x1hc1fzr",pointerEvents:"x67bb7w",$$css:!0},sliderForeground:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",bottom:"x1ey2m1c",position:"x10l6tqk",width:"xh8yej3",$$css:!0},sliderForegroundOverlayColorBlue:{backgroundColor:"x1spa7qu",$$css:!0},sliderForegroundOverlayColorWhite:{backgroundColor:"x14hiurz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(65),e=a.isHovering,f=a.isMuted,g=a.onChangeVolumeDown,j=a.onChangeVolumeUp,p=a.onSetMuted,q=a.onSetVolume,r=a.onUserInteraction,s=a.onVisibilityChange,t=a.showBackgroundOverlay,u=a.volume;a=t===void 0?!1:t;t=d("VideoPlayerPointerDrag").usePointerDragResizeObserver();var v=t.invalidateRootRect,w=t.rootRectRef;t=t.rootSizeRefCallback;var x=m(u),y=m(f),z=f?0:u,A=n(z),B=A[0],C=A[1];b[0]!==f||b[1]!==p||b[2]!==q||b[3]!==w?(A=function(a){a=d("VideoPlayerPointerDrag").computePointerOffsetRatio(a,w.current);if(!a)return;a=Math.max(0,Math.min(1,1-a.ratioY));C(a);q(a);f&&p(!1,"user_initiated")},b[0]=f,b[1]=p,b[2]=q,b[3]=w,b[4]=A):A=b[4];var D=A;b[5]!==p||b[6]!==q?(A=function(a){C(x.current),q(x.current),p(y.current,"user_initiated")},b[5]=p,b[6]=q,b[7]=A):A=b[7];var E,F;b[8]!==D?(E=function(a){D(a)},F=function(a){D(a)},b[8]=D,b[9]=E,b[10]=F):(E=b[9],F=b[10]);var G;b[11]!==v||b[12]!==f||b[13]!==D||b[14]!==u||b[15]!==z?(G=function(a){v(),x.current=u,y.current=f,C(z),D(a)},b[11]=v,b[12]=f,b[13]=D,b[14]=u,b[15]=z,b[16]=G):G=b[16];var H;b[17]!==A||b[18]!==E||b[19]!==F||b[20]!==G?(H={onDragCancel:A,onDragEnd:E,onDragMove:F,onDragStart:G},b[17]=A,b[18]=E,b[19]=F,b[20]=G,b[21]=H):H=b[21];A=d("VideoPlayerPointerDrag").usePointerDrag(H);E=A.isDragging;F=A.rootProps;G=E?B:z;var I=e||E,J=m(I);b[22]!==I||b[23]!==s?(H=function(){J.current!==I&&(s&&s(I)),J.current=I},A=[s,I],b[22]=I,b[23]=s,b[24]=H,b[25]=A):(H=b[24],A=b[25]);l(H,A);B=I;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_volume_slider",B,r);b[26]===Symbol["for"]("react.memo_cache_sentinel")?(e={key:c("CometKeys").UP},E=h._(/*BTDS*/"Increase volume"),b[26]=e,b[27]=E):(e=b[26],E=b[27]);b[28]!==j?(H={command:e,description:E,handler:function(){j()}},b[28]=j,b[29]=H):H=b[29];b[30]===Symbol["for"]("react.memo_cache_sentinel")?(A={key:c("CometKeys").DOWN},B=h._(/*BTDS*/"Decrease volume"),b[30]=A,b[31]=B):(A=b[30],B=b[31]);b[32]!==g?(r={command:A,description:B,handler:function(){g()}},b[32]=g,b[33]=r):r=b[33];b[34]!==H||b[35]!==r?(e=[H,r],b[34]=H,b[35]=r,b[36]=e):e=b[36];E=e;A=E;b[37]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._(/*BTDS*/"Change volume"),b[37]=B):B=b[37];H=I&&o.rootVisible;b[38]!==H?(r=(i||(i=c("stylex")))(o.root,H),b[38]=H,b[39]=r):r=b[39];b[40]!==I||b[41]!==a?(e=I&&a&&k.jsx("div",{className:"x1f4ngb1 x1obq294 x5a5i1n xde0f50 x15x8krk xi2lk0m x1f889gz xaoy8p5 x1iorvi4 xjkvuk6 x135b78x x11lfxj5 x10l6tqk x1v4kod4"}),b[40]=I,b[41]=a,b[42]=e):e=b[42];b[43]===Symbol["for"]("react.memo_cache_sentinel")?(E={className:"x18fn2jl xjwep3j x1t39747 x1wcsgtt x1pczhz8 x1ey2m1c xng8ra xi5uv41 x10l6tqk x1xc55vz"},b[43]=E):E=b[43];H=a?o.sliderForegroundOverlayColorWhite:o.sliderForegroundOverlayColorBlue;b[44]!==H?(a=(i||(i=c("stylex")))(o.sliderForeground,H),b[44]=H,b[45]=a):a=b[45];H=G*100+"%";b[46]!==H?(G={height:H},b[46]=H,b[47]=G):G=b[47];b[48]===Symbol["for"]("react.memo_cache_sentinel")?(H={className:"x1c7jfne x1f4buv5 x1n2onr6"},b[48]=H):H=b[48];b[49]!==I?(H=k.jsx("div",babelHelpers["extends"]({},H,{children:k.jsx(c("VideoPlayerSliderNub.react"),{isVisible:I})})),b[49]=I,b[50]=H):H=b[50];b[51]!==a||b[52]!==G||b[53]!==H?(E=k.jsx("div",babelHelpers["extends"]({},E,{children:k.jsx("div",{className:a,style:G,children:H})})),b[51]=a,b[52]=G,b[53]=H,b[54]=E):E=b[54];b[55]!==F||b[56]!==t||b[57]!==r||b[58]!==e||b[59]!==E||b[60]!==u?(a=k.jsxs("div",babelHelpers["extends"]({},F,{"aria-label":B,"aria-orientation":"vertical","aria-valuemax":1,"aria-valuemin":0,"aria-valuenow":u,className:r,ref:t,role:"slider",tabIndex:0,children:[e,E]})),b[55]=F,b[56]=t,b[57]=r,b[58]=e,b[59]=E,b[60]=u,b[61]=a):a=b[61];b[62]!==A||b[63]!==a?(G=k.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:A,children:a}),b[62]=A,b[63]=a,b[64]=G):G=b[64];return G}g["default"]=a}),226);
__d("VideoPlayerVolumeSlider.react",["VideoPlayerHooks","VideoPlayerVolumeSliderBase.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));h.useCallback;function a(a){var b=d("react-compiler-runtime").c(21),e=a.isHovering,f=a.onUserInteraction,g=a.onVisibilityChange;a=a.showBackgroundOverlay;a=a===void 0?!1:a;var h=(i||(i=d("VideoPlayerHooks"))).useController(),k=i.useMuted(),l=i.useVolume(),m;b[0]!==h?(m=function(a){h.setVolume(a)},b[0]=h,b[1]=m):m=b[1];m=m;var n;b[2]!==h?(n=function(a,b){h.setMuted(a,b)},b[2]=h,b[3]=n):n=b[3];n=n;var o;b[4]!==h?(o=function(a){var b=h.getCurrentState();a=Math.max(0,Math.min(1,b.volume+a));h.setVolume(a);a===0?h.setMuted(!0,"user_initiated"):b.muted&&h.setMuted(!1,"user_initiated")},b[4]=h,b[5]=o):o=b[5];var p=o;b[6]!==p?(o=function(){p(.05)},b[6]=p,b[7]=o):o=b[7];o=o;var q;b[8]!==p?(q=function(){p(-.05)},b[8]=p,b[9]=q):q=b[9];q=q;var r;b[10]!==q||b[11]!==o||b[12]!==e||b[13]!==k||b[14]!==f||b[15]!==g||b[16]!==n||b[17]!==m||b[18]!==a||b[19]!==l?(r=j.jsx(c("VideoPlayerVolumeSliderBase.react"),{isHovering:e,isMuted:k,onChangeVolumeDown:q,onChangeVolumeUp:o,onSetMuted:n,onSetVolume:m,onUserInteraction:f,onVisibilityChange:g,showBackgroundOverlay:a,volume:l}),b[10]=q,b[11]=o,b[12]=e,b[13]=k,b[14]=f,b[15]=g,b[16]=n,b[17]=m,b[18]=a,b[19]=l,b[20]=r):r=b[20];return r}g["default"]=a}),98);
__d("VideoPlayerVolumeControl.react",["VideoPlayerHooks","VideoPlayerVolumeControlBase.react","VideoPlayerVolumeSlider.react","cr:1826284","react","react-compiler-runtime","useEmptyFunction"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;e.useCallback;var k=e.useState,l=(f=b("cr:1826284"))!=null?f:c("useEmptyFunction");function a(a){var b=d("react-compiler-runtime").c(16),e=a.onUserInteraction,f=a.showBackgroundOverlay;a=a.useOutlineIcons;var g=f===void 0?!1:f;f=a===void 0?!1:a;a=k(!1);var h=a[0],m=a[1],n=(i||(i=d("VideoPlayerHooks"))).useController();a=i.useMuted();var o=i.useVolume(),p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){m(!0)},b[0]=p):p=b[0];p=p;var q;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){m(!1)},b[1]=q):q=b[1];q=q;var r;b[2]!==n?(r=function(a,b){n.setMuted(a,b)},b[2]=n,b[3]=r):r=b[3];r=r;var s=!a&&o>0;s=l({canPlayerProduceSound:s,isHovering:h})||null;var t;b[4]!==h||b[5]!==e||b[6]!==g?(t=function(a){var b=a.focusVisible;a=a.onVisibilityChange;return j.jsx(c("VideoPlayerVolumeSlider.react"),{isHovering:h||b,onUserInteraction:e,onVisibilityChange:a,showBackgroundOverlay:g})},b[4]=h,b[5]=e,b[6]=g,b[7]=t):t=b[7];b[8]!==s||b[9]!==a||b[10]!==e||b[11]!==r||b[12]!==t||b[13]!==f||b[14]!==o?(p=j.jsx(c("VideoPlayerVolumeControlBase.react"),{audioAvailabilityUI:s,isMuted:a,onMouseEnter:p,onMouseLeave:q,onSetMuted:r,onUserInteraction:e,renderVolumeSlider:t,useOutlineIcons:f,volume:o}),b[8]=s,b[9]=a,b[10]=e,b[11]=r,b[12]=t,b[13]=f,b[14]=o,b[15]=p):p=b[15];return p}g["default"]=a}),98);
__d("useVideoPlayerVolumeControlAudioAvailabilityUI",["fbt","CometTooltipImpl.react","VideoPlayerControlsHiddenContext","clearTimeout","emptyFunction","react","setTimeout","useAudioAvailabilityAtPlayhead","usePrevious","useStable"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState,o=3e3;function a(a){var b=a.canPlayerProduceSound,d=a.isHovering;a=c("useAudioAvailabilityAtPlayhead")();var e=a.isSilentAtPlayhead;a=a.volumeControlState;var g=null;switch(a){case"VOLUME_SILENT":g=h._(/*BTDS*/"Video has no sound");break;case"VOLUME_COPYRIGHT_FULL":g=h._(/*BTDS*/"Muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_SILENCED":g=h._(/*BTDS*/"Partially muted due to copyright claim");break;case"VOLUME_COPYRIGHT_PARTIAL_NOT_SILENCED":break;case"VOLUME_DEFAULT":break;default:a}var i=c("usePrevious")(e),p=n(!1),q=p[0],r=p[1],s=m(c("emptyFunction")),t=m(!1);p=n(!1);var u=p[0],v=p[1],w=c("useStable")(function(){return function(a){t.current=a,v(a),s.current(a),a||r(!1)}}),x=k(c("VideoPlayerControlsHiddenContext"));l(function(){x?w(!1):g==null?w(!1):d||q?w(!0):e!==i&&e&&b&&w(!0)},[g,b,x,d,q,e,i,w]);l(function(){if(u){var a=c("setTimeout")(function(){w(!1)},o);return function(){c("clearTimeout")(a)}}},[u,w]);p=c("useStable")(function(){return function(){r(function(a){return!a})}});var y=c("useStable")(function(){function a(a){var b=n(!1),d=b[0],e=b[1];l(function(){s.current=e;return function(){s.current=c("emptyFunction")}},[e]);l(function(){a.isVisible||w(!1)},[a.isVisible]);return j.jsx(c("CometTooltipImpl.react"),babelHelpers["extends"]({},a,{isVisible:d}))}a.displayName=a.name+" [from "+f.id+"]";return a}),z=a==="VOLUME_COPYRIGHT_FULL"||a==="VOLUME_SILENT",A=b?e:z;return g==null?null:{onVolumeControlPress:p,shouldDisableVolumeControl:z,shouldShowNullIcon:A,tooltipContent:g,tooltipImpl:y,volumeControlState:a}}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.entry_point,g=a.event,i=a.field_value,j=a.group_id,k=a.parent_surface,l=a.source,m=a.surface,n=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,entry_point:f,event:g,field_value:i,group_id:j,parent_surface:k,source:l,surface:m,thread_id:n}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("ChatMuteStore",[],(function(a,b,c,d,e,f){"use strict";b={EightHours:288e5,FifteenMinutes:9e5,Indefinitely:-1,OneDay:864e5,OneHour:36e5};c={Both:"bothMuteScope",Call:"callMuteScope",Message:"messageMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("CommunityMessagingEnableState",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:1,DISABLE_REQUESTED:2,DISABLING:3,DISABLED:4,DISABLE_FAILED:5});f["default"]=a}),66);
__d("GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9637409876354840"}),null);
__d("GroupsCometCMDisabledChatDialogQuery$Parameters",["GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometCMDisabledChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometCMDisabledChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometCMDisabledChatDialog.entrypoint",["GroupsCometCMDisabledChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometCMDisabledChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometCMDisabledChatDialog.react").__setRef("GroupsCometCMDisabledChatDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometJoinChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9560132654105701"}),null);
__d("GroupsCometJoinChatDialogQuery$Parameters",["GroupsCometJoinChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometJoinChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometJoinChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometJoinChatDialog.entrypoint",["GroupsCometJoinChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.groupID;a=a.threadID;return{queries:{myQueryReference:{parameters:c("GroupsCometJoinChatDialogQuery$Parameters"),variables:{groupID:b,threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometJoinChatDialog.react").__setRef("GroupsCometJoinChatDialog.entrypoint")};g["default"]=a}),98);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(a){return b.forEach(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(c){return a[0]===void 0||a[0]===!0?b.forEach(b.db.table(69).fetch(),function(a){return a["delete"]()}):b.resolve()}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSSearchClearTablesStoredProcedure";a.__tables__=["search_queries","server_search_sections","server_search_results","message_search_results"];e.exports=a}),null);
__d("LSClearTablesStoredProcedure",["LSClearTables","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){e===void 0&&(e={});a=a.storedProcedure(c("LSClearTables"),e.clearMessageResults);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSForceImmediateSync",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(d){return c[0]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({minTimeToSyncTimestampMs:c[0]})})},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreForceImmediateSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSForceImmediateSyncStoredProcedure",["LSForceImmediateSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSForceImmediateSync"),e.dbType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticFetchPendingGroupInvite",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("link_hash",a[0]),d[0].set("image_width",a[1]),d[0].set("image_height",a[2]),d[0].set("has_vanity_name",!1),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_pending_group_invite",c.i64.cast([0,434]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(b){return c.db.table(235).put({linkHash:a[0],threadTitle:"",lastThreadActivityMs:c.i64.cast([0,0]),groupImageUrl:"",groupImageUrlFallback:"",groupImageUrlExpirationTimestampMs:c.i64.cast([0,0]),joinExplainerText:"",numberOfMembers:c.i64.cast([0,0]),isInApprovalQueue:!1,isSubscribed:!1,canJoin:!1,fbGroupDescription:"",communityImageUrl:"",communityImageUrlFallback:"",communityImageUrlExpirationTimestampMs:c.i64.cast([0,0]),linkJoinType:c.i64.cast([0,1]),fbGroupVisibility:c.i64.cast([0,1]),communityId:c.i64.cast([0,0])})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticFetchPendingGroupInviteStoredProcedure";a.__tables__=["group_invitations_pending"];e.exports=a}),null);
__d("LSOptimisticFetchPendingGroupInviteStoredProcedure",["LSOptimisticFetchPendingGroupInvite","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticFetchPendingGroupInvite"),e.linkHash,e.imageWidth,e.imageHeight);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSOptimisticMarkThreadReadV2StoredProcedure",["LSOptimisticMarkThreadReadV2","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticMarkThreadReadV2"),e.threadKey,e.readWatermarkTimestampMs);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSReadReceiptSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("useMAWUnrecoverableDbError",["MAWUnrecoverableDbErrors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("MAWUnrecoverableDbErrors").getError(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("MAWUnrecoverableDbErrors").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);return c}g["default"]=a}),98);
__d("useWAExceededStorageQuota",["MAWUnrecoverableDbErrors","WAExceededStorageQuota","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect;b.useMemo;var j=b.useState;function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("WAExceededStorageQuota").getExceededStorageQuota(),a[0]=b):b=a[0];b=j(b);var c=b[0],e=b[1],f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=function(){var a=function(a){e(a)},b=d("WAExceededStorageQuota").subscribe(a);return function(){b()}},f=[],a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);a[3]!==c?(b=c?new(d("MAWUnrecoverableDbErrors").WAExceededStorageQuotaError)():null,a[3]=c,a[4]=b):b=a[4];f=b;return f}g["default"]=a}),98);
__d("MAWUnrecoverableErrorBoundary.react",["react","react-compiler-runtime","useMAWUnrecoverableDbError","useWAExceededStorageQuota"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=a.children;a=a.fallback;var f=c("useMAWUnrecoverableDbError")(),g=c("useWAExceededStorageQuota")();f=f!=null?f:g;if(f!=null&&a!=null){b[0]!==f||b[1]!==a?(g=a(f),b[0]=f,b[1]=a,b[2]=g):g=b[2];return g}else return e}g["default"]=a}),98);
__d("MWAddOnCircleContainer.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={container:{alignItems:"x6s0dn4",backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1iwo8zk",borderStartEndRadius:"x1033uif",borderEndEndRadius:"x179ill4",borderEndStartRadius:"x1b60jn0",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},disabled:{backgroundColor:"x1281ex9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),c=a.ariaHidden,e=a.children,f=a.disabled;a=a.size;c=c===void 0?!1:c;f=f===void 0?!1:f;f=f&&j.disabled;var g;b[0]!==a?(g=[{height:a,width:a}],b[0]=a,b[1]=g):g=b[1];b[2]!==f||b[3]!==g?(a=[j.container,f,g],b[2]=f,b[3]=g,b[4]=a):a=b[4];b[5]!==c||b[6]!==e||b[7]!==a?(f=i.jsx(d("react-strict-dom").html.div,{"aria-hidden":c,style:a,children:e}),b[5]=c,b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),98);
__d("MWCMGetValidId",["FBLogger","I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){b===void 0&&(b=!1);return i(a,b)!=null}function i(a,b){b===void 0&&(b=!1);if(a==null){b&&c("FBLogger")("cc_web").warn("FB Group ID is not defined");return void 0}if((h||(h=d("I64"))).le(a,(h||(h=d("I64"))).zero)){b&&c("FBLogger")("cc_web").warn("FB Group ID is invalid: %s",(h||(h=d("I64"))).to_string(a));return void 0}return a}g.MWCMHasValidFbGroupId=a;g.MWCMGetValidFbGroupIdOrUndefined=i}),98);
__d("getLSMediaCommunityFolderPictureUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a==null)return;var b=a.pictureUrlExpirationTimestampMs;return b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)?a.pictureUrlFallback:a.pictureUrl}g["default"]=a}),98);
__d("MWCMThreadPictureCustomThreadCommunity.react",["BaseView.react","CometHeroHoldTrigger.react","FDSProfilePhoto_EXPERIMENTAL.react","MWXGlimmer.react","getLSMediaCommunityFolderPictureUrl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={base:{height:"x1auzw0x",position:"x10l6tqk",width:"xqu606t",$$css:!0},circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},community:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x13vifvy",$$css:!0},glimmer:{borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",height:"x5yr21d",width:"xh8yej3",$$css:!0},rounded:{borderStartStartRadius:"x1fuqvrd",borderStartEndRadius:"xmvrd30",borderEndEndRadius:"xt2fmn5",borderEndStartRadius:"xkn4fgx",$$css:!0},thread:{backgroundColor:"x1jx94hy",borderTopColor:"x6zyg47",borderInlineEndColor:"x1lu4ftm",borderBottomColor:"xpn8fn3",borderInlineStartColor:"x114g2xr",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",bottom:"x1ey2m1c",boxSizing:"x1afcbsf",insetInlineStart:"x1o0tod",left:null,right:null,marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.community,f=a.photoSize;a=a.threadPictureUrl;var g;b[0]!==e?(g=c("getLSMediaCommunityFolderPictureUrl")(e),b[0]=e,b[1]=g):g=b[1];e=g;b[2]!==f?(g={height:f,width:f},b[2]=f,b[3]=g):g=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=[j.base,j.community],b[4]=f):f=b[4];b[5]!==e?(f=i.jsx(c("BaseView.react"),{xstyle:f,children:e==null?i.jsxs(i.Fragment,{children:[i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:[j.glimmer,j.rounded]}),i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWCMThreadPictureCustomThreadCommunity",hold:!0})]}):i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"rounded",size:"fill",source:e})}),b[5]=e,b[6]=f):f=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.base,j.thread,j.circle],b[7]=e):e=b[7];b[8]!==a?(e=i.jsx(c("BaseView.react"),{xstyle:e,children:i.jsx(c("FDSProfilePhoto_EXPERIMENTAL.react"),{shape:"circle",size:"fill",source:a})}),b[8]=a,b[9]=e):e=b[9];b[10]!==g||b[11]!==f||b[12]!==e?(a=i.jsxs(c("BaseView.react"),{role:"img",style:g,children:[f,e]}),b[10]=g,b[11]=f,b[12]=e,b[13]=a):a=b[13];return a}g["default"]=a}),98);
__d("MWEBMobileOnboardingEligibility",["CometErrorBoundary.react","CometPlaceholder.react","gkx","lazyLoadComponent","react","useWAInfraDeviceList"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function j(a){var b=a.children;a=a.fallback;var d=c("useWAInfraDeviceList")();d=d.some(k)&&c("gkx")("5255");d=d;return d?b:a}function k(a){return a.isCurrentDevice&&a.creationTime!=null&&a.creationTime.getTime()>Date.now()-6048e5}function a(a){var b=c("lazyLoadComponent")(a);return function(a){var d=a.fallback;a=a.props;return i.jsx(c("CometErrorBoundary.react"),{fallback:function(){return d},children:i.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:i.jsx(j,{fallback:d,children:i.jsx(b,babelHelpers["extends"]({},a))})})})}}g.requireMobileOnboardingIfEligible=a}),98);
__d("MWEBWebOnboardingUpsellUtils",["$InternalEnum","WebDriverConfig","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({QP:"qp",PERSISTENT_BANNER:"persistent_banner",DISMISSED:"dismissed"});d=c("WebDriverConfig").isJestE2ETestRun&&!c("gkx")("24058");g.UpsellState=a;g.IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS=d}),98);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("gkx")("23914");function a(a){var b=a.clientStateData,c=a.hasArmadilloError;a=a.xfb_backup;if(!h||c)return 0;if(a==null)return 2;return b.length>0?3:4}g.determineInitialEBState=a}),98);
__d("MWFDSArrowRight.svg.react",["cr:21541"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21541")}),98);
__d("MWFDSBellCross.svg.react",["cr:21563"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21563")}),98);
__d("MWFDSCautionTriangle.svg.react",["cr:21594"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21594")}),98);
__d("MWFDSGroup.svg.react",["cr:21677"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21677")}),98);
__d("MWFDSPushpin.svg.react",["cr:21750"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21750")}),98);
__d("MWFacepile.react",["CometHeroHoldTrigger.react","FDSFacepilePhoto.react","MWXGlimmer.react","UNTRANSLATED_STRING_FIXME","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","translatedServerString","useMWFacepileGetContactsToShow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.actualBadge,f=a.ariaHidden,g=a.label,h=a.onlyAuthoratitiveContacts,k=a.photoSize,l=a.threadKey,m=a.threadType;a=a.withAltText;k=k===void 0?32:k;var n=a===void 0?!0:a;a=c("useMWFacepileGetContactsToShow")(l,m,h);if(a.length!==0){b[0]!==g||b[1]!==n?(l=n===!0&&g!=null?c("UNTRANSLATED_STRING_FIXME")(g):void 0,b[0]=g,b[1]=n,b[2]=l):l=b[2];if(b[3]!==a||b[4]!==n){b[6]!==n?(m=function(a){return{alt:n?c("translatedServerString")(a.name):void 0,disabled:!1,source:c("getLSMediaContactProfilePictureUrl")(a)}},b[6]=n,b[7]=m):m=b[7];h=a.map(m);b[3]=a;b[4]=n;b[5]=h}else h=b[5];b[8]!==e||b[9]!==f||b[10]!==a.length||b[11]!==k||b[12]!==l||b[13]!==h?(g=i.jsx(c("FDSFacepilePhoto.react"),{ariaHidden:f,badge:e,label:l,size:k,sources:h,totalItems:a.length}),b[8]=e,b[9]=f,b[10]=a.length,b[11]=k,b[12]=l,b[13]=h,b[14]=g):g=b[14];return g}b[15]!==k?(m={height:k,width:k},b[15]=k,b[16]=m):m=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:j.glimmer}),f=i.jsx(c("CometHeroHoldTrigger.react"),{description:"MWFacepile photo",hold:!0}),b[17]=e,b[18]=f):(e=b[17],f=b[18]);b[19]!==m?(a=i.jsxs("div",{style:m,children:[e,f]}),b[19]=m,b[20]=a):a=b[20];return a}g["default"]=a}),98);
__d("MWGAMEThreadTakedownDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9985766314800064"}),null);
__d("MWGAMEThreadTakedownDialogQuery$Parameters",["MWGAMEThreadTakedownDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWGAMEThreadTakedownDialogQuery_facebookRelayOperation"),metadata:{},name:"MWGAMEThreadTakedownDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWGAMEThreadTakedownDialog.entrypoint",["JSResourceForInteraction","MWGAMEThreadTakedownDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("MWGAMEThreadTakedownDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWGAMEThreadTakedownDialog.react").__setRef("MWGAMEThreadTakedownDialog.entrypoint")};g["default"]=a}),98);
__d("MWInboxFocusTarget",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({THREAD_VIEW_AND_OR_COMPOSER:0,THREAD_LIST:1});c=a;f["default"]=c}),66);
__d("MWLSDatabaseLazySync",["I64","Int64Hooks","LSFactory","LSForceImmediateSyncStoredProcedure","LSSyncGroupsUtils","Promise","ReQL","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,e){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.sync_groups).getKeyRange(e)).then(function(f){if(f!=null)if((j||(j=d("I64"))).equal(f.minTimeToSyncTimestampMs,d("LSSyncGroupsUtils").neverSyncTimestamp))return c("LSForceImmediateSyncStoredProcedure")(c("LSFactory")(a),{dbType:e});else return(i||(i=b("Promise"))).resolve();else return(i||(i=b("Promise"))).resolve()})},"readwrite",void 0,void 0,f.id+":28")}function a(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),f,g;b[0]!==e||b[1]!==a?(f=function(){return k(e,a)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);return d("Int64Hooks").useCallbackInt64(f,g)}g.sync=k;g.useSync=a}),98);
__d("MWReQLCMThreadPictureCustomThreadCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.photoSize,g=a.thread;a=a.threadPictureUrl;var i=(h||(h=c("useReStore")))(),k;b[0]!==i.tables.community_folders||b[1]!==g.parentThreadKey?(k=function(){return d("ReQL").fromTableAscending(i.tables.community_folders).getKeyRange(g.parentThreadKey)},b[0]=i.tables.community_folders,b[1]=g.parentThreadKey,b[2]=k):k=b[2];var l;b[3]!==i||b[4]!==g.parentThreadKey?(l=[i,g.parentThreadKey],b[3]=i,b[4]=g.parentThreadKey,b[5]=l):l=b[5];k=d("ReQLSuspense").useFirst(k,l,f.id+":25");l=k==null?void 0:k.pictureUrl;var m=k==null?void 0:k.pictureUrlExpirationTimestampMs;k=k==null?void 0:k.pictureUrlFallback;var n;b[6]!==l||b[7]!==m||b[8]!==k?(n={pictureUrl:l,pictureUrlExpirationTimestampMs:m,pictureUrlFallback:k},b[6]=l,b[7]=m,b[8]=k,b[9]=n):n=b[9];b[10]!==e||b[11]!==n||b[12]!==a?(l=j.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:n,photoSize:e,threadPictureUrl:a}),b[10]=e,b[11]=n,b[12]=a,b[13]=l):l=b[13];return l}g["default"]=a}),98);
__d("MWReQLFacepile.react",["MWFacepile.react","MWFacepileBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.ariaHidden,f=a.badge,g=a.badgeSize,h=a.borderThemeColor,j=a.label,k=a.onlyAuthoratitiveContacts,l=a.photoSize,m=a.showBadge,n=a.thread;a=a.withAltText;k=k===void 0?!1:k;l=l===void 0?32:l;m=m===void 0?!0:m;a=a===void 0?!0:a;var o;b[0]!==f||b[1]!==g||b[2]!==h||b[3]!==m||b[4]!==n.threadKey?(o=m?f!=null?f:i.jsx(c("MWFacepileBadge.react"),{borderThemeColor:h,size:g,threadKey:n.threadKey}):null,b[0]=f,b[1]=g,b[2]=h,b[3]=m,b[4]=n.threadKey,b[5]=o):o=b[5];f=o;b[6]!==f||b[7]!==e||b[8]!==j||b[9]!==k||b[10]!==l||b[11]!==n.threadKey||b[12]!==n.threadType||b[13]!==a?(g=i.jsx(c("MWFacepile.react"),{actualBadge:f,ariaHidden:e,label:j,onlyAuthoratitiveContacts:k,photoSize:l,threadKey:n.threadKey,threadType:n.threadType,withAltText:a}),b[6]=f,b[7]=e,b[8]=j,b[9]=k,b[10]=l,b[11]=n.threadKey,b[12]=n.threadType,b[13]=a,b[14]=g):g=b[14];return g}g["default"]=a}),98);
__d("MWThreadIsMuted_DEPRECATED",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a<=-1)return!0;else return a>Date.now()}f.getThreadIsMuted=a}),66);
__d("MWThreadPictureCustomThread.react",["FDSFacepilePhoto.react","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react","react-compiler-runtime","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(40),e=a.badge,g=a.badgeSize,i=a.borderThemeColor,k=a.photoSize,l=a.shape,m=a.showBadge,n=a.thread,o=a.threadPictureUrl;a=a.withAltText;var p=(h||(h=c("useReStore")))(),q=d("MWPActor.react").useActor(),r;b[0]!==p.tables.contacts||b[1]!==p.tables.participants||b[2]!==n.threadKey?(r=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(p.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(n.threadKey),d("ReQL").fromTableAscending(p.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(d("MWPGetThreadTitle").amountToFetchForTitle)},b[0]=p.tables.contacts,b[1]=p.tables.participants,b[2]=n.threadKey,b[3]=r):r=b[3];var s;b[4]!==p||b[5]!==n.threadKey?(s=[p,n.threadKey],b[4]=p,b[5]=n.threadKey,b[6]=s):s=b[6];r=d("ReQLSuspense").useArray(r,s,f.id+":39");var t,u,v,w;if(b[7]!==q||b[8]!==e||b[9]!==g||b[10]!==i||b[11]!==r||b[12]!==k||b[13]!==l||b[14]!==m||b[15]!==n.threadKey||b[16]!==n.threadType||b[17]!==a){s=d("MWPGetThreadTitle").computeThreadTitle(void 0,n.threadType,r.slice(0,d("MWPGetThreadTitle").amountToFetchForTitle),q);var x;b[24]!==e||b[25]!==g||b[26]!==i||b[27]!==m||b[28]!==n.threadKey?(x=m===!0?e!=null?e:j.jsx(c("MWFacepileBadge.react"),{borderThemeColor:i,size:g,threadKey:n.threadKey}):null,b[24]=e,b[25]=g,b[26]=i,b[27]=m,b[28]=n.threadKey,b[29]=x):x=b[29];x=x;t=c("FDSFacepilePhoto.react");x=x;u=a===!0&&s!=null?c("translatedServerString")(s):void 0;v=l;w=k;s=a===!0&&s!=null?c("translatedServerString")(s):void 0;b[7]=q;b[8]=e;b[9]=g;b[10]=i;b[11]=r;b[12]=k;b[13]=l;b[14]=m;b[15]=n.threadKey;b[16]=n.threadType;b[17]=a;b[18]=t;b[19]=s;b[20]=x;b[21]=u;b[22]=v;b[23]=w}else t=b[18],s=b[19],x=b[20],u=b[21],v=b[22],w=b[23];b[30]!==s||b[31]!==o?(q=[{alt:s,disabled:!1,source:o}],b[30]=s,b[31]=o,b[32]=q):q=b[32];b[33]!==t||b[34]!==x||b[35]!==u||b[36]!==v||b[37]!==w||b[38]!==q?(e=j.jsx(t,{badge:x,label:u,shape:v,size:w,sources:q,totalItems:1}),b[33]=t,b[34]=x,b[35]=u,b[36]=v,b[37]=w,b[38]=q,b[39]=e):e=b[39];return e}g["default"]=a}),98);
__d("MWThreadPicture.react",["MWReQLCMThreadPictureCustomThreadCommunity.react","MWReQLFacepile.react","MWThreadPictureCustomThread.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","mwCMIsAnyCMThread","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function l(a){var b=d("react-compiler-runtime").c(4),e=a.withCommunityPicture;if(e===!0){b[0]!==a?(e=j.jsx(c("MWReQLCMThreadPictureCustomThreadCommunity.react"),babelHelpers["extends"]({},a)),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(e=j.jsx(c("MWThreadPictureCustomThread.react"),babelHelpers["extends"]({},a)),b[2]=a,b[3]=e):e=b[3];return e}function a(a){var b=d("react-compiler-runtime").c(27),e=a.ariaHidden,g=a.badge,i=a.badgeSize,m=a.onlyAuthoratitiveContacts,n=a.photoSize,o=a.showBadge,p=a.showFacepiles,q=a.threadKey,r=a.threadTitle,s=a.withAltText;a=a.withCommunityPicture;m=m===void 0?!1:m;o=o===void 0?!0:o;p=p===void 0?!1:p;s=s===void 0?!0:s;a=a===void 0?!1:a;var t=(h||(h=c("useReStore")))(),u;b[0]!==t.tables.threads||b[1]!==q?(u=function(){return d("ReQL").fromTableAscending(t.tables.threads,["parentThreadKey","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadKey","threadName","threadType"]).getKeyRange(q)},b[0]=t.tables.threads,b[1]=q,b[2]=u):u=b[2];var v;b[3]!==t||b[4]!==q?(v=[t,q],b[3]=t,b[4]=q,b[5]=v):v=b[5];u=d("ReQLSuspense").useFirst(u,v,f.id+":62");if(u==null)return null;v=c("mwCMIsAnyCMThread")(u.threadType);o=o&&!v;b[6]!==u?(v=c("getLSMediaThreadPictureUrl")(u),b[6]=u,b[7]=v):v=b[7];v=v;if(v!=null&&p!==!0){b[8]!==g||b[9]!==i||b[10]!==n||b[11]!==o||b[12]!==u||b[13]!==v||b[14]!==s||b[15]!==a?(p=j.jsx(l,{badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,photoSize:n,showBadge:o,thread:u,threadPictureUrl:v,withAltText:s,withCommunityPicture:a}),b[8]=g,b[9]=i,b[10]=n,b[11]=o,b[12]=u,b[13]=v,b[14]=s,b[15]=a,b[16]=p):p=b[16];return p}v=r!=null?r:u.threadName;b[17]!==e||b[18]!==g||b[19]!==i||b[20]!==m||b[21]!==n||b[22]!==o||b[23]!==v||b[24]!==u||b[25]!==s?(a=j.jsx(c("MWReQLFacepile.react"),{ariaHidden:e,badge:g,badgeSize:i,borderThemeColor:k.borderThemeColor,label:v,onlyAuthoratitiveContacts:m,photoSize:n,showBadge:o,thread:u,withAltText:s}),b[17]=e,b[18]=g,b[19]=i,b[20]=m,b[21]=n,b[22]=o,b[23]=v,b[24]=u,b[25]=s,b[26]=a):a=b[26];return a}g["default"]=a}),98);
__d("MWVerticalRhythm",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.height;a=a;a=String(a)+"px";var c;b[0]!==a?(c=i.jsx("div",{style:{height:a}}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),98);
__d("MWXCardedDialogLoadingState.react",["cr:9908","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:9908")}),98);
__d("MWXIconArrowRight",["MWXSvgIcon","SVGIcon","cr:22197","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22197")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBellCross",["MWXSvgIcon","SVGIcon","cr:22224","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22224")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:22360","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22360")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:22450","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22450")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXScrollableAreaStyles",["MDSScrollableAreaStyles"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MDSScrollableAreaStyles")}),98);
__d("MWXTextPairing.react",["FDSTextWebUtils","cr:4853","cr:6725","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["bodyColor","bodyRef","headlineColor","headlineRef","metaColor","metaRef"],i,j=i||d("react"),k={tetraTextWrapper:{boxSizing:"x9f619",minHeight:"x2lwn1j",minWidth:"xeuugli",position:"x1n2onr6",zIndex:"x1ja2u2z",$$css:!0}};function l(a){return function(b){a!=null&&(typeof a==="function"?a(b):a.current=b)}}function a(a){var c=d("react-compiler-runtime").c(31);if(b("cr:6725")!=null){var e,f,g,i,m,n,o;c[0]!==a?(f=a.bodyColor,g=a.bodyRef,i=a.headlineColor,m=a.headlineRef,n=a.metaColor,o=a.metaRef,e=babelHelpers.objectWithoutPropertiesLoose(a,h),c[0]=a,c[1]=e,c[2]=f,c[3]=g,c[4]=i,c[5]=m,c[6]=n,c[7]=o):(e=c[1],f=c[2],g=c[3],i=c[4],m=c[5],n=c[6],o=c[7]);var p;c[8]===Symbol["for"]("react.memo_cache_sentinel")?(p=[k.tetraTextWrapper],c[8]=p):p=c[8];var q;c[9]!==f?(q=d("FDSTextWebUtils").getFDSBodyColor(f),c[9]=f,c[10]=q):q=c[10];c[11]!==g?(f=l(g),c[11]=g,c[12]=f):f=c[12];c[13]!==i?(g=d("FDSTextWebUtils").getFDSHeadlineColor(i),c[13]=i,c[14]=g):g=c[14];c[15]!==m?(i=l(m),c[15]=m,c[16]=i):i=c[16];c[17]!==n?(m=d("FDSTextWebUtils").getFDSMetaColor(n),c[17]=n,c[18]=m):m=c[18];c[19]!==o?(n=l(o),c[19]=o,c[20]=n):n=c[20];c[21]!==e||c[22]!==q||c[23]!==f||c[24]!==g||c[25]!==i||c[26]!==m||c[27]!==n?(o=j.jsx(d("react-strict-dom").html.div,{style:p,children:j.jsx(b("cr:6725"),babelHelpers["extends"]({bodyColor:q,bodyRef:f,headlineColor:g,headlineRef:i,metaColor:m,metaRef:n},e))}),c[21]=e,c[22]=q,c[23]=f,c[24]=g,c[25]=i,c[26]=m,c[27]=n,c[28]=o):o=c[28];return o}if(b("cr:4853")!=null){c[29]!==a?(p=j.jsx(b("cr:4853"),babelHelpers["extends"]({},a)),c[29]=a,c[30]=p):p=c[30];return p}return null}g["default"]=a}),98);
__d("MessagingCommunityChatsPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,PAUSED_BY_SOFT_ACTION:2,PAUSED_BY_ADMINLESS_STANDALONE_COMMUNITY:3,DEPRECATED:4});f["default"]=a}),66);
__d("MessengerMuteUtils",["fbt","ChatMuteStore","DateStrings","I64","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){if(a<=0){if(a===d("ChatMuteStore").ChatMuteOptions.Indefinitely)return h._(/*BTDS*/"Off indefinitely");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._(/*BTDS*/"Off until {time} tomorrow",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._(/*BTDS*/"Off until {time}",[h._param("time",c("formatDate")(a,"g:ia"))]):h._(/*BTDS*/"Off until {time} on {weekday name}",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._(/*BTDS*/"Chat notifications");function b(a,b){if(a==null)return b===!0?h._(/*BTDS*/"Mute this sidechat?"):h._(/*BTDS*/"Mute conversation");switch(a.type){case"messageMuteScope":return h._(/*BTDS*/"Mute message notifications");case"callMuteScope":return h._(/*BTDS*/"Mute call notifications");case"bothMuteScope":return h._(/*BTDS*/"Mute message and call notifications")}}function e(a){var b=a.muteCallsExpireTimeMs;a=a.muteExpireTimeMs;var c=Math.min((i||(i=d("I64"))).to_float(a),i.to_float(b));a=Math.max(i.to_float(a),i.to_float(b));return c===-1?-1:a}g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.muteDialogTitle=b;g.calcMuteUntilMs=e}),226);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function a(a){var e=d("react-compiler-runtime").c(10),g=a.entrypoint;a=a.query;var i=d("CometRelay").useFragment(h!==void 0?h:h=b("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),a),j=(k||(k=c("useReStore")))();e[0]!==j||e[1]!==(i==null?void 0:i.viewer.backup_state)?(a=function(){return(i==null?void 0:i.viewer.backup_state)==null?d("ReQL").fromTableAscending(j.tables.secure_encrypted_backups_client_state).filter(l):d("ReQL").empty()},e[0]=j,e[1]=i==null?void 0:i.viewer.backup_state,e[2]=a):a=e[2];var m=i==null?void 0:i.viewer.backup_state,n;e[3]!==j||e[4]!==m?(n=[j,m],e[3]=j,e[4]=m,e[5]=n):n=e[5];m=d("ReQLSuspense").useArray(a,n,f.id+":57");a=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();n=a.shouldHideEBFlow;a=c("useMAWHasUserVisibleErrors")();n=n||a;if(!c("isMWEBEntrypointEnabled")(g))return 0;e[6]!==m||e[7]!==n||e[8]!==i?(a=(i==null?void 0:i.viewer.backup_state)!=null?i.viewer.backup_state:d("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:m,hasArmadilloError:n,xfb_backup:i==null?void 0:i.xfb_backup}),e[6]=m,e[7]=n,e[8]=i,e[9]=a):a=e[9];return a}function l(a){a=a.authorityLevel;return(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))}g["default"]=a}),98);
__d("useGroupsCometCMDisabledChatEntryPointDialog",["GroupsCometCMDisabledChatDialog.entrypoint","MWGAMEThreadTakedownDialog.entrypoint","MetaConfig","gkx","logVultureJSDeadEntrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(4),e=a.isGeoBlocked;a=a.threadID;var f;b[0]!==a?(f={threadID:a},b[0]=a,b[1]=f):f=b[1];f=c("useMWXEntryPointDialog")(c("GroupsCometCMDisabledChatDialog.entrypoint"),f);var g;b[2]!==a?(g={threadID:a},b[2]=a,b[3]=g):g=b[3];a=c("useMWXEntryPointDialog")(c("MWGAMEThreadTakedownDialog.entrypoint"),g);if(e&&c("gkx")("5194")){c("logVultureJSDeadEntrypoint")("MWGeoblockThreadDialog.entrypoint");return f}if(e&&c("MetaConfig")._("25")){c("logVultureJSDeadEntrypoint")("GroupsCometCMGeoBlockedChatDialog.entrypoint");return f}return c("gkx")("23433")?a:f}g["default"]=a}),98);
__d("useGroupsCometChatsEngagementImpressionLogger",["GroupsCometChatsEngagementLogger","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(12),e=a.category_id,f=a.client_extras,g=a.community_id,h=a.event,i=a.group_id,j=a.parent_surface,k=a.source,l=a.surface,m=a.thread_id;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==i||b[5]!==j||b[6]!==k||b[7]!==l||b[8]!==m?(a=function(){d("GroupsCometChatsEngagementLogger").log({action:"impression",category_id:e,client_extras:f,community_id:g,event:h,group_id:i,parent_surface:j,source:k,surface:l,thread_id:m})},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=i,b[5]=j,b[6]=k,b[7]=l,b[8]=m,b[9]=a):a=b[9];a=a;var n;b[10]!==a?(n={onImpressionStart:a},b[10]=a,b[11]=n):n=b[11];return c("usePartialViewImpression")(n)}g["default"]=a}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=d("react-compiler-runtime").c(13),e=a.threadKey,g=a.threadName,j=a.threadType,k=d("MWPActor.react").useActor(),l=(i||(i=c("useReStore")))();b[0]!==l.tables.contacts||b[1]!==l.tables.participants||b[2]!==e?(a=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(l.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(e),d("ReQL").fromTableAscending(l.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},b[0]=l.tables.contacts,b[1]=l.tables.participants,b[2]=e,b[3]=a):a=b[3];var m;b[4]!==l||b[5]!==e?(m=[l,e],b[4]=l,b[5]=e,b[6]=m):m=b[6];var n=d("ReQLSuspense").useArray(a,m,f.id+":37");b[7]!==k||b[8]!==n||b[9]!==g||b[10]!==j?(a=function(){var a=g;if(a!=null)return h._(/*BTDS*/"Conversation titled {name of conversation}",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,j,n,k))!=null?a:"";return h._(/*BTDS*/"Conversation with {participant list}",[h._param("participant list",a)])},m=[g,j,n,k],b[7]=k,b[8]=n,b[9]=g,b[10]=j,b[11]=a,b[12]=m):(a=b[11],m=b[12]);return d("Int64Hooks").useMemoInt64(a,m)}g["default"]=a}),226);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(1);if(a[0]===Symbol["for"]("react.memo_cache_sentinel")){var b=c("getRequestConstUri")();b=c("isMessengerDotComURI")(b)||c("isFacebookMessengerInboxURI")(b);a[0]=b}else b=a[0];return b}g["default"]=a}),98);
__d("useMWChatCalculateIsMutedFromExpireTime",["MWThreadIsMuted_DEPRECATED","clearTimeout","react","react-compiler-runtime","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(5),e;b[0]!==a?(e=function(){return d("MWThreadIsMuted_DEPRECATED").getThreadIsMuted(a)},b[0]=a,b[1]=e):e=b[1];e=j(e);var f=e[0],g=e[1],h;b[2]!==a?(e=function(){var b=d("MWThreadIsMuted_DEPRECATED").getThreadIsMuted(a);g(b);if(!(b&&a>-1))return;var e=c("setTimeout")(function(){return g(!1)},a-Date.now());return function(){c("clearTimeout")(e)}},h=[a,g],b[2]=a,b[3]=e,b[4]=h):(e=b[3],h=b[4]);i(e,h);return f}g["default"]=a}),98);
__d("useMWEBGetUpsellStateQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eb_restore_upsells_dismissed",storageKey:null}]}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEBGetUpsellStateQuery",selections:[{kind:"RequiredField",field:a,action:"THROW",path:"viewer"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWEBGetUpsellStateQuery",selections:[a]},params:{cacheID:"3d6b0766f42bc6a61e179528381b00b4",id:null,metadata:{},name:"useMWEBGetUpsellStateQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMWEBGetUpsellState",["CometRelay","MWEBUpsellDismissedEnum.facebook","react-compiler-runtime","useMWEBGetUpsellStateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(5),c,e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=h!==void 0?h:h=b("useMWEBGetUpsellStateQuery.graphql"),e={},a[0]=c,a[1]=e):(c=a[0],e=a[1]);c=d("CometRelay").useClientQuery(c,e);e=c.viewer;c=e.is_eb_restore_upsells_dismissed===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.ALL_DISMISSED;e=c||e.is_eb_restore_upsells_dismissed===d("MWEBUpsellDismissedEnum.facebook").MWEBUpsellDismissedStateEnum.UPSELLS_DISMISSED;var f;a[2]!==c||a[3]!==e?(f={isAllRestoreUpsellsDismissed:c,isRestoreUpsellsDismissed:e},a[2]=c,a[3]=e,a[4]=f):f=a[4];return f}g["default"]=a}),98);
__d("useMWGetInboxFocusTargetFromRoute",["CometRouteParams","MWInboxFocusTarget","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRouteParams").useRouteParams();b=b.focus_target;if(b!=null){b=Number(b);if(a[0]!==b){var e;e=(e=c("MWInboxFocusTarget").cast(b))!=null?e:0;a[0]=b;a[1]=e}else e=a[1];return e}return 0}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForUser",["LSIntEnum","LSReadReceiptSettingState","MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(6),b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g;a[0]!==e||a[1]!==b.tables.messaging_privacy_settings?(g=function(){return d("ReQL").fromTableAscending(b.tables.messaging_privacy_settings).getKeyRange(e)},a[0]=e,a[1]=b.tables.messaging_privacy_settings,a[2]=g):g=a[2];var j;a[3]!==e||a[4]!==b?(j=[b,e],a[3]=e,a[4]=b,a[5]=j):j=a[5];a=d("ReQLSuspense").useFirst(g,j,f.id+":23");if(a==null)return c("MessengerWebPrivacySettings").read_receipts_disabled===c("LSReadReceiptSettingState").DISABLED;g=a.readReceiptsDisabled!=null?(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabled):c("LSReadReceiptSettingState").DEFAULT;return g===c("LSReadReceiptSettingState").DISABLED}g["default"]=a}),98);
__d("useMWIsReadReceiptsDisabledForThread",["LSIntEnum","LSReadReceiptSettingState","MWLSThread","useMWIsReadReceiptsDisabledForUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){a=d("MWLSThread").useThread(a,i);var b=c("useMWIsReadReceiptsDisabledForUser")();return a!=null&&a!==c("LSReadReceiptSettingState").DEFAULT?a===c("LSReadReceiptSettingState").DISABLED:b}function i(a){return(h||(h=d("LSIntEnum"))).toNumber(a.readReceiptsDisabledV2)}g["default"]=a}),98);
__d("useZenonHasActiveCall",["CacheStorage","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h="RTC_LS_CALL_SUMMARY_",i="ls_summary";function a(){var a=c("justknobx")._("4056"),b=new(c("CacheStorage"))("localstorage",h);b=b.get(i);if(!b||Object.keys(b).length===0)return!1;b=Object.values(b)[0];if(!b||Object.keys(b).length===0)return!1;b=Object.values(b)[0].__t;return b<Date.now()-a?!1:!0}g["default"]=a}),98);
__d("useMWIsStaleCall",["DateConsts","FBLogger","I64","LSMessagingThreadTypeUtil","justknobx","useZenonHasActiveCall"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=c("useZenonHasActiveCall")();if(!b||f)return!1;if(e==null&&b){c("FBLogger")("messenger_web_calling").info("ongoingCallTimestampMs is null but isOngoingCall is true");return!1}f=e!=null?(h||(h=d("I64"))).to_float(e)/1e3:0;if(f!==0){b=a!=null&&d("LSMessagingThreadTypeUtil").isOneToOne(a)?c("justknobx")._("4057"):a!=null&&d("LSMessagingThreadTypeUtil").isGroup(a)?c("justknobx")._("4058"):0;e=d("DateConsts").getCurrentTimeInSeconds();a=e-f;e=a>b;return e}return!1}g["default"]=a}),98);
__d("useMWLSMarkThreadAsRead",["FBLogger","I64","LSFactory","LSOptimisticMarkThreadReadV2StoredProcedure","MWThreadKey.react","MessengerWebUXLogger","ReQL","cr:2580","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a,e){var g,j=d("react-compiler-runtime").c(5),k=(h||(h=c("useReStore")))(),l=(g=d("MWThreadKey.react").useMWThreadKeyMemoized())!=null?g:e;if(l==null)throw c("FBLogger")("messenger_web").mustfixThrow("Tried to get a thread key when there was none");var m=c("MessengerWebUXLogger").useInteractionLogger();j[0]!==k||j[1]!==a||j[2]!==m||j[3]!==l?(g=function(){m==null||m({eventName:"mark_thread_as_read"}),c("promiseDone")(k.runInTransaction(async function(e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.threads).getKeyRange(l));if(f==null)return;var g=f.lastActivityTimestampMs,h=f.lastReadWatermarkTimestampMs;f=f.threadType;if((i||(i=d("I64"))).gt(g,h)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:l,threadType:f},"seen_receipt",a);h=g;return c("LSOptimisticMarkThreadReadV2StoredProcedure")(c("LSFactory")(e),{readWatermarkTimestampMs:h,threadKey:l})}},"readwrite",void 0,void 0,f.id+":54"))},j[0]=k,j[1]=a,j[2]=m,j[3]=l,j[4]=g):g=j[4];return g}g.default=a}),98);
__d("useOpenThreadAfterJoin",["I64","MWLSThreadDisplayContext","ReQL","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWChatOpenTabForGroup","useMWNavigation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(5),b=c("useMWChatOpenTabForGroup")("jewel"),e=b[0],f=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),g=c("useAsyncReStore")(),h=c("useMWNavigation")();a[0]!==g||a[1]!==f||a[2]!==h||a[3]!==e?(b=function(a){if(f==="ChatTab"){e(a);return}c("promiseDone")(g,function(b){c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.tables.threads).getKeyRange((i||(i=d("I64"))).of_string(a))),function(b){b!=null&&h.openInbox({clientThreadKey:void 0,threadKey:(i||(i=d("I64"))).of_string(a),threadType:b.threadType},"deepLink")})})},a[0]=g,a[1]=f,a[2]=h,a[3]=e,a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("usePublicChatShortlinkCallback",["ConstUriUtils","I64","JSResourceForInteraction","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","ReQL","promiseDone","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;b=k||d("react");b.useCallback;var l=b.useEffect,m=b.useRef,n=c("JSResourceForInteraction")("MWJoinPublicChatDialog.react").__setRef("usePublicChatShortlinkCallback");function o(a){a=d("ConstUriUtils").getUri(a);if(a!=null&&a.isSubdomainOfDomain("m.me")){var b;a=a==null||(b=a.getPath())==null?void 0:b.split("/").filter(function(a){return a!==""});return(a==null?void 0:a.length)===2&&a[0]==="j"?a[1]:null}return null}function a(a){var b=d("react-compiler-runtime").c(6),e=a.onSuccess,g=m(!1),k=m(),p=m(),q=(h||(h=c("useReStore")))();a=c("useMWXLazyDialog")(n);var r=a[0],s;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){return function(){k.current==null||k.current(),p.current==null||p.current()}},s=[],b[0]=a,b[1]=s):(a=b[0],s=b[1]);l(a,s);b[2]!==q||b[3]!==e||b[4]!==r?(a=function(a){var b=o(a);b!=null&&(c("promiseDone")(q.runInTransaction(function(a){return c("LSOptimisticFetchPendingGroupInviteStoredProcedure")(c("LSFactory")(a),{linkHash:b})},"readwrite",void 0,void 0,f.id+":85")),k.current=d("ReQL").fromTableAscending(q.tables.group_invitations_pending).getKeyRange(b).subscribe(function(a,c){if(c.operation!=="delete"){var f=c.value;if(f!=null&&f.isSubscribed&&(f==null?void 0:f.threadId)!=null){e==null||e((i||(i=d("I64"))).to_string(f.threadId));return}else if((f==null?void 0:f.linkJoinType)!=null&&(i||(i=d("I64"))).equal(f==null?void 0:f.linkJoinType,(j||(j=d("LSIntEnum"))).ofNumber(6))&&(f==null?void 0:f.threadId)!=null){e==null||e((i||(i=d("I64"))).to_string(f==null?void 0:f.threadId));return}(f==null?void 0:f.threadTitle.length)>0&&!g.current&&(g.current=!0,r({linkHash:b,onClick:function(){Boolean(f.needsAdminApprovalForNewParticipant)||(p.current=d("ReQL").fromTableAscending(q.tables.threads).subscribe(function(a,c){c.operation!=="delete"&&(c.value.threadInviteLink!=null&&o(c.value.threadInviteLink)===b&&(e==null||e((i||(i=d("I64"))).to_string(c.value.threadKey)),p.current==null||p.current()))}))}},function(){g.current=!1}),k.current==null||k.current())}}))},b[2]=q,b[3]=e,b[4]=r,b[5]=a):a=b[5];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("TrustedTypesChromecastScriptURLPolicy",["TrustedTypes","err"],(function(a,b,c,d,e,f,g){"use strict";var h=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"];function i(a){var b=h.join("|");b=new RegExp("^chrome-extension://(?:null|"+b+")/cast_sender\\.js$");return b.test(a)}a={createScriptURL:function(a){if(i(a))return a;throw c("err")("Violated policy TrustedTypesChromecastScriptURLPolicy: "+a+" is not a Chromecast extension URI.")}};b=c("TrustedTypes").createPolicy("chromecast-extension-uri",a);d=b;g["default"]=d}),98);
__d("CastingChromecastAPI",["TrustedTypesChromecastScriptURLPolicy"],(function(a,b,c,d,e,f,g){"use strict";var h=3*60*1e3,i=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],j=null;b=function(a){var b=a.appID,c=a.receiverListener,d=a.sessionListener;return l().then(function(a){var e=new a.ApiConfig(new a.SessionRequest(b),d,c,a.AutoJoinPolicy.ORIGIN_SCOPED,a.DefaultActionPolicy.CAST_THIS_TAB);return new Promise(function(b,c){a.initialize(e,b,c)})})};d=function(a){return l().then(function(b){b.addReceiverActionListener(function(c,d){switch(d){case b.ReceiverAction.CAST:a.onCast(c);break;case b.ReceiverAction.STOP:a.onStop();break}})})};e=function(a){return l().then(function(b){var c=new b.SessionRequest(a,[b.Capability.VIDEO_OUT,b.Capability.AUDIO_OUT],h);return new Promise(function(a,d){b.requestSession(a,d,c)})})};f=function(a){return l().then(function(b){return a===b.ReceiverAvailability.AVAILABLE})};var k=function(){return l().then(function(a){return a.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},l=function(){if(j)return j;if(!a.chrome){j=Promise.reject({code:"not_supported",description:null,details:null});return j}if(a.chrome.cast&&a.chrome.cast.isAvailable){j=Promise.resolve(a.chrome.cast);return j}j=Promise.resolve().then(function(){return m()}).then(function(b){return new Promise(function(d,e){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=b;a.__onGCastApiAvailable=function(b,c){c?e(c):d(a.chrome.cast)};var f=document.createElement("script");f.onerror=e;if(b==null){e({code:"extension_not_available",description:null,details:null});return}else f.src=c("TrustedTypesChromecastScriptURLPolicy").createScriptURL(o(b));var g=document.head||document.documentElement;if(g==null){e({code:"extension_no_casting_script",description:null,details:null});return}g.appendChild(f)})});return j};async function m(){for(var a=0;a<i.length;a++){var b=i[a],c=await n(b);if(c)return b}return null}function n(a){return new Promise(function(b,c){c=o(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()})}function o(a){return"chrome-extension://"+a+"/cast_sender.js"}d={addReceiverListener:d,getDefaultAppID:k,getIsAvailable:f,getSession:e,initialize:b};k=d;g.default=k}),98);
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1885117")}),98);
__d("CastingChromecastSession",["FBLogger","Promise","err","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,d){var e=this;this.$3=null;this.$4=[];this.$5=[];this.$6=[];this.$7=[];this.$8=[];this.$9=[];this.$10=[];this.$11=[];this.$12=function(a,b){if(a===e.$2){var d=e.$4.slice();d.forEach(function(a){a(b)})}else e.$6.slice().forEach(function(b){b(c("err")("Namespace does not match. Expected "+e.$2+" but received "+a),"CastingChromecastSession._onMessageReceived")})};this.$1=a;this.$2=b;this.$3=d;d.addMessageListener(this.$2,this.$12)}var d=a.prototype;d.destroy=function(){var a=this.$3;a!=null&&(a.status!=null&&a.status!=="disconnected"&&c("FBLogger")("comet_cast_sender").mustfix("Destroying receiver session that is not disconnected. Status, %s",a.status),a.removeMessageListener(this.$2,this.$12));this.$3=null};d.isCasting=function(){return this.$3!=null};d.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"};d.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"};d.disconnect=function(){var a=this;this.$5.slice().forEach(function(a){a()});return new(h||(h=b("Promise")))(function(b,c){a.$3!=null?a.$3.stop(b,c):b()})["catch"](function(b){if(a.$3!=null&&a.$3.status!=="stopped"){a.$6.slice().forEach(function(a){a(b,"CastingChromecastSession.disconnect")});throw b}})["finally"](function(){var b=a.$3;a.$3=null;b&&b.removeMessageListener(a.$2,a.$12);a.$7.slice().forEach(function(a){a()})})};d.getVolume=function(){var a=this.$13();return a?a.level:null};d.getFriendlyName=function(){return this.$14()};d.setVolume=function(a){var d=this,e=this.$3;return new(h||(h=b("Promise")))(function(b,d){if(e==null){d(c("err")("Cannot set volume without a session"));return}e.setReceiverVolumeLevel(a,b,d)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.setVolume")});throw a})};d.isMuted=function(){var a=this.$13();return a?a.muted:null};d.mute=function(){return this.$15(!0)};d.unmute=function(){return this.$15(!1)};d.sendMessage=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The message can not be sent without a session"));return}f.sendMessage(d.$2,a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.sendMessage")});throw a})};d.$13=function(){var a;a=(a=this.$3)==null||(a=a.receiver)==null?void 0:a.volume;return a==null?null:a};d.$14=function(){var a;return((a=this.$3)==null?void 0:a.receiver.friendlyName)||null};d.$15=function(a){var d=this;return new(h||(h=b("Promise")))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The muted state can not be set without a session"));return}f.setReceiverMuted(a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession._setIsMuted")});throw a})};d.onMessage=function(a){var b=this.$4;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnecting=function(a){var b=this.$5;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onError=function(a){var b=this.$6;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnected=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoading=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoaded=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPlaying=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPaused=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a!=null&&typeof a==="object"&&typeof a.code==="string"&&a.code===b}function b(a){return a!=null&&typeof a==="object"&&typeof a.code==="string"?c("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:a.code})):c("getErrorSafe")(a)}function d(a,b){a.metadata==null&&(a.metadata=new(c("ErrorMetadata"))());var d=a.metadata;b=b==null?void 0:b.videoID;b!=null&&d.addEntries(["COMET_VIDEO","VIDEO_ID",b]);return a}g.isChromecastError=a;g.getCastingErrorSafe=b;g.appendCastingMetadataToExpandedError=d}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843753");b=d("FalcoLoggerInternal").create("connected_tv_logging",a);e=b;g["default"]=e}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=a,this.$2=b,this.$4=!1,this.$3=!1,this.$5=new Set()}var e=a.prototype;e.init=function(){if(this.$6!=null)return(i||(i=b("Promise"))).reject(c("err")("Scanner can only be initialized once."));this.$6=this.$16();return this.$6};e.ready=function(){return this.$6==null?(i||(i=b("Promise"))).reject(c("err")("Scanner should be initialized.")):this.$6};e.hasSupport=function(){return this.$3};e.hasFoundReceiver=function(){return this.$4};e.getSession=function(){var a=this;if(!this.$4)return(i||(i=b("Promise"))).reject(c("err")("No receivers found"));this.$13.slice().forEach(function(a){a()});return this.$17().then(function(b){var c=a.$18(b);a.$5.add(c);a.$14.slice().forEach(function(a){a(c)});return c})["catch"](function(b){a.$10.slice().forEach(function(a){a()});a.$11.slice().forEach(function(a){a()});throw b})};e.$16=function(){var a=this;this.$3=!0;return this.$19().then(function(b){c("vulture")("AemwobFsly0cl63TGBtiL5y7qig=");return a.$20()}).then(function(b){a.$9.slice().forEach(function(a){a()})}).then(function(b){return a.$21()})["catch"](function(b){!d("CastingErrorUtils").isChromecastError(b,"not_supported")&&!d("CastingErrorUtils").isChromecastError(b,"extension_not_available")&&!d("CastingErrorUtils").isChromecastError(b,"extension_no_casting_script")&&a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._init")});throw b})};e.$21=function(){var a=this,d=this.$1;if(d==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var e=function(b){var c=a.$18(b);a.$14.slice().forEach(function(a){a(c)})},f=function(b){c("promiseDone")(c("CastingChromecastAPIWrapper").getIsAvailable(b).then(function(b){a.$4=b,a.$15.slice().forEach(function(b){b({foundReceiver:a.$4})})}))};return c("CastingChromecastAPIWrapper").initialize({appID:d,receiverListener:f,sessionListener:e}).then(function(){})["catch"](function(b){a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._initializeApi")});throw b})};e.$19=function(){var a=this;return this.$1!=null?(i||(i=b("Promise"))).resolve():c("CastingChromecastAPIWrapper").getDefaultAppID().then(function(b){a.$1=b})};e.$17=function(){var a=this.$1;if(a==null)return(i||(i=b("Promise"))).reject(c("err")("App ID is not defined"));var d=(h||(h=c("performanceAbsoluteNow")))();c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}});return c("CastingChromecastAPIWrapper").getSession(a).then(function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d)}});return a})["catch"](function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((h||(h=c("performanceAbsoluteNow")))()-d),session_failure_code:typeof a.code==="string"?a.code:null,session_failure_description:a.description}});throw a})};e.$18=function(a){var b=this,d=new(c("CastingChromecastSession"))(this.$1||"",this.$2||"",a),e=d.onDisconnecting(function(){b.$12.slice().forEach(function(a){a()})}),f=d.onError(function(a,c){b.$8.slice().forEach(function(b){b(a,c)})}),g=d.onDisconnected(function(){b.$11.slice().forEach(function(a){a()}),b.$5["delete"](d),e.remove(),f.remove(),g.remove()});return d};e.$20=function(){var a=this;return c("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(b){a.$7.slice().forEach(function(a){a(b)})},onStop:function(){a.$5.forEach(function(a){return a.disconnect()})}})};e.onCast=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onError=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onInit=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionCancelled=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnecting=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionRequested=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingState",[],(function(a,b,c,d,e,f){"use strict";function a(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function b(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function c(){return{type:"photo"}}function d(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}f.initialCastingState=a;f.initialVideoChannelExperienceState=b;f.initialPhotoExperienceState=c;f.initialPhotoAlbumExperienceState=d}),66);
__d("TV2PhotoAlbumReportedState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumReportedState"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumReportedState")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumReportedState:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"media_state",js:"media_state",typ:m("MediaState")}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:d([{json:"photo_state",js:"photo_state",typ:c(void 0,m("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:c(void 0,m("VideoMediaState"))}],"any"),PhotoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:m("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:m("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};e.exports={TV2PhotoAlbumReportedStateToJson:b,toTV2PhotoAlbumReportedState:a}}),null);
__d("TV2UniqueIDs",["guid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b;b=(b=h.get(a))!=null?b:0;h.set(a,b+1);return""+a+b.toString(36)}function a(){return i("id_tv2_vcr_")}function b(){return i("id_tv2_veqe_")}function d(){return i("id_tv2_toast_")}function e(){return i("id_tv2_rvr_")}function f(){return c("guid")()}g.makeTV2VideoCastRequestID=a;g.makeTV2VideoExperienceQueueEntryID=b;g.makeTV2ToastID=d;g.makeTV2RelatedVideosRequestID=e;g.makeTV2ChainingSessionID=f}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(a,b,c,d,e,f){"use strict";function b(b){try{b=new RegExp("\\b"+b+"=([^&]*)");b=b.exec(a.location.search);return!b||b[1]==null?null:b[1]}catch(a){return null}}f["default"]=b}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return c("getTV2QueryStringCheatcodeValue")(a)==="1"}catch(a){return!1}}g["default"]=a}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("debugging")}g["default"]=a}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getTV2DebuggingEnabled"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===null?"null":a===""?"empty string":Array.isArray(a)?"array":typeof a==="object"?"object with keys: "+JSON.stringify(Object.keys(a).sort()):typeof a}function i(a,b,d){if(typeof a!=="string"||a===""){var e=c("err")("Message parse error: %s expected JSON string, got %s",d,h(a));throw e}try{e=JSON.parse(a);return b(e,d)}catch(b){if("messageFormat"in b&&typeof b.messageFormat==="string"&&"messageParams"in b&&Array.isArray(b.messageParams))throw b;else{a=c("err")("Message parse error: %s expected JSON string, got error: %s",d,b.message);throw a}}}function j(a,b){if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function b(a,b){if(a==null)return null;if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function k(a,b){if(!Array.isArray(a)){b=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw b}return a}function e(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.map(function(a){return m(a,b)})}function l(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.filter(Boolean).map(function(a){return m(a,b)})}function m(a,b){if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected non-empty string, got %s",b,h(a));throw b}return a}function n(a,b){if(a==null)return null;if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected optional non-empty string, got %s",b,h(a));throw b}return a}function o(a,b){if(a==null)return null;if(typeof a!=="string"){b=c("err")("Message parse error: %s expected optional string, got %s",b,h(a));throw b}return a}function p(a,b){if(a==null)return null;if(!(typeof a==="number"&&Number.isFinite(a)||typeof a==="string"&&a!=="")){b=c("err")("Message parse error: %s expected optional non-empty string or number, got %s",b,h(a));throw b}return a}function q(a,b){if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected finite number, got %s",b,h(a));throw b}return a}function f(a,b){if(a==null)return null;if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected optional finite number, got %s",b,h(a));throw b}return a}function r(a,b){return a==="true"||a===!0}function s(a,b,c){c===void 0&&(c=!1);return a==null?c:a===!0}function t(a,b){if(typeof a!=="boolean"){b=c("err")("Parse error: %s expected boolean, got %s",b,h(a));throw b}return a}function u(a,b){a=a!=null?j(a,b):null;if(a==null)return null;var c=m(a.uri,b+".uri"),d=q(a.width,b+".width");a=q(a.height,b+".height");return{height:a,uri:c,width:d}}function v(a,b){a=a!=null?j(a,b):null;if(a==null)return null;a=j(a.image,b+".image");a=m(a.uri,b+".image.uri");return{uri:a}}function w(a,b){if(a==null)return null;a=k(a,b);return a.map(function(a,b){return m(a,"["+b+"]")})}function x(a,b){return i(a,function(b,a){b=k(b,a);return b.map(function(b,c){c=a+"."+c;return z(j(b,c),c)})},b)}function y(a,b){return i(a,function(b,a){return z(j(b,a),a)},b)}function z(b,e){var f=m(b.access_token,e+".access_token"),g=String(p(b.app_id,e+".app_id")),h=o(b.app_version,e+".app_version"),i=u(b.background_image,e+".background_image"),j=n(b.channel_token,e+".channel_token"),k=n(b.channel_session_id,e+".channel_session_id"),q=o(b.end_cursor,e+".end_cursor")||null,r=s(b.from_next_video_query,e+".from_next_video_query"),t=s(b.is_ad,e+".is_ad"),x=w(b.dash_prefetched_representation_ids,e+".dash_prefetched_representation_ids"),y=n(b.entry_point,e+".entry_point"),z=n(b.player_origin===""?null:b.player_origin,e+".player_origin"),A=n(b.player_suborigin===""?null:b.player_suborigin,e+".player_suborigin"),B=v(b.preferred_thumbnail,e+".preferred_thumbnail"),C=n(b.video_channel_id,e+".video_channel_id"),D=m(b.root_video_id,e+".root_video_id"),E=c("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(a.location.search):null;E=E&&E[1]?E[1]:m(b.video_id,e+".video_id");b=b.tracking_codes!=null?l(b.tracking_codes,e+".tracking_codes"):null;return{accessToken:f,appID:g,appVersion:h,backgroundImage:i,chainingEnabled:!1,channelSessionID:k,channelToken:j,dashPrefetchedRepresentationIDs:x,endCursor:q,entryPoint:y,fromNextVideoQuery:r,isAd:t,playerOrigin:z,playerSuborigin:A,preferredThumbnail:B,rootVideoID:D,startTimestamp:0,trackingCodes:b,videoCastRequestID:d("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:C,videoID:E}}function A(a,b){a=j(a,b);b=m(a.type,b+".type");switch(b){case"version_response":return a;case"version_launch_response":return a;case"experience_state":return a;case"command_result":return a;case"duration_change":return a;case"status_update":return a;case"experience_status_update":return a}b=c("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",h(a));throw b}function B(a){return i(a,A,".")}function C(a){a=B(a);switch(a.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return a}a=c("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",h(a));throw a}function D(a){return d("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(a)}g.parseJSONString=i;g.parseObject=j;g.parseOptionalObject=b;g.parseArray=k;g.parseStringArray=e;g.parseTrackingCodes=l;g.parseNonEmptyString=m;g.parseOptionalNonEmptyString=n;g.parseOptionalString=o;g.parseNumber=q;g.parseOptionalNumber=f;g.parseOptionalStringishBoolean=r;g.parseOptionalBoolean=s;g.parseBoolean=t;g.parseVideoCastingPayloadBackgroundImage=u;g.parseVideoCastingPayloadPreferredThumbnail=v;g.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=x;g.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=y;g.parseVideoCastingPayloadAsTV2VideoCastRequest=z;g.parseTV2CommsFBAppOutboundMessageFromJSON=B;g.parseCastingReceiverResponseMessageFromJSON=C;g.parseCastingReceiverPhotoAlbumReportedState=D}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},d={defaultValue:null,kind:"LocalArgument",name:"requestID"},e=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:1614120985559993},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:e},params:{id:b("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchCtvCastPayloadQuery.graphql");function a(a){var b=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:b,mediaParameters:"{}",requestID:c("guid")()}).toPromise().then(function(a){if(a!=null&&a.ctv_cast_payload!=null&&typeof a.ctv_cast_payload==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}function e(a){var b=a.albumID,e=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:e,mediaParameters:JSON.stringify({album_id:b}),requestID:c("guid")()}).toPromise().then(function(a){if(typeof (a==null?void 0:a.ctv_cast_payload)==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g.fetchPhotoCastPayload=a;g.fetchAlbumCastPayload=e}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},e={defaultValue:null,kind:"LocalArgument",name:"videoID"},f=[{kind:"Variable",name:"id",variableName:"videoID"}],g={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchVideoCastPayload",["CometRelay","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchVideoCastPayloadQuery.graphql");function a(a){var b=a.castSessionID,e=a.environment,f=a.playerOrigin,g=a.playerSubOrigin;a=a.videoID;return d("CometRelay").fetchQuery(e,i,{castSessionID:b,playerOrigin:f,playerSubOrigin:g,videoID:a}).toPromise().then(function(a){if(a==null||a.video==null||a.video.video_cast_payload==null)return{type:"video_cannot_be_casted"};else if(typeof a.video.video_cast_payload==="string")return{payload:a.video.video_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g["default"]=a}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","removeFromArray","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j="PhotoAlbum",k="ChannelVideo",l="Photo";a=function(){function a(a,b){var e=this;this.$5=[];this.$6=[];this.$7=[];this.$9=function(){var a=d("CastingState").initialCastingState();e.$12(a);e.$13(null)};this.$10=function(a){switch(a.type){case"status_update":e.$16(a);break;case"experience_status_update":e.$17(a);break;default:break}};this.$11=function(a,b){var f;if(d("CastingErrorUtils").isChromecastError(a,"cancel"))c("FBLogger")("fbtv").warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((f=e.$2)==null?void 0:f.type)==="video_channel"){f=(f=e.$2)==null?void 0:f.currentVideoID;f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),babelHelpers["extends"]({},f!=null?{videoID:f}:{}));c("FBLogger")("comet_cast_sender").catching(f).mustfix("Receiver error at %s while playing video channel",b);c("promiseDone")(e.$4.stopCasting())}else{f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),{});a=((a=e.$2)==null?void 0:a.type)||"";c("FBLogger")("comet_cast_sender").catching(f).mustfix("Receiver error at %s while playing in experience %s",b,a);c("promiseDone")(e.$4.stopCasting())}};this.$1=d("CastingState").initialCastingState();this.$2=null;this.$3=b;this.$4=a;this.$8=new(c("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var e=a.prototype;e.destroy=function(){this.$8.release()};e.getCastingState=function(){return this.$1};e.getCastingExperienceState=function(){return this.$2};e.setCastingState=function(a){this.$1=a};e.setCastingExperienceState=function(a){this.$2=a};e.subscribeToCastingStateChange=function(a){var b=this;this.$5.push(a);return function(){c("removeFromArray")(b.$5,a)}};e.subscribeToCastingExperienceStateChange=function(a){var b=this;this.$6.push(a);return function(){c("removeFromArray")(b.$6,a)}};e.subscribeToCastingEvent=function(a){var b=this;this.$7.push(a);return function(){c("removeFromArray")(b.$7,a)}};e.startPlayVideoNow=function(a){var e=this,f=a.environment,g=a.origin,j=a.position,l=a.subOrigin,m=a.videoID;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"cast_requested",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([c("fetchVideoCastPayload")({castSessionID:this.$3,environment:f,playerOrigin:g,playerSubOrigin:l,videoID:m}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="video_cannot_be_casted"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("video_cannot_be_casted"),{videoID:m})).mustfix("The video is not eligible to be casted. The cast request is ignored.");return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{videoID:m})).mustfix("There was a failure retrieving video cast payload. Video failed to play.");return(h||(h=b("Promise"))).resolve()}a=e.$4.isCasting(k);a?a=e.$4.playVideoNow({position:j},f.payload):a=e.$4.startCasting(k,{position:j},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialVideoChannelExperienceState();e.$13(a)})})["catch"](function(a){e.$14({data:{type:"cast_failed",videoID:m},timestamp:(i||(i=c("performanceAbsoluteNow")))()}),d("CastingErrorUtils").isChromecastError(a,"cancel")||c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{videoID:m})).mustfix("Failed to cast video.")})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startPhotoCasting=function(a){var e=this;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"photo_cast_requested"},timestamp:(i||(i=c("performanceAbsoluteNow")))()});c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="error"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})).mustfix("There was a failure retrieving photo cast payload.");return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(l,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);e.$13(d("CastingState").initialPhotoExperienceState())})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})).mustfix("Failed to start photo casting session.")})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startAlbumSlideshow=function(a){var e=this,f=a.albumID;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);c("promiseDone")((h||(h=b("Promise"))).all([d("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:f,castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="album_cannot_be_casted"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("album_cannot_be_casted"),{})).mustfix("The album is not eligible to be casted.");return(h||(h=b("Promise"))).resolve()}else if(f.type==="error"){c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})).mustfix("There was a failure retrieving album cast payload.");return(h||(h=b("Promise"))).resolve()}a=e.$4.startCasting(j,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialPhotoAlbumExperienceState();e.$13(a)})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("FBLogger")("comet_cast_sender").catching(d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})).mustfix("Failed to cast album.")})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.disconnect=function(){c("promiseDone")(this.$4.stopCasting())};e.play=function(){c("promiseDone")(this.$4.playVideo())};e.pause=function(){c("promiseDone")(this.$4.pauseVideo())};e.setVolume=function(a){c("promiseDone")(this.$4.setVolume(a))};e.mute=function(){c("promiseDone")(this.$4.mute())};e.unmute=function(){c("promiseDone")(this.$4.unmute())};e.seek=function(a){c("promiseDone")(this.$4.seekVideo(a))};e.showSingleMedia=function(a){var b=null;switch(a.type){case"photo":b={photo_id:a.photoID};break;case"video":b={video_id:a.videoID};break;default:a.type;return}c("promiseDone")(this.$4.showPhoto({media_parameters:b,request_id:c("uuidv4")()}))};e.playAlbumSlideshow=function(){c("promiseDone")(this.$4.playAlbumSlideshow())};e.pauseAlbumSlideshow=function(){c("promiseDone")(this.$4.pauseAlbumSlideshow())};e.nextPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.nextPhotoAlbumSlideshow())};e.previousPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.previousPhotoAlbumSlideshow())};e.$12=function(a){a!==this.$1&&(this.$1=a,this.$5.slice().forEach(function(b){b(a)}))};e.$13=function(a){a!==this.$2&&(this.$2=a,this.$6.slice().forEach(function(b){b(a)}))};e.$14=function(a){this.$7.slice().forEach(function(b){b(a)})};e.$16=function(a){var b=this.$1,d=this.$2;if(d!=null&&d.type==="video_channel"){var e=a.data.video_id,f=this.$4.getVolume()||0,g=this.$4.isMuted()||!1;e!=null&&this.$14({data:{playbackState:a.data.state,playerInfo:(a==null?void 0:a.player_info)||null,receiverInfo:(a==null?void 0:a.receiver_info)||null,type:"video_status_update",videoID:e},timestamp:(i||(i=c("performanceAbsoluteNow")))()});g={receiverIsConnected:!0,receiverIsMuted:g,receiverVolume:f};if(e==null)this.$12(babelHelpers["extends"]({},b,g)),this.$13(babelHelpers["extends"]({},d,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{f=babelHelpers["extends"]({},b,g);this.$12(f);this.$13(babelHelpers["extends"]({},d,{currentDuration:a.data.duration!=null?a.data.duration:d.currentDuration,currentPlaybackState:a.data.state,currentPosition:a.data.position,currentVideoID:e}))}}};e.$17=function(a){var b=this.$2;if(b!=null&&b.type==="photo_album"&&a.data.name==="PhotoAlbum"){var c;a=d("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(a.data.payload);a=a.media_state;c=((c=(c=a.photo_state)==null?void 0:c.photo_id)!=null?c:(c=a.video_state)==null?void 0:c.video_id)||null;a=this.$18(a);this.$13(babelHelpers["extends"]({},b,{currentAssetID:c,currentPlaybackState:a}))}};e.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}};e.$18=function(a){if(a.photo_state!=null)return a.photo_state.photo_playback_state==="play"?"play":"paused";else if(a.video_state!=null)return["play","seeking"].includes(a.video_state.video_playback_state)?"play":"paused";else return null};return a}();g["default"]=a}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){switch(a.data.type){case"cast_requested":b.logWithAvailableContext({event:"cast_requested",video_id_override:a.data.videoID});b.$5(a);break;case"photo_cast_requested":b.logWithAvailableContext({event:"photo_cast_requested"});b.$5(a);break;case"cast_failed":b.$5(a);break;case"video_status_update":b.$6(a.data.receiverInfo,a.data.playerInfo);b.$5(a);break;default:break}};this.$1=null;this.$2=null;this.$3={cast_session_id:a,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var b=a.prototype;b.destroy=function(){this.$1!=null&&this.$1(),this.$1=null};b.bindToCastingController=function(a){this.$1=a.subscribeToCastingEvent(this.$4)};b.logWithAvailableContext=function(a){var b=this;c("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$3,a)})};b.$5=function(a){var b=a.data;switch(b.type){case"cast_requested":this.$2={data:b,timestamp:a.timestamp};break;case"cast_failed":var c=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(c!=null?a.timestamp-c.timestamp:0),video_id_override:b.videoID});this.$2=null;break;case"video_status_update":c=this.$2;if(c==null)break;var d=c.data.videoID;b.videoID===d&&b.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(a.timestamp-c.timestamp)}),this.$2=null):b.videoID!==d&&(this.$2=null);break}};b.$6=function(a,b){var c=(a==null?void 0:a.third_party_app_id)||null,d=(a==null?void 0:a.cast_receiver_logger_session_id)||null,e=(a==null?void 0:a.is_google_cast_bg)||null,f=(a==null?void 0:a.os_version)||null;a=(a==null?void 0:a.web_client_revision)||null;var g=(b==null?void 0:b.player_instance_key)||null;b=(b==null?void 0:b.player_version)||null;this.$3=babelHelpers["extends"]({},this.$3,{is_google_cast_bg:e,third_party_app_id:c,tv_os_version:f,tv_player_instance_key:g,tv_player_version:b,tv_session_id:d,tv_web_client_revision:a})};return a}();g["default"]=a}),98);
__d("TV2MessageTypes",[],(function(a,b,c,d,e,f){"use strict";a="urn:x-cast:com.facebook.fb";b="urn:x-cast:com.google.cast.media";f.FBAPP_CAST_PROTOCOL_NAMESPACE=a;f.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=b}),66);
__d("TV2PhotoShowRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoShowRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoShowRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoShowRequest:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoShowRequestToJson:b,toTV2PhotoShowRequest:a}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","FBLogger","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","promiseDone","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h,i="1.2.0";a=function(){function a(a){var b=this;this.$5=null;this.$6=null;this.$10=null;this.$11=[];this.$12=[];this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$18=[];this.$19=[];this.$4=new(c("CastingChromecastScanner"))(a,d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE);this.$2=null;this.$1=!1;this.$3=0;this.$6=null;this.$9=new Map();this.$20=new(c("SubscriptionsHandler"))();this.$20.addSubscriptions(this.$4.onStatusChanged(function(a){var c=a.foundReceiver;b.$15.slice().forEach(function(a){a(!!c)})}),this.$4.onSessionDisconnected(function(){b.$21(),b.$14.slice().forEach(function(a){a()})}),this.$4.onSessionStarted(function(a){b.$22(a)}),this.$4.onError(function(a,c){b.$11.slice().forEach(function(b){b(a,c)})}));this.$7=this.$4.init();c("promiseDone")(this.$7.then(function(){b.$2=!0,b.$1=!0,b.$13.slice().forEach(function(a){a()})},function(a){b.$2=!1,b.$12.slice().forEach(function(b){b(a)})}))}var e=a.prototype;e.ready=function(){return this.$7};e.hasSupport=function(){return this.$2};e.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()};e.isCasting=function(a){var b=!!this.$5&&this.$5.isCasting();b&&a!=null&&(b=this.$6!=null&&this.$6.indexOf(a)>=0);return b};e.getSession=function(){var a=this;return this.ready().then(function(){var b=a.$5;b!=null&&!b.isConnected()&&a.$21()}).then(function(){if(a.$5)return a.$5;a.$8||(a.$8=a.$23());return a.$8})["catch"](function(b){a.$11.slice().forEach(function(a){a(b,"CastingReceiverManager.getSession")});throw b})["finally"](function(){a.$8=null})};e.startCasting=function(a,b,c){var d=this;return this.$24(a,b,c).then(function(a){a.success?d.$6=a.target:d.$6=null})};e.stopCasting=function(){var a=this;return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.ready().then(function(){var b=a.$5;b!=null&&b.isDisconnected()&&a.$21();return a.$5}).then(function(a){return a==null?(h||(h=b("Promise"))).resolve(null):a.disconnect()}).then(function(){a.$21()})};e.playVideoNow=function(a,c){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_video",babelHelpers["extends"]({},a,{auto_advance:!0}),c).then(function(){})};e.skipToNextVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("skip_video").then(function(){})};e.playVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_video",{position:a||0}).then(function(){})};e.pauseVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_video").then(function(){})};e.seekVideo=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("seek_video",{position:a}).then(function(){})};e.showPhoto=function(a){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("show_photo",void 0,d("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(a),"Photo").then(function(){})};e.stopVideo=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("stop_video").then(function(){})};e.playAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.pauseAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.nextPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.previousPhotoAlbumSlideshow=function(){return!this.isCasting()?(h||(h=b("Promise"))).resolve():this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()};e.getVolume=function(){return this.$5==null?null:this.$5.getVolume()};e.setVolume=function(a){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.setVolume(a)};e.isMuted=function(){if(!this.isCasting())return null;return this.$5==null?null:this.$5.isMuted()};e.mute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.mute()};e.unmute=function(){if(!this.isCasting())return(h||(h=b("Promise"))).resolve();return this.$5==null?(h||(h=b("Promise"))).resolve():this.$5.unmute()};e.$26=function(){var a=this,b=this.$27();return this.$28(function(a){return{data:{client_cast_session:b,version:i},num:a,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(b){var c=b.messageNum;return a.$29(function(a){return a.response_num===c})}).then(function(a){if(a.type!=="version_response")throw c("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_response"');if(a.data==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Version response is missing data");return a.data})};e.$24=function(a,b,d){var e=this,f=this.$27();return this.$28(function(c){return{data:{client_cast_session:f,name:a,params:b,payload:d,version:i},num:c,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(a){var b=a.messageNum;return e.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="version_launch_response")throw c("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_launch_response"');if(a.data==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Version launch response is missing data");return a.data})};e.$30=function(){var a=this;return this.$6!=null?(h||(h=b("Promise"))).resolve(this.$6):this.getSession().then(function(b){return a.$26()}).then(function(b){var d=null;typeof b.currently_running_experience==="object"&&(d=b.currently_running_experience);if(d==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Session has no target");a.$6=d;return a.$6})};e.$27=function(){var a=null;localStorage&&(a=localStorage.getItem("CastingSessionKey"));a==null&&(a=c("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",a));return a};e.$28=function(a){var b=this.$3+=2;return this.getSession().then(function(d){if(d==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("The message can not be sent without a session");var e=a(b);return d.sendMessage(e)}).then(function(){return{messageNum:b}})};e.$29=function(a){return this.getSession().then(function(e){if(e==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("The message cannot be received without a session");return new(h||(h=b("Promise")))(function(b,c){var f=e.onMessage(function(e){try{e=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(e);if(e.type==="version_response"||e.type==="version_launch_response"||e.type==="experience_state"||e.type==="command_result"){var g=!a||a(e);g&&(f.remove(),b(e))}}catch(a){f.remove(),c(a)}})})})};e.$25=function(a,b,d,e){var f=this;return this.$30().then(function(c){return f.$28(function(f){return{data:{cmd:a,name:e,params:b,payload:d},num:f,target:c,timestamp:Date.now(),type:"experience_command"}})}).then(function(a){var b=a.messageNum;return f.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="command_result")throw c("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "command_result"');return a.data})};e.$23=function(){var a=this;return this.$4.getSession().then(function(b){a.$5==null&&(a.$5=b);return a.$5})};e.$22=function(a){var b=this;this.$5=a;var e="extension";this.$8&&(e="site");c("promiseDone")(this.$26().then(function(c){var f=c.success;if(!f)return;var g=null;typeof c.currently_running_experience==="object"&&(g=c.currently_running_experience);g!=null&&(b.$6=g);b.$18.slice().forEach(function(c){c(a,{session:a,source:e,success:f,target:b.$6})});b.$10=a.onMessage(function(a){try{var c=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(a);b.$17.slice().forEach(function(a){a(c)})}catch(a){b.$11.slice().forEach(function(b){b(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))};e.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var a=this.$5;a!=null&&a.destroy();this.$5=null;this.$6=null};e.onError=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceNotSupported=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceReady=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverDisconnected=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$16;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionMessage=function(a){var b=this.$17;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$18;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStopView=function(a){var b=this.$19;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","FBLogger","Promise","guid","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;f=j||d("react");var k=f.useContext,l=f.useEffect,m=f.useState,n=null,o=c("qex")._("1648");function p(){if(n!=null)return n;if(o==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Use useIsCastAvailable first to check if casting feature is available in this browser.");var a=new(c("CastingReceiverManager"))(o),b=c("guid")(),d=new(c("CastingController"))(a,b);b=new(c("CastingEventReporter"))(b);b.bindToCastingController(d);n={castingController:d,castingEventReporter:b,castingReceiverManager:a};return n}function q(){var a=r();a=a.castingReceiverManager;return a}function r(){var a=d("react-compiler-runtime").c(1);if((i||(i=c("ExecutionEnvironment"))).canUseDOM&&c("CurrentUser").isLoggedIn()){var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=p(),a[0]=e):e=a[0];return e}throw new(h||(h=b("Promise")))(s)}function s(){}function t(){var a=r();a=a.castingController;return a}function a(){var a=d("react-compiler-runtime").c(6),b=q(),c=k(d("CastingContext").SetCastingControllerContext),e=m(!1),f=e[0],g=e[1];e=m(!1);var h=e[0],i=e[1],j;a[0]!==b?(e=function(){var a=b.onExperienceReady(function(){g(b.hasSupport()||!1)});g(b.hasSupport()||!1);return function(){return a.remove()}},j=[b],a[0]=b,a[1]=e,a[2]=j):(e=a[1],j=a[2]);l(e,j);a[3]!==b?(e=function(){var a=b.onReceiverStatusChanged(function(){i(b.hasFoundReceiver()||!1)});i(b.hasFoundReceiver()||!1);return function(){return a.remove()}},j=[b],a[3]=b,a[4]=e,a[5]=j):(e=a[4],j=a[5]);l(e,j);if(o==null)return!1;if(c==null)return!1;if(!f)return!1;return!h?!1:!0}function e(){var a=d("react-compiler-runtime").c(4),b=t(),e=k(d("CastingContext").SetCastingControllerContext);if(e==null)throw c("FBLogger")("comet_cast_sender").mustfixThrow("Casting has to be initialized inside CastingProvider.");var f,g;a[0]!==b||a[1]!==e?(f=function(){e(b)},g=[e,b],a[0]=b,a[1]=e,a[2]=f,a[3]=g):(f=a[2],g=a[3]);l(f,g)}g.useCastingController=t;g.useIsCastAvailable=a;g.useCastingInitializeIfNecessary=e}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","FBLogger","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||(j=d("react"));b=j;b.useCallback;var m=b.useContext,n=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.subOrigin;d("CastingControllerHooks").useCastingInitializeIfNecessary();var f=(a=(k||(k=d("VideoPlayerHooks"))).useVideoFbid())!=null?a:"",g=(k||(k=d("VideoPlayerHooks"))).useController(),j=d("CometRelay").useRelayEnvironment(),o=d("CastingControllerHooks").useCastingController();a=m(c("CometWatchAndScrollVideoContext"));var p=c("useCometLazyDialog")(n),q=p[0],r=a==null?void 0:a.videoID;b[0]!==o||b[1]!==j||b[2]!==e||b[3]!==g||b[4]!==f?(p=function(){if(f!=null){var a=g.getPlayheadPosition();o.startPlayVideoNow({environment:j,origin:"video_home",position:a,subOrigin:e,videoID:f})}else c("FBLogger")("comet_video_player").mustfix("Could not transition to Cast player because videoID was null")},b[0]=o,b[1]=j,b[2]=e,b[3]=g,b[4]=f,b[5]=p):p=b[5];var s=p;b[6]!==s||b[7]!==q||b[8]!==r?(a=function(){r!=null?q({onClose:c("emptyFunction"),onContinue:s,startingVideoType:"cast"},c("emptyFunction")):s()},b[6]=s,b[7]=q,b[8]=r,b[9]=a):a=b[9];p=a;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Cast video to your TV"),b[10]=a):a=b[10];a=a;var t;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("fbicon")._(i("788899"),20),b[11]=t):t=b[11];b[12]!==p?(t=l.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:t,label:a,onPress:p,tooltip:a}),b[12]=p,b[13]=t):t=b[13];return t}g["default"]=a}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.subOrigin;var e=d("CastingControllerHooks").useIsCastAvailable();if(!e)return null;b[0]!==a?(e=i.jsx(c("VideoPlayerCastControlIcon.react"),{subOrigin:a}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._(/*BTDS*/"No people found")}g["default"]=a}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})})),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"],i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useImperativeHandle,n=b.useRef,o=b.useState;function a(a){var b=a.ref,e=a.context,f=a.dataSource,g=a.inputElement,i=a.layoutStrategyRenderer,q=a.loggingProvider,r=a.onAriaChange,s=a.onEntriesUpdated,t=a.onHighlightEntry,u=a.onSelectedEntry,v=a.onVisibilityChange,w=a.position;w=w===void 0?"above":w;var x=a.queryString,y=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var z=n(null),A=o(null),B=A[0],C=A[1],D=n([]);A=o(D.current);var E=A[0],F=A[1];A=o(!0);var G=A[0],H=A[1],I=n(null),J=n(x);l(function(){J.current=x},[x]);var K=k(function(a){t&&t(a),C(a),z.current=a},[t]);A=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:k(function(a){var b;a=a.entries;D.current=a;F(a);var d=c("baseTypeaheadFlattenEntries")(a),e=d[0],f=z==null||(b=z.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(f)&&K(e);s&&s(a.length>0)},[K,s])});var L=A[0].isLoading,M=A[1],N=G&&(E.length>0||L);l(function(){N?q.startSession(J.current):q.isSessionActive()&&q.maybeEndSession(J.current,c("baseTypeaheadFlattenEntries")(D.current));v(N);return function(){q.isSessionActive()&&q.maybeEndSession(J.current,c("baseTypeaheadFlattenEntries")(D.current))}},[v,q,N]);l(function(){H(!0),M({query:x})},[M,x,f]);m(b,function(){return{getViewRef:function(){return I},hasSelection:function(){return p(c("baseTypeaheadFlattenEntries")(D.current),B)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(D.current),B!=null?B.key:null,K,!1)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(D.current),B!=null?B.key:null,K,!1)},select:function(){var a=c("baseTypeaheadFlattenEntries")(D.current);u&&B!=null&&p(a,B)&&(q.isSessionActive()&&q.maybeEndSession(x,a,B),u(B))}}},[B,K,u,q,x]);A=k(function(a){var b=c("baseTypeaheadFlattenEntries")(D.current);u&&p(b,a)&&(q.isSessionActive()&&q.maybeEndSession(x,b,a),u(a))},[u,q,x]);l(function(){if(N===!1)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=I.current;c=c!==null&&(b===c||a(b,c));b=g!==null&&(b===g||a(b,g));H(c||b)};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[g,N]);return!N?null:j.jsx(i,{ariaProps:{role:"listbox"},context:e,entries:E,highlightedEntry:B,isLoading:L,onAriaChange:r,onBlur:a.onBlur,onHighlightEntry:K,onPressEntry:A,onPressEntryIn:A,position:w,queryString:x,viewRef:I,viewStrategyRenderer:y})}a.displayName=a.name+" [from "+f.id+"]";function p(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}g["default"]=a}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){a=a.anchor;if(a.type!=="text")return null;var c=a.getNode();if(b!=null&&!b()||b==null&&!c.isSimpleText())return null;b=a.offset;return c.getTextContent().slice(0,b)}function a(a,b){return a.getEditorState().read(function(){var a=d("Lexical").$getSelection();return!d("Lexical").$isRangeSelection(a)?null:h(a,b)})}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a,b){var c=j(!1);i(function(){if(c.current)return;var e=a.getRootElement()===document.activeElement;if(e){b();c.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();c.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},[b,a,c])}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("WithTagSuggestionContinueClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3701");b=d("FalcoLoggerInternal").create("with_tag_suggestion_continue_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["FBLogger","MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","WithTagSuggestionContinueClickedFalcoEvent","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("FBLogger")("search").mustfix("Mentions logging sessionID does not exist.");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d,e){if(a==null)return;var f=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,g=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:f,session_id:this.getSessionID(),typed_query:a});if(d!=null){var h=d.key,i=(f=b==null?void 0:b.findIndex(function(a){return a.key===h}))!=null?f:null,j=isNaN(parseInt(d.key,10))?"0":d.key;if(e===!0){c("WithTagSuggestionContinueClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},g,{selected_position:String(i),selected_result_display_text:d.label,selected_result_id:j,selected_result_id_string:d.key})});return}else c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},g,{selected_position:String(i),selected_result_display_text:d.label,selected_result_id:j,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return g});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){var b=d("react-compiler-runtime").c(2);a=a===void 0?i:a;var e;b[0]!==a?(e=new(c("CometMentionsLoggingProvider"))(a),b[0]=a,b[1]=e):e=b[1];a=e;return a}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.startTransition,j=b.useEffect,k=b.useState;function l(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b,d){var e=k(null),f=e[0],g=e[1];j(function(){var e=document.createRange(),f=null,h=null,j=null,k=function(){var k=e,m=c("getCometComposerMentionsSearchForLexical")(a,d);if(m===f||k===null)return;f=m;m=b(m);var n=m.dataSource,o=m.searchResult;if(n===h&&o===j)return;m=l(o,k);h=n;j=o;!m||n===null||o===null?i(function(){return g(null)}):i(function(){g({dataSource:n,range:k,searchResult:o})})},m=a.registerUpdateListener(k);k();return function(){e=null,m()}},[d,b,a]);return f}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","react-compiler-runtime","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState;function a(a){var b=a.$isValidSelection,e=a.createNodeStrategy,f=a.dataSourceResolverConfig,g=f.bootstrap,h=f.resolver,m=a.editor;f=a.layoutStrategyRenderer;var o=a.mentionsHandlerForSelectedEntry,r=a.mentionsLoggerContext,s=a.onMentionsEntrySelected,t=a.position;t=t===void 0?"below":t;a=a.viewStrategyRenderer;var u=c("useCometMentionsResolutionForLexical")(m,h,b),v=l(!1),w=n(m),x=w[0],y=w[1],z=l(null),A=q(m);c("useCometMentionsBootstrapForLexical")(m,g);k(function(){return m.registerCommand(d("Lexical").BLUR_COMMAND,function(){A();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[m,A]);w=j(function(){A()},[A]);k(function(){var a;a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:(a=d("Lexical")).KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:a.KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:a.KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:a.KEY_ARROW_DOWN_COMMAND},{handler:function(){A();y();return!0},type:a.KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return m.registerCommand(a,function(a){var c=z.current,d=v.current;if(c===null||!d||x)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[y,m,A,x]);g=j(function(a){v.current=a},[]);var B=j(function(a){if(a)return;A()},[A]),C=j(function(a){var d=c("getCometComposerMentionsSearchForLexical")(m,b);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var f=h(d);f=f.searchResult;if(f==null){c("FBLogger")("CometComposer").mustfix("onPressEntry was called and no search result was found for the query %s",d);return}A();d=o==null?void 0:o(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;p(m,e,a,f,b);s==null||s(a);y()},[m,b,h,A,o,e,s,y]);r=c("useCometMentionsLoggingProvider")(r);if(u===null||x){A();v.current=!1;return null}return i.jsx(c("CometMentions.react"),{context:u.range,dataSource:u.dataSource,inputElement:m.getRootElement(),layoutStrategyRenderer:f,loggingProvider:r,onAriaChange:A,onBlur:w,onEntriesUpdated:B,onFocus:c("emptyFunction"),onSelectedEntry:C,onVisibilityChange:g,position:t,queryString:u.searchResult.matchingString,ref:z,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(7),c=m(!1),e=c[0],f=c[1],g;b[0]!==a||b[1]!==e?(c=function(){if(e){var b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&f(!1),b=a})}},g=[a,e],b[0]=a,b[1]=e,b[2]=c,b[3]=g):(c=b[2],g=b[3]);k(c,g);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){return f(!0)},b[4]=c):c=b[4];b[5]!==e?(g=[e,c],b[5]=e,b[6]=g):g=b[6];c=g;return c}function o(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function p(a,b,c,e,f){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var g=a.getNode();if(f!=null&&!f()||f==null&&!g.isSimpleText())return;a=a.offset;var h=g.getTextContent().slice(0,a),i=c.label,j=e.replaceableString.length;h=o(h,i,j);i=a-h;if(i<0)return;b({anchorNode:g,endOffset:a,selectedEntry:c,startOffset:i})})}function q(a){var b=d("react-compiler-runtime").c(2),c=l(void 0),e=l(void 0),f;b[0]!==a?(f=function(b,f){var g=c.current,h=e.current;(g!==b||h!==f)&&(c.current=b,e.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:b,controlsID:f}))},b[0]=a,b[1]=f):f=b[1];return f}g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","react-compiler-runtime","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.entries,f=a.highlightedEntry,g=a.onAriaChange;b[0]!==e?(a=c("baseTypeaheadFlattenEntries")(e),b[0]=e,b[1]=a):a=b[1];b[2]!==f||b[3]!==a?(e={activeEntries:a,helperText:"",highlightedEntry:f,inputLabel:"",isOpened:!0,viewRole:"listbox"},b[2]=f,b[3]=a,b[4]=e):e=b[4];f=c("useCometTypeaheadLayoutContextualStrategyARIAProps")(e);var h=f.ariaInputProps;a=f.ariaViewProps;b[5]!==h||b[6]!==g?(e=function(){return g(h["aria-activedescendant"],h["aria-controls"])},f=[h,g],b[5]=h,b[6]=g,b[7]=e,b[8]=f):(e=b[7],f=b[8]);i(e,f);return a}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","react-compiler-runtime","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,i,k;b[0]!==a?(f=a.isLoading,k=a.isLoadingIndicatorEnabled,g=a.onAriaChange,e=a.viewStrategyRenderer,i=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=k):(e=b[1],f=b[2],g=b[3],i=b[4],k=b[5]);a=k===void 0?!1:k;b[6]!==g||b[7]!==i.entries||b[8]!==i.highlightedEntry?(k={entries:i.entries,highlightedEntry:i.highlightedEntry,onAriaChange:g},b[6]=g,b[7]=i.entries,b[8]=i.highlightedEntry,b[9]=k):k=b[9];g=c("useBaseMentionsLayoutStrategyARIAProps.react")(k);k=a?f:!1;b[10]!==e||b[11]!==g||b[12]!==i||b[13]!==k?(a=j.jsx(e,babelHelpers["extends"]({},i,{ariaProps:g,isLoading:k})),b[10]=e,b[11]=g,b[12]=i,b[13]=k,b[14]=a):a=b[14];b[15]!==f||b[16]!==i.entries?(e=!f&&i.entries.length===0?j.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,b[15]=f,b[16]=i.entries,b[17]=e):e=b[17];b[18]!==a||b[19]!==e?(g=j.jsxs("div",{children:[a,e]}),b[18]=a,b[19]=e,b[20]=g):g=b[20];return g}g["default"]=a}),98);
__d("CometMentionsLayoutStrategy.react",["fbt","CometContextualLayer.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","FDSPopover.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["ariaProps","context","entries","onBlur","position","viewRef"],j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e,f,g,j,l,m,n;b[0]!==a?(e=a.ariaProps,f=a.context,g=a.entries,j=a.onBlur,l=a.position,n=a.viewRef,m=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=l,b[6]=m,b[7]=n):(e=b[1],f=b[2],g=b[3],j=b[4],l=b[5],m=b[6],n=b[7]);if(g.length===0)return null;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Mentions suggestions"),b[8]=a):a=b[8];var o;b[9]!==e||b[10]!==g||b[11]!==m?(o=k.jsx(c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers["extends"]({ariaProps:e,entries:g,isLoading:!1},m)),b[9]=e,b[10]=g,b[11]=m,b[12]=o):o=b[12];b[13]!==j||b[14]!==o||b[15]!==n?(e=k.jsx(c("FDSPopover.react"),{"aria-label":a,onBlur:j,ref:n,role:"listbox",children:o}),b[13]=j,b[14]=o,b[15]=n,b[16]=e):e=b[16];b[17]!==f||b[18]!==l||b[19]!==e?(g=k.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:f,position:l,children:e}),b[17]=f,b[18]=l,b[19]=e,b[20]=g):g=b[20];return g}g["default"]=a}),226);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","FDSText.react","getItemRoleFromCompositeRole","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"],i,j=i||(i=d("react"));i.useMemo;function a(a){var b=d("react-compiler-runtime").c(30),e,f,g,i;if(b[0]!==a){var k=a.ariaProps,l=a.entries;a.extraViewProps;var m=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var n=a.viewItemStrategyRenderer,o=babelHelpers.objectWithoutPropertiesLoose(a,h);k=k;f=l;g=m;e=n;i=o;b[0]=a;b[1]=e;b[2]=k;b[3]=f;b[4]=g;b[5]=i}else e=b[1],k=b[2],f=b[3],g=b[4],i=b[5];l=k.role;if(l!=null){b[6]!==l?(m={role:l},b[6]=l,b[7]=m):m=b[7];n=m}else{b[8]===Symbol["for"]("react.memo_cache_sentinel")?(o={},b[8]=o):o=b[8];n=o}a=n;b[9]!==l?(m=c("getItemRoleFromCompositeRole")(l),b[9]=l,b[10]=m):m=b[10];var p=m;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(o="x78zum5 xdt5ytf x1iyjqo2",b[11]=o):o=b[11];if(b[12]!==e||b[13]!==f||b[14]!==((n=g)==null?void 0:n.key)||b[15]!==p||b[16]!==i){if(b[18]!==e||b[19]!==f.length||b[20]!==((l=g)==null?void 0:l.key)||b[21]!==p||b[22]!==i){m=function(a,b){if(a.type==="section"){var d=a.entries,h=a.key,k=a.label;return d.length===0?null:j.jsxs("li",{"aria-selected":"false",role:"option",children:[j.jsx("div",{className:"x889kno x2vl965 x1a8lsjc xe2zdcy",children:j.jsx("label",{htmlFor:h,children:j.jsx(c("FDSText.react"),{color:"primary",type:"entityHeaderMeta2",children:k})})}),j.jsx("ul",{id:h,role:"listbox",children:d.map(function(a){var b;return j.createElement(e,babelHelpers["extends"]({},i,{entry:a,isActive:a.key===((b=g)==null?void 0:b.key),key:a.key,role:p}))})})]},"section-"+h)}else{return j.createElement(e,babelHelpers["extends"]({},i,{entry:a,isActive:a.key===((k=g)==null?void 0:k.key),isFirstItem:b===0,isLastItem:b===f.length-1,key:a.key,role:p}))}};b[18]=e;b[19]=f.length;b[20]=(n=g)==null?void 0:n.key;b[21]=p;b[22]=i;b[23]=m}else m=b[23];l=f.map(m);b[12]=e;b[13]=f;b[14]=(n=g)==null?void 0:n.key;b[15]=p;b[16]=i;b[17]=l}else l=b[17];b[24]!==a||b[25]!==l?(m=j.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:l}),b[24]=a,b[25]=l,b[26]=m):m=b[26];b[27]!==k||b[28]!==m?(n=j.jsx("ul",babelHelpers["extends"]({},k,{className:o,"data-testid":void 0,children:m})),b[27]=k,b[28]=m,b[29]=n):n=b[29];return n}g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["onPressEntryIn","queryString"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e;if(b[0]!==a){var f=a.onPressEntryIn;a.queryString;var g=babelHelpers.objectWithoutPropertiesLoose(a,h);g=g;e=function(a,b){b.preventDefault(),f&&f(a,b)};b[0]=a;b[1]=g;b[2]=e}else g=b[1],e=b[2];a=e;b[3]!==a||b[4]!==g?(e=j.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},g,{onPressEntryIn:a})),b[3]=a,b[4]=g,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("FDSShopsFilled20Icon",["cr:15667"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15667")}),98);
__d("FDSShopsFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1664042"),20);b=a;g["default"]=b}),98);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FDSChevronLeftFilled16Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7);c("vulture")("gGHDieg7mm2jsTrKIdPDlmejPMo=");var e=a.entry;e=e.label;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={icon:c("FDSChevronLeftFilled16Icon"),type:"icon"},b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x15huedd"},b[1]=g):g=b[1];b[2]!==e?(f=i.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnStart:f,addOnStartOverrideVerticalStyle:j.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:e})})),level:4,paddingHorizontal:0}),b[2]=e,b[3]=f):f=b[3];b[4]!==a||b[5]!==f?(g=i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[4]=a,b[5]=f,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["CometListCellStrict_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","FBLogger","FDSChevronRightFilled16Icon","FDSShopsFilled20Icon","FDSText.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12);c("vulture")("Q1EDZhyn9frZO2tJJtSWGW-ofiM=");var e=a.entry,f=e.label;e=e.rawData;e=e.type==="MENTION_TYPE_SELECTION"?e.iconName:null;if(e==null){c("FBLogger")("comet_composer").mustfix("No icon name found for mention type selection entry");return null}var g=null;bb0:switch(e){case"shops":g=c("FDSShopsFilled20Icon");break bb0;default:}b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={color:"secondary",icon:c("FDSChevronRightFilled16Icon"),type:"icon"},b[0]=e):e=b[0];var h;b[1]!==g?(h=g!=null?{icon:g,size:40,type:"contained-icon"}:null,b[1]=g,b[2]=h):h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xcqhk00"},b[3]=g):g=b[3];b[4]!==f?(g=i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("FDSText.react"),{type:"headlineEmphasized4",children:f})})),b[4]=f,b[5]=g):g=b[5];b[6]!==h||b[7]!==g?(f=i.jsx(c("CometListCellStrict_DEPRECATED.react"),{addOnEnd:e,addOnEndVerticalAlign:"center",addOnStart:h,addOnStartOverrideVerticalStyle:j.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:g,level:4,paddingHorizontal:0}),b[6]=h,b[7]=g,b[8]=f):f=b[8];b[9]!==a||b[10]!==f?(e=i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:f})),b[9]=a,b[10]=f,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","FBLogger","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","fbicon","gkx","react","react-compiler-runtime","requireDeferred","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=["entry"],k,l,m=l||(l=d("react"));l.useCallback;var n=c("requireDeferred")("cometPushToast").__setRef("FeedComposerCometMentionsViewItem.react"),o={invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(55),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,j),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g=c("gkx")("608");b[3]!==e.rawData?(a=function(){var a;a=((a=e)==null||(a=a.rawData)==null?void 0:a.isEligible)==null||((a=e)==null||(a=a.rawData)==null?void 0:a.isEligible)===!0;if(!g||a)return;var b=((a=e)==null||(a=a.rawData)==null?void 0:a.ineligibleReason)!=null?h._(/*BTDS*/"{ineligible reason}",[h._param("ineligible reason",String(e.rawData.ineligibleReason))]):h._(/*BTDS*/"This person cannot be tagged at this time.");n.onReady(function(a){a.cometPushToast({message:b,testid:"FeedCometMentionHintToast"})})},b[3]=e.rawData,b[4]=a):a=b[4];a=a;var l=e;l=l.rawData;var q=!1,r=!1,s=null,t="circle",u=(l==null?void 0:l.isEligible)===!1&&g,v=u?"disabled":null;if(l.type==="MENTION_SEARCH_RESULT"){var w;q=Boolean(l.isExternal);r=l.isVerified;s=l.subtext;t=(w=l.iconShape)!=null?w:"circle"}w=e;w=w.label;var x=f.addOn,y=o.name;x!=null&&(y=r?o.invitedVerifiedName:o.invitedName);l=l.type!=="SEE_ALL_ENTRY"&&l.type!=="MENTION_TYPE_RESET"?l.photoURI:null;if(l==null){c("FBLogger")("comet_composer").mustfix("No profile picture found for mentions entry");return null}var z;b[5]!==l?(z={uri:l},b[5]=l,b[6]=z):z=b[6];b[7]!==t||b[8]!==z?(l=m.jsx(c("FDSProfilePhoto.react"),{shape:t,size:40,source:z}),b[7]=t,b[8]=z,b[9]=l):l=b[9];t=l;b[10]!==u||b[11]!==f.onPressEntry?(z=u?p:f.onPressEntry,b[10]=u,b[11]=f.onPressEntry,b[12]=z):z=b[12];l="CometSearchMentionsBaseViewItem/"+w;var A;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x78zum5 x1gfrnbc x18ip3f8"},A={className:"x1vqgdyp x100vrsf"},b[13]=u,b[14]=A):(u=b[13],A=b[14]);b[15]!==t?(A=m.jsx("div",babelHelpers["extends"]({},A,{children:t})),b[15]=t,b[16]=A):A=b[16];var B;b[17]===Symbol["for"]("react.memo_cache_sentinel")?(t={className:"x1iyjqo2 x1diwwjn x6ikm8r x10wlt62 xlyipyv xuxw1ft"},B={className:"x78zum5 x1gslohp x12nagc"},b[17]=B,b[18]=t):(B=b[17],t=b[18]);var C;b[19]!==y?(C=(k||(k=c("stylex"))).props(y),b[19]=y,b[20]=C):C=b[20];b[21]!==w||b[22]!==v?(y=m.jsx(c("FDSText.react"),{color:v,numberOfLines:1,type:"headlineEmphasized4",children:w}),b[21]=w,b[22]=v,b[23]=y):y=b[23];b[24]!==C||b[25]!==y?(w=m.jsx("div",babelHelpers["extends"]({},C,{children:y})),b[24]=C,b[25]=y,b[26]=w):w=b[26];b[27]!==e.key||b[28]!==r?(C=r&&m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"x51ohtg"}),m.jsx("div",{className:"x1kpxq89",children:m.jsx(c("CometProfileVerificationBadge.react"),{profileID:e.key,size:"small"})}),m.jsx("div",{className:"x51ohtg"})]}),b[27]=e.key,b[28]=r,b[29]=C):C=b[29];b[30]!==q?(y=q?m.jsx("span",{className:"xaso8d8",children:m.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"Not part of your organisation"),color:"primary",icon:d("fbicon")._(i("785426"),12)})}):null,b[30]=q,b[31]=y):y=b[31];b[32]!==w||b[33]!==C||b[34]!==y?(r=m.jsxs("div",babelHelpers["extends"]({},B,{children:[w,C,y]})),b[32]=w,b[33]=C,b[34]=y,b[35]=r):r=b[35];b[36]!==s||b[37]!==v?(q=s!=null&&m.jsxs("div",{className:"x12nagc",children:[m.jsx("div",{className:"xdk7pt"}),m.jsx(c("FDSText.react"),{color:v,numberOfLines:1,type:"meta3",children:s})]}),b[36]=s,b[37]=v,b[38]=q):q=b[38];b[39]!==r||b[40]!==q?(B=m.jsxs("div",babelHelpers["extends"]({},t,{children:[r,q]})),b[39]=r,b[40]=q,b[41]=B):B=b[41];b[42]!==x?(w=m.jsx("div",{children:x}),b[42]=x,b[43]=w):w=b[43];b[44]!==B||b[45]!==w||b[46]!==A?(C=m.jsxs("div",babelHelpers["extends"]({},u,{children:[A,B,w]})),b[44]=B,b[45]=w,b[46]=A,b[47]=C):C=b[47];b[48]!==e||b[49]!==a||b[50]!==f||b[51]!==C||b[52]!==z||b[53]!==l?(y=m.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},f,{entry:e,onPressEntry:z,onPressEntryIn:a,testid:void 0,children:C})),b[48]=e,b[49]=a,b[50]=f,b[51]=C,b[52]=z,b[53]=l,b[54]=y):y=b[54];return y}function p(){}g["default"]=a}),226);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["entry"],i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e,f;b[0]!==a?(e=a.entry,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;a=a.rawData;switch(a.type){case"MENTION_TYPE_SELECTION":b[3]!==e||b[4]!==f?(a=j.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a;case"MENTION_TYPE_RESET":b[6]!==e||b[7]!==f?(a=j.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[6]=e,b[7]=f,b[8]=a):a=b[8];return a;default:b[9]!==e||b[10]!==f?(a=j.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:e},f)),b[9]=e,b[10]=f,b[11]=a):a=b[11];return a}}g["default"]=a}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);d.setStyle(g.getStyle());g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b,c){b="[^"+a+b+"\\s]";c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+c+"){0,"+i+"}))$");var d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=a.validJoins;a=a===void 0?h:a;e=j(e,f,a);var i=e.regex,k=e.regexAlias;return{findMentionableString:function(a){var c=i.exec(a);c===null&&(c=k.exec(a));if(c!==null){a=c[1];var d=c[3];if(g!=null&&g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a}),66);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp(c("getHashtagRegexString")(),"i");function a(a){if(!a.hasNodes([d("LexicalHashtag").HashtagNode]))throw c("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var b=function(a){return d("LexicalHashtag").$createHashtagNode(a.getTextContent())},e=function(a){a=h.exec(a);if(a===null)return null;var b=a[3].length+1;a=a.index+a[1].length;b=a+b;return{end:b,start:a}};return d("LexicalUtils").mergeRegister.apply(void 0,d("LexicalText").registerLexicalTextEntity(a,e,d("LexicalHashtag").HashtagNode,b))}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useLayoutEffect;b.useMemo;function a(a,b){var c=d("react-compiler-runtime").c(12),e;c[0]!==a?(e=function(){a.forEach(j)},c[0]=a,c[1]=e):e=c[1];var f=e,g;c[2]!==f||c[3]!==b?(e=function(){if(!b)return;f()},g=[b,f],c[2]=f,c[3]=b,c[4]=e,c[5]=g):(e=c[4],g=c[5]);i(e,g);c[6]===Symbol["for"]("react.memo_cache_sentinel")?(e=new Map(),c[6]=e):e=c[6];var h=e;c[7]!==a?(g=function(b){var c={dataSource:null,searchResult:null};if(b==null)return c;var d=h.get(b);if(d!=null)return d;for(d=0;d<a.length;d++){var e=a[d],f=e.dataSource;e=e.matchStrategy;e=e.findMentionableString(b);if(e!=null){f={dataSource:f,searchResult:e};h.set(b,f);return f}}h.set(b,c);return c},c[7]=a,c[8]=g):g=c[8];c[9]!==f||c[10]!==g?(e={bootstrap:f,resolver:g},c[9]=f,c[10]=g,c[11]=e):e=c[11];g=e;return g}function j(a){a=a.dataSource;a.bootstrap()}g["default"]=a}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoading"],i,j=i||(i=d("react"));i.useCallback;function a(a){var b=d("react-compiler-runtime").c(2),e=a.viewItemStrategyRenderer;b[0]!==e?(a=function(a){var b=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,h);return j.jsxs(j.Fragment,{children:[j.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:e})),b&&j.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},b[0]=e,b[1]=a):a=b[1];return a}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("EBGetMinosWasm",["WAWasmModuleCache","bx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("31853"));a=function(){return d("WAWasmModuleCache").loadWasmModule(h)};g.getMinosWasm=a}),98);
__d("EBMinosWasm.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v={},w={},x={},y={},z={},A={},B={},C={},D={},E={},F={},G={},H={},I={},J={},K={},L={},M={},N={},O={},P={},Q={},R={},S={},T={},U={},V={},W={},X={},Y={},Z={},$={};a.name="MinosMessageMetadata";a.internalSpec={mekId:[1,(d=d("WAProtoConst")).FLAGS.REQUIRED|d.TYPES.BYTES],timestamp:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],messageId:[3,d.FLAGS.REQUIRED|d.TYPES.STRING],threadId:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};b.name="MinosEncryptAndSignMessageInput";b.internalSpec={transportSigningSk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mek:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],plaintext:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],metadata:[4,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,a]};c.name="MinosEncryptAndSignMessageResult";c.internalSpec={ciphertext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[3,d.FLAGS.REQUIRED|d.TYPES.INT32]};e.name="MinosDecryptAndVerifyMessageInput";e.internalSpec={transportSigningPk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mek:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],encryptedMessageCiphertext:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],encryptedMessageSignature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],metadata:[5,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,a],messageEncryptionVersion:[6,d.TYPES.INT32]};f.name="MinosDecryptAndVerifyMessageResult";f.internalSpec={plaintext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};h.name="MekBundle";h.internalSpec={key:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mekId:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};i.name="GenerateMekInput";i.internalSpec={epochHeads:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};j.name="GenerateMekResult";j.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h]};k.name="GenerateMekRosterHashInput";k.internalSpec={epochHeads:[1,d.FLAGS.REPEATED|d.TYPES.BYTES]};l.name="GenerateMekRosterHashResult";l.internalSpec={rosterHash:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};m.name="EncryptMekForDistributionInput";m.internalSpec={senderEpochHead:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],toMailboxPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],fromKeypair:[3,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,n],mek:[4,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h],toEpochHead:[5,d.TYPES.BYTES]};n.name="EncryptMekForDistributionInput$MailboxAuthKP";n.internalSpec={sk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],pk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};o.name="EncryptMekForDistributionResult";o.internalSpec={ciphertext:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};p.name="DecryptMekForDistributionInput";p.internalSpec={toMailboxSk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],fromPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],mekId:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],senderEpochHead:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],ciphertext:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES],toEpochHead:[7,d.TYPES.BYTES],mekEncryptionVersion:[8,d.TYPES.INT32]};q.name="DecryptMekForDistributionResult";q.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};r.name="EncryptMeksForDistributionFromTransportSenderInput";r.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,h],transportSigningKp:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,s],recipientMailboxEncryptionPks:[3,d.FLAGS.REPEATED|d.TYPES.BYTES],recipientEpochHeads:[4,d.FLAGS.REPEATED|d.TYPES.BYTES]};s.name="EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKP";s.internalSpec={sk:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],pk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};t.name="EncryptMeksForDistributionFromTransportSenderResult";t.internalSpec={encryptedMeks:[1,d.FLAGS.REPEATED|d.TYPES.BYTES],ephemeralEncryptionPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],signingPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64]};u.name="DecryptMekForDistributionFromTransportSenderInput";u.internalSpec={mekDistribution:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,v],mekId:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],rosterHash:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],recipientEncSk:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],version:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64]};v.name="DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipient";v.internalSpec={encryptedMek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],ephemeralEncryptionPk:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],signingPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],signature:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],recipEpochHead:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES]};w.name="DecryptMekForDistributionFromTransportSenderResult";w.internalSpec={mek:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};x.name="WrapTransportSigningPublicKeyInput";x.internalSpec={keyBytes:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};y.name="WrapTransportSigningPublicKeyResult";y.internalSpec={prefixedKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};z.name="WrapTransportSigningSecretKeyInput";z.internalSpec={keyBytes:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};A.name="WrapTransportSigningSecretKeyResult";A.internalSpec={prefixedKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};B.name="DeriveMailboxSigningKeypairInput";B.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};C.name="DeriveMailboxSigningKeypairResult";C.internalSpec={mailboxSigningPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxSigningPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};D.name="DeriveMailboxEncryptionKeypairInput";D.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};E.name="DeriveMailboxEncryptionKeypairResult";E.internalSpec={mailboxEncryptionPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxEncryptionPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};F.name="DeriveMailboxAuthKeypairInput";F.internalSpec={exportRootKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64]};G.name="DeriveMailboxAuthKeypairResult";G.internalSpec={mailboxAuthPublicKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxAuthPrivateKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};H.name="DeriveAttachmentAccessTokenSecretInput";H.internalSpec={mediaKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};I.name="DeriveAttachmentAccessTokenSecretResult";I.internalSpec={attachmentAccessTokenSecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};J.name="DeriveAttachmentPrimaryKeySecretInput";J.internalSpec={mediaKey:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};K.name="DeriveAttachmentPrimaryKeySecretResult";K.internalSpec={attachmentPrimaryKeySecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};L.name="EpochPublicData";L.internalSpec={epochNumber:[1,d.FLAGS.REQUIRED|d.TYPES.UINT64],userFbid:[2,d.FLAGS.REQUIRED|d.TYPES.STRING],mailboxSigningPk:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxEncryptionPk:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],mailboxAuthPk:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousEpochHead:[6,d.TYPES.BYTES]};M.name="EpochSignatures";M.internalSpec={selfSignature:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],prevSignature:[2,d.TYPES.BYTES]};N.name="MinosSignedEpoch";N.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signatures:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,M],epochHead:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};O.name="MinosOpenInitialEpochInput";O.internalSpec={userFbid:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],exportRootKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};P.name="MinosOpenInitialEpochResult";P.internalSpec={minosSignedEpoch:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,N]};Q.name="MinosOpenEpochInput";Q.internalSpec={userFbid:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],epochNumber:[2,d.FLAGS.REQUIRED|d.TYPES.UINT64],exportRootKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousExportRootKey:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],previousEpochNumber:[5,d.FLAGS.REQUIRED|d.TYPES.UINT64],previousEpochHead:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES]};R.name="MinosOpenEpochResult";R.internalSpec={minosSignedEpoch:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,N]};S.name="MinosValidateEpochInput";S.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],previousEpochPublicData:[2,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signatures:[3,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,M]};T.name="MinosValidateEpochResult";T.internalSpec={valid:[1,d.TYPES.BOOL],errorMessage:[2,d.TYPES.STRING],__oneofs__:{result:["valid","errorMessage"]}};U.name="MinosVerifySingleEpochInput";U.internalSpec={epochPublicData:[1,d.FLAGS.REQUIRED|d.TYPES.MESSAGE,L],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};V.name="MinosVerifySingleEpochResult";V.internalSpec={valid:[1,d.FLAGS.REQUIRED|d.TYPES.BOOL]};W.name="MinosThreadIdFromOneToOneThreadInput";W.internalSpec={actThreadId:[1,d.FLAGS.REQUIRED|d.TYPES.STRING],selfFbid:[2,d.FLAGS.REQUIRED|d.TYPES.STRING]};X.name="MinosThreadIdFromOneToOneThreadResult";X.internalSpec={threadId:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};Y.name="MinosThreadIdFromActThreadIdInput";Y.internalSpec={actThreadId:[1,d.FLAGS.REQUIRED|d.TYPES.STRING]};Z.name="MinosThreadIdFromActThreadIdResult";Z.internalSpec={threadId:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};$.name="MinosCommand";$.internalSpec={encryptAndSignMessage:[1,d.TYPES.MESSAGE,b],decryptAndVerifyMessage:[2,d.TYPES.MESSAGE,e],generateMek:[3,d.TYPES.MESSAGE,i],generateMekRosterHash:[4,d.TYPES.MESSAGE,k],encryptMekForDistribution:[5,d.TYPES.MESSAGE,m],decryptMekForDistribution:[6,d.TYPES.MESSAGE,p],encryptMeksForDistributionFromTransportSender:[7,d.TYPES.MESSAGE,r],decryptMekForDistributionFromTransportSender:[8,d.TYPES.MESSAGE,u],wrapTransportSigningPublicKey:[9,d.TYPES.MESSAGE,x],wrapTransportSigningSecretKey:[10,d.TYPES.MESSAGE,z],deriveMailboxSigningKeypair:[11,d.TYPES.MESSAGE,B],deriveMailboxEncryptionKeypair:[12,d.TYPES.MESSAGE,D],deriveMailboxAuthKeypair:[13,d.TYPES.MESSAGE,F],deriveAttachmentAccessTokenSecret:[14,d.TYPES.MESSAGE,H],deriveAttachmentPrimaryKeySecret:[15,d.TYPES.MESSAGE,J],minosOpenInitialEpoch:[16,d.TYPES.MESSAGE,O],minosOpenEpoch:[17,d.TYPES.MESSAGE,Q],minosValidateEpoch:[18,d.TYPES.MESSAGE,S],minosVerifySingleEpoch:[19,d.TYPES.MESSAGE,U],minosThreadIdFromOneToOneThread:[20,d.TYPES.MESSAGE,W],minosThreadIdFromActThreadId:[21,d.TYPES.MESSAGE,Y],__oneofs__:{commandInput:["encryptAndSignMessage","decryptAndVerifyMessage","generateMek","generateMekRosterHash","encryptMekForDistribution","decryptMekForDistribution","encryptMeksForDistributionFromTransportSender","decryptMekForDistributionFromTransportSender","wrapTransportSigningPublicKey","wrapTransportSigningSecretKey","deriveMailboxSigningKeypair","deriveMailboxEncryptionKeypair","deriveMailboxAuthKeypair","deriveAttachmentAccessTokenSecret","deriveAttachmentPrimaryKeySecret","minosOpenInitialEpoch","minosOpenEpoch","minosValidateEpoch","minosVerifySingleEpoch","minosThreadIdFromOneToOneThread","minosThreadIdFromActThreadId"]}};g.MinosMessageMetadataSpec=a;g.MinosEncryptAndSignMessageInputSpec=b;g.MinosEncryptAndSignMessageResultSpec=c;g.MinosDecryptAndVerifyMessageInputSpec=e;g.MinosDecryptAndVerifyMessageResultSpec=f;g.MekBundleSpec=h;g.GenerateMekInputSpec=i;g.GenerateMekResultSpec=j;g.GenerateMekRosterHashInputSpec=k;g.GenerateMekRosterHashResultSpec=l;g.EncryptMekForDistributionInputSpec=m;g.EncryptMekForDistributionInput$MailboxAuthKPSpec=n;g.EncryptMekForDistributionResultSpec=o;g.DecryptMekForDistributionInputSpec=p;g.DecryptMekForDistributionResultSpec=q;g.EncryptMeksForDistributionFromTransportSenderInputSpec=r;g.EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKPSpec=s;g.EncryptMeksForDistributionFromTransportSenderResultSpec=t;g.DecryptMekForDistributionFromTransportSenderInputSpec=u;g.DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipientSpec=v;g.DecryptMekForDistributionFromTransportSenderResultSpec=w;g.WrapTransportSigningPublicKeyInputSpec=x;g.WrapTransportSigningPublicKeyResultSpec=y;g.WrapTransportSigningSecretKeyInputSpec=z;g.WrapTransportSigningSecretKeyResultSpec=A;g.DeriveMailboxSigningKeypairInputSpec=B;g.DeriveMailboxSigningKeypairResultSpec=C;g.DeriveMailboxEncryptionKeypairInputSpec=D;g.DeriveMailboxEncryptionKeypairResultSpec=E;g.DeriveMailboxAuthKeypairInputSpec=F;g.DeriveMailboxAuthKeypairResultSpec=G;g.DeriveAttachmentAccessTokenSecretInputSpec=H;g.DeriveAttachmentAccessTokenSecretResultSpec=I;g.DeriveAttachmentPrimaryKeySecretInputSpec=J;g.DeriveAttachmentPrimaryKeySecretResultSpec=K;g.EpochPublicDataSpec=L;g.EpochSignaturesSpec=M;g.MinosSignedEpochSpec=N;g.MinosOpenInitialEpochInputSpec=O;g.MinosOpenInitialEpochResultSpec=P;g.MinosOpenEpochInputSpec=Q;g.MinosOpenEpochResultSpec=R;g.MinosValidateEpochInputSpec=S;g.MinosValidateEpochResultSpec=T;g.MinosVerifySingleEpochInputSpec=U;g.MinosVerifySingleEpochResultSpec=V;g.MinosThreadIdFromOneToOneThreadInputSpec=W;g.MinosThreadIdFromOneToOneThreadResultSpec=X;g.MinosThreadIdFromActThreadIdInputSpec=Y;g.MinosThreadIdFromActThreadIdResultSpec=Z;g.MinosCommandSpec=$}),98);
__d("WASIContext",[],(function(a,b,c,d,e,f){"use strict";a=function(a){var b;this.fs=(b=a==null?void 0:a.fs)!=null?b:{};this.args=(b=a==null?void 0:a.args)!=null?b:[];this.env=(b=a==null?void 0:a.env)!=null?b:{};this.stdin=(b=a==null?void 0:a.stdin)!=null?b:function(){return null};this.stdout=(b=a==null?void 0:a.stdout)!=null?b:function(){};this.stderr=(b=a==null?void 0:a.stderr)!=null?b:function(){};this.debug=a==null?void 0:a.debug;this.isTTY=!!(a!=null&&a.isTTY)};f.WASIContext=a}),66);
__d("WASISnapshotPreview1",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({SUCCESS:0,E2BIG:1,EACCESS:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EAGAIN:6,EALREADY:7,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTSUP:58,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75,ENOTCAPABLE:76});d=(c=b("$InternalEnum"))({REALTIME:0,MONOTONIC:1,PROCESS_CPUTIME_ID:2,THREAD_CPUTIME_ID:3});e=c({SET:0,CUR:1,END:2});b=c({UNKNOWN:0,BLOCK_DEVICE:1,CHARACTER_DEVICE:2,DIRECTORY:3,REGULAR_FILE:4,SOCKET_DGRAM:5,SOCKET_STREAM:6,SYMBOLIC_LINK:7});var g=c({DIR:0});c=c({CLOCK:0,FD_READ:1,FD_WRITE:2});var h={SYMLINK_FOLLOW:1<<0},i={CREAT:1<<0,DIRECTORY:1<<1,EXCL:1<<2,TRUNC:1<<3},j={APPEND:1<<0,DSYNC:1<<1,NONBLOCK:1<<2,RSYNC:1<<3,SYNC:1<<4},k={FD_DATASYNC:BigInt(1)<<BigInt(0),FD_READ:BigInt(1)<<BigInt(1),FD_SEEK:BigInt(1)<<BigInt(2),FD_FDSTAT_SET_FLAGS:BigInt(1)<<BigInt(3),FD_SYNC:BigInt(1)<<BigInt(4),FD_TELL:BigInt(1)<<BigInt(5),FD_WRITE:BigInt(1)<<BigInt(6),FD_ADVISE:BigInt(1)<<BigInt(7),FD_ALLOCATE:BigInt(1)<<BigInt(8),PATH_CREATE_DIRECTORY:BigInt(1)<<BigInt(9),PATH_CREATE_FILE:BigInt(1)<<BigInt(10),PATH_LINK_SOURCE:BigInt(1)<<BigInt(11),PATH_LINK_TARGET:BigInt(1)<<BigInt(12),PATH_OPEN:BigInt(1)<<BigInt(13),FD_READDIR:BigInt(1)<<BigInt(14),PATH_READLINK:BigInt(1)<<BigInt(15),PATH_RENAME_SOURCE:BigInt(1)<<BigInt(16),PATH_RENAME_TARGET:BigInt(1)<<BigInt(17),PATH_FILESTAT_GET:BigInt(1)<<BigInt(18),PATH_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(19),PATH_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(20),FD_FILESTAT_GET:BigInt(1)<<BigInt(21),FD_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(22),FD_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(23),PATH_SYMLINK:BigInt(1)<<BigInt(24),PATH_REMOVE_DIRECTORY:BigInt(1)<<BigInt(25),PATH_UNLINK_FILE:BigInt(1)<<BigInt(26),POLL_FD_READWRITE:BigInt(1)<<BigInt(27),SOCK_SHUTDOWN:BigInt(1)<<BigInt(28),SOCK_ACCEPT:BigInt(1)<<BigInt(29)},l={ATIM:1<<0,ATIM_NOW:1<<1,MTIM:1<<2,MTIM_NOW:1<<3},m={SUBSCRIPTION_CLOCK_ABSTIME:1<<0},n={FD_READWRITE_HANGUP:1<<0},o=64,p=48,q=32;f.RESULT=a;f.Clock=d;f.Whence=e;f.FileType=b;f.PreopenType=g;f.EventType=c;f.LookupFlags=h;f.OpenFlags=i;f.FileDescriptorFlags=j;f.RightsFlags=k;f.FileStatTimestampFlags=l;f.SubscriptionClockFlags=m;f.EventReadWriteFlags=n;f.FILESTAT_SIZE=o;f.SUBSCRIPTION_SIZE=p;f.EVENT_SIZE=q}),66);
__d("WATextEncoding",[],(function(a,b,c,d,e,f){"use strict";e=TextEncoder;var g=TextDecoder,h=e,i=g;function a(){return new h()}function b(){return new i()}function c(a){h=a}function d(a){i=a}f.newTextEncoder=a;f.newTextDecoder=b;f.setTextEncoderClass=c;f.setTextDecoderClass=d}),66);
__d("WASIDrive",["WASISnapshotPreview1","WATextEncoding"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.nextFD=10,this.openMap=new Map(),this.fs=babelHelpers["extends"]({},a),this.openMap.set(3,new j(this.fs,"/"))}var b=a.prototype;b.$1=function(a,b,c){a=new h(a,c);b&&(a.buffer=new Uint8Array(new ArrayBuffer(1024),0,0));c=this.nextFD;this.openMap.set(c,a);this.nextFD++;return[d("WASISnapshotPreview1").RESULT.SUCCESS,c]};b.$2=function(a,b){a=new j(a,b);b=this.nextFD;this.openMap.set(b,a);this.nextFD++;return[d("WASISnapshotPreview1").RESULT.SUCCESS,b]};b.$3=function(a,b){return b==="."?!0:a.containsDirectory(b)};b.open=function(a,b,c,e){var f,g=!!(c&(f=d("WASISnapshotPreview1")).OpenFlags.CREAT),h=!!(c&f.OpenFlags.DIRECTORY),i=!!(c&f.OpenFlags.EXCL);c=!!(c&f.OpenFlags.TRUNC);f=this.openMap.get(a);if(!(f instanceof j))return[d("WASISnapshotPreview1").RESULT.EBADF];if(f.containsFile(b)){if(h)return[d("WASISnapshotPreview1").RESULT.ENOTDIR];if(i)return[d("WASISnapshotPreview1").RESULT.EEXIST];a=f.get(b);return this.$1(a,c,e)}else if(this.$3(f,b)){if(b===".")return this.$2(this.fs,"/");var k="/"+b+"/";h=Object.entries(this.fs).filter(function(a){a=a[0];return a.startsWith(k)});return this.$2(Object.fromEntries(h),k)}else{if(g){i=f.fullPath(b);this.fs[i]={path:i,mode:"binary",content:new Uint8Array(0),timestamps:{access:new Date(),modification:new Date(),change:new Date()}};return this.$1(this.fs[i],c,e)}return[d("WASISnapshotPreview1").RESULT.ENOTCAPABLE]}};b.close=function(a){if(!this.openMap.has(a))return d("WASISnapshotPreview1").RESULT.EBADF;var b=this.openMap.get(a);b instanceof h&&b.sync();this.openMap["delete"](a);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.read=function(a,b){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.read(b)]};b.pread=function(a,b,c){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.pread(b,c)]};b.write=function(a,b){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.write(b);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pwrite=function(a,b,c){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.pwrite(b,c);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.sync=function(a){a=this.openMap.get(a);if(!a||a instanceof j)return d("WASISnapshotPreview1").RESULT.EBADF;a.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.seek=function(a,b,c){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.seek(b,c)]};b.tell=function(a){a=this.openMap.get(a);return!a||a instanceof j?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.tell()]};b.renumber=function(a,b){if(!this.exists(a)||!this.exists(b))return d("WASISnapshotPreview1").RESULT.EBADF;if(a===b)return d("WASISnapshotPreview1").RESULT.SUCCESS;this.close(b);a=this.openMap.get(a);this.openMap.set(b,a);return d("WASISnapshotPreview1").RESULT.SUCCESS};b.unlink=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(!a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOENT;for(var c of Object.keys(this.fs))(c===a.fullPath(b)||c.startsWith(a.fullPath(b)+"/"))&&delete this.fs[c];return d("WASISnapshotPreview1").RESULT.SUCCESS};b.rename=function(a,b,c,e){a=this.openMap.get(a);c=this.openMap.get(c);if(!(a instanceof j)||!(c instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(!a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOENT;if(c.contains(e))return d("WASISnapshotPreview1").RESULT.EEXIST;a=a.fullPath(b);b=c.fullPath(e);for(c of Object.keys(this.fs))if(c.startsWith(a)){e=c.replace(a,b);this.fs[e]=this.fs[c];this.fs[e].path=e;delete this.fs[c]}return d("WASISnapshotPreview1").RESULT.SUCCESS};b.list=function(a){a=this.openMap.get(a);return!(a instanceof j)?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.list()]};b.stat=function(a){a=this.openMap.get(a);return!(a instanceof h)?[d("WASISnapshotPreview1").RESULT.EBADF]:[d("WASISnapshotPreview1").RESULT.SUCCESS,a.stat()]};b.pathStat=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return[d("WASISnapshotPreview1").RESULT.EBADF];if(a.containsFile(b)){var c=a.fullPath(b);c=new h(this.fs[c],0).stat();return[d("WASISnapshotPreview1").RESULT.SUCCESS,c]}else if(this.$3(a,b)){if(b===".")return[d("WASISnapshotPreview1").RESULT.SUCCESS,new j(this.fs,"/").stat()];var e="/"+b+"/";c=Object.entries(this.fs).filter(function(a){a=a[0];return a.startsWith(e)});a=new j(Object.fromEntries(c),e).stat();return[d("WASISnapshotPreview1").RESULT.SUCCESS,a]}else return[d("WASISnapshotPreview1").RESULT.ENOTCAPABLE]};b.setFlags=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setFlags(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setSize=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setSize(Number(b));return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setAccessTime=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setAccessTime(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.setModificationTime=function(a,b){a=this.openMap.get(a);if(a instanceof h){a.setModificationTime(b);return d("WASISnapshotPreview1").RESULT.SUCCESS}else return d("WASISnapshotPreview1").RESULT.EBADF};b.pathSetAccessTime=function(a,b,c){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;a=a.get(b);if(a==null)return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;b=new h(a,0);b.setAccessTime(c);b.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pathSetModificationTime=function(a,b,c){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;a=a.get(b);if(a==null)return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;b=new h(a,0);b.setModificationTime(c);b.sync();return d("WASISnapshotPreview1").RESULT.SUCCESS};b.pathCreateDir=function(a,b){a=this.openMap.get(a);if(!(a instanceof j))return d("WASISnapshotPreview1").RESULT.EBADF;if(a.contains(b))return d("WASISnapshotPreview1").RESULT.ENOTCAPABLE;a=a.fullPath(b)+"/.runno";this.fs[a]={path:a,timestamps:{access:new Date(),modification:new Date(),change:new Date()},mode:"string",content:""};return d("WASISnapshotPreview1").RESULT.SUCCESS};b.exists=function(a){return this.openMap.has(a)};b.fileType=function(a){a=this.openMap.get(a);if(!a)return d("WASISnapshotPreview1").FileType.UNKNOWN;else if(a instanceof h)return d("WASISnapshotPreview1").FileType.REGULAR_FILE;else return d("WASISnapshotPreview1").FileType.DIRECTORY};b.fileFdflags=function(a){a=this.openMap.get(a);if(a instanceof h)return a.fdflags;else return 0};return a}();var h=function(){function a(a,b){this.$1=BigInt(0);this.isDirty=!1;this.file=a;if(this.file.mode==="string"){a=this.file.content;var c=d("WATextEncoding").newTextEncoder();this.buffer=c.encode(a)}else this.buffer=this.file.content;this.fdflags=b;this.flagAppend=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.APPEND);this.flagDSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.DSYNC);this.flagNonBlock=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.NONBLOCK);this.flagRSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.RSYNC);this.flagSync=!!(b&d("WASISnapshotPreview1").FileDescriptorFlags.SYNC)}var b=a.prototype;b.getOffset=function(){return Number(this.$1)};b.read=function(a){a=this.buffer.subarray(this.getOffset(),this.getOffset()+a);this.$1+=BigInt(a.length);return a};b.pread=function(a,b){return this.buffer.subarray(b,b+a)};b.write=function(a){this.isDirty=!0;if(this.flagAppend){var b=this.buffer.length;this.$2(b+a.byteLength);this.buffer.set(a,b)}else{b=Math.max(this.getOffset()+a.byteLength,this.buffer.byteLength);this.$2(b);this.buffer.set(a,this.getOffset());this.$1+=BigInt(a.byteLength)}(this.flagDSync||this.flagSync)&&this.sync()};b.pwrite=function(a,b){this.isDirty=!0;if(this.flagAppend){var c=this.buffer.length;this.$2(c+a.byteLength);this.buffer.set(a,c)}else{c=Math.max(b+a.byteLength,this.buffer.byteLength);this.$2(c);this.buffer.set(a,b)}(this.flagDSync||this.flagSync)&&this.sync()};b.sync=function(){if(!this.isDirty)return;this.isDirty=!1;if(this.file.mode==="binary"){this.file.content=new Uint8Array(this.buffer);return}var a=d("WATextEncoding").newTextDecoder();this.file.content=a.decode(this.buffer);return};b.seek=function(a,b){switch(b){case d("WASISnapshotPreview1").Whence.SET:this.$1=a;break;case d("WASISnapshotPreview1").Whence.CUR:this.$1+=a;break;case d("WASISnapshotPreview1").Whence.END:this.$1=BigInt(this.buffer.length)+a;break}return this.$1};b.tell=function(){return this.$1};b.stat=function(){return{path:this.file.path,timestamps:this.file.timestamps,type:d("WASISnapshotPreview1").FileType.REGULAR_FILE,byteLength:this.buffer.length}};b.setFlags=function(a){this.fdflags=a};b.setSize=function(a){this.$2(a)};b.setAccessTime=function(a){this.file.timestamps.access=a};b.setModificationTime=function(a){this.file.timestamps.modification=a};b.$2=function(a){if(a<=this.buffer.buffer.byteLength){this.buffer=new Uint8Array(this.buffer.buffer,0,a);return}var b;this.buffer.buffer.byteLength===0?b=new ArrayBuffer(a<1024?1024:a*2):a>this.buffer.buffer.byteLength*2?b=new ArrayBuffer(a*2):b=new ArrayBuffer(this.buffer.buffer.byteLength*2);b=new Uint8Array(b,0,a);b.set(this.buffer);this.buffer=b};return a}();function i(a,b){b=b.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");b=new RegExp("^"+b);return a.replace(b,"")}var j=function(){function a(a,b){this.dir=a,this.prefix=b}var b=a.prototype;b.containsFile=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c===a)return!0}return!1};b.containsDirectory=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c.startsWith(a+"/"))return!0}return!1};b.contains=function(a){for(var b of Object.keys(this.dir)){var c=i(b,this.prefix);if(c===a||c.startsWith(a+"/"))return!0}return!1};b.get=function(a){return this.dir[this.fullPath(a)]};b.fullPath=function(a){return""+this.prefix+a};b.list=function(){var a=[],b=new Set();for(var c of Object.keys(this.dir)){var e=i(c,this.prefix);if(e.includes("/")){var f=e.split("/")[0];if(b.has(f))continue;b.add(f);a.push({name:f,type:d("WASISnapshotPreview1").FileType.DIRECTORY})}else a.push({name:e,type:d("WASISnapshotPreview1").FileType.REGULAR_FILE})}return a};b.stat=function(){return{path:this.prefix,timestamps:{access:new Date(),modification:new Date(),change:new Date()},type:d("WASISnapshotPreview1").FileType.DIRECTORY,byteLength:0}};return a}();g.WASIDrive=a}),98);
__d("WASMMemoryLogger",["FBLogger","QPLFlow","WAHashStringToNumber","justknobx","qpl","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("justknobx")._("168"),i=function(){function a(){var a=this;this.$1=new FinalizationRegistry(function(b){a.$3-=b.numBytes;var c=b.wasmModule;if(c!=null){var d=a.$2.get(c);if(d!=null){d=d-b.numBytes;d<=0?a.$2["delete"](c):a.$2.set(c,d)}}});this.$3=0;this.$2=new Map()}var b=a.prototype;b.addWasmInstanceToSet=function(a,b){var c=a.buffer.byteLength;this.$1.register(a,{numBytes:c,wasmModule:b});this.$3+=c;if(b!=null){a=(a=this.$2.get(b))!=null?a:0;this.$2.set(b,a+c)}};b.getCurrentWasmMemoryUsage=function(){return this.$3};b.getWasmMemoryUsagePerModuleAnnotationsObject=function(){var a={};this.$2.forEach(function(b,c){a["wasm_memory_usage_"+c]=b});return a};return a}(),j;function a(){if(j==null){if(typeof FinalizationRegistry!=="function"){c("FBLogger")("wmi").warn("unable to run wasm memory logger - finalization registry not supported in browser");return}j=new i();window.setInterval(function(){var a=c("qpl")._(994782764,"418"),b=d("WAHashStringToNumber").hashStringToNumber(c("uuidv4")()),e=j.getWasmMemoryUsagePerModuleAnnotationsObject();a=d("QPLFlow").startQPLFlow(a,{annotations:{"int":babelHelpers["extends"]({},e,{wasm_total_memory_usage:j.getCurrentWasmMemoryUsage()})},instanceKey:b});a.endSuccess()},h)}return j}g.getOrInitWasmMemoryLogger=a}),98);
__d("WASI",["WACryptoDependencies","WASIContext","WASIDrive","WASISnapshotPreview1","WASMMemoryLogger","WATextEncoding","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b,e=new(d("WASIContext").WASIContext)(a),f=new(d("WASIDrive").WASIDrive)(e.fs);function g(){return Object.entries(e.env).map(function(a){var b=a[0];a=a[1];return b+"="+a})}var o={args_get:function(a,c){a=a;c=c;var f=new DataView(b.buffer);for(var g of e.args){f.setUint32(a,c,!0);a+=4;var h=d("WATextEncoding").newTextEncoder().encode(g+"\0"),i=new Uint8Array(b.buffer,c,h.byteLength);i.set(h);c+=h.byteLength}return d("WASISnapshotPreview1").RESULT.SUCCESS},args_sizes_get:function(a,c){var f=e.args,g=f.reduce(function(a,b){return a+d("WATextEncoding").newTextEncoder().encode(b+"\0").byteLength},0),h=new DataView(b.buffer);h.setUint32(a,f.length,!0);h.setUint32(c,g,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},clock_res_get:function(){throw c("err")("clock_res_get is not implemented")},clock_time_get:function(a,c,e){c=d("WASISnapshotPreview1").Clock.cast(a);if(c==null)return d("WASISnapshotPreview1").RESULT.EINVAL;switch(c){case d("WASISnapshotPreview1").Clock.REALTIME:case d("WASISnapshotPreview1").Clock.MONOTONIC:case d("WASISnapshotPreview1").Clock.PROCESS_CPUTIME_ID:case d("WASISnapshotPreview1").Clock.THREAD_CPUTIME_ID:a=new DataView(b.buffer);a.setBigUint64(e,n(new Date()),!0);return d("WASISnapshotPreview1").RESULT.SUCCESS}},environ_get:function(a,c){a=a;c=c;var e=new DataView(b.buffer);for(var f of g()){e.setUint32(a,c,!0);a+=4;var h=d("WATextEncoding").newTextEncoder().encode(f+"\0"),i=new Uint8Array(b.buffer,c,h.byteLength);i.set(h);c+=h.byteLength}return d("WASISnapshotPreview1").RESULT.SUCCESS},environ_sizes_get:function(a,c){var e=g().reduce(function(a,b){return a+d("WATextEncoding").newTextEncoder().encode(b+"\0").byteLength},0),f=new DataView(b.buffer);f.setUint32(a,g().length,!0);f.setUint32(c,e,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_advise:function(){throw c("err")("fd_advise is not implemented")},fd_allocate:function(){throw c("err")("fd_allocate is not implemented")},fd_close:function(a){return f.close(a)},fd_datasync:function(){throw c("err")("fd_datasync is not implemented")},fd_fdstat_get:function(a,c){if(a<3){if(e.isTTY){var g=i^d("WASISnapshotPreview1").RightsFlags.FD_SEEK^d("WASISnapshotPreview1").RightsFlags.FD_TELL;g=l(d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0,g)}else g=l(d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0);var h=new Uint8Array(b.buffer,c,g.byteLength);h.set(g);return d("WASISnapshotPreview1").RESULT.SUCCESS}if(!f.exists(a))return d("WASISnapshotPreview1").RESULT.EBADF;h=f.fileType(a);g=f.fileFdflags(a);a=l(h,g);h=new Uint8Array(b.buffer,c,a.byteLength);h.set(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_fdstat_set_flags:function(a,b){return f.setFlags(a,b)},fd_fdstat_set_rights:function(){return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_get:function(a,c){if(a<3){var e;switch(a){case 0:e="/dev/stdin";break;case 1:e="/dev/stdout";break;case 2:e="/dev/stderr";break;default:e="/dev/undefined";break}var g=k({path:e,byteLength:0,timestamps:{access:new Date(),modification:new Date(),change:new Date()},type:d("WASISnapshotPreview1").FileType.CHARACTER_DEVICE}),h=new Uint8Array(b.buffer,c,g.byteLength);h.set(g);return d("WASISnapshotPreview1").RESULT.SUCCESS}h=f.stat(a);if(h.length===1)return h[0];g=h[1];a=k(g);h=new Uint8Array(b.buffer,c,a.byteLength);h.set(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_set_size:function(){throw c("err")("fd_filestat_set_size is not implemented")},fd_filestat_set_times:function(){throw c("err")("fd_filestat_set_times is not implemented")},fd_pread:function(){throw c("err")("fd_pread is not implemented")},fd_prestat_dir_name:function(a,c,e){if(a!==3)return d("WASISnapshotPreview1").RESULT.EBADF;a=d("WATextEncoding").newTextEncoder().encode("/");c=new Uint8Array(b.buffer,c,e);c.set(a.subarray(0,e));return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_prestat_get:function(a,c){if(a!==3)return d("WASISnapshotPreview1").RESULT.EBADF;a=d("WATextEncoding").newTextEncoder().encode(".");c=new DataView(b.buffer,c);c.setUint8(0,d("WASISnapshotPreview1").PreopenType.DIR);c.setUint32(4,a.byteLength,!0);return d("WASISnapshotPreview1").RESULT.SUCCESS},fd_pwrite:function(){throw c("err")("fd_pwrite is not implemented")},fd_read:function(a,c,g,h){if(a===1||a===2)return d("WASISnapshotPreview1").RESULT.ENOTSUP;var i=new DataView(b.buffer);c=j(i,c,g);g=d("WATextEncoding").newTextEncoder();var k=0,l=d("WASISnapshotPreview1").RESULT.SUCCESS;for(c of c){var m=void 0;if(a===0){var n=e.stdin(c.byteLength);if(n==null)break;m=g.encode(n)}else{n=f.read(a,c.byteLength);if(n.length===1){l=n[0];break}else m=n[1]}n=Math.min(c.byteLength,m.byteLength);c.set(m.subarray(0,n));k+=n}i.setUint32(h,k,!0);return l},fd_readdir:function(){throw c("err")("fd_readdir is not implemented")},fd_renumber:function(){throw c("err")("fd_renumber is not implemented")},fd_seek:function(a,e,g,h){g=d("WASISnapshotPreview1").Whence.cast(g);if(g==null)throw c("err")("fd_seek: invalid whence");a=f.seek(a,e,g);if(a.length===1)return a[0];e=a[0];g=a[1];a=new DataView(b.buffer);a.setBigUint64(h,g,!0);return e},fd_sync:function(){throw c("err")("fd_sync is not implemented")},fd_tell:function(a,c){a=f.tell(a);if(a.length===1)return a[0];var d=a[0];a=a[1];var e=new DataView(b.buffer);e.setBigUint64(c,a,!0);return d},fd_write:function(a,c,g,h){if(a===0)return d("WASISnapshotPreview1").RESULT.ENOTSUP;var i=new DataView(b.buffer);c=j(i,c,g);g=d("WATextEncoding").newTextDecoder();var k=0,l=d("WASISnapshotPreview1").RESULT.SUCCESS;for(c of c){if(c.byteLength===0)continue;if(a===1||a===2){var m=a===1?e.stdout:e.stderr,n=g.decode(c);m(n)}else{l=f.write(a,c);if(l!==d("WASISnapshotPreview1").RESULT.SUCCESS)break}k+=c.byteLength}i.setUint32(h,k,!0);return l},path_create_directory:function(){throw c("err")("path_create_directory is not implemented")},path_filestat_get:function(){throw c("err")("path_filestat_get is not implemented")},path_filestat_set_times:function(){throw c("err")("path_filestat_set_times is not implemented")},path_link:function(){throw c("err")("path_link is not implemented")},path_open:function(a,c,d,e,g,h,i,j,k){c=new DataView(b.buffer);h=m(b,d,e);i=f.open(a,h,g,j);if(i.length===1)return i[0];d=i[0];e=i[1];c.setUint32(k,e,!0);return d},path_readlink:function(){throw c("err")("path_readlink is not implemented")},path_remove_directory:function(){throw c("err")("path_remove_directory is not implemented")},path_rename:function(){throw c("err")("path_rename is not implemented")},path_symlink:function(){throw c("err")("path_symlink is not implemented")},path_unlink_file:function(){throw c("err")("path_unlink_file is not implemented")},poll_oneoff:function(){throw c("err")("poll_oneoff is not implemented")},proc_exit:function(a){throw new h(a)},proc_raise:function(){throw c("err")("proc_raise is not implemented")},random_get:function(a,c){a=new Uint8Array(b.buffer,a,c);d("WACryptoDependencies").getCrypto().getRandomValues(a);return d("WASISnapshotPreview1").RESULT.SUCCESS},sched_yield:function(){throw c("err")("sched_yield is not implemented")},sock_accept:function(){throw c("err")("sock_accept is not implemented")},sock_recv:function(){throw c("err")("sock_recv is not implemented")},sock_send:function(){throw c("err")("sock_send is not implemented")},sock_shutdown:function(){throw c("err")("sock_shutdown is not implemented")}};return{getImportObject:function(){return{wasi_snapshot_preview1:o}},start:function(e){var g=e.exports.memory;if(g instanceof WebAssembly.Memory){b=g;if(c("gkx")("4444")){g=d("WASMMemoryLogger").getOrInitWasmMemoryLogger();g!=null&&g.addWasmInstanceToSet(b,a.moduleName)}}else throw c("err")("Expected memory object");g=e.exports._start;try{g()}catch(a){if(a instanceof h)return{exitCode:a.code,fs:f.fs};else if(a instanceof WebAssembly.RuntimeError)return{exitCode:134,fs:f.fs};else throw a}return{exitCode:0,fs:f.fs}},initialize:function(a){var d=a.exports.memory;if(d instanceof WebAssembly.Memory)b=d;else throw c("err")("Expected memory object");d=a.exports;if("_initialize"in d){a=d._initialize;a()}return{exports:d,drive:f}}}}var h=function(a){function b(b){var c;c=a.call(this)||this;c.code=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error)),i=(b=d("WASISnapshotPreview1")).RightsFlags.FD_DATASYNC|b.RightsFlags.FD_READ|b.RightsFlags.FD_SEEK|b.RightsFlags.FD_FDSTAT_SET_FLAGS|b.RightsFlags.FD_SYNC|b.RightsFlags.FD_TELL|b.RightsFlags.FD_WRITE|b.RightsFlags.FD_ADVISE|b.RightsFlags.FD_ALLOCATE|b.RightsFlags.PATH_CREATE_DIRECTORY|b.RightsFlags.PATH_CREATE_FILE|b.RightsFlags.PATH_LINK_SOURCE|b.RightsFlags.PATH_LINK_TARGET|b.RightsFlags.PATH_OPEN|b.RightsFlags.FD_READDIR|b.RightsFlags.PATH_READLINK|b.RightsFlags.PATH_RENAME_SOURCE|b.RightsFlags.PATH_RENAME_TARGET|b.RightsFlags.PATH_FILESTAT_GET|b.RightsFlags.PATH_FILESTAT_SET_SIZE|b.RightsFlags.PATH_FILESTAT_SET_TIMES|b.RightsFlags.FD_FILESTAT_GET|b.RightsFlags.FD_FILESTAT_SET_SIZE|b.RightsFlags.FD_FILESTAT_SET_TIMES|b.RightsFlags.PATH_SYMLINK|b.RightsFlags.PATH_REMOVE_DIRECTORY|b.RightsFlags.PATH_UNLINK_FILE|b.RightsFlags.POLL_FD_READWRITE|b.RightsFlags.SOCK_SHUTDOWN|b.RightsFlags.SOCK_ACCEPT;function j(a,b,c){var d=new Array(c);b=b;for(var e=0;e<c;e++){var f=a.getUint32(b,!0);b+=4;var g=a.getUint32(b,!0);b+=4;d[e]=new Uint8Array(a.buffer,f,g)}return d}function k(a){var b=new Uint8Array(d("WASISnapshotPreview1").FILESTAT_SIZE),c=new DataView(b.buffer);c.setBigUint64(0,BigInt(0),!0);c.setBigUint64(8,BigInt(o(a.path)),!0);c.setUint8(16,a.type);c.setBigUint64(24,BigInt(1),!0);c.setBigUint64(32,BigInt(a.byteLength),!0);c.setBigUint64(40,n(a.timestamps.access),!0);c.setBigUint64(48,n(a.timestamps.modification),!0);c.setBigUint64(56,n(a.timestamps.change),!0);return b}function l(a,b,c){var d=c!=null?c:i;c=c!=null?c:i;var e=new Uint8Array(24),f=new DataView(e.buffer,0,24);f.setUint8(0,a);f.setUint32(2,b,!0);f.setBigUint64(8,d,!0);f.setBigUint64(16,c,!0);return e}function m(a,b,c){return d("WATextEncoding").newTextDecoder().decode(new Uint8Array(a.buffer,b,c))}function n(a){return BigInt(a.getTime())*BigInt(1e6)}function o(a,b){b===void 0&&(b=0);var c=3735928559^b;b=1103547991^b;for(var d=0,e;d<a.length;d++)e=a.charCodeAt(d),c=Math.imul(c^e,2654435761),b=Math.imul(b^e,1597334677);c=Math.imul(c^c>>>16,2246822507)^Math.imul(b^b>>>13,3266489909);b=Math.imul(b^b>>>16,2246822507)^Math.imul(c^c>>>13,3266489909);return 4294967296*(2097151&b)+(c>>>0)}g.createWasi=a}),98);
__d("WAWasmReactor",["FBLogger","WAPromiseQueue","WAResultOrError","WASI","WASISnapshotPreview1","WASMMemoryLogger","decodeProtobuf","encodeProtobuf","getErrorSafe","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=function(){return c("FBLogger")("wmi").tags(["WasmReactor"])},m=3e4;function n(a){var b=a.stderr;a=a.stdout;return{stderr:b,stdout:a}}var o=function(){function a(a,b){this.$1=null,this.$4=a,this.$3=b}var b=a.prototype;b.init=async function(a){var b=function(a){l().MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)},e=function(a){l().INFO(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)};b=d("WASI").createWasi(n({stderr:b,stdout:e}));e=b.getImportObject;b=b.initialize;a=await a();a=await WebAssembly.instantiate(a,e());e=a.exports.memory;var f=c("gkx")("4444"),g=d("WASMMemoryLogger").getOrInitWasmMemoryLogger();e instanceof WebAssembly.Memory&&f&&g!=null&&g.addWasmInstanceToSet(e,this.$4);this.$1=await b(a)};b.createWasmCommand=function(b){var e=b.InputSpec,f=b.ResultSpec,g=b.validateResult,h=this;return function(b){return h.$3.enqueue(async function(){var i=h.$1;if(i==null){l().MUSTFIX(j||(j=babelHelpers.taggedTemplateLiteralLoose(["WAWasmReactor not initialized"])));return d("WAResultOrError").makeError("wasm-internal-not-initialized")}var m=i.drive,n="input",o="output";try{var p=d("encodeProtobuf").encodeProtobuf(e,b).readBuffer();a.$5(m,n,new Uint8Array(p));a.$5(m,o,new Uint8Array(0));await i.exports.execute_command();p=a.$6(m,o);if(p.length===0)return d("WAResultOrError").makeError("wasm-internal-runtime-error");i=d("decodeProtobuf").decodeProtobuf(f,p);return g(i)}catch(a){p=c("getErrorSafe")(a);l().catching(p).MUSTFIX(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",""])),p.message);return d("WAResultOrError").makeError("wasm-internal-runtime-error")}finally{i=a.$2;m.unlink(i,n);m.unlink(i,o)}})}};a.$5=function(b,c,e){var f=b.open(a.$2,c,d("WASISnapshotPreview1").OpenFlags.CREAT||d("WASISnapshotPreview1").OpenFlags.TRUNC,0);if(f[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS)throw l().mustfixThrow("Failed to open file for writing: ",c);else{c=f[1];b.write(c,e);b.close(c)}};a.$6=function(b,c){var e=b.open(a.$2,c,0,0);if(e[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS)throw l().mustfixThrow("Failed to open file for reading: ",c);e=e[1];var f=b.stat(e);if(f[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS){b.close(e);throw l().mustfixThrow("Failed to stat file: ",c)}f=f[1].byteLength;f=b.read(e,f);b.close(e);if(f[0]!==d("WASISnapshotPreview1").RESULT.SUCCESS)throw l().mustfixThrow("Failed to read from file ",c);return f[1]};return a}();o.$2=3;async function a(a,b){var c=new(d("WAPromiseQueue").PromiseQueue)(m);b=new o(b,c);await b.init(a);return b}g.WAWasmReactor=o;g.createWasmInstance=a}),98);
__d("EBMinosWasmReactorSingleton",["EBGetMinosWasm","WAWasmReactor","memoizeWithArgs"],(function(a,b,c,d,e,f,g){"use strict";var h="Minos_REPL",i=c("memoizeWithArgs")(function(){return d("WAWasmReactor").createWasmInstance(d("EBGetMinosWasm").getMinosWasm,h)},function(){return"cache"});a=async function(a,b){var c=a.InputSpec,d=a.ResultSpec;a=a.validateResult;var e=await i();return e.createWasmCommand({InputSpec:c,ResultSpec:d,validateResult:a})(b)};g.minosCommand=a}),98);
__d("WACreateWasmFunction",["WAErrorMessage","WAResultOrError","WASI","decodeProtobuf","encodeProtobuf"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m="input",n="output",o="/"+m,p="/"+n;function q(a){var b=a.command,c=a.input,d=a.stderr,e=a.stdout,f=a.cli;a=a.moduleName;var g=new Date();return{args:[f,b,"-i="+m,"-o="+n],fs:(f={},f[o]={content:new Uint8Array(c),mode:"binary",path:o,timestamps:{access:g,change:g,modification:g}},f),stderr:d,stdout:e,moduleName:a}}function a(a,b){var c=a.InputSpec,e=a.ResultSpec,f=a.command,g=a.getWasmModule,m=a.logger,n=a.validateResult,o=a.cli,r=m.TAGS(["WasmFunc"]),s=function(a){r.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)},t=function(a){r.LOG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["",""])),a)};return async function(a){try{a=d("encodeProtobuf").encodeProtobuf(c,a).readBuffer();a=d("WASI").createWasi(q({cli:o,command:f,input:a,stderr:s,stdout:t,moduleName:b}));var h=a.getImportObject;a=a.start;var i=await g();i=await WebAssembly.instantiate(i,h());h=a(i);a=h.exitCode;i=h.fs;i=(h=i[p])==null?void 0:h.content;if(a!==0){r.ERROR(j||(j=babelHelpers.taggedTemplateLiteralLoose(["non-zero-exit-code: ",""])),a);return d("WAResultOrError").makeError("wasm-internal-non-zero-exit-code")}if(!(i instanceof Uint8Array)){r.ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["invalid result type"])));return d("WAResultOrError").makeError("wasm-internal-invalid-result-type")}h=d("decodeProtobuf").decodeProtobuf(e,i);return n(h)}catch(a){r.ERROR(l||(l=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",", for cli: ",""])),d("WAErrorMessage").maybeGetMessageFromError(a),o);return a instanceof Error?d("WAResultOrError").DEPRECATED_makeError("wasm-internal-runtime-error",a):d("WAResultOrError").makeError("wasm-internal-runtime-error")}}}g.createWasmFunction=a}),98);
__d("EBMinosWasmVerifySingleEpoch",["EBGetMinosWasm","EBMinosLogger","EBMinosWasm.pb","EBMinosWasmReactorSingleton","WACreateWasmFunction","WAResultOrError","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.getWasmModule,e=d("EBMinosLogger").minosLogger.TAGS(["minos-verify-single-epoch"]);function f(a){a=a.valid;return d("WAResultOrError").makeResult({valid:a})}return async function(a){var g=a.epochPublicData;a=a.signature;var h="EBMinosWasmVerifySingleEpoch";if(c("gkx")("12911"))return await d("EBMinosWasmReactorSingleton").minosCommand({InputSpec:d("EBMinosWasm.pb").MinosCommandSpec,ResultSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,validateResult:f},{minosVerifySingleEpoch:{epochPublicData:g,signature:a}});else{h=d("WACreateWasmFunction").createWasmFunction({InputSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochInputSpec,ResultSpec:d("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,cli:"minos_cli",command:"minos-verify-single-epoch",getWasmModule:b,logger:e,validateResult:f},h+"_CLI");h=await h({epochPublicData:g,signature:a});return h}}}b=a({getWasmModule:d("EBGetMinosWasm").getMinosWasm});g.verifySingleEpoch=b}),98);
__d("EBAPIMinosVerifySingleEpoch",["EBMinosLogger","EBMinosWasmVerifySingleEpoch","WAGetSafeQPLError"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){d("EBMinosLogger").minosLogger.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["minosVerifySingleEpoch start"])));var b=a.qplFlow,c=a.minosEpochAnonId,e=a.minosMailboxAuthPublicKey,f=a.minosMailboxEncryptionPublicKey,g=a.minosMailboxSigningPublicKey,j=a.userId,k=a.selfEpochSignature;try{c={epochNumber:c,mailboxAuthPk:e,mailboxEncryptionPk:f,mailboxSigningPk:g,previousEpochHead:a.previousEpochHead==null?void 0:a.previousEpochHead,userFbid:j};b.addPoint("verify_single_epoch_start");e=await d("EBMinosWasmVerifySingleEpoch").verifySingleEpoch({epochPublicData:c,signature:k});b.addPoint("verify_single_epoch_end");if(e.success){b.endSuccess();return e.value.valid}d("EBMinosLogger").minosLogger.ERROR(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Unable to verify epoch - WASM error ",""])),e.error);b.endFailWithError("invalid-result",e.error);return!1}catch(a){b.endFailWithError("runtime-error",d("WAGetSafeQPLError").getSafeQPLErrorMessage(a));return!1}}g.minosVerifySingleEpoch=a}),98);
__d("EBMinosHasNewerMailboxKeys",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){if(b==null||c==null)return!1;return(a==null?void 0:a.epoch_head)==null||(a==null?void 0:a.epoch_head_creation_time)==null?!0:a.epoch_head_creation_time!==c&&c>a.epoch_head_creation_time}f.hasNewerMailboxKeys=a}),66);
__d("EBMinosDBDev",["ExecutionEnvironment","MAWCurrentUser","MAWIndexedDbMetadata","MAWWormOdsLogger","MessengerWebInitData","QPLFlow","WAHex","WALogger","WAResolvable","Worm","WormEAR","WormIDbDriver","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j={secure_minos_mailbox_keys:{indexes:{},primaryKey:"contact_id",secure:!0},secure_minos_message_epoch_heads:{indexes:{"[thread_id+message_id]":{fields:["thread_id","message_id"],unique:!0}},primaryKey:"message_id",secure:!0},secure_minos_thread_message_encryption_keys:{indexes:{"[roster_hash+minos_thread_id]":{fields:["roster_hash","minos_thread_id"],unique:!1}},primaryKey:"mek_id_blob",secure:!0}},k=null,l=1e4;async function m(){if(k!=null)return k.promise;var a=new(d("WAResolvable").Resolvable)();k=a;var b=d("MAWIndexedDbMetadata").ebMinosDbDevName(d("MAWCurrentUser").getID()),e=c("qpl")._(1056840657,"2716"),f=d("WAHex").parseHex(c("MessengerWebInitData").accountKeyV2),g=d("QPLFlow").startQPLFlow(e,{annotations:{bool:{isInSharedWorker:(i||(i=c("ExecutionEnvironment"))).isInSharedWorker},string:{operationType:"initEBMinosDevDbSchema"}},timeoutInMs:l});try{var m="ebMinosDev";f=new(d("WormEAR").WormEAR)(j,m,f);b=new(d("Worm").WormDatabase)(new(d("WormIDbDriver").WormIDbDriver)(b,m,j,f,d("MAWWormOdsLogger").wormOdsWorkerLogger,{}),e);await b.init({eventFlow:g});g.endSuccess();a.resolve(b);return b}catch(b){g.endFail("error");k=null;a.reject(b);d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Error performing makeEBMinosDevDB: ",""])),b);throw b}}function n(){return m()}async function a(){var a=Object.keys(j),b=await n();return b.runInTransaction(a,"readonly",async function(b){var c={};await Promise.all(a.map(async function(a){var d=await b.stores[a].readAll();c[a]=d}));return c},"EBMinosDevDb - Dump").catch(function(){return{}})}g.schema=j;g.makeEBMinosDevDB=m;g.getEBMinosDevDb=n;g.getDbDump=a}),98);
__d("EBMinosSaveNewMailboxKey",["EBMinosDBDev"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a,b,c,e,f,g){var h=await d("EBMinosDBDev").getEBMinosDevDb();await h.runInTransaction(["secure_minos_mailbox_keys"],"readwrite",function(d){return d.stores.secure_minos_mailbox_keys.bulkPut([{contact_id:a,encryption_public_key:b,epoch_anon_id:c,epoch_head:e,epoch_head_creation_time:f,public_key_fbid:g}])},"SaveNewMailboxKey")};g.saveNewMailboxKey=a}),98);
__d("EBMinosLoadMailboxKeys",["EBMinosDBDev"],(function(a,b,c,d,e,f,g){"use strict";a=async function(a){var b=await d("EBMinosDBDev").getEBMinosDevDb();b=await b.runInTransaction(["secure_minos_mailbox_keys"],"readonly",function(b){return b.stores.secure_minos_mailbox_keys.get(a)},"LoadMailboxKeys");return b};g.loadMailboxKeys=a}),98);
__d("EBMinosSecureMailboxKeysForContact",["EBMinosLoadMailboxKeys","EBMinosTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("EBMinosLoadMailboxKeys").loadMailboxKeys(d("EBMinosTypes").unsafeCastToUserFbId(a))}g.getSecureMailboxKeysForContact=a}),98);
__d("EBMinosWriteMinosPublicKeysForRecipient",["EBMinosHasNewerMailboxKeys","EBMinosLogger","EBMinosSaveNewMailboxKey","EBMinosSecureMailboxKeysForContact"],(function(a,b,c,d,e,f,g){"use strict";var h,i;async function a(a){var b=a.contactId,c=a.encryptionPublicKey,e=a.epochAnonId,f=a.epochHead,g=a.epochHeadCreationTime;a=a.publicKeyFbid;var j=await d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(b);if(f==null||g==null){(j==null?void 0:j.epoch_head)!=null&&(j==null?void 0:j.epoch_head_creation_time)!=null&&(d("EBMinosLogger").minosLogger.DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Deleting mailbox keys for contact: ",""])),b),await d("EBMinosSaveNewMailboxKey").saveNewMailboxKey(b,c,e,f,g,a));return}d("EBMinosHasNewerMailboxKeys").hasNewerMailboxKeys(j,f,g)&&(d("EBMinosLogger").minosLogger.DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["Writing new mailbox keys for contact: ",""])),b),await d("EBMinosSaveNewMailboxKey").saveNewMailboxKey(b,c,e,f,g,a));return}g.writeMinosMailboxKeysForRecipient=a}),98);
__d("EBAPIWriteMinosPublicKeysForRecipient",["EBMinosWriteMinosPublicKeysForRecipient"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.contactId,c=a.encryptionPublicKey,e=a.epochAnonId,f=a.epochHead,g=a.epochHeadCreationTime;a=a.publicKeyFbid;return d("EBMinosWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipient({contactId:b,encryptionPublicKey:c,epochAnonId:e,epochHead:f,epochHeadCreationTime:g,publicKeyFbid:a})}g.writeMinosMailboxKeysForRecipientAPI=a}),98);/*FB_PKG_DELIM*/
__d("CometBatchNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30300156509571373"}),null);
__d("CometBatchNotificationsStateChangeSubscription.graphql",["CometBatchNotificationsStateChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"BatchNotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"batch_notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"aggregated_notifications",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_update_timestamp",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometBatchNotificationsStateChangeSubscription",selections:d,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometBatchNotificationsStateChangeSubscription",selections:d},params:{id:b("CometBatchNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"batch_notification_state_change_subscribe"},name:"CometBatchNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometBatchNotificationsStateChangeSubscription",["CometBatchNotificationsStateChangeSubscription.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometBatchNotificationsStateChangeSubscription.graphql");function a(a){return d("CometRelay").requestSubscription(a,{subscription:i,variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE",query_flags:["INCLUDE_WA_P2B_NOTIFS"]}}})}g.subscription=i;g.batchSubscribe=a}),98);
__d("CometNotificationsStateChangeSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="23864641996495578"}),null);
__d("CometNotificationsStateChangeSubscription.graphql",["CometNotificationsStateChangeSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"environment"},c={defaultValue:null,kind:"LocalArgument",name:"input"},d=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"NotificationStateChangeSubscribeResponsePayload",kind:"LinkedField",name:"notification_state_change_subscribe",plural:!1,selections:[{alias:null,args:null,concreteType:"Notification",kind:"LinkedField",name:"notification",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"notif_cache_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cache_timestamp",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_state",storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"environment",variableName:"environment"}],kind:"ScalarField",name:"notifications_unseen_count",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"CometNotificationsStateChangeSubscription",selections:d,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"CometNotificationsStateChangeSubscription",selections:d},params:{id:b("CometNotificationsStateChangeSubscription_facebookRelayOperation"),metadata:{subscriptionName:"notification_state_change_subscribe"},name:"CometNotificationsStateChangeSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometNotificationsStateChangeSubscription",["CometNotificationsStateChangeSubscription.graphql","CometRelay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometNotificationsStateChangeSubscription.graphql");function a(a){return d("CometRelay").requestSubscription(a,{subscription:i,updater:function(a,b){if(!b)return;b=b.notification_state_change_subscribe;if(!b)return;var c=b==null?void 0:b.notification;b=b==null?void 0:b.seen_state;if(!c||!b)return;if(c.id!=null&&c.id!==""){a=a.get(c.id);a&&a.setValue(b,"seen_state")}},variables:{environment:"MAIN_SURFACE",input:{environment:"MAIN_SURFACE",query_flags:["INCLUDE_WA_P2B_NOTIFS"]}}})}c={subscribe:a,subscription:i};g["default"]=c}),98);
__d("E2eeStateTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2});d=a({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1});f=a({SENDER_KEY:0,SESSION_KEY:1});b=a({NOT_SET:0,CONTROL:1,TEST:2});var g=a({NOT_SET:0,CONTROL:1,TEST:2});a=a({ENABLED:0,DISABLED:1,FALLBACK:2});e.exports={E2eeKeyNegotiationProtocolEnum:f,E2eeStateCapabilitiesEnum:d,E2eeStateP2PSFrameExpStatus:g,InfraMandatedExpStatus:b,KeyNegotiationModeEnum:c,SignalingKeyMessageProtocolEnum:a}}),null);
__d("FDSArrowsCircleFilled24Icon",["cr:14428"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14428")}),98);
__d("FDSArrowsCircleFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("538038"),24);b=a;g["default"]=b}),98);
__d("FDSCrossCircleOutline20Icon",["cr:14804"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14804")}),98);
__d("FDSCrossCircleOutline20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("491584"),20);b=a;g["default"]=b}),98);
__d("LSBeginHandlingSyncForSyncGroup",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(1).fetch([[[a[0]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[0]=void 0:(d=a.item,c[9]=new b.Map(),c[9].set("group_id",d.groupId),c[9].set("current_cursor",d.currentCursor),c[9].set("sync_status",d.syncStatus),c[9].set("sync_params",d.syncParams),c[9].set("send_sync_params",d.sendSyncParams),c[9].set("min_time_to_sync_timestamp_ms",d.minTimeToSyncTimestampMs),c[9].set("can_ignore_timestamp",d.canIgnoreTimestamp),c[9].set("sync_channel",d.syncChannel),c[9].set("last_sync_request_timestamp_ms",d.lastSyncRequestTimestampMs),c[0]=c[9])})},function(d){return c[0]?c[2]=!1:c[2]=!0,c[2]?b.resolve((d=[a[0],void 0,b.i64.cast([0,4]),void 0,!1],c[3]=d[0],c[4]=d[1],c[5]=d[2],c[6]=d[3],c[7]=d[4],d)):b.sequence([function(a){return c[9]=c[0].get("group_id"),b.filter(b.db.table(3).fetch(),function(a){return b.i64.neq(a.epochId,void 0)&&b.i64.eq(a.syncDatabaseId,c[9])}).next().then(function(a,b){b=a.done;a=a.value;return b?c[10]=!1:(a.item,c[10]=!0)})},function(d){return c[10]?b.resolve((c[17]=c[0].get("group_id"),d=[c[17],void 0,b.i64.cast([0,4]),void 0,!1],c[12]=d[0],c[13]=d[1],c[14]=d[2],c[15]=d[3],c[16]=d[4])):b.sequence([function(d){return c[17]=b.i64.of_float(Date.now()),c[18]=c[0].get("min_time_to_sync_timestamp_ms"),c[19]=c[0].get("last_sync_request_timestamp_ms"),c[20]=c[0].get("can_ignore_timestamp"),c[20]&&a[1]||b.i64.ge(c[17],c[18])?b.sequence([function(d){return a[1]?b.resolve(c[28]=b.i64.cast([0,0])):b.sequence([function(a){return c[29]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[29]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[30]=b.i64.cast([0,0]):(d=a.item,c[30]=d.failureCount)})},function(a){return c[32]=b.i64.mul(b.i64.sub(b.i64.lsl_(b.i64.cast([0,1]),b.i64.to_int32(b.i64.lt(b.i64.cast([0,15]),c[30])?b.i64.cast([0,15]):c[30])),b.i64.cast([0,1])),b.i64.cast([0,500])),c[33]=b.i64.sub(b.i64.add(c[19]==null?b.i64.cast([0,0]):c[19],b.i64.lt(c[32],b.i64.cast([0,3e4]))?c[32]:b.i64.cast([0,3e4])),c[17]),c[28]=b.i64.gt(c[33],b.i64.cast([0,0]))?c[33]:b.i64.cast([0,0])}])},function(a){return c[21]=c[28]}]):b.resolve(c[21]=b.i64.sub(c[18],c[17]))},function(a){return c[22]=c[0].get("group_id"),b.i64.gt(c[21],b.i64.cast([0,0]))?b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastDelayedRequestTimestampMs:c[28]})})},function(a){return a=[c[22],c[21],b.i64.cast([0,3]),void 0,!1],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4],a}]):b.sequence([function(a){return c[28]=b.i64.of_float(Date.now()),b.forEach(b.db.table(1).fetch([[[c[22]]]]),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[28]})})},function(a){return c[29]=b.i64.of_float(Date.now()),b.forEach(b.filter(b.db.table(3).fetch(),function(a){return b.i64.eq(a.syncDatabaseId,c[22])}),function(a){var b=a.update;a.item;return b({lastSyncRequestTimestampMs:c[29]})})},function(a){return c[30]=c[0].get("group_id"),c[31]=b.i64.of_float(Date.now()),c[32]=b.i64.random(),c[45]=b.i64.and_(b.i64.or_(b.i64.lsl_(c[31],b.i64.to_int32(b.i64.cast([0,22]))),b.i64.and_(c[32],b.i64.cast([0,4194303]))),b.i64.cast([2147483647,4294967295])),b.db.table(3).fetch([[["",c[30]]]]).next().then(function(a,d){d=a.done;a=a.value;return d?b.db.table(3).add({syncDatabaseId:c[30],taskQueueName:"",failureCount:b.i64.cast([0,0]),lastSentTimestampMs:b.i64.cast([0,0]),lastSyncRequestTimestampMs:b.i64.cast([0,0]),epochId:c[45]}):(a.item,b.forEach(b.db.table(3).fetch([[["",c[30]]]]),function(a){var b=a.update;a.item;return b({epochId:c[45]})}))})},function(a){return c[34]=c[0].get("group_id"),b.db.table(3).fetch([[["",c[34]]]]).next().then(function(a,d){var e=a.done;a=a.value;return e?c[35]=b.i64.cast([0,0]):(d=a.item,c[35]=d.failureCount)})},function(a){return c[37]=c[0].get("send_sync_params"),c[38]=c[0].get("sync_params"),c[39]=c[0].get("current_cursor"),c[40]=new b.Map(),c[40].set("database",c[34]),c[40].set("version",b.i64.cast([-1,4294967295])),c[40].set("epoch_id",c[45]),c[40].set("last_applied_cursor",c[39]),c[40].set("sync_params",c[37]?c[38]:void 0),c[40].set("failure_count",b.i64.gt(c[35],b.i64.cast([0,0]))?c[35]:void 0),c[41]=c[0].get("current_cursor"),void 0===c[41]?c[42]=b.i64.cast([0,1]):c[42]=b.i64.cast([0,2]),c[43]=new b.Map(),c[43].set("type",c[42]),c[43].set("request_payload",c[40]),c[44]=c[0].get("sync_channel"),a=[c[30],void 0,b.i64.cast([0,1]),c[43],b.i64.eq(c[44],b.i64.cast([0,2]))],c[23]=a[0],c[24]=a[1],c[25]=a[2],c[26]=a[3],c[27]=a[4]}])},function(a){return a=[c[23],c[24],c[25],c[26],c[27]],c[12]=a[0],c[13]=a[1],c[14]=a[2],c[15]=a[3],c[16]=a[4],a}])},function(a){return a=[c[12],c[13],c[14],c[15],c[16]],c[3]=a[0],c[4]=a[1],c[5]=a[2],c[6]=a[3],c[7]=a[4],a}])},function(a){return c[8]=new b.Map(),c[8].set("sync_group_id",c[3]),c[8].set("next_sync_ms",c[4]),c[8].set("work_item_type",c[5]),c[8].set("network_payload",c[6]),c[8].set("skip_realtime_gateway",c[7]),d[0]=c[8]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSCoreBeginHandlingSyncForSyncGroupStoredProcedure";a.__tables__=["sync_groups","network_requests"];e.exports=a}),null);
__d("LSBeginHandlingSync",["LSBeginHandlingSyncForSyncGroup"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(f){return c.sequence([function(e){return d[0]=c.createArray(),c.forEach(c.db.table(1).fetch(),function(e){var f=e.item;return c.sequence([function(e){return c.storedProcedure(b("LSBeginHandlingSyncForSyncGroup"),f.groupId,a[0]).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[2]=(d[0].push(d[1]),d[0])}])})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSCoreBeginHandlingSyncStoredProcedure";a.__tables__=["sync_groups"];e.exports=a}),null);
__d("LSBeginHandlingSyncForSyncGroupStoredProcedure",["LSBeginHandlingSyncForSyncGroup","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSyncForSyncGroup"),e.syncGroupId,e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSBeginHandlingSyncStoredProcedure",["LSBeginHandlingSync","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSBeginHandlingSync"),e.ignoreSoftDelay);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCometSSRDatabase",["LSJSInMemoryStorage","LSMetadata"],(function(a,b,c,d,e,f,g){"use strict";a=c("LSJSInMemoryStorage")(d("LSMetadata").schema);g["default"]=a}),98);
__d("LSPlatformSyncSystemMaybeEagerly",["LSEagerlyLoadOnMessenger","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LSPlatformSyncSystem").__setRef("LSPlatformSyncSystemMaybeEagerly");function a(){return d("LSEagerlyLoadOnMessenger").eagerlyLoadOnMessenger(h).load()}g["default"]=a}),98);
__d("LSPlatformClientInit",["FBLogger","LSClearEpochBeforeResumeSync","LSDataTraceFlushDeferred","LSDatabaseAfterInitSyncSingleton","LSDeleteAllAndInsertConnectivityStatusStoredProcedure","LSFactory","LSIntEnum","LSInternetConnectionState","LSPlatformHardcodedInitSync","LSPlatformLsInitLog","LSPlatformRealtimeTransport","LSPlatformSyncSystemMaybeEagerly","LSPlatformTaskSystemTransport","MWPlatformTaskSystem","MessengerLogHistory","cr:3411","cr:7705","emptyFunction","getErrorSafe","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("MessengerLogHistory").getInstance("client_init");function j(a){var d=c("emptyFunction");b("cr:7705")!=null&&c("gkx")("23914")&&(d=b("cr:7705").listenForChangesToBackupState(a));return function(){d&&d()}}function k(a,b){var e=b==="Connected"?(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED):(h||(h=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").NOT_CONNECTED);i.debug("Platform client sync connection status: ",b);c("promiseDone")(a.runInTransaction(function(a){return c("LSDeleteAllAndInsertConnectivityStatusStoredProcedure")(c("LSFactory")(a),{internetConnectionState:e})},"readwrite",void 0,void 0,f.id+":77"),function(){i.debug("Platform client sync connection status set successfully")},function(a){i.error("Platform client sync connection status set failed: "+(a==null?void 0:a.message));throw a})}async function a(a,e,f,g,h,l){var m;i.debug("Platform client sync starting...");(m=d("LSPlatformLsInitLog")).addPoint("onstart_callback");g();m.addPoint("onstart_callback_end");i.debug("Getting datascript evaluator...");m.addPoint("ds_eval_registration");g=await e.getEval();i.debug("Getting datascript evaluator success");var n;try{n=b("cr:3411")!=null?b("cr:3411").registerEval(g)()(a):g()(a)}catch(b){c("FBLogger")("ls_web_init").catching(c("getErrorSafe")(b)).mustfix("fail to register datascriptEvaluator"),n=g()(a)}d("LSPlatformLsInitLog").addPoint("ds_eval_registration_end");i.debug("Clearing epoch before resume sync...");l.didEvaluateInitSyncEagerly||(d("LSPlatformLsInitLog").addPoint("ls_clear_epoch"),await d("LSClearEpochBeforeResumeSync").call(a),d("LSPlatformLsInitLog").addPoint("ls_clear_epoch_end"),i.debug("Clearing epoch before resume sync success"),d("LSPlatformLsInitLog").addPoint("create_client_end"),e.sendHardcodedInitSync&&(i.debug("Starting hard-coded init sync..."),await d("LSPlatformHardcodedInitSync").sendHardcodedInitSync(e,n,a,f),i.debug("Starting hard-coded init sync success")));d("LSDatabaseAfterInitSyncSingleton").resolveInitSync(Promise.resolve(a));i.debug("Starting realtime transport");m=await e.realtimeUnderylingTransport();d("LSPlatformLsInitLog").addPoint("realtime_underlying_transport_end");var o=d("LSPlatformRealtimeTransport").LSPlatformRealtimeTransport(m,e.appId,f);d("LSPlatformLsInitLog").addPoint("platform_realtime_transport_end");i.debug("Starting task system");var p=new(c("MWPlatformTaskSystem"))(a,new(c("LSPlatformTaskSystemTransport"))(a,o,n,e.schemaVersion));d("LSPlatformLsInitLog").addPoint("platform_task_system_end");i.debug("Starting sync system");var q=null;c("promiseDone")(c("LSPlatformSyncSystemMaybeEagerly")(),function(b){q=b(a,o,n,e.schemaVersion,f,e.executeGraphQLLightSpeedRequest)});i.debug("Starting backup state listeners");var r=j(a);d("LSPlatformLsInitLog").addPoint("init_listeners_backup_state_end");var s;i.debug("Watching for expired traces");c("promiseDone")(d("LSDataTraceFlushDeferred").watchForExpiredTraces(a).then(function(a){s=a}));i.debug("Subscribing to mqtt sync status change events");o.onConnectionStatusChange(function(b){k(a,b)});i.debug("Platform client sync starting sucess");d("LSPlatformLsInitLog").endSuccess();return{cleanup:function(){var b;i.debug("Platform client sync cleaning up");h(a);p==null||p.cleanup();(b=q)==null||b.cleanup();o.cleanup();r();s==null||s()},db:a}}g.init=a}),98);
__d("LSPlatformClient",["ExecutionEnvironment","FBLogger","LSCometSSRDatabase","LSDatabaseProviderType","LSPlatformClientInit","LSPlatformDeviceId","LSPlatformLsInitLog","MAWMIC","MAWMICSchema","cr:10018","emptyFunction","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("emptyFunction").thatReturns(Promise.resolve());function j(a,b,e){var f,g=async function(){var g=d("LSPlatformDeviceId").getDeviceIdForProviderType("ephemeral");f=await d("LSPlatformClientInit").init(a,b,g,c("emptyFunction"),c("emptyFunction"),e)};return{cleanup:function(){var a;(a=f)==null||a.cleanup()},db:a,start:g}}async function k(a,e,f){if(b("cr:10018")==null)throw c("FBLogger")("messenger_web").mustfixThrow("LSPlatformClientWithLock is null for PDB enabled");e=await b("cr:10018").make(a,e,f);e.isTabWithoutClient()===!0&&(d("MAWMIC").addPoint("ls_init_end"),d("MAWMIC").addPoint(d("MAWMICSchema").POINTS.thread_mapping_end),d("MAWMIC").addBoolAnnotation("LsInitSkipped",!0),d("LSPlatformLsInitLog").addPoint("no_ls_sync"),d("LSPlatformLsInitLog").endSuccess());return{cleanup:c("emptyFunction"),db:a,start:i}}async function a(a,e){d("LSPlatformLsInitLog").addPoint("make_client");if((h||(h=c("ExecutionEnvironment"))).canUseDOM){d("LSPlatformLsInitLog").addPoint("create_client_get_db");var f=await a.getDb();d("LSPlatformLsInitLog").addPoint("create_client_start");if(d("LSDatabaseProviderType").isProviderPersisted(f)&&b("cr:10018")!==null)try{return k(f,a,e)}catch(a){d("LSPlatformLsInitLog").addAnnotations({string:{client_for_pdb_error:c("getErrorSafe")(a).message}});d("LSPlatformLsInitLog").fail("client_for_pdb_error");throw a}return j(f,a,e)}return{cleanup:c("emptyFunction"),db:c("LSCometSSRDatabase"),start:i}}g.make=a}),98);
__d("LSPlatformDGWTransport",["DGWClient","DGWLoggingContext","DGWStream","DGWStreamGroupCallbacks","FBLogger","LSIntEnum","LSLogHistory","LSPlatformDGWHostnameOverride","LSPlatformRealtimeTransport","LSStreamGroupRef","MWPBumpEntityKey","MessengerWebRegion","MqttConfig","NetworkStatus","QuickPerformanceLogger","Random","getErrorSafe","gkx","justknobx","promiseDone","qex","qpl","setTimeout","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("gkx")("3218"),k=c("gkx")("12101"),l=(b=c("qex")._("2084"))!=null?b:!1,m=(e=c("qex")._("2085"))!=null?e:!1,n=(f=c("qex")._("2088"))!=null?f:!1,o=(b=c("qex")._("2090"))!=null?b:!1,p=(e=c("qex")._("2092"))!=null?e:!1,q=c("justknobx")._("1573"),r=c("justknobx")._("3666"),s=c("qpl")._(701246226,"1285"),t=15,u=0,v=!1,w=new Map(),x=null,y=!1,z=!1,A=null;function B(a){a=1*Math.pow(2,a);a=Math.max(a,1);a=Math.min(a,64);return Math.ceil(a*(1e3+d("Random").random()*200))}function C(a,b,e,f){var g;if(y){var h;(h=d("LSStreamGroupRef").streamGroupRef.current)==null||h.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"SkipReconnectAttempt","","deviceId:"+a);return}y=!0;h=B(u++);n&&u>t&&(u=0);var i="deviceId:"+a+", reconnectMs:"+h+", attempt:"+u+", isClosedLocally:"+String(z);(g=d("LSStreamGroupRef").streamGroupRef.current)==null||g.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ScheduleReconnect","",i);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"scheduleReconnect");A=c("setTimeout")(function(){D(a,b,e,f),y=!1},h)}function D(a,b,e,f){var g=c("uuidv4")();d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId=g;var h={authToken:e,authType:f,connectTimeoutMs:r,deviceId:a,keepAliveMs:q,loggingId:g,serviceId:"lightspeed",streamGroupAppHeaders:{},verboseLoggingEnabled:j};k&&(h.trafficTracing="dgw-"+g);d("MessengerWebRegion").regionNullable!=null&&(h.regionHint=d("MessengerWebRegion").regionNullable);var i={onStreamGroupError:function(b){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var c;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Error"));(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupError",d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b));d("DGWStreamGroupCallbacks").isRetryableError(b)?(d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isRetryableError"),C(a,"reconnect_on_streamgrouperror."+d("DGWStreamGroupCallbacks").DGWStreamGroupError.getName(b),e,f)):d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupError.isNotRetryableError")},onStreamGroupMustDrain:function(b){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var c;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamGroupMustDrain."+b);(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupMustDrain",b,"deviceId:"+a);C(a,"reconnect_on_streamgroupmustdrain",e,f)},onStreamGroupTransportClose:function(){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var b;(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected","Stream Group Close"));(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"onStreamGroupTransportClose","","deviceId:"+a);C(a,"onStreamGroupTransportClose",e,f)}};w.clear();d("LSStreamGroupRef").streamGroupRef.status="Connecting";i=c("DGWClient")().createStreamGroup(i,h);h="deviceId:"+a+", runtime_site_is_comet_fb_web:"+String(c("gkx")("2116"))+", endpoint:"+c("MqttConfig").endpoint+", reason:"+b;i.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"CreatingStreamGroupTransport","",h);c("promiseDone")(i.initTransport(),function(c){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSLogHistory").log("StreamGroupTransport Connected","debug");d("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(d("LSStreamGroupRef").streamGroupRef.status="Connected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Connected"));v&&(d("LSStreamGroupRef").streamGroupRef.reconnectHandler&&d("LSStreamGroupRef").streamGroupRef.reconnectHandler(3));v=!0;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnOpen","","deviceId:"+a+", reason:"+b);(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logWarn(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"BufferFlushed","",String(d("LSStreamGroupRef").streamGroupRef.publishBuffer.size));u=0;d("LSStreamGroupRef").streamGroupRef.publishBuffer.forEach(function(a,b,c){a.resolve(),d("LSStreamGroupRef").streamGroupRef.publishBuffer.delete(b)})},function(b){if(d("LSStreamGroupRef").streamGroupRef.currentStreamGroupId!==g){var c;(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError_StaleCallback","Ignored stale callback","deviceId:"+a+", callbackLoggingId:"+g);return}d("LSLogHistory").log("StreamGroupTransport onError","debug");d("LSStreamGroupRef").streamGroupRef.publishBuffer.clear();d("LSStreamGroupRef").streamGroupRef.status!=="Disconnected"&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler&&d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler("Disconnected",b));(c=d("LSStreamGroupRef").streamGroupRef.current)==null||c.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamGroupTransportOnError",String(b),"deviceId:"+a);d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"WebSocketOnError");b!==d("DGWStream").StreamError.UNAUTHORIZED&&C(a,"reconnect_on_streamgrouptransportonerror."+String(b),e,f)});d("LSStreamGroupRef").streamGroupRef.current=i;return d("LSStreamGroupRef").streamGroupRef.current}async function E(a,b,e,f){e===void 0&&(e=!0);var g=d("LSStreamGroupRef").streamGroupRef.current;if(g==null)throw c("FBLogger")("ls_web_init").mustfixThrow("LS Stream Group not initialized");var h=new TextDecoder(),i={};d("LSPlatformDGWHostnameOverride").useHostNameOverride&&d("LSPlatformDGWHostnameOverride").hostNameOverride!=null&&(i["javascript-sandbox"]=d("LSPlatformDGWHostnameOverride").hostNameOverride);try{var k=c("uuidv4")();g=await g.establishStream({groupedStreamHeaders:i,loggingId:k,verboseLoggingEnabled:j},{onClose:function(){d("LSLogHistory").log("Stream closed","debug")},onDataReceived:function(a){var b=h.decode(a);b.length>0&&d("LSStreamGroupRef").streamGroupRef.subscribers.forEach(function(a){a(b)})},onError:function(a){d("LSLogHistory").log("Stream onError. Disconnected","debug")},onServerHasFinishedSendingData:function(a){d("LSLogHistory").log("Stream finished sending data","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onServerHasFinishedSendingData"),a.close()},onStreamMustDrain:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed","LSPlatformDGWTransport.onStreamMustDrain"),d("LSLogHistory").log("Stream must drain","debug"),a.loggingContext().logEvent(d("DGWLoggingContext").DGWLoggingComponent.GROUPED_STREAM_COMPONENT,"onStreamMustDrain"),a.close()}},b,e,f);d("LSLogHistory").log("Stream Connected","debug");return g}catch(b){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamFailure."+a);d("LSLogHistory").log("Error Establishing Stream. Disconnected","debug");throw b}}var F="Disconnected";f=function(){return F};function a(a,b,c,d){x||(x=G(a,b,"init_single_transport_instance",c,d));return x}function G(a,b,e,f,g){var j=new TextEncoder();D(b,e,f,g);var k=c("NetworkStatus").onChange(function(a){a=a.online;m&&a&&(A!=null&&(window.clearTimeout(A),A=null,y=!1,u=0,C(b,"network_status_change",f,g)))});return{cleanup:function(){var a;z=!0;k.remove();(a=d("LSStreamGroupRef").streamGroupRef.current)==null||a.close();d("LSStreamGroupRef").streamGroupRef.reconnectHandler=null;d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null;d("LSStreamGroupRef").streamGroupRef.publishBuffer.clear();d("LSStreamGroupRef").streamGroupRef.subscribers.clear()},logEvent:function(a){var b;(b=d("LSStreamGroupRef").streamGroupRef.current)==null||b.streamGroupLoggingContext.logEvent(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,a)},onConnectionStatusChange:function(a){d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=a;return function(){d("LSStreamGroupRef").streamGroupRef.connectionStatusChangeHandler=null}},onReconnect:function(a){d("LSStreamGroupRef").streamGroupRef.reconnectHandler=a;return function(){d("LSStreamGroupRef").streamGroupRef.reconnectHandler=null}},publish:async function(a,e,k){var m=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);(i||(i=c("QuickPerformanceLogger"))).markerStart(s,m);i.markerAnnotate(s,{int:{database:k},string:{streamGroupId:d("LSStreamGroupRef").getTransportId()}},{instanceKey:m});var n=(h||(h=d("LSIntEnum"))).toNumber(e);try{d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream."+(h||(h=d("LSIntEnum"))).toNumber(e));d("LSStreamGroupRef").streamGroupRef.status!=="Connected"&&(p&&d("LSStreamGroupRef").streamGroupRef.status==="Disconnected"&&(A!=null&&(window.clearTimeout(A),A=null,u=0,y=!1),(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"reconnect",{instanceKey:m}),D(b,"reconnect_when_publish",f,g)),(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"wait_for_connection",{instanceKey:m}),await H().then(function(){}).catch(function(){var a;d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"ConnectionTimeout."+n);(a=d("LSStreamGroupRef").streamGroupRef.current)==null||a.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","ConnectionTimeout",String(n));return Promise.reject({RE_EXN_ID:d("LSPlatformRealtimeTransport").NotConnected})}));(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"send_message",{instanceKey:m});var q=1===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e)||2===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);if(q&&w.has(k)){var r=w.get(k);await (r==null?void 0:r.send(j.encode(a)))}else{r=4!==(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);var t={int:{databaseType:k,requestType:n}};a=await E(n,j.encode(a),r,t);r&&(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"send_message_acked",{instanceKey:m});(i||(i=c("QuickPerformanceLogger"))).markerEnd(s,2,m);q&&w.set(k,a)}}catch(a){a===d("DGWStream").StreamError.ACK_TIMEOUT&&(i||(i=c("QuickPerformanceLogger"))).markerPoint(s,"ack_timeout",{instanceKey:m});(i||(i=c("QuickPerformanceLogger"))).markerEnd(s,3,m);if(c("getErrorSafe")(a).message==="Max number of stream IDs reached"){d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"StreamIdLimitExceeded."+n);(t=d("LSStreamGroupRef").streamGroupRef.current)==null||t.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStream","StreamIdLimitExceeded",n.toString())}d("DGWLoggingContext").DGWLoggingContext.bumpODSKey(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"initStreamError."+n);(r=d("LSStreamGroupRef").streamGroupRef.current)==null||r.streamGroupLoggingContext.logError(d("DGWLoggingContext").DGWLoggingComponent.STREAM_GROUP_COMPONENT,"Publish","Failed to publish payload",n.toString());q=l&&3===(h||(h=d("LSIntEnum"))).unwrapIntEnum(e);if(q)return Promise.resolve();else{o&&a===d("DGWStream").StreamError.ACK_TIMEOUT&&(d("LSStreamGroupRef").streamGroupRef.status="Disconnected",A!=null&&(window.clearTimeout(A),A=null,u=0,y=!1),D(b,"stream_ack_timeout",f,g));return Promise.reject(a)}}},subscribe:function(a){d("LSStreamGroupRef").streamGroupRef.subscribers.set(a,a);return function(){d("LSStreamGroupRef").streamGroupRef.subscribers.delete(a)}}}}function H(){var a={reject:function(){},resolve:function(){}},b=d("Random").uint32(),c=new Promise(function(b,c){a.resolve=b,a.reject=c});d("LSStreamGroupRef").streamGroupRef.publishBuffer.set(b,a);return c}g.getStatusForDebugging=f;g.LSPlatformDGWTransport=a}),98);
__d("LSPlatformSyncSystem",["FBLogger","I64","LSBeginHandlingSyncForSyncGroupStoredProcedure","LSBeginHandlingSyncStoredProcedure","LSDatabaseProviderType","LSFactory","LSIntEnum","LSJson","LSMailboxInitialSyncCursor","LSPlatformGraphQLTransport","LSPlatformRealtimeTransport","LSPlatformRequestId","LSPlatformRequestScheduler","LSPlatformServerResponseHandler","LSShape","LSVec","MWPBumpEntityKey","MessengerLogHistory","ReQL","gkx","promiseDone","qex","throttle"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g,j,k){var l=d("MessengerLogHistory").getInstance("client_sync"),m=new(c("LSPlatformServerResponseHandler"))(e),n=d("LSDatabaseProviderType").isProviderPersisted(a),o=function(b){return a.runInTransaction(async function(a){var c=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.network_requests).getKeyRange("",b));c!=null&&await a.network_requests.put({epochId:void 0,failureCount:(h||(h=d("I64"))).add(c.failureCount,h.one),lastDelayedRequestTimestampMs:c.lastDelayedRequestTimestampMs,lastSentTimestampMs:c.lastSentTimestampMs,lastSyncRequestTimestampMs:c.lastSyncRequestTimestampMs,networkTaskIdentifier:c.networkTaskIdentifier,syncDatabaseId:c.syncDatabaseId,taskQueueName:c.taskQueueName})},"readwrite",void 0,void 0,f.id+":78")},p=new(c("LSPlatformRequestScheduler"))(),q=async function(f,l){l=d("LSShape").toRecord(l);var o=d("LSShape").toRecord(l.request_payload);l=l.type;var p=c("LSPlatformRequestId").generate(),q=d("LSJson").stringify(d("LSShape").ofRecord({database:o.database,epoch_id:o.epoch_id,failure_count:o.failure_count,last_applied_cursor:o.last_applied_cursor,sync_params:o.sync_params,version:(h||(h=d("I64"))).of_string(g)})),r=(h||(h=d("I64"))).equal(f.sync_group_id,(i||(i=d("LSIntEnum"))).ofNumber(1))&&c("gkx")("26386")===!0;if(!r&&f.skip_realtime_gateway){r=await d("LSPlatformGraphQLTransport").publish(j,p,l,q,k);var s=r[0],t=r[1],u=r[2];r=r[3];u={experiments:u,syncScript:t,target:r};return n?m.maybeEvalInOrderReceived(s,u):e(u)}else{t=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.sync_groups).getKeyRange(f.sync_group_id));r=t!=null&&(h||(h=d("I64"))).equal(t.syncChannel,(i||(i=d("LSIntEnum"))).ofNumber(2))?(i||(i=d("LSIntEnum"))).ofNumber(2):d("LSMailboxInitialSyncCursor").syncChannel;s=c("qex")._("2071");if(t!=null&&s!=null&&s!=="default"){u=(i||(i=d("LSIntEnum"))).unwrapIntEnum(l);if(1===u||2===u||5===u){f=s+"."+(i||(i=d("LSIntEnum"))).toNumber(r)+"."+i.toNumber(l)+"."+i.toNumber(t.groupId);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("messenger.lightspeed",f)}}u=(h||(h=d("I64"))).to_int32(o.database);return b.publish({databaseType:u,payload:q,queueName:void 0,requestId:p,syncChannel:r,type_:l}).then(function(){return Promise.resolve()})}},r=function(b){var e=function(b){return a.runInTransaction(function(a){return c("LSBeginHandlingSyncForSyncGroupStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1,syncGroupId:b})},"readwrite",void 0,void 0,f.id+":206").then(function(a){return r(a[0])})},g=function(a,b){p.schedule(function(){c("promiseDone")(e(a))},(h||(h=d("I64"))).to_string(a),h.to_float(b))},j=d("LSShape").toRecord(b);b=j.work_item_type;if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(1))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(5))){var k=c("qex")._("2071");if(k!=null&&k!=="default"){var m=k+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",m)}var n=j.network_payload;if(n!=null)return q(j,n).catch(function(a){if(k!=null&&k!=="default"){var b=k+"."+(i||(i=d("LSIntEnum"))).toNumber(d("LSMailboxInitialSyncCursor").syncChannel);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception");a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout?d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.timeout"):a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync",b+".exception.notconnected")}if(a.message===d("LSPlatformGraphQLTransport").ServerError)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_graphql_error");else if(a.RE_EXN_ID===d("LSPlatformRealtimeTransport").Timeout||a.RE_EXN_ID===d("LSPlatformRealtimeTransport").NotConnected)d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_timeout_or_disc"),l.debug("Publish timed out");else{d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","send_sync_request_other_error");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("Encountered an JS error while publishing a LS sync request");else{b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("Encountered an JS error while publishing a LS sync request %s",b)}}d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handleSyncFailure."+(i||(i=d("LSIntEnum"))).toNumber(d("LSShape").toRecord(n).type)+"."+i.toNumber(j.sync_group_id));return o(j.sync_group_id).then(function(){return e(j.sync_group_id)})});else{c("FBLogger")("ls_web_init").mustfix("Expected networkpayload for sync request but didn't get any");return Promise.resolve()}}if(!(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(3)))if((h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(4))||!(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(2)))return Promise.resolve();else{c("FBLogger")("ls_web_init").mustfix("Native handling for sync group not implemented yet");return Promise.resolve()}m=j.next_sync_ms;if(m!=null){g(j.sync_group_id,m);return Promise.resolve()}else{c("FBLogger")("ls_web_init").mustfix("Expected delay for delayed sync request but didn't get any");return Promise.resolve()}},s=function(a){return Promise.all(c("LSVec").toArray(a[0]).map(function(a){return r(a)}))},t=function(){c("promiseDone")(a.runInTransaction(function(a){return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(a),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":384").then(s))},u=c("throttle")(t,500);t=function(){return d("ReQL").fromTableAscending(a.tables.sync_groups).subscribe(function(){return u()})};var v=function(){return b.subscribeToNonTaskResponses(function(a,b){var e=b.ex,f=b.payload;e={experiments:e,sp:b.sp,syncScript:f,target:b.target};c("promiseDone")(m.maybeEvalInOrderReceived(a,e),function(){return u()},function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","handle_sync_response_failure");if(a instanceof Error)c("FBLogger")("messenger_web").catching(a).mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,a.message);else{var b="";try{b=JSON.stringify(a)}catch(a){}c("FBLogger")("messenger_web").mustfix("JS error encountered handling response from MQTT (pdb=%s): %s",n,b)}})})},w=function(){return b.onReconnect(function(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("lsplatform_sync","resume_sync_reconnect");if(d("LSMailboxInitialSyncCursor").isWebApp&&1===b&&c("qex")._("2072")===!0&&c("qex")._("2080")===!0)return;l.debug("Sync System reconnecting");c("promiseDone")(a.runInTransaction(async function(b){var e;e=await (e=d("ReQL")).toArrayAsync(e.mergeJoin(e.fromTableAscending(a.tables.sync_groups),e.fromTableAscending(a.tables.network_requests).getKeyRange("")));await Promise.all(e.map(function(a){a=a[1];return b.network_requests.put({epochId:void 0,failureCount:a.failureCount,lastDelayedRequestTimestampMs:a.lastDelayedRequestTimestampMs,lastSentTimestampMs:a.lastSentTimestampMs,lastSyncRequestTimestampMs:a.lastSyncRequestTimestampMs,networkTaskIdentifier:a.networkTaskIdentifier,syncDatabaseId:a.syncDatabaseId,taskQueueName:a.taskQueueName})}));return c("LSBeginHandlingSyncStoredProcedure")(c("LSFactory")(b),{ignoreSoftDelay:!1})},"readwrite",void 0,void 0,f.id+":478").then(s))})},x=t(),y=v(),z=w();u();return{cleanup:function(){x(),z(),y()}}}g.default=a}),98);
__d("LSUserVisibleErrorsUtil",["LSFactory","LSRemoveErrorStoredProcedure","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("promiseDone")(a.runInTransaction(function(a){return c("LSRemoveErrorStoredProcedure")(c("LSFactory")(a),{errorId:b})},"readwrite",void 0,void 0,f.id+":24"))}g.removeUserVisibleErrorFromTable=a}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.profilePictureLargeUrlExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b)){return(b=a.profilePictureLargeFallbackUrl)!=null?b:a.profilePictureLargeUrl}else return a.profilePictureLargeUrl}g["default"]=a}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","ReQL","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;async function a(a,b,e){var f;if(((f=Notification)==null?void 0:f.permission)!=="granted")return;f=await Promise.all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b.threadKey,b.senderId)),d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,b.messageId))]);var g=f[0],h=f[1],j=f[2];f=f[3];if(g==null||h==null||j==null)return;var n=d("LSMessagingThreadTypeUtil").isGroup(g.threadType);n=k(n,g.threadName,j.nickname,h.name);j=l(b,f);f=await m(f,d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType));g=new Notification(n,{body:j,icon:(j=(n=c("getLSMediaThreadPictureUrl")(g))!=null?n:c("getLSMediaContactProfilePictureLargeUrl")(h))!=null?j:c("getLSMediaContactProfilePictureUrl")(h),image:f,tag:b.messageId,timestamp:(i||(i=d("I64"))).to_float(b.timestampMs)});g.onclick=function(){window.focus(),c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.threads).getKeyRange(b.threadKey)),function(a){a!=null&&e.openInbox({threadKey:b.threadKey,threadType:a.threadType},"desktopNotification")})}}function k(a,b,c,d){c=c!=null?c:d;return a&&b!=null?h._(/*BTDS*/"{senderName} to {threadName}",[h._param("senderName",c),h._param("threadName",b)]).toString():a?h._(/*BTDS*/"{senderName} to your group",[h._param("senderName",c)]).toString():c}function l(a,d){a=a.text;a=a!=null?b("cr:2472")==null?a:b("cr:2472").unvault(a):null;return a!=null&&a!==""?a:(a=c("getMWPAttachmentMessageAnnouncement")(d,!1))==null?void 0:a.toString()}async function m(a,b){if(a.length===0)return;a=a[0];if(!b)return d("LSMediaUrlAttachment").previewUrl(a);b=a.attachmentFbid;var e=a.attachmentType,f=a.authorityLevel;if(b===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(f,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;switch(!0){case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):try{return d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):if(a.previewUrl!=null)return d("LSMediaUrlAttachment").previewUrl(a);try{return d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):case(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):try{return d("MAWAttachmentBlob.react").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(a){if(a instanceof Promise)return a;throw a}}}g.triggerLocalNotification=a}),226);
__d("MWEncryptedBackupsListenForChangesToBackupStateInitPathGated",["cr:8784","cr:8786"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("cr:8784"))!=null?a:b("cr:8786");d=c;g["default"]=d}),98);
__d("RTWebDropInUtils",["FBLogger","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h="drop_in_metadata";a=function(a){var b;return b={},b[h]=JSON.stringify({is_drop_in:a?"1":"0"}),b};b=function(a){a=i(a);a=a.isDropIn;return a};var i=function(a){a=a==null?void 0:a[h];if(a!=null)try{a=JSON.parse(a);return{isDropIn:a.is_drop_in==="1"}}catch(b){a=c("getErrorSafe")(b);c("FBLogger")("rtc_www").catching(a).warn("Failed to parse drop_in_metadata app message");return{isDropIn:!1}}return{isDropIn:!1}};g.getDropInAppMessages=a;g.isDropInFromAppMessages=b}),98);
__d("useSearchCometGlobalTypeaheadInitializeDataSource",["SearchCometTypeaheadEventEmitterContext","react","react-compiler-runtime","searchCometGlobalTypeahead.config","useSearchCometEventEmitterContext","useSearchCometGlobalTypeaheadCompositeDataSource","useSearchCometGlobalTypeaheadNullStateDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(17),b=c("useSearchCometGlobalTypeaheadNullStateDataSource")(),e;a[0]!==b?(e={config:c("searchCometGlobalTypeahead.config"),recentDataSource:b},a[0]=b,a[1]=e):e=a[1];var f=c("useSearchCometGlobalTypeaheadCompositeDataSource")(e);e=(b=c("useSearchCometEventEmitterContext")(c("SearchCometTypeaheadEventEmitterContext")))!=null?b:{};var g=e.subscribeToClearGlobalRecentSearches,h=e.subscribeToRecentSearchEntryAdded,j=e.subscribeToRefreshRecentSearches;a[2]!==f||a[3]!==h?(b=function(){return h==null?void 0:h(function(a){f.addRecentEntry(a)})},e=[f,h],a[2]=f,a[3]=h,a[4]=b,a[5]=e):(b=a[4],e=a[5]);i(b,e);a[6]!==f||a[7]!==g?(b=function(){return g==null?void 0:g(function(){f.clearRecentSearches()})},e=[f,g],a[6]=f,a[7]=g,a[8]=b,a[9]=e):(b=a[8],e=a[9]);i(b,e);a[10]!==f||a[11]!==j?(b=function(){return j==null?void 0:j(function(){f.refreshRecentSearches()})},e=[f,j],a[10]=f,a[11]=j,a[12]=b,a[13]=e):(b=a[12],e=a[13]);i(b,e);a[14]!==f?(b=function(){f.bootstrap()},e=[f],a[14]=f,a[15]=b,a[16]=e):(b=a[15],e=a[16]);i(b,e)}g["default"]=a}),98);
__d("SearchCometGlobalTypeaheadDataSourceLoader.react",["CometVisualCompletionAttributes","react","react-compiler-runtime","useSearchCometGlobalTypeaheadInitializeDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1);c("useSearchCometGlobalTypeaheadInitializeDataSource")();var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({"data-testid":void 0},c("CometVisualCompletionAttributes").IGNORE)),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("XCometGamingVanityControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/{vanity}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ZenonDeviceId",["ChannelClientID","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="chatd-deviceid";function j(){return d("ChannelClientID").getID()}function a(a){(h||(h=c("WebStorage"))).setAllowlistedKeyToLocalStorage(h.getLocalStorage(),i,a)}function k(){return(h||(h=c("WebStorage"))).getAllowlistedKeyFromLocalStorage(i)}function b(){var a;return(a=k())!=null?a:j()}g.getZenonDeviceId=j;g.setZenonLocalStorageDeviceId=a;g.getZenonLocalStorageDeviceId=k;g.getZenonLocalStorageDeviceIdWithFallback=b}),98);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","FDSArrowsCircleFilled24Icon","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useRef;function a(){var a=d("react-compiler-runtime").c(10),e=l(null),f=d("useLabyrinthLogging").useLabyrinthLoggingFlow(),g=f.startFlow;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:6570")?k.jsx(b("cr:6570"),{color:"primary",icon:c("FDSArrowsCircleFilled24Icon"),size:24}):void 0,a[0]=f):f=a[0];var j=f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:1376")?new(b("cr:1376"))(i("685423"),32,32):void 0,a[1]=f):f=a[1];var m=f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("BaseToasterStateManager").getInstance(),a[2]=f):f=a[2];var n=f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){if(e.current==null)return;n.expire(e.current);e.current=null},a[3]=f):f=a[3];var o=f;a[4]!==g?(f=function(){o(),e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"Loading messages..."),icon:{comet:j,mds:m},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),g({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},a[4]=g,a[5]=f):f=a[5];f=f;var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p=function(){o(),d("mwPushToast").mwPushErrorToast({body:h._(/*BTDS*/"Failed to restore end-to-end encrypted messages. Try again.")})},a[6]=p):p=a[6];p=p;var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=function(){var a=b("cr:6570")?k.jsx(b("cr:6570"),{icon:c("FDSCheckmarkFilled24Icon"),size:24}):void 0,f=b("cr:4027")?d("SVGIcon").svgIcon(b("cr:4027")):void 0;o();e.current=d("mwPushToast").mwPushToast({body:h._(/*BTDS*/"End-to-end encrypted messages restored."),icon:{comet:a,mds:f},testid:"mw-chat-encrypted-backups-restore-successful-toast"});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast");d("MWChatEncryptedBackupsLogging").endSuccess({event:d("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},a[7]=q):q=a[7];q=q;a[8]!==f?(p={hideToast:o,showErrorToast:p,showInProgressToast:f,showSuccessToast:q},a[8]=f,a[9]=p):p=a[9];return p}g["default"]=a}),226);/*FB_PKG_DELIM*/
__d("CometMessagingJewelDropdownQPBannerPlaceholder.react",["CometRow.react","CometRowItem.react","MDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={actionButtonGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xsdox4t",marginTop:"x1rdy4ex",width:"x1useyqa",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",marginBottom:"xu06os2",marginTop:"x1ok221b",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(5),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1qjc9v5 xlhe6ec x1q0q8m5 x1qhh985 x18b5jzi x10w94by x1t7ytsu x14e42zd x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x972fbf x9f619 x78zum5 xdt5ytf x1iyjqo2 xs83m0k xf30bs1 x1qughib x14vqqas xbmvrgn xod5an3 x1diwwjn x2lwn1j xeuugli x6ikm8r x10wlt62 x1iorvi4 x11lfxj5 x135b78x x1l90r2v x1n2onr6 x1ja2u2z"},a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("CometRowItem.react"),{verticalAlign:"top",children:i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("CometRow.react"),{verticalAlign:"center",children:[e,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsxs("div",{className:"x78zum5 xdt5ytf xz62fqu x16ldp7u",children:[i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.textGlimmer}),i.jsx(c("MDSGlimmer.react"),{index:0,xstyle:j.textGlimmer})]})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.actionButtonGlimmer})}),a[3]=f):f=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsxs("div",babelHelpers["extends"]({},b,{children:[e,i.jsxs(c("CometRow.react"),{align:"justify",direction:"forward",spacing:8,wrap:"none",children:[f,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("MDSGlimmer.react"),{index:1,xstyle:j.actionButtonGlimmer})})]})]})),a[4]=b):b=a[4];return b}g["default"]=a}),98);
__d("FBIconArrowLeftFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M100.655 923.405a.75.75 0 0 0-1.06-1.06l-3.125 3.125a.75.75 0 0 0 0 1.06l3.125 3.125a.75.75 0 0 0 1.06-1.06L98.061 926l2.594-2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105 925.25h-7.688a.75.75 0 1 0 0 1.5H105a.75.75 0 1 0 0-1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconArrowRightFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M101.345 928.595a.75.75 0 0 0 1.06 1.06l3.125-3.125a.75.75 0 0 0 0-1.06l-3.125-3.125a.75.75 0 0 0-1.06 1.06l2.594 2.595-2.594 2.595z",transform:"translate(355 153.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M97 926.75h7.688a.75.75 0 1 0 0-1.5H97a.75.75 0 1 0 0 1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconBellNullCrossFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"m459.33 1076.878 2.524-2.525a.5.5 0 0 0-.707-.707l-2.323 2.323a3.606 3.606 0 0 0-1.838-1.322c.006-.048.014-.096.014-.147a1 1 0 0 0-2 0c0 .05.008.099.015.148-1.432.435-2.509 1.801-2.646 3.526l-.04.906c0 .273-.243.607-.502.96-.372.508-.834 1.14-.827 1.963.003.385.175.887.589 1.201l-1.442 1.442a.5.5 0 1 0 .707.707l1.853-1.853h.024l6.605-6.606-.007-.016m.141 6.622c1.115 0 1.526-.895 1.53-1.495.007-.824-.455-1.457-.827-1.965-.258-.353-.502-.686-.503-.981l-.04-.903c-.003-.043-.01-.083-.015-.126l-5.47 5.47h5.325zm-1.92 1h-3.1a.203.203 0 0 0-.138.352c.435.4 1.031.648 1.688.648s1.253-.247 1.687-.648a.204.204 0 0 0-.137-.352"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCautionTriangleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{stroke:"none",strokeWidth:1,fillRule:"evenodd",children:i.jsx(d("XPlatReactSVG").Path,{d:"m104.999 920.516-.25 2.833c-.033.368-.358.65-.748.65s-.715-.282-.748-.65l-.25-2.833a.969.969 0 0 1 .998-1.016.969.969 0 0 1 .998 1.016zM104 926.5a1.001 1.001 0 0 1 0-2c.551 0 1 .449 1 1 0 .551-.449 1-1 1zm1.114-8.877a1.26 1.26 0 0 0-1.094-.623h-.002a1.26 1.26 0 0 0-1.096.62l-4.746 7.996c-.23.388-.235.853-.012 1.245.228.4.641.639 1.106.639h9.46c.464 0 .877-.238 1.105-.637.223-.39.22-.856-.009-1.244l-4.712-7.996z",transform:"translate(-450 -1073) translate(352 157)"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconCheckmarkFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M451.78 1079.098a.75.75 0 0 0-1.06 1.06l3.08 3.082a.75.75 0 0 0 1.061 0l6.42-6.42a.75.75 0 0 0-1.061-1.06l-5.889 5.889-2.55-2.55z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconGroupFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M452.25 1079c-.69 0-1.25-.673-1.25-1.5 0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5m6.25-1.5c0-.911.49-1.5 1.25-1.5s1.25.589 1.25 1.5c0 .827-.56 1.5-1.25 1.5s-1.25-.673-1.25-1.5m-2.5 1c-.827 0-1.5-.785-1.5-1.75 0-1.079.575-1.75 1.5-1.75s1.5.671 1.5 1.75c0 .965-.673 1.75-1.5 1.75m-4 3.478c0-.814.281-1.562.75-2.154a.2.2 0 0 0-.156-.324h-.64a1.957 1.957 0 0 0-1.953 1.9c-.016.603.474 1.1 1.076 1.1h.723a.2.2 0 0 0 .2-.2v-.322zm8 0c0-.814-.281-1.562-.75-2.154a.2.2 0 0 1 .156-.324h.64c1.059 0 1.925.848 1.954 1.9.015.603-.475 1.1-1.077 1.1h-.723a.2.2 0 0 1-.2-.2v-.322zm-1 .416c0 .61-.496 1.106-1.106 1.106h-3.788c-.61 0-1.106-.496-1.106-1.106v-.416a2.48 2.48 0 0 1 2.478-2.478h1.044a2.48 2.48 0 0 1 2.478 2.478v.416z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconMagnifyingGlassFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"m104.609 929.891.103.106a4.75 4.75 0 1 1-.103-.106zm-1.155.97a3.25 3.25 0 1 0 .185.185l-.09-.094-.095-.09z",transform:"translate(353.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M104.1 934.827c-.048.085-.11.211-.17.372a2.285 2.285 0 0 0-.147 1.107c.049.366.205.702.478.974a.75.75 0 0 0 1.112-1.003l-.052-.057a.173.173 0 0 1-.051-.112.87.87 0 0 1 .066-.385l.031-.078.032-.066a.75.75 0 1 0-1.298-.752z",transform:"translate(353.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m103.617 937.38.066-.029.042-.016a.869.869 0 0 1 .385-.067.181.181 0 0 1 .087.03l.023.02a.75.75 0 0 0 1.06-1.06 1.664 1.664 0 0 0-.975-.477c-.379-.05-.75.015-1.107.149a2.52 2.52 0 0 0-.372.172.75.75 0 0 0 .624 1.356l.066-.026.1-.052z",transform:"translate(353.5 145)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m106.608 940.169-.04-.044-2.889-3.388c-.599-.703.355-1.657 1.058-1.058l3.388 2.889.044.04c.055.055.114.128.17.222.23.394.23.895-.142 1.31l-.057.057a1.077 1.077 0 0 1-1.31.141 1.097 1.097 0 0 1-.222-.169zm1.03-1.03-.24.283-.318-.284c-.11.122-.11.326-.036.451a.387.387 0 0 0 .064.08l.561-.56a.387.387 0 0 0-.08-.065c-.125-.073-.33-.073-.451.036l.284.317-.283.242.5-.5z",transform:"translate(353.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconMarketplaceFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M108 922v5.27a.23.23 0 0 1-.23.23h-7.54a.23.23 0 0 1-.23-.23V922h-1v5.27c0 .68.55 1.23 1.23 1.23h7.54c.68 0 1.23-.55 1.23-1.23V922h-1z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M109.291 919c.18 0 .3-.183.23-.348l-.686-1.609a.863.863 0 0 0-.802-.543h-8.066a.86.86 0 0 0-.799.534l-.69 1.618a.25.25 0 0 0 .23.348h10.583zm-11.041 1a.25.25 0 0 0-.25.25v1c0 .69.553 1.25 1.234 1.25h.083c.287 0 .567-.102.788-.288l.206-.194.097.082c.308.259.695.4 1.096.4h.088a1.71 1.71 0 0 0 1.106-.409l.063-.072.11.091c.305.252.688.39 1.084.39h.067c.401 0 .792-.144 1.1-.404l.068-.076.09.076c.31.261.702.404 1.107.404h.103c.404 0 .797-.145 1.11-.41l.056-.067.195.166c.236.2.534.311.843.311.72 0 1.306-.594 1.306-1.325v-.925a.25.25 0 0 0-.25-.25h-11.5zm6.75 8h-2v-3.25a.25.25 0 0 1 .25-.25h1.5a.25.25 0 0 1 .25.25V928z",transform:"translate(352 157)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M105.5 928.5h-3v-3.75a.75.75 0 0 1 .75-.75h1.5a.75.75 0 0 1 .75.75v3.75zm-1-1V925h-1v2.5h1z",transform:"translate(352 157)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPauseCircleFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{d:"M459 1081.875c0 .344-.28.625-.625.625h-.75a.626.626 0 0 1-.625-.625v-4.75c0-.344.28-.625.625-.625h.75c.344 0 .625.28.625.625v4.75zm-4 0c0 .344-.28.625-.625.625h-.75a.626.626 0 0 1-.625-.625v-4.75c0-.344.28-.625.625-.625h.75c.344 0 .625.28.625.625v4.75zm1-8.375c-3.308 0-6 2.691-6 6s2.692 6 6 6 6-2.691 6-6-2.692-6-6-6z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconPushpinFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{children:[i.jsx(d("XPlatReactSVG").Path,{d:"m6.657 1-2.64 2.639A3.191 3.191 0 0 0 1 4.481L5.52 9a3.191 3.191 0 0 0 .84-3.018L9 3.344",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M3.854 3.096A3.687 3.687 0 0 0 .647 4.127a.5.5 0 0 0 0 .707l4.52 4.52a.5.5 0 0 0 .706 0 3.687 3.687 0 0 0 1.03-3.207l2.45-2.45-.706-.707-2.64 2.639a.5.5 0 0 0-.132.472c.182.748.04 1.53-.388 2.159L1.74 4.513a2.697 2.697 0 0 1 2.16-.388.5.5 0 0 0 .471-.132l2.64-2.64-.708-.707-2.45 2.45z",transform:"translate(354 143.5) translate(96.5 931.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"m105.392 935.194-2.586-2.586a1.045 1.045 0 0 1 0-1.478l.555-.553a.26.26 0 0 1 .369 0l3.693 3.693a.26.26 0 0 1 0 .37l-.553.554a1.045 1.045 0 0 1-1.478 0",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"m105.038 935.547-2.585-2.585a1.545 1.545 0 0 1 0-2.186l.553-.552a.76.76 0 0 1 1.077 0l3.693 3.692a.76.76 0 0 1 0 1.077l-.553.554a1.545 1.545 0 0 1-2.185 0zm-1.878-4.063a.545.545 0 0 0 0 .77l2.585 2.586a.545.545 0 0 0 .77 0l.386-.385-3.356-3.356-.385.385z",transform:"translate(354 143.5)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M96.147 941.854a.5.5 0 0 1 0-.708l2.276-2.276a.25.25 0 0 1 .353 0l.354.353a.25.25 0 0 1 0 .354l-2.276 2.277a.5.5 0 0 1-.707 0",transform:"translate(354 143.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconStoriesArchiveFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs(d("XPlatReactSVG").G,{fillRule:"nonzero",children:[i.jsx(d("XPlatReactSVG").Path,{d:"M103 920.75a.5.5 0 0 0-1 0v2.75a.5.5 0 0 0 .146.354l1.1 1.1a.5.5 0 1 0 .708-.708l-.954-.953v-2.543zm-1.823-3.103c-.146.033-.29.07-.432.114a.5.5 0 1 0 .29.957c.12-.036.24-.068.363-.096a.5.5 0 0 0-.221-.975zm7.015 7.755a5.999 5.999 0 0 0-2.965-7.248.5.5 0 1 0-.455.89 5 5 0 0 1 2.471 6.042.5.5 0 1 0 .949.316zm-10.075 2.195a5.983 5.983 0 0 0 4.383 1.903c1.687 0 3.263-.7 4.39-1.91a.5.5 0 0 0-.731-.682 4.983 4.983 0 0 1-3.66 1.592 4.984 4.984 0 0 1-3.651-1.586.5.5 0 0 0-.73.683zm-1.202-6.292a6.017 6.017 0 0 0-.122 4.051.5.5 0 1 0 .95-.308 5.018 5.018 0 0 1 .102-3.377.5.5 0 1 0-.93-.366zm1.657-2.34a5.8 5.8 0 0 0-.318.296.5.5 0 0 0 .711.703c.08-.08.167-.161.264-.245a.5.5 0 0 0-.657-.755z",transform:"translate(353.5 156)"}),i.jsx(d("XPlatReactSVG").Path,{d:"M105.709 918.41a.5.5 0 1 0-.574-.82l-.922.646a.5.5 0 0 0-.123.696l.646.923a.5.5 0 0 0 .819-.574l-.359-.513.513-.358z",transform:"translate(353.5 156)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FDSMessagesFilled24Icon",["cr:13843"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13843")}),98);
__d("FDSMessagesFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("542884"),24);b=a;g["default"]=b}),98);
__d("FDSResizeFreeFilled20Icon",["cr:15603"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15603")}),98);
__d("MWInboxContextSwitcherUtils",["fbt","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MWPIsThreadUnread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return function(a){return d("MWPIsThreadUnread").isThreadUnread(a)};case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return function(a){return d("LSMessagingThreadTypeUtil").isFnFGroupThread(a)};case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").DRAFTS):return function(a){return d("LSMessagingThreadTypeUtil").isDraftThread(a)};case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):default:return void 0}}function b(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return(i||(i=d("LSIntEnum"))).ofNumber(-14);case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):default:return(i||(i=d("LSIntEnum"))).ofNumber(0)}}function e(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"Inbox";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"Communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"Unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"Groups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").DRAFTS):return"Drafts";default:return"Other"}}function f(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return h._(/*BTDS*/"No community chats");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return h._(/*BTDS*/"No unread chats");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return h._(/*BTDS*/"No group chats");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):default:return h._(/*BTDS*/"No chats")}}function k(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return h._(/*BTDS*/"When you have community chats, you'll see them here.");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return h._(/*BTDS*/"When you have unread chats, you'll see them here.");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return h._(/*BTDS*/"When you have group chats, you'll see them here.");case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):default:return h._(/*BTDS*/"When you have chats, you'll see them here.")}}function l(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"jewel_communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"jewel_unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"jewel_groups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"jewel_all";default:return"jewel"}}function m(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"inbox_communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"inbox_unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"inbox_groups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"inbox_all";default:return"inbox"}}function n(a){var b;switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"inbox";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"communities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"unread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"groups";default:return((b=Object.keys(c("LSThreadRangeFilter")).find(function(b){return(j||(j=d("I64"))).equal((i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter")[b]),a)}))!=null?b:"other").toLowerCase()}}function o(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):return"jewelCommunities";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):return"jewelUnread";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):return"jewelGroups";case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return"jewelAll"}}function p(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return!0;case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function q(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return!0;case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):default:return!1}}function r(a){switch(a){case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):return!0;case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY):case(i||(i=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES):default:return!1}}g.getCustomThreadFilter=a;g.getParentThreadKeyFromFilter=b;g.getInteractionDescFromFilter=e;g.getNullStateHeadline=f;g.getNullStateMessage=k;g.getJewelEntryPointFromFilter=l;g.getInboxEntryPointFromFilter=m;g.getTracePolicyFromFilter=n;g.getJewelLsSubEntryPointFromFilter=o;g.shouldShowEBUpsellFromFilter=p;g.shouldShowNewMessageForInboxFromFilter=q;g.shouldShowMessageRequestsFromFilter=r}),226);
__d("MWJewelDropdownHeaderSeeAllButton.react",["fbt","FDSCircleButton.react","FDSResizeFreeFilled20Icon","FDSTooltip.react","MWFacebookUserWithoutMessengerAccess","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onClose,f=a.testid;a=a.url;var g=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"See all in Messenger"),b[0]=i):i=b[0];i=i;var k;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"See all messages"),b[1]=k):k=b[1];k=k;g=g?k:i;b[2]!==a?(k={url:a},b[2]=a,b[3]=k):k=b[3];b[4]!==g||b[5]!==e||b[6]!==k||b[7]!==f?(i=j.jsx(c("FDSCircleButton.react"),{color_DEPRECATED:"secondary",icon:c("FDSResizeFreeFilled20Icon"),label:g,linkProps:k,onPress:e,size:32,testid:void 0,type_DEPRECATED:"deemphasized"}),b[4]=g,b[5]=e,b[6]=k,b[7]=f,b[8]=i):i=b[8];b[9]!==g||b[10]!==i?(a=j.jsx(c("FDSTooltip.react"),{align:"end",tooltip:g,children:i}),b[9]=g,b[10]=i,b[11]=a):a=b[11];return a}g["default"]=a}),226);
__d("MWJewelMessengerLink.react",["fbt","MWFacebookUserWithoutMessengerAccess","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.onClick;a=a.url;var f=d("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"See all in Messenger"),b[0]=g):g=b[0];g=g;var i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"See all messages"),b[1]=i):i=b[1];i=i;f=f?i:g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xlsxne2 x1l90r2v x1i80of2"},b[2]=i):i=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={inboxEntrypoint:"jewelLink"},b[3]=g):g=b[3];b[4]!==f||b[5]!==e||b[6]!==a?(i=j.jsx("div",babelHelpers["extends"]({},i,{"data-testid":void 0,children:j.jsx(c("MWXText.react"),{align:"center",color:"blueLink",type:"bodyLink3",children:j.jsx(c("MWXLink.react"),{href:a,onClick:e,traceParams:g,children:f})})})),b[4]=f,b[5]=e,b[6]=a,b[7]=i):i=b[7];return i}g["default"]=a}),226);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);
__d("MWPBaseThreadListHooks",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadRangeFilter","MAWIsIDBOperational","MWThreadListSupportedThreadTypes","MWXacGating","MetaConfig","ReQL","ReQLPaginatedList.shared","ReQLSuspense","isMWXacGroupThread","mwCMIsAnyCMThread","mwCMIsThreadBumped","mwIsThreadDisabled","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,g){var j=d("react-compiler-runtime").c(15),k,l;j[0]!==e?(k=e===void 0?(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE):e,l=(i||(i=d("I64"))).equal(k,(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE)),j[0]=e,j[1]=k,j[2]=l):(k=j[1],l=j[2]);var m=l;j[3]!==a||j[4]!==m||j[5]!==b?(e=function(){return m?d("ReQL").fromTableDescending(a.tables.threads_ranges_v2__generated).getKeyRange(b):d("ReQL").empty()},l=[a,b,m],j[3]=a,j[4]=m,j[5]=b,j[6]=e,j[7]=l):(e=j[6],l=j[7]);e=d("ReQLSuspense").useFirst(e,l,f.id+":58");var n;j[8]!==a||j[9]!==k||j[10]!==m||j[11]!==b||j[12]!==g?(l=function(){return m?d("ReQL").empty():d("ReQL").fromTableDescending(a.tables.filtered_threads_ranges_v3__generated).getKeyRange(b).filter(function(a){return(i||(i=d("I64"))).equal(a.threadRangeFilter,k)&&(g==null||(i||(i=d("I64"))).equal(a.secondaryThreadRangeFilter,g))})},n=[a,k,b,g,m],j[8]=a,j[9]=k,j[10]=m,j[11]=b,j[12]=g,j[13]=l,j[14]=n):(l=j[13],n=j[14]);j=d("ReQLSuspense").useFirst(l,n,f.id+":65");return m?e:j}function b(a){var b=d("react-compiler-runtime").c(4),e=c("MetaConfig")._("44"),f=a!=null?(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).one)||(e?(i||(i=d("I64"))).equal(a.minLastActivityTimestampMs,(i||(i=d("I64"))).max_int):!1)?null:a.minLastActivityTimestampMs:null,g=a!=null?(i||(i=d("I64"))).equal(a.maxLastActivityTimestampMs,(i||(i=d("I64"))).zero)||(i||(i=d("I64"))).equal(a.maxLastActivityTimestampMs,(i||(i=d("I64"))).one)?null:a.maxLastActivityTimestampMs:null;b[0]!==g||b[1]!==f?(e=function(){return{gte:d("ReQL").key(f!=null?f:(i||(i=d("I64"))).min_int),lte:d("ReQL").key(g!=null?g:(i||(i=d("I64"))).max_int)}},a=[g,f],b[0]=g,b[1]=f,b[2]=e,b[3]=a):(e=b[2],a=b[3]);b=d("Int64Hooks").useMemoInt64(e,a);return b}function e(a){var b=d("react-compiler-runtime").c(11),e=a.customThreadFilter,g=a.db,k=a.parentThreadKey,l=d("MAWIsIDBOperational").useIsIDBOperational();b[0]!==e||b[1]!==g.tables.community_folders||b[2]!==g.tables.threads||b[3]!==l||b[4]!==k?(a=function(){var a,b=(a=d("ReQL")).fromTableDescending(g.tables.threads.index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(k),n=a.fromTableDescending(g.tables.threads.index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(k);b=a.union(b,n).map(function(a){if(!c("mwCMIsThreadBumped")(a))return{hideFromThreadlist:!1,thread:a};if((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(17)))return{hideFromThreadlist:!0,thread:a};var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.community_folders,["isHidden","takedownState"]).getKeyRange((i||(i=d("I64"))).equal(a.threadType,(h||(h=d("LSIntEnum"))).ofNumber(17))?a.threadKey:a.parentThreadKey),f.id+":162"),e=(b==null?void 0:b.takedownState)!=null?(i||(i=d("I64"))).equal(b.takedownState,(h||(h=d("LSIntEnum"))).ofNumber(1)):!1;b=(b==null?void 0:b.isHidden)===!0;b=b||e;return{hideFromThreadlist:b,thread:a}}).filter(function(a){var b=a.hideFromThreadlist,f=a.thread;if(b)return!1;a=d("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType);return(!a||l)&&(c("mwCMIsAnyCMThread")(f.threadType)?!c("mwIsThreadDisabled")(f.takedownState):!0)&&c("MWThreadListSupportedThreadTypes").findIndex(function(a){return(i||(i=d("I64"))).equal(f.threadType,a)})!==-1&&(h||(h=d("LSIntEnum"))).toNumber(f.authorityLevel)>c("LSAuthorityLevel").CLIENT_PARTIAL&&(d("MWXacGating").isGroupsEnabled()||!c("isMWXacGroupThread")(f))&&(!e||e(f))}).map(j);return d("ReQLPaginatedList.shared").fromIterables(a.empty(),b)},b[0]=e,b[1]=g.tables.community_folders,b[2]=g.tables.threads,b[3]=l,b[4]=k,b[5]=a):a=b[5];var m;b[6]!==e||b[7]!==g||b[8]!==l||b[9]!==k?(m=[g,l,k,e],b[6]=e,b[7]=g,b[8]=l,b[9]=k,b[10]=m):m=b[10];b=d("Int64Hooks").useMemoInt64(a,m);return b}function j(a){a=a.thread;return a}g.useMWPBaseThreadListDefaultThreadsRange=a;g.useMWPBaseThreadListBounds=b;g.useMWPBaseThreadListFilteredData=e}),98);
__d("MWQuickPromotionThreadlistBannerQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24396280803327230"}),null);
__d("MWThreadListEmptyContainer.react",["CometPlaceholder.react","JSResourceForInteraction","lazyLoadComponent","react","react-compiler-runtime","useEnsureViewerContactExistAndUpdated"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadListEmptyContainer.react"));function a(a){var b=d("react-compiler-runtime").c(3),e=a.filter;a=a.parentThreadKey;c("useEnsureViewerContactExistAndUpdated")();var f;b[0]!==e||b[1]!==a?(f=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWThreadListEmptyContainer",children:i.jsx(j,{filter:e,parentThreadKey:a})}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("ReQLScrollAnchored.react",["BaseScrollableAreaContext","BaseThemeProvider.react","CometPlaceholder.react","CometSSRSuspendOnServer.react","MWXScrollableAreaStyles","intersectionObserverEntryIsIntersecting","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,aa=b.useEffect,ba=b.useImperativeHandle,ca=b.useLayoutEffect,m=b.useMemo,n=b.useRef,da=b.useState,o=function(a){function b(){var b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return(b=a.call.apply(a,[this].concat(d))||this,b.render=function(){return b.props.children},babelHelpers.assertThisInitialized(b))||babelHelpers.assertThisInitialized(b)}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.componentDidUpdate=function(a,b,c){b=a.children;this.props.componentDidUpdate(b,c)};c.getSnapshotBeforeUpdate=function(a){a=a.children;return this.props.getSnapshotBeforeUpdate(a)};return b}(j.PureComponent),p={hideScrollbar:{MsOverflowStyle:"x1pq812k",scrollbarWidth:"x1rohswg","::-webkit-scrollbar_height":"x1yqm8si","::-webkit-scrollbar_width":"xjx87ck",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowAnchor:"x1xzczws",overflowX:"x6ikm8r",overflowY:"x1odjw0f",position:"x1n2onr6",width:"xh8yej3",$$css:!0}},q=typeof ResizeObserver!=="undefined";function ea(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function fa(a,b){return a-b.scrollTop>b.clientHeight*2}var ga=5;function a(a){var b=a.ref,d=a.hasReachedBottom,e=d===void 0?!0:d;d=a.hasReachedTop;var f=d===void 0?!0:d;d=a.setScrollTopInResetForBottomAnchor;var g=d===void 0?!0:d,i=a.initialAnchor,r=a.initialRenderComplete,s=a.onReachingBottom,t=a.onReachingTop,u=a.onScroll,v=a.onUserScroll,w=a.renderEmptyContent,x=a.renderFooter,y=a.renderHeader,z=a.renderHeaderContentSpacer,A=a.renderLoadingAnimation;d=a.isSufficientContentLoadedAbove;var B=d===void 0?ea:d;d=a.isSufficientContentLoadedBelow;var C=d===void 0?fa:d,ha=a.headerStyle,ia=a.hideScrollbar;d=a.snapThreshold;var D=d===void 0?5:d;d=a.xstyle;var ja=a.shouldOverscrollBehaviourContain,E=a.elements,F=l(c("BaseScrollableAreaContext")),G=n();a=m(function(){return[].concat(F,[{getDOMNode:function(){return G==null?void 0:G.current}}])},[F]);var H=n(),I=n(),J=da(i),ka=J[0],K=J[1],L=n(i),M=n(null),N=k(function(){var a=G.current,b=I.current;if(a==null||b==null||a.offsetParent===null||b.offsetParent===null)return;b=C(b.clientHeight,a);M.current=a.scrollTop;if(!b&&!e&&s!=null){s();return}b=B(a);M.current=a.scrollTop;!b&&!f&&t!=null&&t()},[e,f,B,C,s,t]);aa(N,[N,E.length]);var O=k(function(a){if(a.scrollHeight===a.clientHeight)return;var b=a.scrollHeight-a.clientHeight-a.scrollTop<D&&e?"bottom":"top";K(L.current=b);M.current=a.scrollTop},[e,D]),P=k(function(){var a=G.current,b=M.current;if(b==null||a==null)return;a.scrollTop!==b&&(a.scrollTop=b,u&&u(a))},[u]),Q=k(function(){var a=G.current,b=I.current;if(a==null||b==null)return;i==="bottom"?(g&&(a.scrollTop=a.scrollHeight),u&&u(a)):f||(a.scrollTop=b.offsetTop,u&&u(a));e&&a.scrollHeight-a.clientHeight-a.scrollTop<D?K(L.current="bottom"):K(L.current=i);M.current=a.scrollTop},[e,f,i,u,D,g]),R=n(!1);ca(function(){if(R.current)return;Q();R.current=!0},[Q]);var S=k(function(){var a=G.current;if(a==null)return;r&&a.scrollHeight>a.clientHeight&&r();L.current==="bottom"&&(a.scrollTop=a.scrollHeight,u&&u(a));M.current=a.scrollTop},[r,u]),la=k(function(){var a=G.current;if(a==null)return;u&&u(a);if(a.scrollTop===M.current)return;M.current=null;N();O(a);v&&v()},[N,u,v,O]),T=k(function(){S(),N()},[S,N]);J=k(function(){return S()},[S]);var U=c("useResizeObserver")(J),V=c("useResizeObserver")(T),ma=k(function(a){U(a),I.current=a},[U]),na=k(function(a){V(a),G.current=a},[V]),W=k(function(a,b){if(b!=null){a=b.element;var c=b.height;b=b.scrollAreaElement;a=a.clientHeight;M.current=b.scrollTop;a!==c&&!(a<=c&&L.current==="bottom")&&(b.scrollTop+=a-c,M.current=b.scrollTop,u&&u(b))}},[u]),X=k(function(){if(G.current!=null){var a=G.current;a.scrollTop=a.scrollHeight;M.current=a.scrollTop;u&&u(a)}K(L.current=e?"bottom":"top")},[e,u]);function oa(){if(G.current!=null){var a=G.current,b=a.scrollHeight-a.scrollTop-a.clientHeight<ga;M.current=a.scrollTop;return b}else return!1}var Y=n(null),Z=k(function(a,b){var d=Y.current,e=G.current;if(d!=null&&e!=null){var f=new IntersectionObserver(function(a){a=a[0];(a.boundingClientRect.height!==0||a.boundingClientRect.width!==0)&&b(c("intersectionObserverEntryIsIntersecting")(a))},{root:e,rootMargin:a+"px"});f.observe(d);return function(){return f.disconnect()}}},[]),$=k(function(){var a=G.current;if(a!=null){var b=a.scrollHeight-a.clientHeight>0;M.current=a.scrollTop;return b}return!1},[]);function pa(){var a=G.current;if(a==null)return null;var b={clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop};M.current=a.scrollTop;return b}ba(b,function(){return{doesContentFillScroll:$,getScrollAreaElement:function(){return G.current},getScrollerMeasurements:pa,isAtBottom:oa,onCloseToBottom:Z,resetScrollPosition:Q,restoreScrollPosition:P,scrollToBottom:X}},[$,Z,Q,P,X]);var qa=m(function(){return j.jsx(o,{componentDidUpdate:W,getSnapshotBeforeUpdate:function(a){var b=I.current,c=G.current;if(b!=null&&c!=null&&!(f&&c.scrollTop===0)&&(!a.length||E.length&&a[0].key!==E[0].key&&a.length!==E.length)){a=b.clientHeight;M.current=c.scrollTop;return{element:b,height:a,scrollAreaElement:c}}return null},children:E})},[E,W,f]);return j.jsx(c("BaseScrollableAreaContext").Provider,{value:a,children:j.jsx("div",babelHelpers.extends({},(h||(h=c("stylex"))).props(d),{children:j.jsx("div",babelHelpers.extends({},{0:{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6"},1:{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6 x1xzczws"}}[!!(ka==="bottom")<<0],{children:j.jsx(c("BaseThemeProvider.react"),{children:function(a,b){return j.jsxs("div",{className:(h||(h=c("stylex")))(p.scrollArea,ja===!0&&p.overscrollBehaviorContain,ia===!0&&p.hideScrollbar,c("MWXScrollableAreaStyles").themed,a),"data-testid":void 0,onScroll:la,ref:na,style:b,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.ScrollArea",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!q&&j.jsx("iframe",{className:"x76ihet xtmcdsl x112ta8 x4gj9lk x5yr21d x1o0tod x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=T)}})})}),j.jsxs(o,{componentDidUpdate:W,getSnapshotBeforeUpdate:function(){var a=H.current,b=G.current;if(a!=null&&b!=null){M.current=b.scrollTop;if(M.current!==0){var c=a.clientHeight;return{element:a,height:c,scrollAreaElement:b}}}return null},children:[j.jsx("div",babelHelpers.extends({},h.props(ha),{ref:H,children:f?y&&y():A&&A("onTop",E.length)})),w!=null?w():null]}),z!=null&&z(),j.jsx("div",babelHelpers.extends({},{0:{},1:{className:"x1us19tq"}}[!!(E.length!==0&&!f&&!e)<<0],{children:j.jsxs("div",{className:"x1n2onr6",ref:ma,children:[j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"ReQLScrollAnchored.elementsHOC",children:j.jsx(c("CometSSRSuspendOnServer.react"),{children:!q&&j.jsx("iframe",{className:"x76ihet xtmcdsl x112ta8 x4gj9lk x5yr21d x1o0tod x1ty9z65 xg01cxk x47corl x10l6tqk x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=S)}})})}),qa,j.jsx("div",{className:"x1ey2m1c xjm9jq1 x1y332i5 x47corl x10l6tqk",ref:Y}),e?x&&x():A&&A("onBottom",E.length)]})}))]})}})}))}))})}a.displayName=a.name+" [from "+f.id+"]";g.default=a}),98);
__d("useStableValue",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useRef;function a(a){return k(a,(i||(i=d("I64"))).equal)}function k(a,b){var c=j(a);b(c.current,a)||(c.current=a);return c.current}g.useStableI64=a;g.useStableValue=k}),98);
__d("useStableBounds",["deepEquals","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("useStableValue").useStableValue(a,c("deepEquals"))}g["default"]=a}),98);
__d("ReQLPaginatedList.react",["FBLogger","I64","PromiseOrValue","ReQL","ReQLScrollAnchored.react","ReQLSuspense","SortedAsyncIterable","deepEquals","promiseDone","react","useMergeRefs","useStableBounds","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useCallback,m=b.useEffect,aa=b.useLayoutEffect,n=b.useMemo,o=b.useRef,p=b.useState,q=b.useTransition;function r(a,b){return b==null?a:a.bounds(b)}function s(a){if(a instanceof Promise)throw a;return a}function t(a){return{direction:a.direction,iterator:function(b,c){var e=a.iterator(b,c);return{next:function(a){return(i||(i=d("PromiseOrValue"))).map(e.next(a),function(a){return a.done?a:{done:!1,value:[a.value[0],a.value]}})}}},keyLength:a.keyLength,subscribe:function(b,c){return a.subscribe(async function(a,c,d){c.operation==="delete"?await b(a,c,d):c.operation==="add"?await b(a,{operation:"add",value:[a,c.value]},d):c.operation==="put"&&await b(a,{operation:"put",value:[a,c.value]},d)},c)}}}function ba(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function a(a){var b=a.bounds,e=a.direction,g=e===void 0?"asc":e;e=a.hasReachedBottom;var h=e===void 0?!0:e;e=a.hasReachedTop;var i=e===void 0?!0:e;e=a.imperativeRef;var j=a.initialAnchor,da=a.initialRenderComplete,u=a.onDataLoaded,v=a.onPageLoaded,w=a.onReachingBottom,x=a.onReachingTop,ea=a.onScroll,fa=a.onUserScroll,y=a.pageSize,z=y===void 0?15:y;y=a.renderEmptyContent;var A=a.renderFooter,ga=a.renderHeader,ha=a.renderHeaderContentSpacer,B=a.renderItem,ia=a.renderLoadingAnimation,ja=a.headerStyle,C=a.isSufficientContentLoadedAbove;C=C===void 0?ba:C;var ka=a.isSufficientContentLoadedBelow,D=a.snapThreshold;D=D===void 0?5:D;var E=a.setScrollTopInResetForBottomAnchor;E=E===void 0?!0:E;var F=a.data,G=F.ascending,H=F.descending;F=a.xstyle;var I=a.isLogDuplicatedItemEnabled;I=I===void 0?!1:I;a=a.shouldOverscrollBehaviourContain;var J=q();J[0];var K=J[1],L=c("useStableBounds")(b);if(j!=null&&j!=="top"&&j!=="bottom"){J=r(H,L).bounds({lt:j}).iterator(new WeakMap()).next();if(J instanceof Promise)throw J;j=J.done?"top":J.value[0]}var M=d("useStableValue").useStableValue(j,c("deepEquals")),N=n(function(){var a,b;M==="top"||M==null?(a=d("ReQL").empty(),b=g==="asc"?G:H):M==="bottom"?(a=g==="asc"?H:G,b=d("ReQL").empty()):(a=g==="asc"?H.bounds({lt:M}):G.bounds({gt:M}),b=g==="asc"?G.bounds({gte:M}):H.bounds({lte:M}));return{after:b,before:a}},[M,G,H,g]),O=o(!1),P=n(function(){var a=s(d("SortedAsyncIterable").toArray(r(N.before,L).take(M==="bottom"?z:0),f.id+":203")).reverse(),b=s(d("SortedAsyncIterable").toArray(r(N.after,L).take(z),f.id+":210")),c=M==="bottom"?!0:b.length<z,e=M==="top"||M==null?!0:M==="bottom"?a.length<z:!1;return{firstKey:e?void 0:M==="bottom"?(e=a[0])==null?void 0:e[0]:(a=b[0])==null?void 0:a[0],lastKey:c?void 0:(e=b[b.length-1])==null?void 0:e[0]}},[M,L,N.after,N.before,z]);b=p(function(){return{anchor:M,iterables:N,values:P}});J=b[0];var Q=b[1];j=J.iterables===N&&J.anchor===M;b=j?J.values:P;var R=b.firstKey,S=b.lastKey,T=d("ReQLSuspense").useArray(function(){return t(R==null?r(N.before,L).take(z):r(N.before,L).bounds(g==="asc"?{gte:R}:{lte:R}))},[L,g,R,N.before,z],f.id+":245"),U=n(function(){return[].concat(T).reverse()},[T]);m(function(){U.length===z&&R==null&&K(function(){return Q({anchor:M,iterables:N,values:{firstKey:U[0][0],lastKey:S}})})},[U,R,M,N,S,z]);var V=d("ReQLSuspense").useArray(function(){return t(S==null?r(N.after,L).take(z):r(N.after,L).bounds(g==="asc"?{lte:S}:{gte:S}))},[L,g,N.after,S,z],f.id+":272");m(function(){V.length===z&&S==null&&K(function(){return Q({anchor:M,iterables:N,values:{firstKey:R,lastKey:V[V.length-1][0]}})})},[V,R,M,N,S,z]);var W=n(function(){return[].concat(U,V)},[U,V]);m(function(){u==null||u(W)},[W,u]);var X=d("ReQLSuspense").useFirst(function(){return W.length===0?d("ReQL").empty():r(N.before,L).bounds(g==="asc"?{lt:W[0][0]}:{gt:W[0][0]})},[W,L,g,N.before],f.id+":304")==null,Y=d("ReQLSuspense").useFirst(function(){return W.length===0?d("ReQL").empty():r(N.after,L).bounds(g==="asc"?{gt:W[W.length-1][0]}:{lt:W[W.length-1][0]})},[W,L,g,N.after],f.id+":314")==null;j=q();var la=j[0],ma=j[1];J=l(function(){if(O.current||la)return;if(Y){if(!h&&w!=null)return w()}else{O.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?G:H,L).bounds(g==="asc"?{gt:W[W.length-1][0]}:{lt:W[W.length-1][0]}).take(z),f.id+":341")),function(a){O.current=!1,v!=null&&v("bottom",W[W.length-1][1],a.map(function(a){return a[1]})),ma(function(){var b;return Q({anchor:M,iterables:N,values:{firstKey:R,lastKey:(b=(b=a[a.length-1])==null?void 0:b[0])!=null?b:W[W.length-1][0]}})})});return}},[la,Y,h,w,g,G,H,L,W,z,v,R,N,M]);b=q();var na=b[0],oa=b[1],pa=o(!0);j=l(function(){if(O.current||na)return;if(X){if(!i)return x==null?void 0:x();return}O.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(r(g==="asc"?H:G,L).bounds(g==="asc"?{lt:W[0][0]}:{gt:W[0][0]}).take(z),f.id+":413")),function(a){O.current=!1,v!=null&&(pa.current?(pa.current=!1,v("top",null,W.slice(0,z).map(function(a){return a[1]}).reverse())):v("top",W[0][1],a.map(function(a){return a[1]}))),a.reverse(),oa(function(){var b;return Q({anchor:M,iterables:N,values:{firstKey:(b=(b=a[0])==null?void 0:b[0])!=null?b:W[0][0],lastKey:S}})})})},[na,X,i,x,g,H,G,L,W,z,v,S,N,M]);var Z=X&&i?0:1,$=W.length-(Y&&h?0:1);b=n(function(){var a=new Array($>Z?$-Z:0);for(var b=Z;b<$;b++){var c;a[b-Z]=B(W[b][1],{nextItem:(c=W[b+1])==null?void 0:c[1],previousItem:(c=W[b-1])==null?void 0:c[1]},$-Z-b)}return a},[W,Z,B,$]);var qa=o(null);e=c("useMergeRefs")(qa,e);aa(function(){var a;(a=qa.current)==null||a.resetScrollPosition()},[M]);var ra=l(function(){return A==null?void 0:A(W.length>0?W[W.length-1][1]:void 0)},[W,A]);ca(I,W);return k.jsx(c("ReQLScrollAnchored.react"),{elements:b,hasReachedBottom:Y&&h,hasReachedTop:X&&i,headerStyle:ja,initialAnchor:M==="bottom"?"bottom":"top",initialRenderComplete:da,isSufficientContentLoadedAbove:C,isSufficientContentLoadedBelow:ka,onReachingBottom:J,onReachingTop:j,onScroll:ea,onUserScroll:fa,pageSize:z,ref:e,renderEmptyContent:y,renderFooter:ra,renderHeader:ga,renderHeaderContentSpacer:ha,renderLoadingAnimation:ia,setScrollTopInResetForBottomAnchor:E,shouldOverscrollBehaviourContain:a,snapThreshold:D,xstyle:F})}a.displayName=a.name+" [from "+f.id+"]";function ca(a,b){var e=p(!1),f=e[0],g=e[1];m(function(){try{if(a&&!f){var e=new Set(),h=[];for(var i of b){var k=i[1];if(typeof k==="object"&&(k==null?void 0:k.threadKey)!=null&&(j||(j=d("I64"))).isI64(k==null?void 0:k.threadKey)){k=(j||(j=d("I64"))).to_string(k==null?void 0:k.threadKey);e.has(k)&&h.push(k);e.add(k)}}e.size!==b.length&&(g(!0),c("FBLogger")("messenger_web").warn("Duplicated thread item detected in ReQLPaginatedList %s",h.join(",")))}}catch(a){c("FBLogger")("messenger_web").warn("Duplicated thread item error",a)}},[b,f,a])}g.default=a}),98);/*FB_PKG_DELIM*/
__d("CometOverlappingFacepile_DEPRECATED.react",["fbt","BaseContainerQueryElement.react","CometComponentWithKeyCommands.react","CometKeys","CometPressable.react","CometTooltip_DEPRECATED.react","CometVisualCompletionAttributes","Dots3HorizontalFilled24.svg.react","FDSIcon.react","FDSProfilePhoto.react","FDSText.react","FocusGroup.react","ReactDOM","SVGIcon","focusScopeQueries","gkx","react","react-compiler-runtime","stylex","useIntersectionObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["containerComponent"],j=["Container","FocusItemComponent","divClassName","parentRef"],k=["FocusItemComponent","count","ellipsisTooltip","parentRef","size","spacing"],l,m,n=m||(m=d("react"));b=m;b.useCallback;var o=b.useId,p=b.useRef,q=b.useState;e=d("FocusGroup.react").createFocusGroup(d("focusScopeQueries").tabbableScopeQuery);var r=e[0],s=e[1],t=-4,u={overflow16:{height:"xlup9mm",width:"x1kky2od",$$css:!0},overflow24:{height:"xxk0z11",width:"xvy4d1p",$$css:!0},overflow32:{height:"x10w6t97",width:"x1td3qas",$$css:!0},overflow36:{height:"xc9qbxq",width:"x14qfxbe",$$css:!0},overflow40:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},overflow48:{height:"xsdox4t",width:"x1useyqa",$$css:!0},overflowItem:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",flexShrink:"x2lah0s",justifyContent:"xl56j7k",pointerEvents:"x71s49j",$$css:!0},overflowItemOverlay:{fill:"x1wnuiir",opacity:"xg01cxk",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},overflowItemOverlayHovered:{fill:"x4bmajx",opacity:"x1hc1fzr",transitionDuration:"x1mq3mr6",$$css:!0},overflowItemOverlayPressed:{fill:"x1tgjyoi",opacity:"x1hc1fzr",transitionDuration:"x1mq3mr6",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},rootInline:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",$$css:!0},rootLineHeight:{lineHeight:"xggjnk3",$$css:!0},text:{display:"x78zum5",flexDirection:"x1q0g3np",paddingTop:"xz9dl7a",$$css:!0},textInline:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",paddingInlineStart:"x135b78x",paddingTop:"xexx8yu",$$css:!0}},v={16:{minWidth:"x1fns5xo",$$css:!0},24:{minWidth:"x4m7ku4",$$css:!0},32:{minWidth:"xwrg52n",$$css:!0},36:{minWidth:"xktpd3l",$$css:!0},40:{minWidth:"x1c7vg25",$$css:!0},48:{minWidth:"x1wc95rx",$$css:!0}},w={center:{alignItems:"x6s0dn4",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0}},x={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}};function y(){return c("gkx")("14760")}function a(a){var b=d("react-compiler-runtime").c(74),e=a.align,f=a.count,g=a.disableMarginOnItems,j=a.ellipsisTooltip,k=a.isTextInline,m=a.items,o=a.linkProps,q=a.onPress,F=a.screenReaderLabel,G=a.size,H=a.testid,I=a.testOnly_pressed,J=a.text;a=a.withWrapper;e=e===void 0?"start":e;var K=g===void 0?!1:g;g=k===void 0?!1:k;var L=I===void 0?!1:I;k=a===void 0?!1:a;var M=f!=null?f:m.length,N=Math.min(M,m.length,g?3:Infinity),O=p(null);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(I=[{command:{key:c("CometKeys").LEFT},description:h._(/*BTDS*/"Previous item"),handler:A},{command:{key:c("CometKeys").RIGHT},description:h._(/*BTDS*/"Next item"),handler:z}],b[0]=I):I=b[0];a=I;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f="x78zum5 x1q0g3np x2lah0s x1a02dak x6ikm8r x10wlt62 x1n2onr6",b[1]=f):f=b[1];b[2]!==G?(I={height:G},b[2]=G,b[3]=I):I=b[3];var P;b[4]!==K||b[5]!==m||b[6]!==N||b[7]!==F||b[8]!==G||b[9]!==H?(P=m.slice(0,N).map(function(a,b){var d=a.containerComponent;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return n.jsxs(n.Fragment,{children:[n.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(G+t)-t,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),n.jsx(B,babelHelpers["extends"]({},a,{Container:d,FocusItemComponent:F!=null?void 0:s,divClassName:{0:"xieb3on x1n2onr6",2:"x1n2onr6",1:"xieb3on x1n2onr6 x165d6jo",3:"x1n2onr6 x165d6jo"}[!!K<<1|!!(b>0)<<0],isOverlapped:b>0,parentRef:O,role:"cell",shape:"circle",size:G,testid:void 0}))]},b)}),b[4]=K,b[5]=m,b[6]=N,b[7]=F,b[8]=G,b[9]=H,b[10]=P):P=b[10];var Q;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(Q={className:"x1ey2m1c x9f619 x78zum5 x1q0g3np xtijo5x x1o0tod x47corl x10l6tqk x13vifvy"},b[11]=Q):Q=b[11];if(b[12]!==M||b[13]!==m||b[14]!==N||b[15]!==G){var R;b[17]!==M||b[18]!==G?(R=function(a,b){return b===0&&M>1?null:n.jsx(c("BaseContainerQueryElement.react"),{breakpoint:(b+1)*(G+t)-t,maxWidth:b===M-1?"100%":G+t,minWidth:0},"overflowPusher"+b)},b[17]=M,b[18]=G,b[19]=R):R=b[19];R=m.slice(0,Math.min(m.length,N<M?N:M)).map(R);b[12]=M;b[13]=m;b[14]=N;b[15]=G;b[16]=R}else R=b[16];m=F!=null?void 0:s;var S;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(S=h._(/*BTDS*/"Link to see everyone"),b[20]=S):S=b[20];var T=G===16&&u.overflow16,U=G===24&&u.overflow24,V=G===32&&u.overflow32,W=G===36&&u.overflow36,X=G===40&&u.overflow40,Y=G===48&&u.overflow48,Z;b[21]!==T||b[22]!==U||b[23]!==V||b[24]!==W||b[25]!==X||b[26]!==Y?(Z=[u.overflowItem,T,U,V,W,X,Y],b[21]=T,b[22]=U,b[23]=V,b[24]=W,b[25]=X,b[26]=Y,b[27]=Z):Z=b[27];b[28]!==N||b[29]!==G||b[30]!==L?(T=function(a){var b=a.hovered;a=a.pressed;return n.jsxs(n.Fragment,{children:[n.jsx(E,{hovered:b,isOverlapped:N>1,pressed:a||L,size:G}),G===16?n.jsx("div",{className:"xdzw4kq x6ikm8r x10wlt62 x1fsd2vl",children:n.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k xw01apr",children:n.jsx(c("FDSIcon.react"),{color:"white",icon:d("SVGIcon").svgIcon(c("Dots3HorizontalFilled24.svg.react")),size:C(G)})})}):n.jsx(c("FDSIcon.react"),{color:"white",icon:d("SVGIcon").svgIcon(c("Dots3HorizontalFilled24.svg.react")),size:C(G)})]})},b[28]=N,b[29]=G,b[30]=L,b[31]=T):T=b[31];b[32]!==M||b[33]!==j||b[34]!==o||b[35]!==q||b[36]!==G||b[37]!==m||b[38]!==Z||b[39]!==T?(U=n.jsx(D,{FocusItemComponent:m,"aria-label":S,count:M,ellipsisTooltip:j,linkProps:o,onPress:q,overlayDisabled:!0,parentRef:O,size:G,spacing:t,testid:void 0,xstyle:Z,children:T}),b[32]=M,b[33]=j,b[34]=o,b[35]=q,b[36]=G,b[37]=m,b[38]=Z,b[39]=T,b[40]=U):U=b[40];b[41]!==R||b[42]!==U?(V=n.jsxs("div",babelHelpers["extends"]({},Q,{children:[R,U]})),b[41]=R,b[42]=U,b[43]=V):V=b[43];b[44]!==V||b[45]!==I||b[46]!==P?(W=n.jsxs("div",babelHelpers["extends"]({className:f,ref:O,role:"row",style:I},c("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:[P,V]})),b[44]=V,b[45]=I,b[46]=P,b[47]=W):W=b[47];X=W;Y=g?x:w;S=v[G];b[48]!==e||b[49]!==Y||b[50]!==g?(j=(l||(l=c("stylex"))).props(u.root,g&&u.rootInline,y()&&u.rootLineHeight,Y[e]),b[48]=e,b[49]=Y,b[50]=g,b[51]=j):j=b[51];o=F==null?"grid":"img";b[52]!==S||b[53]!==X||b[54]!==g||b[55]!==N||b[56]!==F?(q=F!=null?n.jsx("div",babelHelpers["extends"]({"aria-hidden":!0},(l||(l=c("stylex"))).props(g&&N>=3&&S),{children:X})):n.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:a,xstyle:g&&N>=3&&S,children:n.jsx(r,{orientation:"horizontal",tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:X})}),b[52]=S,b[53]=X,b[54]=g,b[55]=N,b[56]=F,b[57]=q):q=b[57];b[58]!==e||b[59]!==Y||b[60]!==g||b[61]!==F||b[62]!==J?(m=J!=null&&n.jsx("div",babelHelpers["extends"]({"aria-hidden":F!=null?!0:void 0},(l||(l=c("stylex"))).props(u.text,g&&u.textInline,Y[e]),{children:n.jsx(c("FDSText.react"),{color:"secondary",type:"body3",children:J})})),b[58]=e,b[59]=Y,b[60]=g,b[61]=F,b[62]=J,b[63]=m):m=b[63];b[64]!==F||b[65]!==j||b[66]!==o||b[67]!==q||b[68]!==m||b[69]!==H?(Z=n.jsxs("div",babelHelpers["extends"]({"aria-label":F},j,{"data-testid":void 0,role:o,children:[q,m]})),b[64]=F,b[65]=j,b[66]=o,b[67]=q,b[68]=m,b[69]=H,b[70]=Z):Z=b[70];T=Z;b[71]!==T||b[72]!==k?(Q=k?n.jsx("div",{className:"xpdmqnj xf7dkkf xyamay9",children:T}):T,b[71]=T,b[72]=k,b[73]=Q):Q=b[73];return Q}function z(){}function A(){}function B(a){var b=d("react-compiler-runtime").c(21),e,f,g,h,i;b[0]!==a?(e=a.Container,f=a.FocusItemComponent,g=a.divClassName,h=a.parentRef,i=babelHelpers.objectWithoutPropertiesLoose(a,j),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=h,b[5]=i):(e=b[1],f=b[2],g=b[3],h=b[4],i=b[5]);a=q(!1);var k=a[0],l=a[1];b[6]!==k?(a=function(a){a=a.intersectionRatio;a=a<.5;a!==k&&l(a)},b[6]=k,b[7]=a):a=b[7];a=a;var m;b[8]!==h?(m={root:function(){var a;return(a=h.current)!=null?a:null},threshold:.5},b[8]=h,b[9]=m):m=b[9];a=c("useIntersectionObserver")(a,m);b[10]!==e||b[11]!==i?(m=e?n.jsx(e,{children:function(a){return n.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},i,{overlayDisabled:!0,ref:a}))}}):n.jsx(c("FDSProfilePhoto.react"),babelHelpers["extends"]({},i,{overlayDisabled:!0})),b[10]=e,b[11]=i,b[12]=m):m=b[12];e=m;b[13]!==f||b[14]!==e||b[15]!==k?(m=f!=null?n.jsx(f,{disabled:k,children:e}):e,b[13]=f,b[14]=e,b[15]=k,b[16]=m):m=b[16];b[17]!==g||b[18]!==a||b[19]!==m?(f=n.jsx("div",{className:g,ref:a,role:"cell",children:m}),b[17]=g,b[18]=a,b[19]=m,b[20]=f):f=b[20];return f}function C(a){switch(a){case 36:case 32:return 16;case 40:case 48:return 24;default:return 12}}function D(a){var b=d("react-compiler-runtime").c(28),e,f,g;if(b[0]!==a){var h=a.FocusItemComponent;a.count;var i=a.ellipsisTooltip,j=a.parentRef,l=a.size,m=a.spacing,o=babelHelpers.objectWithoutPropertiesLoose(a,k);h=h;i=i;e=j;f=l;g=m;j=o;b[0]=a;b[1]=h;b[2]=i;b[3]=e;b[4]=j;b[5]=f;b[6]=g}else h=b[1],i=b[2],e=b[3],j=b[4],f=b[5],g=b[6];l=q(!1);m=l[0];var p=l[1];o=q(null);a=o[0];var r=o[1];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(a){var b=a.intersectionRatio;d("ReactDOM").flushSync(function(){p(b<.5)})},b[7]=l):l=b[7];o=l;b[8]!==e?(l={root:function(){var a;return(a=e.current)!=null?a:null},threshold:.5},b[8]=e,b[9]=l):l=b[9];o=c("useIntersectionObserver")(o,l);b[10]!==e||b[11]!==f||b[12]!==g?(l=function(a){if(!a)return;a=e.current;if(!a)return;a=a.getBoundingClientRect();a=a.width;a=Math.floor((a+g)/(f+g));r(a-1)},b[10]=e,b[11]=f,b[12]=g,b[13]=l):l=b[13];l=l;var s;b[14]!==o||b[15]!==j?(s=n.jsx(c("CometPressable.react"),babelHelpers["extends"]({},j,{ref:o,role:"cell"})),b[14]=o,b[15]=j,b[16]=s):s=b[16];o=s;if(i){b[17]!==i||b[18]!==a?(j=a!=null?i(a):"",b[17]=i,b[18]=a,b[19]=j):j=b[19];b[20]!==o||b[21]!==l||b[22]!==j?(s=n.jsx(c("CometTooltip_DEPRECATED.react"),{align:"middle",onVisibilityChange:l,position:"below",tooltip:j,children:o}),b[20]=o,b[21]=l,b[22]=j,b[23]=s):s=b[23];o=s}if(h!=null){b[24]!==h||b[25]!==o||b[26]!==m?(i=n.jsxs(h,{disabled:m,children:[" ",o," "]}),b[24]=h,b[25]=o,b[26]=m,b[27]=i):i=b[27];return i}return o}function E(a){var b=d("react-compiler-runtime").c(32),e=a.hovered,f=a.isOverlapped,g=a.pressed;a=a.size;var h=o(),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy"},b[0]=i):i=b[0];var j="0 0 "+a+" "+a,k;b[1]!==f||b[2]!==h||b[3]!==a?(k=f&&n.jsxs("mask",{id:h,suppressHydrationWarning:!0,children:[n.jsx("circle",{cx:a/2,cy:a/2,fill:"white",r:a/2}),n.jsx("circle",{cx:-a/2+4,cy:a/2,fill:"black",r:a/2+2})]}),b[1]=f,b[2]=h,b[3]=a,b[4]=k):k=b[4];var m;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m="x1wnuiir",b[5]=m):m=b[5];var p=a/2,q=a/2,r=a/2,s;b[6]!==f||b[7]!==h?(s=f?{mask:"url(#"+h+")"}:null,b[6]=f,b[7]=h,b[8]=s):s=b[8];b[9]!==p||b[10]!==q||b[11]!==r||b[12]!==s?(m=n.jsx("circle",babelHelpers["extends"]({className:m,cx:p,cy:q,r:r,role:"cell",suppressHydrationWarning:!0},s)),b[9]=p,b[10]=q,b[11]=r,b[12]=s,b[13]=m):m=b[13];p=e&&u.overflowItemOverlayHovered;q=g&&u.overflowItemOverlayPressed;b[14]!==p||b[15]!==q?(r=(l||(l=c("stylex")))(u.overflowItemOverlay,p,q),b[14]=p,b[15]=q,b[16]=r):r=b[16];s=a/2;e=a/2;g=a/2;b[17]!==f||b[18]!==h?(p=f?{mask:"url(#"+h+")"}:null,b[17]=f,b[18]=h,b[19]=p):p=b[19];b[20]!==r||b[21]!==s||b[22]!==e||b[23]!==g||b[24]!==p?(q=n.jsx("circle",babelHelpers["extends"]({className:r,cx:s,cy:e,r:g,role:"cell",suppressHydrationWarning:!0},p)),b[20]=r,b[21]=s,b[22]=e,b[23]=g,b[24]=p,b[25]=q):q=b[25];b[26]!==a||b[27]!==q||b[28]!==j||b[29]!==k||b[30]!==m?(f=n.jsxs("svg",babelHelpers["extends"]({},i,{height:a,viewBox:j,width:a,children:[k,m,q]})),b[26]=a,b[27]=q,b[28]=j,b[29]=k,b[30]=m,b[31]=f):f=b[31];return f}g["default"]=a}),226);
__d("FDSComposeFilled16Icon",["cr:14785"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14785")}),98);
__d("FDSComposeFilled16PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("507170"),16);b=a;g["default"]=b}),98);
__d("FriendingCometFriendRequestStrings",["fbt","qex"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return c("qex")._("1134")?h._(/*BTDS*/"Request removed"):h._(/*BTDS*/"Request deleted")}function b(){return c("qex")._("1134")?h._(/*BTDS*/"Remove"):h._(/*BTDS*/"Delete")}function d(){return c("qex")._("1134")?h._(/*BTDS*/"Remove Request"):h._(/*BTDS*/"Delete Request")}function e(){return h._(/*BTDS*/"Request accepted")}g.requestRejected=a;g.reject=b;g.rejectRequest=d;g.acceptRequest=e}),226);
__d("FriendingCometMutualFriendsSocialContext_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:16,kind:"LocalArgument",name:"iconSize"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"FriendingCometMutualFriendsSocialContext_user",selections:[a,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"social_context_top_mutual_friends",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:null,args:[{kind:"Variable",name:"height",variableName:"iconSize"},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Variable",name:"width",variableName:"iconSize"}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"User",abstractKey:null}}();e.exports=a}),null);
__d("FriendingCometMutualFriendsText.react",["CometPressable.react","CometProfileListDialog.entrypoint","FDSLazyTooltip.react","FDSText.react","JSResourceForInteraction","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=["id","shouldAlignToFacepile"],i,j=i||(i=d("react")),k=i.useRef,l=c("JSResourceForInteraction")("FriendingCometMutualFriendsSocialContextTooltipContent.react").__setRef("FriendingCometMutualFriendsText.react"),m={socialContextText:{overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(23);if(b[0]!==a){var e=a.id;a.shouldAlignToFacepile;var f=babelHelpers.objectWithoutPropertiesLoose(a,h);e=e;f=f;b[0]=a;b[1]=e;b[2]=f}else e=b[1],f=b[2];a=f.textType;var g=f.truncateContextText,i=k(null),n;b[3]!==e?(n={listType:"MUTUAL_FRIENDS",sourceID:e},b[3]=e,b[4]=n):n=b[4];n=c("useCometEntryPointDialog")(c("CometProfileListDialog.entrypoint"),n,"button");var o=n[0],p=n[1],q=n[2];n=n[3];var r;b[5]!==e?(r={userID:e},b[5]=e,b[6]=r):r=b[6];b[7]!==o?(e=function(){return o({actionsByPriorityMapping:{User:[{hookConfig:{messengerWebEntryPoint:"mutualFriendsDialog"},type:"message"}]}})},b[7]=o,b[8]=e):e=b[8];g=g===!0?1:null;a=a;var s;b[9]!==f.socialContextText||b[10]!==g||b[11]!==a?(s=j.jsx(c("FDSText.react"),{color:"secondary",numberOfLines:g,type:a,children:f.socialContextText}),b[9]=f.socialContextText,b[10]=g,b[11]=a,b[12]=s):s=b[12];b[13]!==p||b[14]!==q||b[15]!==n||b[16]!==f.socialContextText||b[17]!==e||b[18]!==s?(g=j.jsx(c("CometPressable.react"),{"aria-labelledby":f.socialContextText,display:"inline",onHoverIn:p,onHoverOut:q,onPress:e,onPressIn:n,ref:i,xstyle:m.socialContextText,children:s}),b[13]=p,b[14]=q,b[15]=n,b[16]=f.socialContextText,b[17]=e,b[18]=s,b[19]=g):g=b[19];b[20]!==r||b[21]!==g?(a=j.jsx(c("FDSLazyTooltip.react"),{align:"start",delayContentMs:0,delayTooltipMs:100,tooltipProps:r,tooltipResource:l,children:g}),b[20]=r,b[21]=g,b[22]=a):a=b[22];return a}g["default"]=a}),98);
__d("actorHovercardContainer",["ActorHovercard.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return a==null?null:function(b){return i.jsx(c("ActorHovercard.react"),{actorID:a,position:"below",children:b.children})}}g["default"]=a}),98);
__d("FriendingCometMutualFriendsSocialContext.react",["fbt","CometOverlappingFacepile_DEPRECATED.react","CometRelay","FriendingCometMutualFriendsSocialContext_user.graphql","FriendingCometMutualFriendsText.react","actorHovercardContainer","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={root:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x4p5aij",width:"xh8yej3",$$css:!0}},n={16:{minHeight:"x1hshjfz",$$css:!0},24:{minHeight:"xjwf9q1",$$css:!0},32:{minHeight:"x21xpn4",$$css:!0},40:{minHeight:"x1ba4aug",$$css:!0},48:{minHeight:"x1wxaq2x",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(11),f=d("CometRelay").useFragment(i!==void 0?i:i=b("FriendingCometMutualFriendsSocialContext_user.graphql"),a.user),g=a.iconSize,h=a.socialContextText,k=f.id;f=f.social_context_top_mutual_friends;var p=a.shouldShowFacepile;p=p===void 0?!0:p;if(k==null)return null;var q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=[],e[0]=q):q=e[0];q=q;if(p){e[1]!==f?(p=f.map(o).filter(Boolean),e[1]=f,e[2]=p):p=e[2];q=p}f=q.length>0;e[3]!==g||e[4]!==k||e[5]!==q||e[6]!==a.textType||e[7]!==a.truncateContextText||e[8]!==f||e[9]!==h?(p=h!==""?l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(m.root,n[g]),{children:f?l.jsx("div",{className:"x11lfxj5",children:l.jsx(c("CometOverlappingFacepile_DEPRECATED.react"),{isTextInline:!0,items:q,size:g,text:l.jsx(c("FriendingCometMutualFriendsText.react"),{id:k,shouldAlignToFacepile:f,socialContextText:h,textType:a.textType,truncateContextText:a.truncateContextText})})}):l.jsx(c("FriendingCometMutualFriendsText.react"),{id:k,shouldAlignToFacepile:f,socialContextText:h,textType:a.textType,truncateContextText:a.truncateContextText})})):null,e[3]=g,e[4]=k,e[5]=q,e[6]=a.textType,e[7]=a.truncateContextText,e[8]=f,e[9]=h,e[10]=p):p=e[10];return p}function o(a){var b=a.id,d=a.name,e=a.url;a=(a=a.profile_picture)==null?void 0:a.uri;return b!=null&&d!=null&&e!=null&&a!=null?{alt:d,"aria-label":h._(/*BTDS*/"Profile picture of {friend name}, who is a mutual friend",[h._param("friend name",d)]),containerComponent:c("actorHovercardContainer")(b),linkProps:{url:e},source:{uri:a}}:null}e=l.memo(a);g["default"]=e}),226);
__d("FriendingCometTestIDHelper",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({getFriendsTabFriendRequestsConfirmedTestID:function(a){return"comet_friends_tab_requests-"+a+"-confirmed"},getFriendsTabFriendRequestsDeletedTestID:function(a){return"comet_friends_tab_requests-"+a+"-deleted"},getFriendsTabFriendRequestsTestID:function(a){return"comet_friends_tab_requests-"+a},getFriendsTabPYMKTestID:function(a){return"comet_friends_tab_pymk-"+a},getGriffinTabFriendRequestsTestID:function(a){return"comet_griffin_tab_requests-"+a}});f["default"]=a}),66);
__d("MWChatFacepile.react",["CometImage.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={dropShadow:{boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},image:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",position:"x10l6tqk",$$css:!0},imageBorder:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},leftImage:{bottom:"x1ey2m1c",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0},rightImage:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x13vifvy",$$css:!0},root:{display:"x78zum5",position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.borderBetweenImages,f=a.children,g=a.firstParticipantURI,i=a.secondParticipantURI,l=a.shadow,m=a.size;a=a.xstyle;e=e===void 0?!0:e;l=l===void 0?!1:l;m=m===void 0?30:m;var n=m/1.5,o;b[0]!==a?(o=(h||(h=c("stylex")))(k.root,a),b[0]=a,b[1]=o):o=b[1];a=String(m)+"px";m=String(m)+"px";var p;b[2]!==a||b[3]!==m?(p={height:a,width:m},b[2]=a,b[3]=m,b[4]=p):p=b[4];a=l&&k.dropShadow;b[5]!==a?(m=[a,k.image,k.rightImage],b[5]=a,b[6]=m):m=b[6];b[7]!==n||b[8]!==i||b[9]!==m?(a=j.jsx(c("CometImage.react"),{height:n,src:i,width:n,xstyle:m}),b[7]=n,b[8]=i,b[9]=m,b[10]=a):a=b[10];i=l&&k.dropShadow;m=e&&k.imageBorder;b[11]!==i||b[12]!==m?(l=[i,k.image,m,k.leftImage],b[11]=i,b[12]=m,b[13]=l):l=b[13];b[14]!==g||b[15]!==n||b[16]!==l?(e=j.jsx(c("CometImage.react"),{height:n,src:g,width:n,xstyle:l}),b[14]=g,b[15]=n,b[16]=l,b[17]=e):e=b[17];b[18]!==f||b[19]!==a||b[20]!==e||b[21]!==o||b[22]!==p?(i=j.jsxs("div",{className:o,style:p,children:[a,e,f]}),b[18]=f,b[19]=a,b[20]=e,b[21]=o,b[22]=p,b[23]=i):i=b[23];return i}g["default"]=a}),98);
__d("MWChatProfile.react",["CometImage.react","MDSGlimmer.react","isStringNullOrEmpty","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={img:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",objectFit:"xl1xv1r",verticalAlign:"x3ajldb",width:"xh8yej3",$$css:!0},root:{position:"x1n2onr6",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.alt,f=a.children,g=a.isActiveNow,i=a.size,l=a.src;a=a.xstyle;e=e===void 0?"":e;g=g===void 0?!1:g;var m;b[0]!==a?(m=(h||(h=c("stylex")))(k.root,a),b[0]=a,b[1]=m):m=b[1];a=String(i)+"px";i=String(i)+"px";var n;b[2]!==a||b[3]!==i?(n={height:a,width:i},b[2]=a,b[3]=i,b[4]=n):n=b[4];b[5]!==e||b[6]!==l?(a=c("isStringNullOrEmpty")(l)?j.jsx(c("MDSGlimmer.react"),{index:1,xstyle:k.img}):j.jsx(c("CometImage.react"),{alt:e,src:l,xstyle:k.img}),b[5]=e,b[6]=l,b[7]=a):a=b[7];b[8]!==g?(i={0:{className:"xv9rvxn xsdn2ir xpkn66y x13awxeq xuxekev x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1ey2m1c x1s85apg xdk7pt xtijo5x x10l6tqk x1xc55vz"},1:{className:"xv9rvxn xsdn2ir xpkn66y x13awxeq xuxekev x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1ey2m1c xdk7pt xtijo5x x10l6tqk x1xc55vz x1lliihq"}}[!!g<<0],b[8]=g,b[9]=i):i=b[9];b[10]!==i?(e=j.jsx("div",babelHelpers["extends"]({},i)),b[10]=i,b[11]=e):e=b[11];b[12]!==f||b[13]!==m||b[14]!==n||b[15]!==a||b[16]!==e?(l=j.jsxs("div",{className:m,style:n,children:[a,f,e]}),b[12]=f,b[13]=m,b[14]=n,b[15]=a,b[16]=e,b[17]=l):l=b[17];return l}g["default"]=a}),98);
__d("WorkLSSnippetMarkdownUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!a?"":a.replace(/^#{1,6}\s+/gm,"").replace(/(\*\*|__)(.*?)\1/g,"$2").replace(/(\*|_)(.*?)\1/g,"$2").replace(/`([^`]+)`/g,"$1").replace(/\[([^\]]+)\]\([^)]+\)/g,"$1").replace(/~~(.*?)~~/g,"$1").replace(/\n+/g," ").replace(/\s+/g," ").trim()}f.stripMarkdownFromSnippet=a}),66);
__d("getMWLSThreadEventTimeSnippetForDisplay",["fbt","I64"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){switch(a){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday";default:return""}}function k(a){a=a.split(":");var b=a.slice(0,2).join(":");a=a[2].slice(2,5);return b+a}function a(a,b){var c=Date.now();a=a!=null?(i||(i=d("I64"))).to_float(a):0;b=b!=null?(i||(i=d("I64"))).to_float(b):a*2;var e=new Date(a),f=a-6048e5,g=a-864e5,l=c<=f;g=c<=a&&c>=g;f=c<=a&&c>=f&&!g;a=c>=a&&c<=b;c=e.toDateString();b=k(e.toLocaleTimeString());c=c.split(" ");e=e.getDay();var m=new Date();m=m.getDate();if(l)return h._(/*BTDS*/"Event {day} {month} at {time}",[h._param("month",c[2]),h._param("day",c[1]),h._param("time",b)]).toString();if(f)return h._(/*BTDS*/"Event {day of week} at {time}",[h._param("day of week",j(e)),h._param("time",b)]).toString();if(g)return m!==e?h._(/*BTDS*/"Event tomorrow at {time}",[h._param("time",b)]).toString():h._(/*BTDS*/"Event today at {time}",[h._param("time",b)]).toString();return a?h._(/*BTDS*/"Event happening now").toString():h._(/*BTDS*/"Event has passed").toString()}g["default"]=a}),226);
__d("MWThreadSnippetForDisplay.react",["fbt","CometTextWithEntities.react","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatTextTransform","MWGroupBlockingProtectionUtils","ReStoreVaulting","ThreadStatus","WorkLSSnippetMarkdownUtils","cr:4217","getMWLSThreadEventTimeSnippetForDisplay","gkx","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){return null}var l=(b=b("cr:4217"))!=null?b:a;function e(a){var b=d("react-compiler-runtime").c(9),e=a.snippetRaw;a=a.thread;var f=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType),g=l(a),h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType);if(b[0]!==g||b[1]!==e||b[2]!==a.threadSubtype){var i;i=e==null?null:((i=d("ReStoreVaulting").maybeUnvault(e))!=null?i:e).replace(/\uDB80\uDC00/,"(Y)");i=i==null?null:g!=null?g:d("LSMessagingThreadTypeUtil").isWorkThread(a.threadSubtype)&&c("gkx")("13056")?d("WorkLSSnippetMarkdownUtils").stripMarkdownFromSnippet(i):i;b[0]=g;b[1]=e;b[2]=a.threadSubtype;b[3]=i}else i=b[3];g=i;e=d("MWGroupBlockingProtectionUtils").useMWGetSnippetForBlockingProtection(a.threadKey,a.threadType);h=(i=d("useStringWithSubstitutions").useStringWithSubstitutions(h?g:null,a.threadKey))!=null?i:g;if(h==null)return null;i=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));if(!f&&!i&&a.eventStartTimestampMs!=null){b[4]!==a.eventEndTimestampMs||b[5]!==a.eventStartTimestampMs?(g=c("getMWLSThreadEventTimeSnippetForDisplay")(a.eventStartTimestampMs,a.eventEndTimestampMs),b[4]=a.eventEndTimestampMs,b[5]=a.eventStartTimestampMs,b[6]=g):g=b[6];return g}if(e!=null)return e;b[7]!==h?(f=k.jsx(c("CometTextWithEntities.react"),{text:h,transforms:d("MWChatTextTransform").textTransforms}),b[7]=h,b[8]=f):f=b[8];return f}var m=k.memo(e);function f(a){var b=d("react-compiler-runtime").c(9),c=a.isDraftMessage,e=a.snippetRaw;a=a.thread;c=c===void 0?!1:c;var f;b[0]!==c?(f=c&&k.jsxs("span",{style:{color:"#1763CF"},children:[h._(/*BTDS*/"Draft:")," "]}),b[0]=c,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(c=["threadKey","threadType","threadStatus","eventStartTimestampMs","eventEndTimestampMs"],b[2]=c):c=b[2];a=d("Int64Hooks").usePickInt64(a,c);b[3]!==e||b[4]!==a?(c=k.jsx(m,{snippetRaw:e,thread:a}),b[3]=e,b[4]=a,b[5]=c):c=b[5];b[6]!==f||b[7]!==c?(e=k.jsxs(k.Fragment,{children:[f,c]}),b[6]=f,b[7]=c,b[8]=e):e=b[8];return e}g["default"]=f}),226);
__d("XCometFriendingSectionControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/friends/{friending_section}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("useGetSnippetFromLS",["I64","LSAuthorityLevel","LSIntEnum","MAWStrings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(9),e=(j||(j=c("useReStore")))(),g;b[0]!==e.tables.messages||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.messages.index("messageDisplayOrderAuthority")).bounds({gte:[a.threadKey,(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),(i||(i=d("I64"))).zero],lt:[a.threadKey,h.ofNumber(c("LSAuthorityLevel").OPTIMISTIC),i.max_int]})},b[0]=e.tables.messages,b[1]=a.threadKey,b[2]=g):g=b[2];var k;b[3]!==e||b[4]!==a.threadKey?(k=[e,a.threadKey],b[3]=e,b[4]=a.threadKey,b[5]=k):k=b[5];g=d("ReQLSuspense").useFirst(g,k,f.id+":30");b[6]!==g||b[7]!==a.snippet?(k=g!=null?{shouldHideTimestamp:!0,snippet:d("MAWStrings").MAW_OPTIMISTIC_SNIPPET().toString()}:{shouldHideTimestamp:!1,snippet:a.snippet},b[6]=g,b[7]=a.snippet,b[8]=k):k=b[8];return k}g["default"]=a}),98);
__d("usePrefetchCutoverDependencies",["Int64Hooks","MWEnsureCutoverOpenThreadExists","MWV2EnsureThatChatTabExists","Promise","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(6),f=c.clientThreadKey,g=c.threadKey,j=c.threadType,k;e[0]!==f||e[1]!==a||e[2]!==g||e[3]!==j?(c=function(){return a.then(function(a){return(h||(h=b("Promise"))).all([d("MWEnsureCutoverOpenThreadExists").ensureCutoverOpenThreadExists(a,g),d("MWV2EnsureThatChatTabExists").ensureThatChatTabExists(a,g,j,f,"usePrefetchCutoverDependencies")]).then(i)})},k=[a,g,j,f],e[0]=f,e[1]=a,e[2]=g,e[3]=j,e[4]=c,e[5]=k):(c=e[4],k=e[5]);return d("Int64Hooks").useCallbackInt64(c,k)}function i(){}g["default"]=a}),98);
__d("useMWPreloadThread",["Int64Hooks","InteractionTracingMetrics","JSResourceForInteraction","JSScheduler","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","MAWPreloadSecureMessages","MAWStateContext.react","MWLSThreadDisplayContext","ReQL","gkx","justknobx","promiseDone","react","react-compiler-runtime","useAsyncReStore","useCometPreloader","usePrefetchCutoverDependencies"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext,l=c("JSResourceForInteraction")("MWV2ChatTab.react").__setRef("useMWPreloadThread"),m=c("JSResourceForInteraction")("MWV2ChatTabRoot.react").__setRef("useMWPreloadThread");function a(a,b){var e=d("react-compiler-runtime").c(15),f=k(d("MAWStateContext.react").MAWDispatchContext),g=c("useAsyncReStore")(),h=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),j=c("usePrefetchCutoverDependencies")(g,a),p=h!=="Inbox",s=a.threadKey,t;e[0]!==g||e[1]!==f||e[2]!==b||e[3]!==p||e[4]!==a.authorityLevel||e[5]!==s?(h=function(){if(p){var e=c("gkx")("16508");e===!0?m.preload():l.preload()}if(b){c("InteractionTracingMetrics").currentInteractionLogger().forEach(q);e=c("justknobx")._("2575");var h=c("gkx")("14315")?8:c("justknobx")._("2038"),i=p?h:e;c("promiseDone")(g.then(function(b){return d("MAWPreloadSecureMessages").preloadSecureMessages(b,s,f,i,a.authorityLevel)}).then(o))}},t=[g,b,p,f,s,a.authorityLevel],e[0]=g,e[1]=f,e[2]=b,e[3]=p,e[4]=a.authorityLevel,e[5]=s,e[6]=h,e[7]=t):(h=e[6],t=e[7]);h=d("Int64Hooks").useCallbackInt64(h,t);var u;e[8]!==g||e[9]!==b||e[10]!==j||e[11]!==p||e[12]!==s?(t=function(){var a=!1;return function(){if(a===!0)return;a=!0;p&&(i||(i=d("JSScheduler"))).scheduleSpeculativeCallback(n);b?c("promiseDone")(j()):c("promiseDone")(g.then(function(a){return r(a,s)}))}},u=[p,b,j,g,s],e[8]=g,e[9]=b,e[10]=j,e[11]=p,e[12]=s,e[13]=t,e[14]=u):(t=e[13],u=e[14]);e=d("Int64Hooks").useMemoInt64(t,u);return c("useCometPreloader")("button",e,h)}function n(){var a=c("gkx")("16508");a===!0?m.preload():l.preload()}function o(){c("InteractionTracingMetrics").currentInteractionLogger().forEach(p)}function p(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_end","AppTiming")}function q(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"fetch_messages_page_start","AppTiming")}function r(a,b){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages_ranges_v2__generated).getKeyRange(b)).then(function(e){if(e!=null&&e.minMessageId===e.maxMessageId)return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:b})})},"readwrite",void 0,void 0,f.id+":164")}g["default"]=a}),98);
__d("useMWThreadSnippetForDisplay",["I64","LSMessagingThreadTypeUtil","MAWAdminMsg","MAWAdminMsgCTA","MAWLocalizationType","MAWThreadCutover","MWPIsThreadUnread","gkx","isStringNullOrEmpty","react-compiler-runtime","useGetSnippetFromLS","useMWGetOtherUserContact","useMWPThreadHasSpectraUser"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c){return 0}var i=a;function b(a,b){var e,f=d("react-compiler-runtime").c(28),g=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),j=d("MAWThreadCutover").useCutoverOpenThread(a.threadKey),k=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(j==null?void 0:j.threadKey),l=d("MAWThreadCutover").useIsDualThreadCutoverSecureThread(a.threadKey),m=c("useGetSnippetFromLS")(a),n=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey),o=i(a.threadKey,a.threadType,a.lastReadWatermarkTimestampMs),p=a.snippet===""||a.snippet==null,q=j!=null&&(h||(h=d("I64"))).gt(j.lastActivityTimestampMs,a.lastActivityTimestampMs),r;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=["firstName","name"],f[0]=r):r=f[0];r=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,r);e=(e=r==null?void 0:r.firstName)!=null?e:r==null?void 0:r.name;r=r==null;var s=c("useMWPThreadHasSpectraUser")(a.threadKey);if(s){s=a.lastMessageCtaType;var t;f[1]===Symbol["for"]("react.memo_cache_sentinel")?(t=d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.MESSAGE_UNAVAILABLE_SNIPPET),f[1]=t):t=f[1];f[2]!==t||f[3]!==a.lastMessageCtaType?(s={isDraft:!1,lastMessageCtaType:s,shouldHideTimestamp:!0,snippet:t},f[2]=t,f[3]=a.lastMessageCtaType,f[4]=s):s=f[4];return s}if(!n&&o===0&&!b&&a.draftMessage!=null&&a.draftMessage!==""&&c("gkx")("16991")){t=g?m.shouldHideTimestamp:!1;f[5]!==t||f[6]!==a.draftMessage||f[7]!==a.lastMessageCtaType?(s={isDraft:!0,lastMessageCtaType:a.lastMessageCtaType,shouldHideTimestamp:t,snippet:a.draftMessage},f[5]=t,f[6]=a.draftMessage,f[7]=a.lastMessageCtaType,f[8]=s):s=f[8];return s}if(p&&g&&l&&c("gkx")("8687")){n=r?d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:c("isStringNullOrEmpty")(e)?d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN:d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME;f[9]!==n?(o=d("MAWAdminMsgCTA").getCtaTypeByAdminType(n),f[9]=n,f[10]=o):o=f[10];f[11]!==n||f[12]!==e?(b=d("MAWAdminMsg").buildLocalizedString([],n===d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME&&!c("isStringNullOrEmpty")(e)?[e]:[],n),f[11]=n,f[12]=e,f[13]=b):b=f[13];f[14]!==o||f[15]!==b?(t={isDraft:!1,lastMessageCtaType:o,shouldHideTimestamp:!1,snippet:b},f[14]=o,f[15]=b,f[16]=t):t=f[16];return t}if(g&&!k&&j!=null&&(q||p)){f[17]!==j.lastMessageCtaType||f[18]!==j.snippet?(s={isDraft:!1,lastMessageCtaType:j.lastMessageCtaType,shouldHideTimestamp:!1,snippet:j.snippet},f[17]=j.lastMessageCtaType,f[18]=j.snippet,f[19]=s):s=f[19];return s}if(g&&p&&k){f[20]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("MAWAdminMsgCTA").getCtaTypeByAdminType(d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE),f[20]=l):l=f[20];f[21]===Symbol["for"]("react.memo_cache_sentinel")?(r={isDraft:!1,lastMessageCtaType:l,shouldHideTimestamp:!1,snippet:d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE)},f[21]=r):r=f[21];return r}if(g&&p&&!k){f[22]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("MAWAdminMsgCTA").getCtaTypeByAdminType(d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION),f[22]=n):n=f[22];f[23]===Symbol["for"]("react.memo_cache_sentinel")?(e={isDraft:!1,lastMessageCtaType:n,shouldHideTimestamp:!1,snippet:d("MAWAdminMsg").buildLocalizedString([],[],d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION)},f[23]=e):e=f[23];return e}o=g?m.shouldHideTimestamp:!1;b=g?m.snippet:a.snippet;f[24]!==o||f[25]!==b||f[26]!==a.lastMessageCtaType?(t={isDraft:!1,lastMessageCtaType:a.lastMessageCtaType,shouldHideTimestamp:o,snippet:b},f[24]=o,f[25]=b,f[26]=a.lastMessageCtaType,f[27]=t):t=f[27];return t}g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("destroyOnUnload",["cr:8905"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:8905")}),98);
__d("AbstractCommentLiveTypingPublisher",["destroyOnUnload","gkx"],(function(a,b,c,d,e,f){"use strict";var g=10*1e3,h=10*1e3,i=200;a=function(){function a(){var a=this;this.$1=null;this.$2=null;this.$3=-1;b("gkx")("20935")||b("destroyOnUnload")(this.destroy.bind(this));window.addEventListener&&window.addEventListener("unload",function(){a.destroy()})}var c=a.prototype;c.destroy=function(){this.$4(),this.$5(),this.$6()};c.handleStartEvent=function(){this.$7()||this.$8(),this.$9()};c.handleStopEvent=function(){this.$4()};c.publishStartEvent=function(){throw new Error("publishStartEvent should be overridden by subclass")};c.publishStopEvent=function(){throw new Error("publishStopEvent should be overridden by subclass")};c.$7=function(){return!!this.$1};c.$5=function(){this.$2&&(clearTimeout(this.$2),this.$2=null)};c.$6=function(){this.$1&&(clearTimeout(this.$1),this.$1=null)};c.$9=function(){var a=this,b=Date.now(),c=this.$3;b>c+i&&(this.$3=b,this.$5(),this.$2=setTimeout(function(){a.$4()},h))};c.$4=function(){this.$7()&&(this.publishStopEvent(),this.$6()),this.$5()};c.$8=function(){var a=this;this.publishStartEvent();this.$6();this.$1=setTimeout(function(){a.$8()},g)};return a}();f["default"]=a}),66);
__d("CivicActionLogEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743356");b=d("FalcoLoggerInternal").create("civic_action_log_event",a);e=b;g["default"]=e}),98);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[b,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("FDSPoliticsFilled12Icon",["cr:14238"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14238")}),98);
__d("ManageConstituentBadgeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9985306721499633"}),null);
__d("ManageConstituentBadgeDialogQuery$Parameters",["ManageConstituentBadgeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ManageConstituentBadgeDialogQuery_facebookRelayOperation"),metadata:{},name:"ManageConstituentBadgeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("ManageConstituentBadgeDialog.entrypoint",["JSResourceForInteraction","ManageConstituentBadgeDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.commentID;a=a.feedbackID;return{queries:{queryReference:{parameters:b("ManageConstituentBadgeDialogQuery$Parameters"),variables:{commentID:c,feedbackID:a}}}}},root:c("JSResourceForInteraction")("ManageConstituentBadgeDialog.react").__setRef("ManageConstituentBadgeDialog.entrypoint")};d=a;g["default"]=d}),98);
__d("ManageConstituentBadgeDialogTrigger.react",["fbt","CometEntryPointDialogTrigger.react","FDSIcon.react","FDSPoliticsFilled12Icon","ManageConstituentBadgeDialog.entrypoint","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.onPress,f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={},b[0]=f):f=b[0];var g;b[1]!==a.commentID||b[2]!==a.feedbackID?(g={commentID:a.commentID,feedbackID:a.feedbackID},b[1]=a.commentID,b[2]=a.feedbackID,b[3]=g):g=b[3];b[4]!==e?(a=function(a){return j.jsx(c("FDSIcon.react"),{alt:h._(/*BTDS*/"Constituent badge"),"aria-label":h._(/*BTDS*/"Manage constituent badge"),color:"secondary",icon:c("FDSPoliticsFilled12Icon"),onPress:function(){a(),e()}})},b[4]=e,b[5]=a):a=b[5];b[6]!==g||b[7]!==a?(f=j.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("ManageConstituentBadgeDialog.entrypoint"),otherProps:f,preloadParams:g,children:a}),b[6]=g,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("CometUFICommentActorConstituentBadge.react",["fbt","Actor","CivicActionLogEventFalcoEvent","CometRelay","CometUFICommentActorConstituentBadge_comment.graphql","FBLogger","FDSIcon.react","FDSPoliticsFilled12Icon","FDSTooltip.react","ManageConstituentBadgeDialogTrigger.react","react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef;function a(a){var e,f,g,j,m=d("react-compiler-runtime").c(33);a=a.comment;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentActorConstituentBadge_comment.graphql"),a);var n=a.parent_feedback,o=l(!1),p=c("useVisibilityObserver")({onVisible:function(){if(o.current)return;o.current=!0;c("CivicActionLogEventFalcoEvent").log(function(){return{action:"view",post_id:t,product:"constituent_badge",subtype:"comment"}})}}),q=d("Actor").useActor();q=q[0];if(!a.author||((e=a.author)==null?void 0:e.id)==null){m[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("FBLogger")("civic_integrity").mustfix("missing politician"),m[0]=e):e=m[0];return e}var r=a.author.short_name,s=n==null||(f=n.owning_profile)==null?void 0:f.name,t=n==null?void 0:n.share_fbid,u=q===a.author.id,v=n==null||(g=n.political_figure_data)==null||(g=g.political_office)==null?void 0:g.generic_title,w=n==null||(j=n.political_figure_data)==null?void 0:j.name;e=a.can_see_constituent_badge_upsell;var x;m[1]!==r||m[2]!==u||m[3]!==v||m[4]!==s||m[5]!==w?(x=function(){var a=!0;if(r==null)return null;(v==null||w==null)&&(a=!1);if(u)if(a)return h._(/*BTDS*/"Your constituent badge is on. {representative_name} is your {office_title}.",[h._param("representative_name",w),h._param("office_title",v)]);else return h._(/*BTDS*/"Your constituent badge is on. {page_name} serves your district.",[h._param("page_name",s)]);if(a)return h._(/*BTDS*/"{representative_name} is {comment_author_name}'s {politician_office_title}.",[h._param("representative_name",w),h._param("comment_author_name",r),h._param("politician_office_title",v)]);else return h._(/*BTDS*/"{page_name} serves {comment_author_name}'s district.",[h._param("page_name",s),h._param("comment_author_name",r)])},m[1]=r,m[2]=u,m[3]=v,m[4]=s,m[5]=w,m[6]=x):x=m[6];x=x;var y;m[7]!==r||m[8]!==w?(y=function(){return h._(/*BTDS*/"{comment_author_name} has a badge showing that they are a constituent of {representative_name}",[h._param("comment_author_name",r),h._param("representative_name",w)])},m[7]=r,m[8]=w,m[9]=y):y=m[9];var z=y;m[10]!==z?(y=function(a){return k.jsx(c("FDSIcon.react"),{alt:z(),"aria-label":z(),color:"secondary",icon:c("FDSPoliticsFilled12Icon"),onPress:a})},m[10]=z,m[11]=y):y=m[11];y=y;var A;m[12]!==a.id||m[13]!==y||m[14]!==(n==null?void 0:n.id)||m[15]!==t||m[16]!==e?(A=e===!0?k.jsx(c("ManageConstituentBadgeDialogTrigger.react"),{commentID:a.id,feedbackID:n==null?void 0:n.id,onPress:function(){c("CivicActionLogEventFalcoEvent").log(function(){return{action:"click",click_location:"constituent_badge",post_id:t,product:"constituent_badge",subtype:"comment"}})}}):y(),m[12]=a.id,m[13]=y,m[14]=n==null?void 0:n.id,m[15]=t,m[16]=e,m[17]=A):A=m[17];a=A;m[18]===Symbol["for"]("react.memo_cache_sentinel")?(y={className:"xdwrcjd x1n2onr6 x1e0gzzx"},m[18]=y):y=m[18];m[19]!==x?(n=x(),m[19]=x,m[20]=n):n=m[20];m[21]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1yrsyyn x1icxu4v x10b6aqq x25sj25"},m[21]=e):e=m[21];m[22]!==a?(A=k.jsx("span",babelHelpers["extends"]({},e,{children:a})),m[22]=a,m[23]=A):A=m[23];m[24]!==n||m[25]!==A?(x=k.jsx(c("FDSTooltip.react"),{tooltip:n,children:A}),m[24]=n,m[25]=A,m[26]=x):x=m[26];m[27]!==x||m[28]!==p?(e=k.jsx("span",babelHelpers["extends"]({},y,{ref:p,children:x})),m[27]=x,m[28]=p,m[29]=e):e=m[29];m[30]!==q||m[31]!==e?(a=k.jsx(d("Actor").ActorProvider,{initialActorID:q,children:e}),m[30]=q,m[31]=e,m[32]=a):a=m[32];return a}g["default"]=a}),226);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x3nfvp2 x1djpfga"},b[0]=e):e=b[0];b[1]!==a?(e=i.jsxs("span",babelHelpers["extends"]({},e,{children:[i.jsx(c("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("CometUFICommentInlineFollowCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInlineFollowCTA_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},a],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUserUnfollowMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="26013122338287543"}),null);
__d("CometUserUnfollowMutation.graphql",["CometUserUnfollowMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"action_render_location"},{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},f=[{kind:"Literal",name:"action_type",value:"FOLLOW"},{kind:"Variable",name:"render_location",variableName:"action_render_location"}],g={args:null,kind:"FragmentSpread",name:"ProfileActionMutationUtils_action"},h=[{kind:"Literal",name:"action_type",value:"FOLLOWING_STATUS"}],i={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},j={kind:"TypeDiscriminator",abstractKey:"__isProfileAction"},k={kind:"Literal",name:"icon_color",value:"fds-black"},l={kind:"Literal",name:"icon_variant",value:"filled"},m={kind:"Variable",name:"scale",variableName:"scale"},n=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],o={alias:null,args:[k,{kind:"Literal",name:"icon_size",value:"16"},l,m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},p={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},q={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_optimistic_update",storageKey:null}]},r={kind:"Literal",name:"icon_size",value:"20"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUserUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[g],storageKey:null},{alias:"following_status",args:h,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[g,{args:null,kind:"FragmentSpread",name:"ProfileCometHeaderActionBarMenuItem_profileAction"}],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUserUnfollowMutation",selections:[{alias:null,args:c,concreteType:"ActorUnsubscribeResponsePayload",kind:"LinkedField",name:"actor_unsubscribe",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"unsubscribee",plural:!1,selections:[d,e,{kind:"InlineFragment",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,j,o,e,p,q],storageKey:null},{alias:"following_status",args:h,concreteType:null,kind:"LinkedField",name:"profile_action",plural:!1,selections:[d,j,o,e,p,{alias:null,args:null,kind:"ScalarField",name:"profile_action_type",storageKey:null},{alias:"secondary_icon",args:[k,r,{kind:"Literal",name:"icon_variant",value:"outline"},m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},{alias:"active_secondary_icon",args:[k,r,l,m],concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:[{kind:"Literal",name:"supported",value:"24l1eX"}],concreteType:null,kind:"LinkedField",name:"client_handler",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBlockHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBlockHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionBlockUserFromGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionBlockUserFromGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContactUsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContactUsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDefaultHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDefaultHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditFriendListHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditFriendListHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFollowingStatusHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFollowingStatusHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileFriendRequestHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileFriendRequestHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInsightsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInsightsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileMessageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileMessageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerAudioCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerAudioCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionMessengerVideoCallHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionMessengerVideoCallHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPreferredInteractionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPreferredInteractionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionGetSupportHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionGetSupportHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionReportMarketplaceUserHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionReportMarketplaceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSeeFirstHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSeeFirstHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionViewProfileTransparencyHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionViewProfileTransparencyHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSearchProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSearchProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLikeAsYourPageHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLikeAsYourPageHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionSetContentControlsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionSetContentControlsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionMuteMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionMuteMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionTurnOnPostApprovalForMemberHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionTurnOnPostApprovalForMemberHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteModeratorHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteModeratorHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionInviteExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionInviteExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionLeaveGroupHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionLeaveGroupHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRemoveGroupAdminHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRemoveGroupAdminHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertiseShowAsBadgeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertiseShowAsBadgeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionRemoveExpertHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionRemoveExpertHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionEditContextualProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionEditContextualProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportBioHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportBioHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportExpertiseExperienceHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportExpertiseExperienceHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportMemberNameHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportMemberNameHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionPromoteHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionPromoteHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionAdminToolsHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionAdminToolsHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionManageFollowerHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionManageFollowerHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInviteToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInviteToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionInvitePostReactorsToFollowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionInvitePostReactorsToFollowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionBookNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionBookNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionLockProfileHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionLockProfileHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionDonateNowHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionDonateNowHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionTopFanBadgeSettingHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionTopFanBadgeSettingHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionStartTourHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionStartTourHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionRecurringNotificationsOptInHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionRecurringNotificationsOptInHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionFubsSubscribeHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionFubsSubscribeHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionSwitchRegionHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionSwitchRegionHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometGroupActionManageRolesHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileGroupActionManageRolesHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionCheckInHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionCheckInHandler",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionTrigger_action",fragmentName:"ProfileCometActionContextualProfileReportNicknameHandler_handler",fragmentPropName:"handler",kind:"ModuleImport"}],type:"ProfileActionContextualProfileReportNicknameHandler",abstractKey:null}],storageKey:'client_handler(supported:"24l1eX")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"X5gYL"}],concreteType:null,kind:"LinkedField",name:"client_logger",plural:!1,selections:[d,{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeRollbackLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeRollbackLogger",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"ProfileCometActionLogger_action",fragmentName:"ProfileCometActionProfessionalModeOnboardingLogger_logger",fragmentPropName:"logger",kind:"ModuleImport"}],type:"ProfileActionProfessionalModeOnboardingLogger",abstractKey:null}],storageKey:'client_logger(supported:"X5gYL")'},q],storageKey:'profile_action(action_type:"FOLLOWING_STATUS")'},i],type:"User",abstractKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("CometUserUnfollowMutation_facebookRelayOperation"),metadata:{},name:"CometUserUnfollowMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUserUnfollowMutation",["CometRelay","CometUserUnfollowMutation.graphql","ProfileActionFollowingMutationUtils","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("CometUserUnfollowMutation.graphql");function j(a,b){return{actor_unsubscribe:{unsubscribee:{__typename:"User",following_status:d("ProfileActionFollowingMutationUtils").getOptimisticFollowingActionForSubscriptionStatus("UNFOLLOW",a,b),id:a,profile_action:d("ProfileActionFollowingMutationUtils").getOptimisticFollowActionForSubscriptionStatus("UNFOLLOW",a,b),subscribe_status:"CAN_SUBSCRIBE"}}}}function a(a,b){var c=b.actionRenderLocation,e=b.isTrackingEncrypted,f=b.navigationChain,g=b.onError,h=b.onSuccess,k=b.subscribeLocation,l=b.tracking;b=b.userID;d("CometRelay").commitMutation(a,{mutation:i,onCompleted:h,onError:g,optimisticResponse:j(b,!1),variables:{action_render_location:c,input:{attribution_id_v2:f,is_tracking_encrypted:e,subscribe_location:k,tracking:l,unsubscribee_id:b},scale:d("WebPixelRatio").get()}})}function c(a,b,c){var e=b.actionRenderLocation,f=b.isTrackingEncrypted,g=b.navigationChain,h=b.onError,k=b.onSuccess,l=b.subscribeLocation,m=b.tracking;b=b.userID;d("CometRelay").enqueueMutation(a,{mutation:i,onCompleted:k,onError:h,optimisticResponse:j(b,c!=null?c:!1),variables:{action_render_location:e,input:{attribution_id_v2:g,is_tracking_encrypted:f,subscribe_location:l,tracking:m,unsubscribee_id:b},scale:d("WebPixelRatio").get()}})}g.commit=a;g.enqueue=c}),98);
__d("CometUFICommentInlineFollowCTA.react",["fbt","BaseMiddot.react","CometFeedUnitQueryVariablesContext","CometPressable.react","CometRelay","CometUFICommentInlineFollowCTA_comment.graphql","CometUserFollowMutation","CometUserUnfollowMutation","FDSText.react","react","requireDeferred","useMinifiedProductAttribution","useNullthrowsViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;var l=e.useCallback,m=e.useContext,n=e.useState,o=c("requireDeferred")("InlineFollowCtaEventFalcoEvent").__setRef("CometUFICommentInlineFollowCTA.react"),p="following_clicked",q="unfollowing_clicked",r="follow_cta_impression";function a(a){var e,f,g,j;a=a.comment$key;var s=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentInlineFollowCTA_comment.graphql"),a),t=(s==null||(e=s.author)==null?void 0:e.subscribe_status)==="IS_SUBSCRIBED",u=c("useNullthrowsViolation")(s==null||(f=s.author)==null?void 0:f.id),v=d("CometRelay").useRelayEnvironment();a=n(!1);var w=a[0],x=a[1],y=(a=(a=m(c("CometFeedUnitQueryVariablesContext")))==null?void 0:a.feedLocation)!=null?a:"",z=l(function(a){o.onReady(function(b){b.log(function(){var b;return{comment_author_id:u,comment_id:(b=s.id)!=null?b:"",comment_surface:y,event:a}})})},[u,s.id,y]),A=c("useMinifiedProductAttribution")();a=l(function(){var a={actionRenderLocation:"WWW_COMET_HOVERCARD",navigationChain:A,onError:function(){x(!1)},onSuccess:function(){x(!1)},subscribeLocation:y==="NEWSFEED"?"INLINE_COMMENT_HEADER":"COMMENT_HEADER",userID:u};x(!0);t?(d("CometUserUnfollowMutation").commit(v,a),z(q)):(d("CometUserFollowMutation").commit(v,a),z(p))},[u,v,y,t,z,A]);var B=l(function(){z(r)},[z]);B=c("useVisibilityObserver")({onVisible:B});if((s==null||(g=s.author)==null?void 0:g.subscribe_status)!=="CAN_SUBSCRIBE"&&(s==null||(j=s.author)==null?void 0:j.subscribe_status)!=="IS_SUBSCRIBED")return null;var C=t?k.jsx(c("FDSText.react"),{color:"secondary",type:"bodyLink4",children:h._(/*BTDS*/"Following")}):k.jsx(c("FDSText.react"),{color:"highlight",type:"bodyLink4",children:h._(/*BTDS*/"Follow")});return k.jsxs("span",{ref:B,children:[k.jsx(c("BaseMiddot.react"),{className:"xi81zsa"}),k.jsx(c("CometPressable.react"),{disabled:w,onPress:a,children:C})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("CometUFIFeedbackReactSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24374670048889714"}),null);
__d("CometUFIFeedbackReactSubscription.graphql",["CometUFIFeedbackReactSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},k=[j],l=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],m=[g,d],n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};j=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:e,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[d,h,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visible_in_bling_bar",storageKey:null},i],storageKey:null},j],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:e,storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[d,g,h],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},g,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_comment_anonymously",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_provider",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"eligible_actors",plural:!1,selections:[g,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:m,storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,d,n],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,n,d],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:m,storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:f,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:f,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[g,{kind:"InlineFragment",selections:j,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:j,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFIFeedbackReactSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("CometUFIFeedbackReactSubscription_feedback.graphql");i!==void 0?i:i=b("CometUFIFeedbackReactSubscription_liker.graphql");j!==void 0?j:j=b("CometUFIFeedbackReactSubscription_viewer.graphql");var l=k!==void 0?k:k=b("CometUFIFeedbackReactSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null||(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null||(d=d.viewer)==null||(d=d.actor)==null?void 0:d.id;if(c!==d){d=(c=b.feedback_like_subscribe)==null||(c=c.feedback)==null?void 0:c.id;if(d!=null){b=a.get(d);b&&b.setValue(!0,"is_unseen")}}},variables:{input:b,useDefaultActor:c}})}g.subscribe=a}),98);
__d("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9815271091886179"}),null);
__d("CometUFILiveTypingBroadcastMutation_StartMutation.graphql",["CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStartTypingResponsePayload",kind:"LinkedField",name:"feedback_start_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StartMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StartMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StartMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9972315006159780"}),null);
__d("CometUFILiveTypingBroadcastMutation_StopMutation.graphql",["CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"FeedbackStopTypingResponsePayload",kind:"LinkedField",name:"feedback_stop_typing",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFILiveTypingBroadcastMutation_StopMutation",selections:c},params:{id:b("CometUFILiveTypingBroadcastMutation_StopMutation_facebookRelayOperation"),metadata:{},name:"CometUFILiveTypingBroadcastMutation_StopMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("CometUFILiveTypingBroadcastMutation",["ChannelClientID","CometRelay","CometUFILiveTypingBroadcastMutation_StartMutation.graphql","CometUFILiveTypingBroadcastMutation_StopMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h!==void 0?h:h=b("CometUFILiveTypingBroadcastMutation_StartMutation.graphql"),k=i!==void 0?i:i=b("CometUFILiveTypingBroadcastMutation_StopMutation.graphql");function a(a,b,c,e){c={input:{feedback_id:c.feedbackID,session_id:d("ChannelClientID").getID()}};var f;e={onCompleted:e,variables:c};a?f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:j},e)):f=d("CometRelay").commitMutation(b,babelHelpers["extends"]({mutation:k},e));return{dispose:function(){f&&f.dispose(),f=null}}}c=a.bind(null,!0);e=a.bind(null,!1);g.start=c;g.stop=e}),98);
__d("CometUFILiveTypingBroadcastPublisher",["AbstractCommentLiveTypingPublisher","CometUFILiveTypingBroadcastMutation"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e){var f;f=a.call(this)||this;f.$CometUFILiveTypingBroadcastPublisher$p_1=b;f.$CometUFILiveTypingBroadcastPublisher$p_2=c;f.$CometUFILiveTypingBroadcastPublisher$p_3=e;f.$CometUFILiveTypingBroadcastPublisher$p_4=null;f.$CometUFILiveTypingBroadcastPublisher$p_5=null;f.$CometUFILiveTypingBroadcastPublisher$p_6=d;return f}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.destroy=function(){this.$CometUFILiveTypingBroadcastPublisher$p_4&&this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5&&this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose()};c.handleStartEvent=function(){a.prototype.handleStartEvent.call(this)};c.handleStopEvent=function(){a.prototype.handleStopEvent.call(this)};c.publishStartEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_4)return;this.$CometUFILiveTypingBroadcastPublisher$p_5&&(this.$CometUFILiveTypingBroadcastPublisher$p_5.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_5=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_4=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_4=d("CometUFILiveTypingBroadcastMutation").start(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};c.publishStopEvent=function(){var a=this;if(this.$CometUFILiveTypingBroadcastPublisher$p_5)return;this.$CometUFILiveTypingBroadcastPublisher$p_4&&(this.$CometUFILiveTypingBroadcastPublisher$p_4.dispose(),this.$CometUFILiveTypingBroadcastPublisher$p_4=null);var b=function(){a.$CometUFILiveTypingBroadcastPublisher$p_5=null};this.$CometUFILiveTypingBroadcastPublisher$p_2!=null&&(this.$CometUFILiveTypingBroadcastPublisher$p_5=d("CometUFILiveTypingBroadcastMutation").stop(this.$CometUFILiveTypingBroadcastPublisher$p_6,{actorID:this.$CometUFILiveTypingBroadcastPublisher$p_1,feedbackID:this.$CometUFILiveTypingBroadcastPublisher$p_2},b))};return b}(c("AbstractCommentLiveTypingPublisher"));g["default"]=a}),98);
__d("CometUFILiveTypingBroadcastComposerUpgradedPlugin.react",["CometUFILiveTypingBroadcastPublisher","FBLogger","JSScheduler","Lexical","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useEffect,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(13),e=a.pluginProps,f=a.feedback,g=a.groupID,i=a.relayEnvironment,l=(a=f.viewer_actor)==null?void 0:a.id,m=e.addCommitListener,n=f.id,o=k(!1),p=k(null),q=e.editor;b[0]!==l||b[1]!==m||b[2]!==q||b[3]!==n||b[4]!==g||b[5]!==i?(a=function(){if(o.current===!0)return;if(l==null||n==null&&g==null){c("FBLogger")("ufi2").warn("Failed to fetch `feedback.viewer_actor.id`, or both `feedback.id` and `groupID` are null, in the UFI live typing broadcast plugin. The live typing broadcast is disabled for this UFI.");o.current=!0;return}var a="",b=function(){if(p.current===null){var a=new(c("CometUFILiveTypingBroadcastPublisher"))(l,n,i,g);p.current=a}return p.current},e=q.registerTextContentListener(function(d){if(a!==d){var e=b();a=d;(h||(h=c("JSScheduler"))).defer(function(){e.handleStartEvent()})}}),f=q.registerCommand(d("Lexical").BLUR_COMMAND,function(){var a=p.current;a!==null&&a.handleStopEvent();return!1},d("Lexical").COMMAND_PRIORITY_LOW),j=m(function(){var a=p.current;a!==null&&a.handleStopEvent();return"continue-commit"});return function(){var a=p.current;a!==null&&(p.current=null,a.destroy());e();f();j()}},b[0]=l,b[1]=m,b[2]=q,b[3]=n,b[4]=g,b[5]=i,b[6]=a):a=b[6];b[7]!==l||b[8]!==m||b[9]!==q||b[10]!==n||b[11]!==i?(f=[l,m,q,n,i],b[7]=l,b[8]=m,b[9]=q,b[10]=n,b[11]=i,b[12]=f):f=b[12];j(a,f);return null}g["default"]=a}),98);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9832850366770548"}),null);
__d("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql",["CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"scale"},{defaultValue:null,kind:"LocalArgument",name:"stickerId"}],c=[{kind:"Variable",name:"id",variableName:"stickerId"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={kind:"Variable",name:"scale",variableName:"scale"},f=[{kind:"Literal",name:"height",value:80},e,{kind:"Literal",name:"width",value:80}],g={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},h=[g,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"UFI2CommentSticker_sticker"}],type:"Sticker",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIStickersComposerUpgradedPreviewContentQuery",selections:[{alias:"sticker",args:c,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},d],storageKey:null},{alias:null,args:f,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[g],storageKey:null},{alias:"sticker_image",args:f,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},e,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null},d],storageKey:null}]},params:{id:b("CometUFIStickersComposerUpgradedPreviewContentQuery_facebookRelayOperation"),metadata:{},name:"CometUFIStickersComposerUpgradedPreviewContentQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale"},b=[{kind:"Literal",name:"height",value:80},a,{kind:"Literal",name:"width",value:80}],c={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},d=[c,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"UFI2CommentSticker_sticker",selections:[{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:b,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:[c],storageKey:null},{alias:"sticker_image",args:b,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:"larger_sticker_image",args:[{kind:"Literal",name:"height",value:120},a,{kind:"Literal",name:"width",value:120}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sticker_type",storageKey:null}],type:"Sticker",abstractKey:null}}();e.exports=a}),null);
__d("UFI2CommentSticker.react",["JSResource","UFI2CometRelayCreateFragmentContainer","UFI2CommentSticker_sticker.graphql","UFI2ScaleRect","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"));function a(a){var b=a.className;a=a.sticker;var c=a.sticker_type==="AVATAR",e=a.sprite_image,f=c?a.larger_sticker_image:a.sticker_image;if(f==null)return null;c=c?120:80;c=d("UFI2ScaleRect").scaleToContain({gracefullyFallbackToMaxDimensionWhenHeightOrWidthIsZero:!1,maxHeight:c,maxWidth:c,srcHeight:f.height||c,srcWidth:f.width||c});var g=c.height;c=c.width;var h=j.jsx("div",{style:{backgroundImage:"url("+(f.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:c+"px "+g+"px",height:g,width:c}});return j.jsx(j.Suspense,{fallback:h,children:j.jsx(k,{accessibilityLabel:a.label,animationTrigger:"load_and_hover",className:b,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(h=a.pack)==null?void 0:h.name,sourceHeight:g,sourceURI:f.uri,sourceWidth:c,spriteURI:e==null?void 0:e.uri})})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="UFI2CommentSticker";e=c("UFI2CometRelayCreateFragmentContainer").createFragmentContainer(a,{sticker:h!==void 0?h:h=b("UFI2CommentSticker_sticker.graphql")});g["default"]=e}),98);
__d("CometUFIStickersComposerUpgradedPreviewContent.react",["cx","CometErrorBoundary.react","CometPlaceholder.react","CometRelay","CometUFIStickersComposerUpgradedPreviewContentQuery.graphql","FBLogger","SiteData","UFI2CommentSticker.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function l(a){var e=d("react-compiler-runtime").c(2);a=a.stickerId;var f=d("CometRelay").useLazyLoadQuery(i!==void 0?i:i=b("CometUFIStickersComposerUpgradedPreviewContentQuery.graphql"),{scale:c("SiteData").pr,stickerId:a});f=f.sticker;if(!f){c("FBLogger")("ufi2").addMetadata("UFI","STICKER_ID",a).mustfix("Failed to fetch a sticker.");return null}e[0]!==f?(a=k.jsx(c("UFI2CommentSticker.react"),{className:"mal",sticker:f}),e[0]=f,e[1]=a):a=e[1];return a}function a(a){var b=d("react-compiler-runtime").c(8),e=a.loadingIndicatorElement,g=a.onError;a=a.stickerId;var h;b[0]!==a?(h=k.jsx(l,{stickerId:a}),b[0]=a,b[1]=h):h=b[1];b[2]!==e||b[3]!==h?(a=k.jsx(c("CometPlaceholder.react"),{fallback:e,name:f.id,children:h}),b[2]=e,b[3]=h,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{fallback:m,onError:g,children:a}),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}function m(){}g["default"]=a}),98);
__d("CometUFIVoteCountDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9936963819763414"}),null);
__d("CometUFIVoteCountDialogQuery$Parameters",["CometUFIVoteCountDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIVoteCountDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIVoteCountDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFIVoteCountDialog.entrypoint",["CometUFIVoteCountDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.actorID;a=a.questionID;return{queries:{cometUFIVoteCountDialogQueryRef:{environmentProviderOptions:{actorID:c},parameters:b("CometUFIVoteCountDialogQuery$Parameters"),variables:{questionID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFIVoteCountDialog.react").__setRef("CometUFIVoteCountDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIVotesText.react",["fbt","CometUFISummaryBarLabel.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.voteCount;var e;b[0]!==a?(e=h._(/*BTDS*/"_j{\"*\":\"{number} votes\",\"_1\":\"1 vote\"}",[h._plural(a,"number")]),b[0]=a,b[1]=e):e=b[1];e=e;var f;b[2]!==e||b[3]!==a?(f=j.jsx(c("CometUFISummaryBarLabel.react"),{count:a,icon:"ballot-box",label:e}),b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g["default"]=a}),226);
__d("CometUFIVoteCountButton.react",["fbt","Actor","CometPressable.react","CometUFIVoteCountDialog.entrypoint","CometUFIVotesText.react","react","react-compiler-runtime","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useRef,l={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",":hover_textDecoration":"xt0b8zv",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.questionID;a=a.voteCount;var f=d("Actor").useActor();f=f[0];var g=k(null),i;b[0]!==f||b[1]!==e?(i={actorID:f,questionID:e},b[0]=f,b[1]=e,b[2]=i):i=b[2];f=c("useCometEntryPointDialog")(c("CometUFIVoteCountDialog.entrypoint"),i);var m=f[0];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"voter dialogue"),b[3]=e):e=b[3];b[4]!==m?(i=function(){m({})},b[4]=m,b[5]=i):i=b[5];b[6]!==a?(f=j.jsx(c("CometUFIVotesText.react"),{voteCount:a}),b[6]=a,b[7]=f):f=b[7];b[8]!==i||b[9]!==f?(a=j.jsx(c("CometPressable.react"),{"aria-label":e,display:"inline",onPress:i,overlayDisabled:!0,ref:g,xstyle:l.link,children:f}),b[8]=i,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),226);
__d("InlineFollowCtaEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1985969");b=d("FalcoLoggerInternal").create("inline_follow_cta_event",a);e=b;g["default"]=e}),98);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","getImplicitMentionsGating","gkx","react","useCometMentionsViewListStrategy","useFeedComposerCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=c("gkx")("23229");e=["USER","EVENT","GROUP","PAGE"];var j=b?[].concat(e,["WORKROOMS_USER"]):e;f=["user","event","group","page"];var k=b?[].concat(f,["workrooms_user"]):f;function a(){return function(a){var b=a.config,e=b.contextID;b=b.postID;a=a.pluginProps.editor;e=c("useFeedComposerCometMentionsDataSourceResolverConfig")({canUseSections:!1,contextID:e,firstDegreeTypesForBootstrap:j,implicitMentionsConfig:{isImplicitMentionsEnabled:!0,matchLimitOverride:null,typeaheadContext:d("getImplicitMentionsGating").getIsFriendsOnlyImplicitDatasource()?"comet_mention_friends_only":void 0},mentionTypesForNetwork:k,postID:b,shouldBootstrapOnLayoutEffect:!1});b={context_id:null,context_type:"undirected",surface:"COMMENT",typeahead_type:"ENTITY"};var f=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return i.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),mentionsLoggerContext:b,viewStrategyRenderer:f})}}g["default"]=a}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);
__d("destroyOnUnloadWWW",["Run"],(function(a,b,c,d,e,f,g){function a(a){return d("Run").onLeave(a)}g["default"]=a}),98);
__d("getUpgradedCometUFIEmoticonsComposerHandler",["CometLexicalEmojiNode","EmoticonsList","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(!a.isSimpleText())return;var b=d("Lexical").$getSelection(),e=a.getTextContent();d("Lexical").$isRangeSelection(b)&&b.isCollapsed()&&b.anchor.type==="text"&&b.anchor.key===a.getKey()&&(e=e.slice(0,b.anchor.offset));b=a;while((a=e.match(d("EmoticonsList").noncapturingRegexp))&&a!==null&&b!==void 0){var f=a[1];a=a[0][0]===" "?a.index+1:a.index;var g=f.length,h=a+g,i=d("EmoticonsList").emotes[f];if(i!==void 0){var j=d("EmoticonsList").emoji[i],k=b.getNextSibling();k=h===e.length?d("Lexical").$isLineBreakNode(k):e[h]===" ";if(j!==void 0&&k){k=void 0;if(a===0){g=b.splitText(g);k=g[0];b=g[1]}else{g=b.splitText(a,h);k=g[1];b=g[2]}a=j.length===5&&j.slice(0,2)==="1f";g=a?String.fromCodePoint(parseInt("0x"+j,0)):i;i=a?g:f;a=new(c("FBEmojiResource"))(j);f=a.getImageURL(d("CometLexicalEmojiNode").UFI_EMOJI_SIZE);f!=null&&(j=d("CometLexicalEmojiNode").$createEmojiNode(g,i,f,d("CometLexicalEmojiNode").UFI_EMOJI_SIZE),k.replace(j))}}e=e.slice(h)}}function a(a){return a.registerNodeTransform(d("Lexical").TextNode,h)}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("BaseBlurryImagePreview.react",["getComputedStyle","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=["blur","previewData","alt","height","style","width"],i,j,k=j||(j=d("react"));b=j;var l=b.useId,m=b.useLayoutEffect,n=b.useRef,o=b.useState;function a(a){var b=d("react-compiler-runtime").c(44),e,f,g,j,p,q,r;b[0]!==a?(f=a.blur,p=a.previewData,e=a.alt,g=a.height,q=a.style,r=a.width,j=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=j,b[5]=p,b[6]=q,b[7]=r):(e=b[1],f=b[2],g=b[3],j=b[4],p=b[5],q=b[6],r=b[7]);b[8]!==q?(a=q!=null?q:{},b[8]=q,b[9]=a):a=b[9];a=a;var s=a.height,t=a.width;a=f!=null?f:1.2;f=l();var u=c("useSetAttributeRef")("id",f),v="url(#"+f+")",w=c("useSetAttributeRef")("filter",v),x=l(),y=n(null),z=o(g!==void 0||s!==void 0||r!==void 0||t!==void 0),A=z[0],B=z[1],C;b[10]!==g||b[11]!==p.height||b[12]!==p.width||b[13]!==s||b[14]!==t||b[15]!==r?(z=function(){var a=y.current;if(!(a instanceof SVGSVGElement))return;if(g!==void 0||s!==void 0||r!==void 0||t!==void 0){B(!0);return}var b=a.style.display,d=(i||(i=c("getComputedStyle")))(a);a.style.display="none";B(d!=null&&(d.height!==p.height+"px"||d.width!==p.width+"px"));a.style.display=b},C=[g,p.height,p.width,s,t,r],b[10]=g,b[11]=p.height,b[12]=p.width,b[13]=s,b[14]=t,b[15]=r,b[16]=z,b[17]=C):(z=b[16],C=b[17]);m(z,C);z=e!=null?x:null;C=g!=null?g:A?void 0:p.height;var D="0 0 "+p.width+" "+p.height;A=r!=null?r:A?void 0:p.width;var E;b[18]!==e||b[19]!==x?(E=e!=null&&k.jsx("title",{id:x,children:e}),b[18]=e,b[19]=x,b[20]=E):E=b[20];b[21]!==a?(e=k.jsx("feGaussianBlur",{edgeMode:"duplicate",stdDeviation:a}),b[21]=a,b[22]=e):e=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx("feComponentTransfer",{children:k.jsx("feFuncA",{tableValues:"1 1",type:"discrete"})}),b[23]=x):x=b[23];b[24]!==f||b[25]!==u||b[26]!==e?(a=k.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",id:f,ref:u,suppressHydrationWarning:!0,children:[e,x]}),b[24]=f,b[25]=u,b[26]=e,b[27]=a):a=b[27];b[28]!==v||b[29]!==w||b[30]!==p.dataURI||b[31]!==p.height||b[32]!==p.width?(x=k.jsx("image",{filter:v,height:p.height,ref:w,suppressHydrationWarning:!0,width:p.width,x:"0",xlinkHref:p.dataURI,y:"0"}),b[28]=v,b[29]=w,b[30]=p.dataURI,b[31]=p.height,b[32]=p.width,b[33]=x):x=b[33];b[34]!==j||b[35]!==q||b[36]!==a||b[37]!==x||b[38]!==z||b[39]!==C||b[40]!==D||b[41]!==A||b[42]!==E?(f=k.jsxs("svg",babelHelpers["extends"]({},j,{"aria-labelledby":z,height:C,preserveAspectRatio:"none",ref:y,role:"img",style:q,viewBox:D,width:A,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[E,a,x]})),b[34]=j,b[35]=q,b[36]=a,b[37]=x,b[38]=z,b[39]=C,b[40]=D,b[41]=A,b[42]=E,b[43]=f):f=b[43];return f}g["default"]=a}),98);
__d("CaptionsTextSizeMapping",[],(function(a,b,c,d,e,f){"use strict";a={BIG:"21px",BIGGER:"25px",BIGGEST:"25px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};b={BIG:"20px",BIGGER:"21px",BIGGEST:"21px",DEFAULT:"17px",MEDIUM:"19px",SMALL:"13px",SMALLEST:"8px"};c={BIG:"17px",BIGGER:"17px",BIGGEST:"17px",DEFAULT:"17px",MEDIUM:"17px",SMALL:"17px",SMALLEST:"17px"};d={BIG:"1.7vw",BIGGER:"2.0vw",BIGGEST:"2.2vw",DEFAULT:"1.1vw",MEDIUM:"1.4vw",SMALL:"0.825vw",SMALLEST:"0.55vw"};f.AdjustedCaptionsTextSizeMapFeedUnit=a;f.AdjustedCaptionsTextSizeMapWNS=b;f.FixedCaptionsTextSizeMap=c;f.DynamicCaptionsTextSizeMap=d}),66);
__d("CometWatchAndScrollTriggerContextProvider",["CometWatchAndScrollTriggerContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useContext;b.useMemo;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6);a=a.children;var e=j(c("CometWatchAndScrollTriggerContext")),f=k(e.isControlShown),g=f[0];f=f[1];e=k(e.isTriggerDisabled);var h=e[0];e=e[1];b[0]!==g||b[1]!==h?(f={isControlShown:g,isTriggerDisabled:h,setIsControlShown:f,setIsTriggerDisabled:e},b[0]=g,b[1]=h,b[2]=f):f=b[2];e=f;g=e;b[3]!==a||b[4]!==g?(h=i.jsx(c("CometWatchAndScrollTriggerContext").Provider,{value:g,children:a}),b[3]=a,b[4]=g,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("Duration.react",["ServerTime","clearTimeout","react","react-strict-dom","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=500,k=1e3,l=60,m=60;a=function(a){function b(b){b=a.call(this,b)||this;b.state={duration:0};return b}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.UNSAFE_componentWillMount=function(){this.$2()};e.componentWillUnmount=function(){c("clearTimeout")(this.$1)};e.$2=function(){var a=this,b;this.props.useLocalTime?b=Date.now():b=d("ServerTime").getMillis();this.setState({duration:Math.max(b-this.props.startTime,0)});this.$1=c("setTimeout")(function(){return a.$2()},j)};e.render=function(){var a=Math.floor(this.state.duration/k),b=a%l;a=Math.floor(a/l);var c=a%m;a=Math.floor(a/m);var e="";a>0&&(e=a+":");a=c+":";a.length<3&&e.length>0&&(a="0"+a);c=""+b;c.length<2&&(c="0"+c);return i.jsxs(d("react-strict-dom").html.span,{children:[e,a,c]})};return b}(i.Component);a.defaultProps={useLocalTime:!1};g["default"]=a}),98);
__d("XCometGamingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/gaming/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("GamingVideoBackLink.react",["fbt","ix","CometImage.react","CometPressable.react","XCometGamingControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=i("370949"),m=c("XCometGamingControllerRouteBuilder").buildURL({});function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Go to Facebook Gaming"),a[0]=b):b=a[0];var e=b;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("CometPressable.react"),{linkProps:{url:m},children:function(a){a=a.hovered;return k.jsxs("div",{className:"x78zum5 x1q0g3np",children:[k.jsx("span",babelHelpers["extends"]({},{0:{className:"x3nfvp2 x1qo4wvw xbyyjgo x1d8287x x19991ni xl405pv"},1:{className:"x3nfvp2 x1hc1fzr x1d8287x x19991ni xl405pv"}}[!!a<<0],{children:k.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Close"),src:l})})),k.jsx("div",babelHelpers["extends"]({},{0:{className:"x1s85apg"},1:{className:"xe2km65 x1lliihq xf159sx x1n2onr6 x1bvjpef xndqk7f"}}[!!a<<0],{children:e}))]})}}),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("VideoBlurBackgroundContainer_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoBlurBackgroundContainer_video",selections:[{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("getPreviewDataFromImagePreviewPayload",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h="data:image/jpeg;base64,",i=160,j=162,k=42;function l(a,b){b===void 0&&(b=0);a=atob(a);if(a.length<=3)throw c("FBLogger")("comet_infra").mustfixThrow("The preview payload was %s byte(s) long when it should be 4 or more. The first byte is the version, the second the width, and the third the height. The 4th byte and onward is the image data.",a.length);var d=new Uint8Array(a.length+b);for(var e=0;e<a.length;e++)d[b+e]=a.charCodeAt(e);return d}var m;function n(){m==null&&(m=l("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEABsaGikdKUEmJkFCLy8vQkc/Pj4/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0cBHSkpNCY0PygoP0c/NT9HR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR//AABEIABQAKgMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AA=="));return m}function a(a){var b=n();try{a=l(a,b.length-3);var d=a[b.length-1],e=a[b.length-3],f=a[b.length-2];if(d>k)throw c("FBLogger")("comet_infra").mustfixThrow("Tried to decode a payload whose height was %s. The maximum is %s.",d,k);if(f>k)throw c("FBLogger")("comet_infra").mustfixThrow("Tried to decode a payload whose width was %s. The maximum is %s.",f,k);a.set(b,0);a[i]=d;a[j]=f;b=btoa(String.fromCharCode.apply(null,a));return{dataURI:""+h+b,height:d,width:f,version:e}}catch(b){a=c("FBLogger")("images_infra");b instanceof Error&&a.catching(b);a.warn("Failed to decode a preview image payload. Falling back with a blank image.");return null}}g["default"]=a}),98);
__d("VideoBlurBackgroundContainer.react",["BaseBlurryImagePreview.react","CometImage.react","CometRelay","VideoBlurBackgroundContainer_video.graphql","getPreviewDataFromImagePreviewPayload","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={blurryImage:{filter:"x1hedwgd",transform:"x4zgh4k",$$css:!0},image:{bottom:"x1ey2m1c",boxSizing:"x9f619",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xti2d7y",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1ja2u2z",$$css:!0},lightBackgroundInLightMode:{backgroundColor:"x2bj2ny",$$css:!0},root:{backgroundColor:"xal61yo",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(16),g=a.children,j=a.lightBackgroundInLightMode,m=a.ref,n=a.video;a=a.xstyle;n=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoBlurBackgroundContainer_video.graphql"),n);e=(e=n.preferred_thumbnail)==null?void 0:e.image_preview_payload;var o;if(e!=null){var p;f[0]!==e?(p=c("getPreviewDataFromImagePreviewPayload")(e),f[0]=e,f[1]=p):p=f[1];e=p;if(e!=null){f[2]===Symbol["for"]("react.memo_cache_sentinel")?(p="x1ey2m1c x9f619 x5yr21d xtijo5x x1o0tod xti2d7y x10l6tqk x13vifvy xh8yej3 x1ja2u2z",f[2]=p):p=f[2];f[3]!==e?(p=k.jsx(c("BaseBlurryImagePreview.react"),{className:p,previewData:e}),f[3]=e,f[4]=p):p=f[4];o=p}}p=(e=n.preferred_thumbnail)==null||(e=e.image)==null?void 0:e.uri;if(o==null&&p!=null){f[5]===Symbol["for"]("react.memo_cache_sentinel")?(n=[l.blurryImage,l.image],f[5]=n):n=f[5];f[6]!==p?(e=k.jsx(c("CometImage.react"),{src:p,xstyle:n}),f[6]=p,f[7]=e):e=f[7];o=e}f[8]!==j||f[9]!==a?(n=(i||(i=c("stylex"))).props(l.root,a,j===!0&&l.lightBackgroundInLightMode),f[8]=j,f[9]=a,f[10]=n):n=f[10];f[11]!==o||f[12]!==g||f[13]!==m||f[14]!==n?(p=k.jsxs("div",babelHelpers["extends"]({},n,{ref:m,children:[o,g]})),f[11]=o,f[12]=g,f[13]=m,f[14]=n,f[15]=p):p=f[15];return p}e=a;g["default"]=e}),98);
__d("VideoBroadcastStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PREVIEW:"PREVIEW",LIVE:"LIVE",LIVE_STOPPED:"LIVE_STOPPED",VOD_READY:"VOD_READY",SEAL_STARTED:"SEAL_STARTED",SCHEDULED_PREVIEW:"SCHEDULED_PREVIEW",SCHEDULED_LIVE:"SCHEDULED_LIVE",SCHEDULED_EXPIRED:"SCHEDULED_EXPIRED",SCHEDULED_CANCELED:"SCHEDULED_CANCELED",PRE_LIVE:"PRE_LIVE",SEAL_FAILED:"SEAL_FAILED"});f["default"]=a}),66);
__d("VideoPlayerActionButton.react",["FDSIcon.react","FDSLink.react","FDSText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.icon,f=a.label,g=a.onPress,h=a.shouldJustifyContentCenter,j=a.showSingleButton,k=a.testid;a=a.useVerticalLayout;h=h===void 0?!1:h;j=j===void 0?!1:j;a=a===void 0?!1:a;var l;b[0]!==h||b[1]!==j||b[2]!==a?(l={0:{},8:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf"},4:{className:"xl56j7k"},12:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xl56j7k"},2:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},10:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},6:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},14:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid"},1:{className:"xja02kk"},9:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xja02kk"},5:{className:"xl56j7k xja02kk"},13:{className:"x6s0dn4 x78zum5 x1q0g3np xyamay9 xv54qhq x1l90r2v xf7dkkf xl56j7k xja02kk"},3:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},11:{className:"x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},7:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"},15:{className:"xl56j7k x6s0dn4 x78zum5 xdt5ytf xyamay9 xv54qhq x1l90r2v xf7dkkf x2b8uid xja02kk"}}[!!(a!==!0)<<3|!!h<<2|!!(a===!0)<<1|!!(j!==!0)<<0],b[0]=h,b[1]=j,b[2]=a,b[3]=l):l=b[3];b[4]!==a?(h={0:{},2:{className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xbmvrgn x889kno x2vl965 x1a8lsjc xe2zdcy"},1:{className:"xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"},3:{className:"xbmvrgn xgjxtca x8tsxso x1lqxvo2 x158ip91 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf xod5an3 x889kno x2vl965 x1a8lsjc xe2zdcy"}}[!!(a!==!0)<<1|!!(a===!0)<<0],b[4]=a,b[5]=h):h=b[5];b[6]!==e||b[7]!==f||b[8]!==g?(j=i.jsx(c("FDSIcon.react"),{"aria-label":f,color:"white",hideHoverOverlay:!0,icon:e,onPress:g}),b[6]=e,b[7]=f,b[8]=g,b[9]=j):j=b[9];b[10]!==h||b[11]!==j?(a=i.jsx("div",babelHelpers["extends"]({},h,{children:j})),b[10]=h,b[11]=j,b[12]=a):a=b[12];b[13]!==f||b[14]!==g?(e=i.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:i.jsx(c("FDSLink.react"),{onClick:g,children:f})}),b[13]=f,b[14]=g,b[15]=e):e=b[15];b[16]!==l||b[17]!==a||b[18]!==e||b[19]!==k?(h=i.jsxs("div",babelHelpers["extends"]({},l,{"data-testid":void 0,children:[a,e]})),b[16]=l,b[17]=a,b[18]=e,b[19]=k,b[20]=h):h=b[20];return h}g["default"]=a}),98);
__d("useNavigateToTahoePassthroughProps",["CometProductTagFunnelIDContext","CometTrackingCodeContext","CometTrackingNodesContext","CometWarningScreenContext","VideoPlayerHooks","getAggregatedStoryTrackingNodeIndex","react","react-compiler-runtime","useIsVideoHomePlayerOriginFromTracePolicy","usePlayerOriginRouteTracePolicy","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useContext;function a(){var a=d("react-compiler-runtime").c(13),b=c("useVideoPlayerPortalingPassthroughProps")(),e=j(c("CometTrackingCodeContext")),f=j(c("CometTrackingNodesContext")),g=j(c("CometProductTagFunnelIDContext")),h=d("CometWarningScreenContext").useIsOverlayShown(),k=d("CometWarningScreenContext").useHasOverlay(),l;a[0]!==f?(l=c("getAggregatedStoryTrackingNodeIndex")(f),a[0]=f,a[1]=l):l=a[1];f=l;l=(i||(i=d("VideoPlayerHooks"))).useVideoPlayerInitialTracePolicy();var m=c("usePlayerOriginRouteTracePolicy")(),n=c("useIsVideoHomePlayerOriginFromTracePolicy")(m);l=l!=null?l:m;a[2]!==n?(m=n?{caller:"CHANNEL_VIEW_FROM_VIDEO_HOME"}:{},a[2]=n,a[3]=m):m=a[3];a[4]!==g||a[5]!==f||a[6]!==k||a[7]!==h||a[8]!==b||a[9]!==l||a[10]!==m||a[11]!==e?(n=babelHelpers["extends"]({bypassAutoplaySettings:!0},b,{index:f,initialTracePolicy:l,origOverlayShown:h,overlayExists:k,productTagFunnelID:g,trackingCode:e},m),a[4]=g,a[5]=f,a[6]=k,a[7]=h,a[8]=b,a[9]=l,a[10]=m,a[11]=e,a[12]=n):n=a[12];return n}g["default"]=a}),98);
__d("VideoPlayerCometNavigateToTahoeControl.react",["fbt","ix","VideoPlayerControlIcon.react","fbicon","react","react-compiler-runtime","useNavigateToTahoePassthroughProps"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.onPress,f=a.reactionVideoChannelType,g=a.subOrigin;a=a.videoTahoeUrl;var j=c("useNavigateToTahoePassthroughProps")(),l;b[0]!==j||b[1]!==f||b[2]!==g?(l=babelHelpers["extends"]({},j,{playerSubOrigin:g,reactionVideoChannelType:f}),b[0]=j,b[1]=f,b[2]=g,b[3]=l):l=b[3];j=l;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Enlarge"),b[4]=f):f=b[4];g=f;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("fbicon")._(i("517763"),20),b[5]=l):l=b[5];b[6]!==j||b[7]!==a?(f={passthroughProps:j,url:a},b[6]=j,b[7]=a,b[8]=f):f=b[8];b[9]!==e||b[10]!==f?(j=k.jsx(c("VideoPlayerControlIcon.react"),{icon:l,label:g,linkProps:f,onPress:e,tooltip:g}),b[9]=e,b[10]=f,b[11]=j):j=b[11];return j}g["default"]=a}),226);
__d("VideoPlayerCometWatchInjectionControl.react",["fbt","FDSResizeUpFilled20Icon","VideoPlayerControlIcon.react","react","react-compiler-runtime","useCometRouterState","useVideoPlayerPortalingPassthroughProps"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=a.isARLTW,f=a.onPress,g=a.routeTracePolicy,i=a.subOrigin,k=a.videoPlayerSessionID;a=a.videoWatchUrl;var l=c("useVideoPlayerPortalingPassthroughProps")();l=l.portableVideoID;var m=c("useCometRouterState")();m=m==null?void 0:m.main.route.tabKey;var n;b[0]!==m?(n=m!=="watch"?h._(/*BTDS*/"Open in Video"):h._(/*BTDS*/"Enlarge"),b[0]=m,b[1]=n):n=b[1];m=n;b[2]!==e||b[3]!==l||b[4]!==g||b[5]!==i||b[6]!==k?(n={isARLTW:e,portableVideoID:l,portalingRouteTracePolicy:g,portalingSubOrigin:i,unmute:!0,videoPlayerSessionID:k},b[2]=e,b[3]=l,b[4]=g,b[5]=i,b[6]=k,b[7]=n):n=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e={navigation_source:"video_expand"},b[8]=e):e=b[8];b[9]!==n||b[10]!==a?(l={passthroughProps:n,traceParams:e,url:a},b[9]=n,b[10]=a,b[11]=l):l=b[11];b[12]!==m||b[13]!==f||b[14]!==l?(g=j.jsx(c("VideoPlayerControlIcon.react"),{icon:c("FDSResizeUpFilled20Icon"),label:m,linkProps:l,onPress:f,tooltip:m}),b[12]=m,b[13]=f,b[14]=l,b[15]=g):g=b[15];return g}g["default"]=a}),226);
__d("VideoPlayerNavigateToTahoeOrFullScreenControl.react",["CometTrackingNodeProvider.react","VideoPlayerCometNavigateToTahoeControl.react","VideoPlayerFullscreenControl.react","gkx","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.isAdVideo,f=a.isBroadcast,g=a.onPressFullscreenControl,h=a.onPressTahoeControl,j=a.onUserInteraction,k=a.reactionVideoChannelType,l=a.shouldUnmute,m=a.subOrigin;a=a.videoTahoeUrl;var n=c("gkx")("24206");b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==j||b[5]!==k||b[6]!==l||b[7]!==m||b[8]!==a?(n=i.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:144,children:(Boolean(e)===!1||f===!0&&c("qex")._("4408")===!0)&&m!=null&&a!=null&&a!==""&&!n?i.jsx(c("VideoPlayerCometNavigateToTahoeControl.react"),{onPress:h,reactionVideoChannelType:k,subOrigin:m,videoTahoeUrl:a}):i.jsx(c("VideoPlayerFullscreenControl.react"),{onPress:g,onUserInteraction:j,shouldUnmute:l})}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=j,b[5]=k,b[6]=l,b[7]=m,b[8]=a,b[9]=n):n=b[9];return n}g["default"]=a}),98);
__d("VideoPlayerReshareButton_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerReshareButton_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_share",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"creation_story",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shareable",plural:!1,selections:[{alias:"wwwUrl",args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'}],storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerReshareButton.react",["fbt","ix","CometRelay","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerReshareButton_video.graphql","createEmptyCometComposerViewState","fbicon","react","react-compiler-runtime","useFeedComposerCometDialog","vulture"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||(k=d("react"));k.useCallback;function m(a){var b=d("react-compiler-runtime").c(18),e=a.renderActionButton,f=a.shouldJustifyContentCenter,g=a.url;a=a.useVerticalLayout;var j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={composerEntryPointName:"reshare_from_feed",composerSourceSurface:"share_dialog",composerType:"share",title:h._(/*BTDS*/"Write post"),tracePolicy:"comet.composer.shareVideo"},b[0]=j):j=b[0];j=c("useFeedComposerCometDialog")(j);var k=j[0];b[1]!==g?(j=c("createEmptyCometComposerViewState")({attachmentArea:{activeAttachmentType:"SHARE"},linkAttachment:{url:g},submitText:h._(/*BTDS*/"Share")}),b[1]=g,b[2]=j):j=b[2];var m=j;b[3]!==m||b[4]!==k?(g=function(){c("vulture")("ASsaDuM2jmu3WlE7W3qbsd0xSO8="),k({beginningViewState:m})},b[3]=m,b[4]=k,b[5]=g):g=b[5];j=g;var n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("fbicon")._(i("484394"),16),n=h._(/*BTDS*/"Share"),b[6]=g,b[7]=n):(g=b[6],n=b[7]);b[8]!==j||b[9]!==f||b[10]!==a?(g=l.jsx(c("VideoPlayerActionButton.react"),{icon:g,label:n,onPress:j,shouldJustifyContentCenter:f,useVerticalLayout:a}),b[8]=j,b[9]=f,b[10]=a,b[11]=g):g=b[11];n=g;b[12]!==n||b[13]!==j||b[14]!==e?(f=e!=null?e({onPress:j}):n,b[12]=n,b[13]=j,b[14]=e,b[15]=f):f=b[15];a=f;b[16]!==a?(g=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:17,children:a}),b[16]=a,b[17]=g):g=b[17];return g}function a(a){var c,e=d("react-compiler-runtime").c(6),f=a.renderActionButton,g=a.shouldJustifyContentCenter,h=a.useVerticalLayout;a=a.video;a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerReshareButton_video.graphql"),a);var i=a==null?void 0:a.can_viewer_share;a=a==null||(c=a.creation_story)==null||(c=c.shareable)==null?void 0:c.wwwUrl;var k;e[0]!==i||e[1]!==f||e[2]!==g||e[3]!==a||e[4]!==h?(k=i===!0&&a!=null?l.jsx(m,{renderActionButton:f,shouldJustifyContentCenter:g,url:a,useVerticalLayout:h}):null,e[0]=i,e[1]=f,e[2]=g,e[3]=a,e[4]=h,e[5]=k):k=e[5];return k}g["default"]=a}),226);
__d("VideoPlayerWatchAgainButton.react",["fbt","ix","CometTrackingNodeProvider.react","VideoPlayerActionButton.react","VideoPlayerHooks","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=j||d("react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.useVerticalLayout;var e=(k||(k=d("VideoPlayerHooks"))).useController(),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=d("fbicon")._(i("534218"),16),b[0]=f):f=b[0];var g;b[1]!==a?(g=a===!0?h._(/*BTDS*/"Replay Video"):h._(/*BTDS*/"Watch Again"),b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e?(j=function(){return e.play("user_initiated")},b[3]=e,b[4]=j):j=b[4];b[5]!==g||b[6]!==j||b[7]!==a?(f=l.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:188,children:l.jsx(c("VideoPlayerActionButton.react"),{icon:f,label:g,onPress:j,useVerticalLayout:a})}),b[5]=g,b[6]=j,b[7]=a,b[8]=f):f=b[8];return f}g["default"]=a}),226);
__d("VideoPlayerWithAudioOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithAudioOverlay_video",selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"2wvKjr"}],concreteType:null,kind:"LinkedField",name:"comet_video_player_audio_overlay_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithAudioOverlay_video",fragmentName:"CometVideoPlayerWithPodcastOverlayRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithPodcastOverlayRenderer",abstractKey:null}],storageKey:'comet_video_player_audio_overlay_renderer(supported:"2wvKjr")'}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithAudioOverlay.react",["CometRelay","VideoPlayerWithAudioOverlay_video.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var c=d("react-compiler-runtime").c(7),e=a.playerFormat,f=a.pressInteraction;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithAudioOverlay_video.graphql"),a);a=a==null?void 0:a.comet_video_player_audio_overlay_renderer;if(a==null)return null;var g;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xl56j7k"},c[0]=g):g=c[0];var i;c[1]!==e||c[2]!==f?(i={playerFormat:e,pressInteraction:f},c[1]=e,c[2]=f,c[3]=i):i=c[3];c[4]!==a||c[5]!==i?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:i})})),c[4]=a,c[5]=i,c[6]=e):e=c[6];return e}g["default"]=a}),98);
__d("VideoPlayerWithLiveVideoIndicator_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithLiveVideoIndicator_video",selections:[{alias:"breakingStatus",args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:"videoId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"isPremiere",args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:"liveViewerCount",args:null,kind:"ScalarField",name:"live_viewer_count_read_only",storageKey:null},{alias:"rehearsalInfo",args:null,concreteType:"LiveVideoRehearsalInfo",kind:"LinkedField",name:"rehearsal_info",plural:!1,selections:[{alias:"typeName",args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_gaming_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"publish_time",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithLiveVideoIndicator.react",["fbt","ix","CometImage.react","CometPlaceholder.react","CometRelay","CometRouteRenderType","Duration.react","FBLogger","FDSText.react","GamingVideoBackLink.react","VideoBroadcastStatus","VideoPlayerHooks","VideoPlayerWithLiveVideoIndicator_video.graphql","clearTimeout","cr:541","deferredLoadComponent","gkx","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","setTimeout","stylex","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=l||(l=d("react"));e=l;var o=e.useEffect,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferred")("LiveVideoCometNuxForCVC.react").__setRef("VideoPlayerWithLiveVideoIndicator.react")),s={positionTop:{display:"x78zum5",height:"xxk0z11",insetInlineStart:"x1r4y97",position:"x10l6tqk",top:"x1tk7jg1",$$css:!0},positionTopWithCometNavOverlay:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0},positionTopWithCometNavOverlayWorkplace:{insetInlineStart:"xx5wi7t",top:"xoyzfg9",$$css:!0}};function a(a){var e,g=d("react-compiler-runtime").c(50),h=a.hasCometNavOverlay,i=a.includeGamingBackLink,l=a.renderedInLiveProducer,x=a.shouldExpand,y=a.shouldShowPrivacyNux;a=a.video;var z=(m||(m=d("VideoPlayerHooks"))).useIsLive(),A=m.useIsLiveRewindActive(),B=m.useIsFullscreen(),C=d("CometRouteRenderType").useIsMain(),D=m.usePlaying(),E=p(null);a=d("CometRelay").useFragment(j!==void 0?j:j=b("VideoPlayerWithLiveVideoIndicator_video.graphql"),a);var F=(e=a==null?void 0:a.videoId)!=null?e:"";if(a==null||typeof F!=="string"||F==="")throw c("FBLogger")("comet_live_video").mustfixThrow("Null video or bad videoId");var G=d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCData();e=q((e=a.liveViewerCount)!=null?e:0);var H=e[0],I=e[1];e=q(!1);var J=e[0],K=e[1];e=q(!1);var L=e[0],M=e[1],N;g[0]!==G||g[1]!==z?(e=function(){z&&G!=null&&(t(G.bs)?I(G.c):(I(0),K(!0)))},N=[G,z],g[0]=G,g[1]=z,g[2]=e,g[3]=N):(e=g[2],N=g[3]);o(e,N);g[4]!==D?(e=function(){D?(M(!0),E.current=c("setTimeout")(function(){M(!1)},3e3)):E.current&&(M(!1),c("clearTimeout")(E.current));return function(){return c("clearTimeout")(E.current)}},N=[D],g[4]=D,g[5]=e,g[6]=N):(e=g[5],N=g[6]);o(e,N);g[7]!==z||g[8]!==F?(e=function(){z&&F&&(b("cr:541")==null||b("cr:541").loadImmediately(function(a){a.LiveProducerLiveActivated(F)}))},N=[z,F],g[7]=z,g[8]=F,g[9]=e,g[10]=N):(e=g[9],N=g[10]);o(e,N);N=((e=a.rehearsalInfo)==null?void 0:e.typeName)==="LiveVideoRehearsalInfo";e=(e=a.is_gaming_video)!=null?e:!1;i=i!=null?i:!1;i=i&&C&&e;e=!z||J;if(e)return null;J=c("gkx")("22889");g[11]!==h||g[12]!==B||g[13]!==C||g[14]!==l||g[15]!==x?(e=(k||(k=c("stylex"))).props(s.positionTop,J?x!==!0&&(h||C)&&!B&&!l===!0&&s.positionTopWithCometNavOverlayWorkplace:h&&!B&&s.positionTopWithCometNavOverlay),g[11]=h,g[12]=B,g[13]=C,g[14]=l,g[15]=x,g[16]=e):e=g[16];g[17]!==i?(J=i?n.jsx(c("GamingVideoBackLink.react"),{}):null,g[17]=i,g[18]=J):J=g[18];g[19]!==A||g[20]!==N?(h={0:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v"},8:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z"},4:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1ciooss"},12:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1ciooss"},2:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},10:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},6:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1osi62z"},14:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1osi62z"},1:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},9:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},5:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},13:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},3:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},11:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"},7:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v x1d2osyd"},15:{className:"x6s0dn4 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xexx8yu x18d9i69 x25sj25 x1icxu4v xpz12be xof6966 xa4qsjk x18wbh7p xkewf8z x1d2osyd"}}[!!!A<<3|!!!A<<2|!!A<<1|!!N<<0],g[19]=A,g[20]=N,g[21]=h):h=g[21];B=N?"primary":"white";g[22]!==a?(C=u(a),g[22]=a,g[23]=C):C=g[23];g[24]!==L||g[25]!==A||g[26]!==x||g[27]!==a.publish_time?(l=x===!0&&L&&(a==null?void 0:a.publish_time)!=null&&!A&&w(a.publish_time),g[24]=L,g[25]=A,g[26]=x,g[27]=a.publish_time,g[28]=l):l=g[28];g[29]!==B||g[30]!==C||g[31]!==l?(i=n.jsxs(c("FDSText.react"),{color:B,type:"bodyLink4",children:[C,l]}),g[29]=B,g[30]=C,g[31]=l,g[32]=i):i=g[32];g[33]!==i||g[34]!==h?(N=n.jsx("div",babelHelpers["extends"]({},h,{"data-testid":void 0,children:i})),g[33]=i,g[34]=h,g[35]=N):N=g[35];g[36]!==H||g[37]!==a?(L=v(a,H),g[36]=H,g[37]=a,g[38]=L):L=g[38];g[39]!==N||g[40]!==L||g[41]!==e||g[42]!==J?(A=n.jsxs("div",babelHelpers["extends"]({},e,{children:[J,N,L]})),g[39]=N,g[40]=L,g[41]=e,g[42]=J,g[43]=A):A=g[43];g[44]!==y||g[45]!==F?(x=y===!0&&n.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:n.jsx("div",{className:"x1r4y97 x10l6tqk x1w1tb2m",children:n.jsx(r,{videoID:F})})}),g[44]=y,g[45]=F,g[46]=x):x=g[46];g[47]!==A||g[48]!==x?(B=n.jsxs(n.Fragment,{children:[A,x]}),g[47]=A,g[48]=x,g[49]=B):B=g[49];return B}function t(a){if(a==null)return!1;switch(a){case c("VideoBroadcastStatus").LIVE:case c("VideoBroadcastStatus").LIVE_STOPPED:case c("VideoBroadcastStatus").SEAL_STARTED:return!0;default:return!1}}function u(a){if((a==null?void 0:a.isPremiere)===!0)return h._(/*BTDS*/"PREMIERE");return(a==null?void 0:a.breakingStatus)===!0?h._(/*BTDS*/"LIVE BREAKING"):h._(/*BTDS*/"LIVE")}u.displayName=u.name+" [from "+f.id+"]";function v(a,b){if(a===null||b==null||b===0)return null;a=n.jsx(c("CometImage.react"),{alt:"",src:i("411339")});a=n.jsx("span",{className:"x3nfvp2 x2fvf9 x1n2onr6",children:a});return n.jsxs("div",{"aria-label":h._(/*BTDS*/"_j{\"*\":\"{number} people currently watching this video.\",\"_1\":\"1 person currently watching this video.\"}",[h._plural(b,"number",c("intlSummarizeNumber")(b))]),className:"x6s0dn4 xrmyhay xjwep3j x1t39747 x1wcsgtt x1pczhz8 x9f619 x3nfvp2 x5yr21d xdzw4kq xexx8yu x18d9i69 x25sj25 x1icxu4v","data-testid":void 0,role:"img",children:[a,n.jsx(c("FDSText.react"),{color:"primaryOnMedia",type:"body4",children:c("intlSummarizeNumber")(b)})]})}v.displayName=v.name+" [from "+f.id+"]";function w(a){return n.jsx("div",{className:"x3nfvp2 xdwrcjd",children:n.jsx(c("Duration.react"),{startTime:a*1e3,useLocalTime:!0})})}w.displayName=w.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("VideoPlayerWithVideoHomeLogging.react",["VideoPlayerHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(5),c=a.feedAggregationType,e=a.reactionVideoChannelType,f=(i||(i=d("VideoPlayerHooks"))).useController(),g;b[0]!==f||b[1]!==c||b[2]!==e?(a=function(){e!=null&&f.setLoggingToVPLAdditionalData("reaction_video_channel_type",e),c!=null&&f.setLoggingToVPLAdditionalData("feed_aggregation_type",c)},g=[f,c,e],b[0]=f,b[1]=c,b[2]=e,b[3]=a,b[4]=g):(a=b[3],g=b[4]);j(a,g);return null}g["default"]=a}),98);
__d("useVideoOriginalDimensionsRelay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoOriginalDimensionsRelay_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_rotation",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useVideoOriginalDimensionsRelay",["CometRelay","computeAspectRatio","react-compiler-runtime","useVideoOriginalDimensionsRelay_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(7);a=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoOriginalDimensionsRelay_video.graphql"),a);var f=a==null?void 0:a.original_rotation;f=f==="ROTATE_LEFT"||f==="ROTATE_RIGHT";var g=f?a==null?void 0:a.original_height:a==null?void 0:a.original_width;f=f?a==null?void 0:a.original_width:a==null?void 0:a.original_height;e[0]!==f||e[1]!==g?(a=c("computeAspectRatio")(g,f),e[0]=f,e[1]=g,e[2]=a):a=e[2];a=a;var i;e[3]!==a||e[4]!==f||e[5]!==g?(i={originalAspectRatio:a,originalHeight:f,originalWidth:g},e[3]=a,e[4]=f,e[5]=g,e[6]=i):i=e[6];return i}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("E2EEBackupCommon",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ALREADY_REGISTERED","BACKUP_KEY_PAIR_SERIALIZATION_ERROR","CLIENT_PARAMS_ERROR","NETWORK_PROVIDER_ERROR","NOT_REGISTERED","VESTA_CLIENT_ERROR","VESTA_SERVER_ERROR","ISLAND_PUB_RSA_KEY_INVALID","ISLAND_PUB_ED25519_KEY_INVALID","MISSING_PIN_INPUT","GENERAL_ERROR","INVALID_PASSWORD"]);c=function(a){function b(b,c){var d;d=a.call(this,c==null?void 0:c.message)||this;d.name="BackupError";d.errorType=b;d.detailedError=c;d.message=b+((c==null?void 0:c.message)!=null?": "+(c==null?void 0:c.message):"");return d}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f.BackupErrorType=a;f.BackupError=c}),66);
__d("E2EEBackupUtil",["tweetnacl-util"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("tweetnacl-util").encodeBase64(a).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function b(a){var b=a.replace(/-/g,"+").replace(/_/g,"/");a=a.length%4;if(a>0){if(a===1)throw new Error("Invalid length, couldn't decode input string");b=b.padEnd(b.length+(4-a),"=")}return c("tweetnacl-util").decodeBase64(b)}g.encodeBase64Url=a;g.decodeBase64Url=b}),98);
__d("MWChatEncrypedBackupsNumericCodeKeyTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NUM_PAD_WITHOUT_NUM_LOCK","NON_NUMERIC_CHAR"]);f.InvalidKeyType=a}),66);
__d("MWChatEncrypedBackupsNumericCodeValidation",[],(function(a,b,c,d,e,f){"use strict";var g=function(a){var b=/^[0-9]*$/;return b.test(a)};a=function(a,b){return a.length>b?!1:g(a)};b=function(a,b){return a.length!==b?!1:g(a)};f.numericCodeIsValid=a;f.numericCodeIsCompleted=b}),66);
__d("MWChatEncryptedBackupsNumericCodeErrorWrapper.react",["MWXColumn.react","MWXColumnItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inputWrapperErrorOnly:{paddingBottom:"x18d9i69",$$css:!0},outterWrapper:{minHeight:"x10sr9ya",$$css:!0},outterWrapperSmall:{minHeight:"x1h7t28c",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.children,f=a.error;a=a.inputSize;a=a===void 0?"large":a;var g=a==="large"?k.outterWrapper:k.outterWrapperSmall;a=a==="large"?20:0;var i;b[0]!==f?(i=(h||(h=c("stylex"))).props(f!=null&&[k.inputWrapperErrorOnly]),b[0]=f,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==i?(l=j.jsx("div",babelHelpers["extends"]({},i,{children:e})),b[2]=e,b[3]=i,b[4]=l):l=b[4];b[5]!==f?(e=f!=null?j.jsx("div",{className:"x10b6aqq x1y1aw1k x2b8uid",children:j.jsx(c("MWXText.react"),{color:"negative",testid:void 0,type:"body4",children:f})}):null,b[5]=f,b[6]=e):e=b[6];b[7]!==a||b[8]!==l||b[9]!==e?(i=j.jsxs(c("MWXColumnItem.react"),{align:"center",paddingHorizontal:a,paddingTop:0,children:[l,e]}),b[7]=a,b[8]=l,b[9]=e,b[10]=i):i=b[10];b[11]!==g||b[12]!==i?(f=j.jsx(c("MWXColumn.react"),{xstyle:g,children:i}),b[11]=g,b[12]=i,b[13]=f):f=b[13];return f}g["default"]=a}),98);
__d("useMWChatEncryptedBackupsNumericCodeInputAutoFocus",["FocusRegion.react","HiddenSubtreePassiveContext","focusScopeQueries","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function k(a){if(!("elementsFromPoint"in document))return!0;var b=a.getBoundingClientRect();b=document.elementsFromPoint(b.left+b.width/2,b.top+b.height/2);for(b of b){if(b===a)return!1;var c=window.getComputedStyle(b);if(c.visibility!=="hidden"&&c.display!=="none")return!0}return!1}function l(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=function(){var b=function(b){b.key>="0"&&b.key<="9"&&a(b.key)};window.addEventListener("keydown",b);return function(){window.removeEventListener("keydown",b)}},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);j(c,e)}function a(a,b,e){var f=d("react-compiler-runtime").c(5),g=i(c("HiddenSubtreePassiveContext")),h;f[0]!==b||f[1]!==a||f[2]!==g||f[3]!==e?(h=function(){var f=g.getCurrentState(),h=["input","textarea"].some(m);!a&&!h&&!f.hiddenOrBackgrounded&&!(e.current?k(e.current):!0)&&(c("gkx")("15923")&&d("FocusRegion.react").focusRegionById(b,d("focusScopeQueries").tabbableScopeQuery))},f[0]=b,f[1]=a,f[2]=g,f[3]=e,f[4]=h):h=f[4];l(h)}function m(a){var b;return(b=document.activeElement)==null?void 0:b.matches(a)}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputInner.react",["BaseTextInput.react","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","focusScopeQueries","gkx","qex","react","react-compiler-runtime","useMWChatEncryptedBackupsNumericCodeInputAutoFocus"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useEffect,k=b.useRef,l=b.useState,m=c("gkx")("24058"),n=function(a){return["0","1","2","3","4","5","6","7","8","9"].includes(a.key)},o=new Map([["Numpad0","0"],["Numpad1","1"],["Numpad2","2"],["Numpad3","3"],["Numpad4","4"],["Numpad5","5"],["Numpad6","6"],["Numpad7","7"],["Numpad8","8"],["Numpad9","9"]]),p=function(a){return a.location===3&&!n(a)&&!a.shiftKey&&!a.ctrlKey&&!a.altKey&&!a.metaKey?o.get((a=a.nativeEvent)==null?void 0:a.code):null},q={input:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},testOpacity:{opacity:"x1ptxcow",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(44),e=a.extraProps;a=a.props;var f=e.hasFocus,g=e.setFocus;e=a["aria-label"];var h=a.disabled,n=a.focusRegionId,o=a.inputMode,s=a.onChange,t=a.onCompletionChange,u=a.onEnabledNumLock,v=a.onPressedInvalidKey,w=a.size,x=a.testid,y=a.value,z=h===void 0?!1:h;a=l(y.length===w);var A=a[0],B=a[1],C=k(null),D=k(z);c("useMWChatEncryptedBackupsNumericCodeInputAutoFocus")(f,n,C);b[0]!==A||b[1]!==s||b[2]!==t||b[3]!==w?(h=function(a){var b=d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,w);s(a);t!=null&&b!==A&&(B(b),t(b))},b[0]=A,b[1]=s,b[2]=t,b[3]=w,b[4]=h):h=b[4];var E=h;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(){var a=r,b=C.current;b==null||b.addEventListener("selectstart",a);return function(){b==null||b.removeEventListener("selectstart",a)}},f=[],b[5]=a,b[6]=f):(a=b[5],f=b[6]);j(a,f);b[7]!==z||b[8]!==g?(h=function(){z&&g(!1)},a=[z,g],b[7]=z,b[8]=g,b[9]=h,b[10]=a):(h=b[9],a=b[10]);j(h,a);b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){var a=C.current;if(a==null)return;var b=function(){var b=a.value.length,c=a.selectionStart===a.selectionEnd&&a.selectionStart===b;c||a.setSelectionRange(b,b)};a.addEventListener("selectionchange",b);return function(){a.removeEventListener("selectionchange",b)}},h=[],b[11]=h,b[12]=f):(h=b[11],f=b[12]);j(f,h);b[13]!==z||b[14]!==n?(a=function(){D.current!==z&&(D.current=z,z||d("FocusRegion.react").focusRegionById(n,d("focusScopeQueries").tabbableScopeQuery))},f=[z,n],b[13]=z,b[14]=n,b[15]=a,b[16]=f):(a=b[15],f=b[16]);j(a,f);b[17]!==u||b[18]!==v||b[19]!==y||b[20]!==E?(h=function(a){var b=p(a);if(b!=null){v==null||v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK);if(c("qex")._("4752")===!0){b=y+b;E(b);a.preventDefault();a.stopPropagation()}}else a.key==="NumLock"&&(a.getModifierState==null?void 0:a.getModifierState("NumLock"))===!0&&(u==null||u())},b[17]=u,b[18]=v,b[19]=y,b[20]=E,b[21]=h):h=b[21];var F=h;a=x!=null?x+"-mw-numeric-code-input-prevent-composer-focus-steal":"mw-numeric-code-input-prevent-composer-focus-steal";b[22]!==g?(f=function(){g(!1)},h=function(){g(!0)},b[22]=g,b[23]=f,b[24]=h):(f=b[23],h=b[24]);var G;b[25]!==F?(G=function(a){var b=a.keyCode;(b===35||b===36||b===37||b===38||b===39||b===40)&&(a.preventDefault(),a.stopPropagation());F==null||F(a)},b[25]=F,b[26]=G):G=b[26];var H;b[27]!==v||b[28]!==w||b[29]!==E?(H=function(a){a=a.toString();d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,w)?E(a):v==null||v(d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)},b[27]=v,b[28]=w,b[29]=E,b[30]=H):H=b[30];var I;b[31]===Symbol["for"]("react.memo_cache_sentinel")?(I=[q.input,m&&q.testOpacity],b[31]=I):I=b[31];b[32]!==e||b[33]!==z||b[34]!==o||b[35]!==w||b[36]!==a||b[37]!==f||b[38]!==h||b[39]!==G||b[40]!==H||b[41]!==x||b[42]!==y?(I=i.jsx(c("BaseTextInput.react"),{"aria-label":e,autoComplete:"one-time-code",disabled:z,id:a,inputMode:o,maxLength:w,onBlur:f,onFocus:h,onKeyDown:G,onValueChange:H,ref:C,testid:void 0,value:y,xstyle:I}),b[32]=e,b[33]=z,b[34]=o,b[35]=w,b[36]=a,b[37]=f,b[38]=h,b[39]=G,b[40]=H,b[41]=x,b[42]=y,b[43]=I):I=b[43];return I}function r(a){a.preventDefault()}g["default"]=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInputRenderer.react",["MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useState,m={focusRing:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},input:{alignItems:"x6s0dn4",borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",boxSizing:"x9f619",display:"x78zum5",height:"xng8ra",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1o817pb",$$css:!0},inputBox:{marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",$$css:!0},inputColorPrimary:{backgroundColor:"xljulmy",$$css:!0},inputColorSecondary:{backgroundColor:"xwcfey6",$$css:!0},inputSmall:{height:"xaymia4",width:"x1bgwkul",$$css:!0},inputTiny:{height:"x1vqgdyp",width:"x10faclu",$$css:!0}},n="-",o="\u25cf";function p(a,b){return b?"disabled":a===n?"secondary":"primary"}function a(a){var b=d("react-compiler-runtime").c(28),e=a.color,f=a.disabled,g=a.enableMasking,i=a.hasFocus,q=a.inputSize,r=a.size,s=a.testid,t=a.value,u=e===void 0?"primary":e,v=f===void 0?!1:f,w=g===void 0?!1:g,x=q===void 0?"large":q;a=s===void 0?"numeric-renderer":s;b[0]!==i||b[1]!==r||b[2]!==t?(e=function(a){return(t.length===a||t.length>a&&a===r-1)&&i},b[0]=i,b[1]=r,b[2]=t,b[3]=e):e=b[3];var y=e;b[4]!==r?(f=Array(r).fill(n),b[4]=r,b[5]=f):f=b[5];g=l(f);q=g[0];var z=g[1];b[6]!==w||b[7]!==r||b[8]!==t?(s=function(){z(Array(r).fill().map(function(a,b){return t[b]!=null?w?o:t[b]:n}))},e=[w,r,t],b[6]=w,b[7]=r,b[8]=t,b[9]=s,b[10]=e):(s=b[9],e=b[10]);k(s,e);if(b[11]!==u||b[12]!==v||b[13]!==w||b[14]!==x||b[15]!==y||b[16]!==a||b[17]!==q){b[19]!==u||b[20]!==v||b[21]!==w||b[22]!==x||b[23]!==y||b[24]!==a?(f=function(a,b){return j.jsx(c("MWXRowItem.react"),{xstyle:m.inputBox,children:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(m.input,x==="small"&&m.inputSmall,x==="tiny"&&m.inputTiny,u==="primary"&&m.inputColorPrimary,u==="secondary"&&m.inputColorSecondary,y(b)&&m.focusRing),{"aria-hidden":a===n,"data-testid":void 0,children:w?j.jsx(c("MWXText.react"),{color:p(a,v),type:a===n?"entityHeaderHeadline1":"headlineEmphasized4",children:v?o:a}):j.jsx(c("MWXText.react"),{color:p(a,v),type:a===n?"entityHeaderHeadline1":"headlineEmphasized1",children:a})}))},b)},b[19]=u,b[20]=v,b[21]=w,b[22]=x,b[23]=y,b[24]=a,b[25]=f):f=b[25];g=q.map(f);b[11]=u;b[12]=v;b[13]=w;b[14]=x;b[15]=y;b[16]=a;b[17]=q;b[18]=g}else g=b[18];b[26]!==g?(s=j.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,role:"group",spacing:0,children:g}),b[26]=g,b[27]=s):s=b[27];return s}g.MWChatEncryptedBackupsNumericCodeInputRenderer=a}),98);
__d("MWChatEncryptedBackupsNumericCodeInput.react",["MWChatEncryptedBackupsNumericCodeInputInner.react","MWChatEncryptedBackupsNumericCodeInputRenderer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState;function a(a){var b=d("react-compiler-runtime").c(18),e=a.enableMasking,f=a.inputSize,g=a.size,h=a.testid,k=a.value,l=j(!1),m=l[0];l=l[1];var n;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x1n2onr6"},b[0]=n):n=b[0];var o;b[1]!==e||b[2]!==m||b[3]!==a.color||b[4]!==a.disabled||b[5]!==f||b[6]!==g||b[7]!==h||b[8]!==k?(o=i.jsx(d("MWChatEncryptedBackupsNumericCodeInputRenderer.react").MWChatEncryptedBackupsNumericCodeInputRenderer,{color:a.color,disabled:a.disabled,enableMasking:e,hasFocus:m,inputSize:f,size:g,testid:void 0,value:k}),b[1]=e,b[2]=m,b[3]=a.color,b[4]=a.disabled,b[5]=f,b[6]=g,b[7]=h,b[8]=k,b[9]=o):o=b[9];b[10]!==m?(e={hasFocus:m,setFocus:l},b[10]=m,b[11]=e):e=b[11];b[12]!==a||b[13]!==e?(f=i.jsx(c("MWChatEncryptedBackupsNumericCodeInputInner.react"),{extraProps:e,props:a}),b[12]=a,b[13]=e,b[14]=f):f=b[14];b[15]!==o||b[16]!==f?(g=i.jsxs("div",babelHelpers["extends"]({},n,{children:[o,f]})),b[15]=o,b[16]=f,b[17]=g):g=b[17];return g}g["default"]=a}),98);
__d("MWChatEncryptedBackupsPINInterstitialIcon.react",["ix","CometImageFromIXValue.react","gkx","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("gkx")("23433");function a(a){var b=d("react-compiler-runtime").c(9),e=a.alt,f=a.ref;a=a.xstyle;var g=c("useCurrentDisplayMode")();g=g==="dark";var i;b[0]!==g?(i=g?h("901817"):h("901819"),b[0]=g,b[1]=i):i=b[1];g=i;b[2]!==g?(i=k?g:h("398891"),b[2]=g,b[3]=i):i=b[3];g=i;b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==a?(i=j.jsx(c("CometImageFromIXValue.react"),{alt:e,ref:f,source:g,xstyle:a}),b[4]=e,b[5]=f,b[6]=g,b[7]=a,b[8]=i):i=b[8];return i}g["default"]=a}),98);
__d("MWChatEncryptedBackupsUpsellJewelChatTabLayout.react",["CometScrollView.react","MWXColumnItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=d("react-compiler-runtime").c(18),f=a.bottomItem,g=a.children,h=a.ref,j=a.size;a=a.topItem;b=(b=a==null?void 0:a.align)!=null?b:"start";j=j==="small"?8:16;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"x21xpn4"},e[0]=k):k=e[0];a=a==null?void 0:a.item;e[1]!==a?(k=i.jsx("div",babelHelpers["extends"]({},k,{children:a})),e[1]=a,e[2]=k):k=e[2];e[3]!==b||e[4]!==j||e[5]!==k?(a=i.jsx(c("MWXColumnItem.react"),{align:b,paddingHorizontal:16,paddingTop:j,children:k}),e[3]=b,e[4]=j,e[5]=k,e[6]=a):a=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5 x1iyjqo2"},e[7]=b):b=e[7];e[8]!==g||e[9]!==h?(j=i.jsx("div",babelHelpers["extends"]({},b,{ref:h,children:g})),e[8]=g,e[9]=h,e[10]=j):j=e[10];e[11]===Symbol["for"]("react.memo_cache_sentinel")?(k={className:"xisnujt"},e[11]=k):k=e[11];e[12]!==f?(b=i.jsx(c("MWXColumnItem.react"),{paddingHorizontal:16,paddingVertical:12,children:i.jsx("div",babelHelpers["extends"]({},k,{children:f}))}),e[12]=f,e[13]=b):b=e[13];e[14]!==b||e[15]!==a||e[16]!==j?(g=i.jsxs(c("CometScrollView.react"),{children:[a,j,b]}),e[14]=b,e[15]=a,e[16]=j,e[17]=g):g=e[17];return g}b=a;e=b;g["default"]=e}),98);
__d("MWEBFlowSourceContextProvider.react",["MWEBFlowSourceContext","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.source;var f;b[0]!==a?(f={source:a},b[0]=a,b[1]=f):f=b[1];a=f;f=a;b[2]!==e||b[3]!==f?(a=i.jsx(c("MWEBFlowSourceContext").Provider,{value:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWEBPinCodeSize",[],(function(a,b,c,d,e,f){"use strict";a=6;f.EB_PIN_CODE_SIZE=a}),66);
__d("VestaClientBootstrap",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);function j(a,b){return a[b]}var k=i.length;function l(a){if(a<36)return;i[a]=k;k=a}function m(a){var b=j(i,a);l(a);return b}function n(a){k===i.length&&i.push(i.length+1);var b=k;k=j(i,b);i[b]=a;return b}function o(a){return a}var p=new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});p.decode();var q=null;function r(){var a=o(h.memory);(q===null||q.buffer!==a.buffer)&&(q=new Uint8Array(a.buffer));return q}function s(a,b){return p.decode(r().subarray(a,a+b))}function t(a,b){try{return a.apply(void 0,b)}catch(b){a=o(h.__wbindgen_exn_store);a(n(b))}}function u(a,b){return r().subarray(a/1,a/1+b)}async function v(a,b){if(typeof WebAssembly.instantiateStreaming==="function")return WebAssembly.instantiateStreaming(a,b);a=await a.arrayBuffer();return WebAssembly.instantiate(a,b)}async function w(b){var d=arguments,e={wbg:{__wbg_buffer_de1150f91b23aa89:function(a){return n(j(i,a).buffer)},__wbg_call_4573f605ca4b5f10:function(){return t(function(a,b){a=j(i,a).call(j(i,b));return n(a)},d)},__wbg_crypto_98fc271021c7d2ad:function(a){return n(j(i,a).crypto)},__wbg_getRandomValues_98117e9a7e993920:function(){return t(function(a,b){j(i,a).getRandomValues(j(i,b))},arguments)},__wbg_global_8c35aeee4ac77f2b:function(){return t(function(){var b=a.global;return n(b)},d)},__wbg_globalThis_56d9c9f814daeeee:function(){return t(function(){return n(window)},d)},__wbg_length_e09c0b925ab8de5d:function(a){return j(i,a).length},__wbg_modulerequire_3440a4bcf44437db:function(){return t(function(a,b){a=f.require(s(a,b));return n(a)},d)},__wbg_msCrypto_a2cdb043d2bfe57f:function(a){return n(j(i,a).msCrypto)},__wbg_new_97cf52648830a70d:function(a){return n(new Uint8Array(j(i,a)))},__wbg_newnoargs_fc5356289219b93b:function(a,b){a=new Function(s(a,b));return n(a)},__wbg_newwithlength_e833b89f9db02732:function(a){return n(new Uint8Array(a>>>0))},__wbg_node_4b517d861cbcb3bc:function(a){return n(j(i,a).node)},__wbg_process_2f24d6544ea7b200:function(a){return n(j(i,a).process)},__wbg_randomFillSync_64cc7d048f228ca8:function(){return t(function(a,b,c){j(i,a).randomFillSync(u(b,c))},d)},__wbg_self_ba1ddafe9ea7a3a2:function(){return t(function(){var a=self.self;return n(a)},d)},__wbg_set_a0172b213e2469e9:function(a,b,c){return j(i,a).set(j(i,b),c>>>0)},__wbg_subarray_9482ae5cd5cd99d3:function(a,b,c){return n(j(i,a).subarray(b>>>0,c>>>0))},__wbg_versions_6164651e75405d4a:function(a){return n(j(i,a).versions)},__wbg_window_be3cc430364fd32c:function(){return t(function(){var a=window.window;return n(a)},d)},__wbindgen_is_object:function(a){return typeof j(i,a)==="object"&&j(i,a)!==null},__wbindgen_is_string:function(a){return typeof j(i,a)==="string"},__wbindgen_is_undefined:function(a){return j(i,a)===void 0},__wbindgen_memory:function(){return n(h.memory)},__wbindgen_object_clone_ref:function(a){return n(j(i,a))},__wbindgen_object_drop_ref:m,__wbindgen_throw:function(a,b){throw c("FBLogger")("wasm_vesta_client").mustfixThrow(s(a,b))}}},g=await window.fetch(b),k=await v(await g,e),l=k.instance;h=l.exports;w.__wbindgen_wasm_module=f;return l}g.default=w}),98);
__d("VestaClientError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(b){var c;c=a.call(this,b)||this;c.message=b;return c}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("mapVestaClientError",["VestaClientError"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 1:return new h();case 2:return new i();case 3:return new j();case 4:return new k();case 5:return new l();case 6:return new m();case 7:return new n();case 8:return new o();case 9:return new p();case 10:return new q();case 11:return new r();case 12:return new s();default:return new t()}}var h=function(a){function b(b){b===void 0&&(b="Buffer supplied to WASM for response is too small");b=a.call(this,b)||this;b.name="InsufficientResultBuffer";return b}babelHelpers.inheritsLoose(b,a);return b}(b=c("VestaClientError")),i=function(a){function b(b){b===void 0&&(b="Incorrect user password supplied during login");b=a.call(this,b)||this;b.name="InvalidUserPassword";return b}babelHelpers.inheritsLoose(b,a);return b}(b),j=function(a){function b(b){b===void 0&&(b="Invalid input from server");b=a.call(this,b)||this;b.name="MalformedServerResponse";return b}babelHelpers.inheritsLoose(b,a);return b}(b),k=function(a){function b(b){b===void 0&&(b="Invalid input from client");b=a.call(this,b)||this;b.name="MalformedClientInput";return b}babelHelpers.inheritsLoose(b,a);return b}(b),l=function(a){function b(b){b===void 0&&(b="Error during encryption operation");b=a.call(this,b)||this;b.name="EncryptionFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),m=function(a){function b(b){b===void 0&&(b="Error during decryption operation");b=a.call(this,b)||this;b.name="DecryptionFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),n=function(a){function b(b){b===void 0&&(b="Error during serialization operation.");b=a.call(this,b)||this;b.name="SerializationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),o=function(a){function b(b){b===void 0&&(b="Error deserializing inputs, likely due to malformed input");b=a.call(this,b)||this;b.name="DeserializationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),p=function(a){function b(b){b===void 0&&(b="Passed RSA public key is in an invalid format.");b=a.call(this,b)||this;b.name="RsaInvalidKey";return b}babelHelpers.inheritsLoose(b,a);return b}(b),q=function(a){function b(b){b===void 0&&(b="Unable to verify RSA signature");b=a.call(this,b)||this;b.name="RsaVerificationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),r=function(a){function b(b){b===void 0&&(b="Passed Ed25519 public key is in an invalid format.");b=a.call(this,b)||this;b.name="Ed25519InvalidKey";return b}babelHelpers.inheritsLoose(b,a);return b}(b),s=function(a){function b(b){b===void 0&&(b="Unable to verify Ed25519 signature");b=a.call(this,b)||this;b.name="Ed25519VerificationFailure";return b}babelHelpers.inheritsLoose(b,a);return b}(b),t=function(a){function b(b){b===void 0&&(b="Unknown error code received from WASM binary");b=a.call(this,b)||this;b.name="UnknownErrorCode";return b}babelHelpers.inheritsLoose(b,a);return b}(b);g.mapErrorCode=a;g.DeserializationFailure=o}),98);
__d("VestaClient",["$InternalEnum","VestaClientBootstrap","bx","mapVestaClientError"],(function(a,b,c,d,e,f,g){"use strict";var h=4096,i,j;async function k(){var a=await c("VestaClientBootstrap")(c("bx").getURL(c("bx")("604")));i=a.exports;j=l(i.memory)}function l(a){return a}async function a(a,b){(i===void 0||j===void 0)&&await k();var c=0,e=new Uint8Array(j.buffer,c,a.byteLength);e.set(a);c+=e.byteLength;a=new Uint8Array(j.buffer,c,b.byteLength);a.set(b);c+=a.byteLength;b=new Uint8Array(j.buffer,c,h);var f=l(i.vesta_client_validate_hsm_key);f=f(e.byteOffset,e.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength);if(f!==0)throw d("mapVestaClientError").mapErrorCode(f);e=new DataView(j.buffer,c,h);a=q(e);return a[0][0]!==0}async function e(a){(i===void 0||j===void 0)&&await k();var b=0,c=new Uint8Array(j.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(j.buffer,b,h);var e=l(i.vesta_client_begin_register);e=e(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(e!==0)throw d("mapVestaClientError").mapErrorCode(e);c=new DataView(j.buffer,b,h);a=q(c);return{clientState:new Uint8Array(a[1]),r1Message:new Uint8Array(a[0])}}var m=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);async function f(a,b,c,e,f,g,n,o,p,r){p===void 0&&(p=0);r===void 0&&(r=m.WaBackupKeyData);(i===void 0||j===void 0)&&await k();var s=0,t=new Uint8Array(j.buffer,s,a.byteLength);t.set(a);s+=a.byteLength;a=new Uint8Array(j.buffer,s,b.byteLength);a.set(b);s+=b.byteLength;b=new Uint8Array(j.buffer,s,c.byteLength);b.set(c);s+=c.byteLength;c=new Uint8Array(j.buffer,s,e.byteLength);c.set(e);s+=e.byteLength;e=new Uint8Array(j.buffer,s,f.byteLength);e.set(f);s+=f.byteLength;f=new Uint8Array(j.buffer,s,g.byteLength);f.set(g);s+=g.byteLength;g=new Uint8Array(j.buffer,s,n.byteLength);g.set(n);s+=n.byteLength;n=new Uint8Array(j.buffer,s,o.byteLength);n.set(o);s+=o.byteLength;o=new Uint8Array(j.buffer,s,h);if(r===m.Raw){r=l(i.vesta_client_finish_register);r=r(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,n.byteOffset,n.byteLength,p,o.byteOffset,o.byteLength)}else{var u=l(i.vesta_client_finish_register_proto);r=u(t.byteOffset,t.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,e.byteOffset,e.byteLength,f.byteOffset,f.byteLength,g.byteOffset,g.byteLength,n.byteOffset,n.byteLength,p,o.byteOffset,o.byteLength)}if(r!==0)throw d("mapVestaClientError").mapErrorCode(r);u=new DataView(j.buffer,s,h);t=q(u);return{registerIdentifier:new Uint8Array(t[1]),registerPayload:new Uint8Array(t[0])}}async function n(a){(i===void 0||j===void 0)&&await k();var b=0,c=new Uint8Array(j.buffer,b,a.byteLength);c.set(a);b+=c.byteLength;a=new Uint8Array(j.buffer,b,h);var e=l(i.vesta_client_begin_login);e=e(c.byteOffset,c.byteLength,a.byteOffset,a.byteLength);if(e!==0)throw d("mapVestaClientError").mapErrorCode(e);c=new DataView(j.buffer,b,h);a=q(c);return{clientState:new Uint8Array(a[1]),l1Message:new Uint8Array(a[0])}}async function o(a,b,c,e){(i===void 0||j===void 0)&&await k();var f=0,g=new Uint8Array(j.buffer,f,a.byteLength);g.set(a);f+=a.byteLength;a=new Uint8Array(j.buffer,f,b.byteLength);a.set(b);f+=b.byteLength;b=new Uint8Array(j.buffer,f,c.byteLength);b.set(c);f+=c.byteLength;c=new Uint8Array(j.buffer,f,e.byteLength);c.set(e);f+=e.byteLength;e=new Uint8Array(j.buffer,f,h);var m=l(i.vesta_client_finish_login);m=m(g.byteOffset,g.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength,e.byteOffset,e.byteLength);if(m!==0)throw d("mapVestaClientError").mapErrorCode(m);g=new DataView(j.buffer,f,h);a=q(g);return{exportKey:new Uint8Array(a[2]),l3Message:new Uint8Array(a[0]),sessionKey:new Uint8Array(a[1])}}async function p(a,b,c,e){e===void 0&&(e=m.WaBackupKeyData);(i===void 0||j===void 0)&&await k();var f=0,g=new Uint8Array(j.buffer,f,a.byteLength);g.set(a);f+=a.byteLength;a=new Uint8Array(j.buffer,f,b.byteLength);a.set(b);f+=b.byteLength;b=new Uint8Array(j.buffer,f,c.byteLength);b.set(c);f+=c.byteLength;c=new Uint8Array(j.buffer,f,h);if(e===m.Raw){e=l(i.vesta_client_unpack_login_payload);e=e(g.byteOffset,g.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}else{var n=l(i.vesta_client_unpack_login_payload_proto);e=n(g.byteOffset,g.byteLength,a.byteOffset,a.byteLength,b.byteOffset,b.byteLength,c.byteOffset,c.byteLength)}if(e!==0)throw d("mapVestaClientError").mapErrorCode(e);n=new DataView(j.buffer,f,h);g=q(n);return{userSecret:new Uint8Array(g[0])}}function q(a){var b=[],c=0,d=a.getUint8(c++);for(var e=0;e<d;e++){var f=a.getUint32(c);c+=4;b[e]=[];for(var g=0;g<f;g++)b[e].push(a.getUint8(c++))}return b}g.validateHsmKey=a;g.beginRegister=e;g.SerializationMode=m;g.finishRegister=f;g.beginLogin=n;g.finishLogin=o;g.unpackLoginPayload=p}),98);
__d("VestaGetWasm",["WAWasmModuleCache","bx"],(function(a,b,c,d,e,f,g){"use strict";var h=c("bx").getURL(c("bx")("72238"));a=function(){return d("WAWasmModuleCache").loadWasmModule(h)};g.getVestaWasm=a}),98);
__d("VestaWasm.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={},p={};a.name="ValidateHsmKeyRequest";a.internalSpec={hsmKey:[1,(d=d("WAProtoConst")).FLAGS.REQUIRED|d.TYPES.BYTES],signature:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};b.name="ValidateHsmKeyResponse";b.internalSpec={isValid:[1,d.FLAGS.REQUIRED|d.TYPES.BOOL]};c.name="BeginRegisterRequest";c.internalSpec={password:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};e.name="BeginRegisterResponse";e.internalSpec={r1Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};f.name="FinishRegisterRequest";f.internalSpec={r1Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],r2Message:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],r2MessageSig:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],islandEd25519Pub:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[5,d.FLAGS.REQUIRED|d.TYPES.BYTES],userSecret:[6,d.FLAGS.REQUIRED|d.TYPES.BYTES],registrationChallenge:[7,d.FLAGS.REQUIRED|d.TYPES.BYTES],hsmRsaPublicKey:[8,d.FLAGS.REQUIRED|d.TYPES.BYTES],loginAttempts:[9,d.TYPES.UINT32],useProtobufMode:[10,d.FLAGS.REQUIRED|d.TYPES.BOOL]};h.name="FinishRegisterResponse";h.internalSpec={registrationPayloadEncrypted:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],registrationIdentifier:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};i.name="BeginLoginRequest";i.internalSpec={password:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};j.name="BeginLoginResponse";j.internalSpec={l1Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES]};k.name="FinishLoginRequest";k.internalSpec={l2Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],l2MessageSig:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],islandEd25519Pub:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],clientState:[4,d.FLAGS.REQUIRED|d.TYPES.BYTES]};l.name="FinishLoginResponse";l.internalSpec={l3Message:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],sessionKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],exportKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES]};m.name="UnpackLoginPayloadRequest";m.internalSpec={loginPayload:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES],sessionKey:[2,d.FLAGS.REQUIRED|d.TYPES.BYTES],exportKey:[3,d.FLAGS.REQUIRED|d.TYPES.BYTES],useProtobufMode:[4,d.FLAGS.REQUIRED|d.TYPES.BOOL]};n.name="UnpackLoginPayloadResponse";n.internalSpec={userSecret:[1,d.FLAGS.REQUIRED|d.TYPES.BYTES]};o.name="CliCommand";o.internalSpec={validateHsmKey:[1,d.TYPES.MESSAGE,a],beginRegister:[2,d.TYPES.MESSAGE,c],finishRegister:[3,d.TYPES.MESSAGE,f],beginLogin:[4,d.TYPES.MESSAGE,i],finishLogin:[5,d.TYPES.MESSAGE,k],unpackLoginPayload:[6,d.TYPES.MESSAGE,m],__oneofs__:{command:["validateHsmKey","beginRegister","finishRegister","beginLogin","finishLogin","unpackLoginPayload"]}};p.name="CliResponse";p.internalSpec={errorCode:[1,d.FLAGS.REQUIRED|d.TYPES.INT32],validateHsmKey:[2,d.TYPES.MESSAGE,b],beginRegister:[3,d.TYPES.MESSAGE,e],finishRegister:[4,d.TYPES.MESSAGE,h],beginLogin:[5,d.TYPES.MESSAGE,j],finishLogin:[6,d.TYPES.MESSAGE,l],unpackLoginPayload:[7,d.TYPES.MESSAGE,n],__oneofs__:{response:["validateHsmKey","beginRegister","finishRegister","beginLogin","finishLogin","unpackLoginPayload"]}};g.ValidateHsmKeyRequestSpec=a;g.ValidateHsmKeyResponseSpec=b;g.BeginRegisterRequestSpec=c;g.BeginRegisterResponseSpec=e;g.FinishRegisterRequestSpec=f;g.FinishRegisterResponseSpec=h;g.BeginLoginRequestSpec=i;g.BeginLoginResponseSpec=j;g.FinishLoginRequestSpec=k;g.FinishLoginResponseSpec=l;g.UnpackLoginPayloadRequestSpec=m;g.UnpackLoginPayloadResponseSpec=n;g.CliCommandSpec=o;g.CliResponseSpec=p}),98);
__d("VestaClientV2",["$InternalEnum","VestaClientError","VestaGetWasm","VestaWasm.pb","WAByteArray","WAResultOrError","WATagsLogger","WAWasmReactor","err","mapVestaClientError"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("WATagsLogger").TAGS(["VestaClient"]),j=0,k="VestaClientV2_REPL",l=function(){function a(){if(!a.$2){var b=d("WAWasmReactor").createWasmInstance(d("VestaGetWasm").getVestaWasm,k);a.$1=b;return}throw c("err")("VestaWasmReactorSingleton is already initialized")}a.getInstance=function(){if(!a.$2){var b=new a();a.$2=b;b=d("WAWasmReactor").createWasmInstance(d("VestaGetWasm").getVestaWasm,k);a.$1=b}return a.$2};var b=a.prototype;b.createWasmReactorCommand=async function(b){var d=b.InputSpec,e=b.ResultSpec;b=b.validateResult;var f=await a.$1;if(!f)throw c("err")("wasmReactor is not initialized");return f.createWasmCommand({InputSpec:d,ResultSpec:e,validateResult:b})};return a}();l.$1=null;l.$2=null;var m=function(a){var b=l.getInstance();if(!b)throw c("err")("VestaWasmReactorSingleton is not initialized");return b.createWasmReactorCommand(a)};function n(a){var b=a.processResult;function e(a){var e=a.errorCode;if(e!==j){i.ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Vesta error: ",""])),e);return d("WAResultOrError").makeError(d("mapVestaClientError").mapErrorCode(e))}try{return d("WAResultOrError").makeResult(b(a))}catch(a){if(a instanceof c("VestaClientError"))return d("WAResultOrError").makeError(a);throw a}}return m({InputSpec:d("VestaWasm.pb").CliCommandSpec,ResultSpec:d("VestaWasm.pb").CliResponseSpec,validateResult:e})}function a(a,b){var c=n({processResult:function(a){if(a.validateHsmKey)return a.validateHsmKey.isValid;throw new(d("mapVestaClientError").DeserializationFailure)()}}),e={validateHsmKey:{hsmKey:d("WAByteArray").uint8ArrayToBuffer(a),signature:d("WAByteArray").uint8ArrayToBuffer(b)}};return c.then(function(a){return a(e)})}function e(a){var b=n({processResult:function(a){if(a.beginRegister){a=a.beginRegister;return{clientState:new Uint8Array(a.clientState),r1Message:new Uint8Array(a.r1Message)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),c={beginRegister:{password:d("WAByteArray").uint8ArrayToBuffer(a)}};return b.then(function(a){return a(c)})}var o=b("$InternalEnum").Mirrored(["WaBackupKeyData","Raw"]);function f(a,b,c,e,f,g,h,i,j,k){j===void 0&&(j=0);k===void 0&&(k=o.WaBackupKeyData);var l=n({processResult:function(a){if(a.finishRegister){a=a.finishRegister;return{registerIdentifier:new Uint8Array(a.registrationIdentifier),registerPayload:new Uint8Array(a.registrationPayloadEncrypted)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),m={finishRegister:{clientState:d("WAByteArray").uint8ArrayToBuffer(f),hsmRsaPublicKey:d("WAByteArray").uint8ArrayToBuffer(i),islandEd25519Pub:d("WAByteArray").uint8ArrayToBuffer(e),loginAttempts:j>0?j:void 0,r1Message:d("WAByteArray").uint8ArrayToBuffer(a),r2Message:d("WAByteArray").uint8ArrayToBuffer(b),r2MessageSig:d("WAByteArray").uint8ArrayToBuffer(c),registrationChallenge:d("WAByteArray").uint8ArrayToBuffer(h),useProtobufMode:k===o.WaBackupKeyData,userSecret:d("WAByteArray").uint8ArrayToBuffer(g)}};return l.then(function(a){return a(m)})}function p(a){var b=n({processResult:function(a){if(a.beginLogin){a=a.beginLogin;return{clientState:new Uint8Array(a.clientState),l1Message:new Uint8Array(a.l1Message)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),c={beginLogin:{password:d("WAByteArray").uint8ArrayToBuffer(a)}};return b.then(function(a){return a(c)})}function q(a,b,c,e){var f,g=n({processResult:function(a){if(a.finishLogin){a=a.finishLogin;return{exportKey:new Uint8Array(a.exportKey),l3Message:new Uint8Array(a.l3Message),sessionKey:new Uint8Array(a.sessionKey)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),h={finishLogin:{clientState:(f=d("WAByteArray")).uint8ArrayToBuffer(e),islandEd25519Pub:f.uint8ArrayToBuffer(c),l2Message:f.uint8ArrayToBuffer(a),l2MessageSig:f.uint8ArrayToBuffer(b)}};return g.then(function(a){return a(h)})}function r(a,b,c,e){e===void 0&&(e=o.WaBackupKeyData);var f=n({processResult:function(a){if(a.unpackLoginPayload){a=a.unpackLoginPayload;return{userSecret:new Uint8Array(a.userSecret)}}throw new(d("mapVestaClientError").DeserializationFailure)()}}),g={unpackLoginPayload:{exportKey:d("WAByteArray").uint8ArrayToBuffer(c),loginPayload:d("WAByteArray").uint8ArrayToBuffer(a),sessionKey:d("WAByteArray").uint8ArrayToBuffer(b),useProtobufMode:e===o.WaBackupKeyData}};return f.then(function(a){return a(g)})}g.validateHsmKey=a;g.beginRegister=e;g.SerializationMode=o;g.finishRegister=f;g.beginLogin=p;g.finishLogin=q;g.unpackLoginPayload=r}),98);
__d("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError",["fbt","MWChatEncrypedBackupsNumericCodeKeyTypes"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR)return b==="pin"?h._(/*BTDS*/"Your PIN can only contain numbers"):null;else if(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK)return h._(/*BTDS*/"Press num lock to use the numeric keypad")}g["default"]=a}),226);
__d("useMWChatEncryptedBackupsNumericCode",["fbt","FocusRegion.react","MWChatEncrypedBackupsNumericCodeKeyTypes","MWChatEncrypedBackupsNumericCodeValidation","MWLogInteraction","focusScopeQueries","getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError","promiseDone","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i||(i=d("react"));var j=i.useState,k={confirmPin:h._(/*BTDS*/"Confirm your PIN"),otc:h._(/*BTDS*/"One-time code"),pin:h._(/*BTDS*/"PIN")};function a(a){var b=a.checkPreviouslyInsertedCode,e=a.clearInputOnComplete,f=e===void 0?!1:e;e=a.enableMasking;var g=a.focusRegionId,h=a.inputSize,i=a.onChange,l=a.onComplete;a=a.type;var m=j(!1),n=m[0],o=m[1];m=j(!0);var p=m[0],q=m[1];m=j("");var r=m[0],s=m[1];m=j(null);var t=m[0],u=m[1];m=function(a){u(null),q(!a)};var v=async function(a){if(d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsCompleted(a,h)){d("MWLogInteraction").logPopoverOpenCancel("initiate_restore");if(b!=null){var c=b.onCodeMismatch,e=b.previouslyInsertedCode;e=e===a;if(!e){c();return}}q(!0);o(!0);try{await l(a),f&&s("")}catch(a){s("")}finally{o(!1)}}},w=b!=null&&a==="pin"?"confirmPin":a;return[{"aria-label":k[w],disabled:n,enableMasking:e,focusRegionId:g,onChange:function(a){var b=function(){d("MWChatEncrypedBackupsNumericCodeValidation").numericCodeIsValid(a,h)&&(s(a),u(null),i==null||i(a),c("promiseDone")(v(a)))};b()},onCompletionChange:m,onEnabledNumLock:function(){t===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&u(null)},onPressedInvalidKey:function(a){(a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NON_NUMERIC_CHAR||a===d("MWChatEncrypedBackupsNumericCodeKeyTypes").InvalidKeyType.NUM_PAD_WITHOUT_NUM_LOCK&&c("qex")._("4752")!==!0)&&u(a)},size:h,value:r},{clearNumericInput:function(){return s("")},disabled:p,focusOnInput:function(){d("FocusRegion.react").focusRegionById(g,d("focusScopeQueries").tabbableScopeQuery)},invalidKeyPressedError:c("getMWChatEncryptedBackupsPinCodeInvalidKeyPressedError")(t,a),isLoading:n,onPress:function(){c("promiseDone")(v(r))}}]}g.useMWChatEncryptedBackupsNumericCode=a}),226);/*FB_PKG_DELIM*/
__d("CometFeedStoryOptimisticWithStory.react",["OptimisticLoadingTypeEnum","cometComposerLogger","cr:4048","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useEffect,k=e.useRef,l={bounce:{animationDuration:"x1ykxiw6",animationName:"xu6u0q5",$$css:!0},preview:{opacity:"x1ks1olk",$$css:!0},previewTransform:{transform:"x1jec706",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(13),f=a.children,g=a.creationSessionID,h=a.optimisticLoadingType,m=k(!1),n=k(!1),o;e[0]!==g||e[1]!==h?(a=function(){g!=null&&!m.current&&h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&(m.current=!0,c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_OPTIMISTIC_POST",typeOfOptimisticPost:"OPTIMISTIC_POST_WITH_STORY"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},g)),g!=null&&!n.current&&h===c("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&(n.current=!0,c("cometComposerLogger")({fields:{publishFlowOptimisticStep:"INSERT_REAL_POST"},type:"COMPOSER_PUBLISH_FLOW_OPTIMISTIC_PROCESS"},g))},o=[g,h],e[0]=g,e[1]=h,e[2]=a,e[3]=o):(a=e[2],o=e[3]);j(a,o);a=h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW?"FeedCometOptimisticPostPreview":null;o=h===c("OptimisticLoadingTypeEnum").SHOW_ANIMATION&&l.bounce;var p=h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&l.preview,q=h===c("OptimisticLoadingTypeEnum").SHOW_POST_PREVIEW&&l.previewTransform,r;e[4]!==o||e[5]!==p||e[6]!==q?(r=[o,p,q],e[4]=o,e[5]=p,e[6]=q,e[7]=r):r=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=b("cr:4048")!=null&&i.jsx(b("cr:4048"),{}),e[8]=o):o=e[8];e[9]!==f||e[10]!==r||e[11]!==a?(p=i.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:r,children:[o,f]}),e[9]=f,e[10]=r,e[11]=a,e[12]=p):p=e[12];return p}g["default"]=a}),98);
__d("groupsCometFetchStoryFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnitStoryStrategy_feedUnit"},{args:null,kind:"FragmentSpread",name:"CometFeedUnitContainerSection_feedUnit"},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null}],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"GroupsCometSectionHeader_groupsSectionHeaderUnit"}],type:"GroupsSectionHeaderUnit",abstractKey:null},{args:null,kind:"FragmentSpread",name:"CometFeedUnit_feedUnit"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Story",abstractKey:null}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],type:"Node",abstractKey:"__isNode"};e.exports=a}),null);
__d("groupsCometFetchStoryQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24768247176136469"}),null);
__d("groupsCometFetchStoryQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","groupsCometFetchStoryQuery_facebookRelayOperation","CometUFICommentAvatarStickerAnimatedImage.relayprovider","IsWorkUser.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","FeedDeepDiveTopicPillThreadViewEnabled.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","CometImmersivePhotoCanUserDisable3DMotion.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider","IsMergQAPolls.relayprovider","FBReels_enable_meta_ai_label_gk.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider","GroupsCometGYSJFeedItemHeight.relayprovider","StoriesShouldIncludeFbNotes.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},c={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},d={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},e={defaultValue:null,kind:"LocalArgument",name:"id"},f={defaultValue:null,kind:"LocalArgument",name:"privacySelectorRenderLocation"},g={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},h={defaultValue:null,kind:"LocalArgument",name:"scale"},i={defaultValue:!1,kind:"LocalArgument",name:"useDefaultActor"},j=[{kind:"Variable",name:"id",variableName:"id"}],k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"matched_terms",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},p=[l],q={kind:"InlineFragment",selections:p,type:"Node",abstractKey:"__isNode"},r={alias:null,args:[{kind:"Literal",name:"framework",value:"WARNING_SCREENS"},{kind:"Literal",name:"location",value:"unknown"}],concreteType:"CIXScreen",kind:"LinkedField",name:"cix_screen",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"view_model",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"render_type",storageKey:null}],type:"OverlayWarningScreenViewModel",abstractKey:null},q],storageKey:null}],storageKey:'cix_screen(framework:"WARNING_SCREENS",location:"unknown")'};q={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[k,{kind:"InlineFragment",selections:p,type:"Video",abstractKey:null},q,{kind:"InlineFragment",selections:p,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:p,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MontageVideo",abstractKey:null}],storageKey:null};var s={alias:null,args:null,concreteType:"FutureOfFeedInfo",kind:"LinkedField",name:"future_of_feed_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_reverse_message_and_attachment_position",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_overlay_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"aspect_ratio_update",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_reshare_variant",storageKey:null}],storageKey:null},t={alias:"permalink_url",args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},u=[{kind:"Variable",name:"location",variableName:"renderLocation"}],v={alias:null,args:u,kind:"ScalarField",name:"should_host_actor_link_in_watch",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},x={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[k,w,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null},l],storageKey:null},y={alias:null,args:[{kind:"Literal",name:"supported",value:"3GYyzk"}],concreteType:null,kind:"LinkedField",name:"context_layout",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupConflictAlertContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryGroupPendingPostContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryGroupPendingPostContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryThreadedStoryContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryThreadedStoryContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryAggregatedContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryAggregatedContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryPluginContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryPluginContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"CometFeedStorySocialLearningModuleContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleContextLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContextSectionMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy_contextLayout",fragmentPropName:"contextLayout",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContextLayoutStrategy",abstractKey:null}],storageKey:'context_layout(supported:"3GYyzk")'},z={alias:null,args:[{kind:"Literal",name:"supported",value:"13ua8a"}],concreteType:null,kind:"LinkedField",name:"footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInformTreatmentFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryInformTreatmentFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryInsightsDistributionScoreFooterStrategy_insights",fragmentPropName:"insights",kind:"ModuleImport"}],type:"CometStoryInsightsWithDistributionScoreFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersV2FooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersV2FooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryVideoChaptersFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryTopicsFooterStrategy_storySection",fragmentPropName:"storySection",kind:"ModuleImport"}],type:"CometFeedStoryTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupTopicsFooterStrategy_topics",fragmentPropName:"topics",kind:"ModuleImport"}],type:"CometFeedStoryGroupTopicsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProfilePlusPostFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometProfilePlusStoryFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningModuleFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningModuleFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStorySocialLearningMallCTAFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStorySocialLearningMallCTAFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryGroupInsightsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupInsightsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryContentManagerFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryContentManagerFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventAlbumFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryEventAlbumFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiFeedStoryImportantPostFooterUpsellStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryImportantPostFooterUpsellStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"GeminiStoryPromotedPostMarkAsReadFooterStrategy_markAsRead",fragmentPropName:"markAsRead",kind:"ModuleImport"}],type:"GeminiStoryPromotedPostMarkAsReadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventConversationFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventConversationFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryEventsTaggingUpsellFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryEventsTaggingUpsellFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryDeepDivePillsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryDeepDivePillsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryProductExtensionsFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryProductExtensionsFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFooterSection_story",fragmentName:"CometFeedStoryAffiliateLinkFocusedStoryFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryAffiliateLinkFocusedStoryFooterStrategy",abstractKey:null}],storageKey:'footer(supported:"13ua8a")'},A={alias:null,args:null,kind:"ScalarField",name:"encrypted_tracking",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},E=[C,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},D],F={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon",plural:!1,selections:E,storageKey:null},G={kind:"TypeDiscriminator",abstractKey:"__isNFXAction"},H={alias:null,args:null,kind:"ScalarField",name:"context",storageKey:null},I=[{kind:"Literal",name:"site",value:"www"}],J={args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},K=[J],L={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};J=[L,J];G={alias:null,args:null,concreteType:"TombstoneFeedUnit",kind:"LinkedField",name:"tombstone_feedunit",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden_from_client",storageKey:null},{alias:null,args:null,concreteType:"Tombstone",kind:"LinkedField",name:"tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"author_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canUndo",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_loading",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"negativeFeedbackActionID",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"DeletedPostTombstoneContent",kind:"LinkedField",name:"deleted_post_tombstone",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"member_stats_text",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tombstone_actions",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"executed_action",plural:!1,selections:[k,B,F,G,H,l],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"followup_actions",plural:!0,selections:[k,B,G,l,H,{alias:null,args:null,kind:"ScalarField",name:"can_display_completed_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"already_completed",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:I,kind:"ScalarField",name:"redirect_uri",storageKey:'redirect_uri(site:"www")'},{alias:null,args:I,kind:"ScalarField",name:"redirect_style",storageKey:'redirect_style(site:"www")'},{alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tooltip",storageKey:null}],type:"NFXActionWhichRedirects",abstractKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:K,storageKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"confirmation_required",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_type",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"loading_text",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_message",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmation_button_label",plural:!1,selections:J,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"target_user_id",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"confirmed_icon",plural:!1,selections:E,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_title",plural:!1,selections:K,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"confirmed_subtitle",plural:!1,selections:K,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_undo",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"undo_button_label",plural:!1,selections:J,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};H={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[l,t,v,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,x],storageKey:null},{alias:null,args:u,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[y,z],storageKey:null},A,{kind:"ClientExtension",selections:[G]}],storageKey:null};I={alias:null,args:null,concreteType:"StoryBumperData",kind:"LinkedField",name:"bumpers",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggered_bumpers",plural:!0,selections:[k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"triggers",plural:!0,selections:[k,{alias:null,args:null,kind:"ScalarField",name:"trigger_event",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null};F={alias:null,args:[{kind:"Literal",name:"supported",value:"20GvtT"}],concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryInitiallyCollapsedContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryInitiallyCollapsedContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryAttachmentOnlyContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryAttachmentOnlyContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"CometFeedStoryDefaultContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"CometFeedStoryDefaultContentStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryContentMatchRenderer_story",fragmentName:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy_content",fragmentPropName:"content",kind:"ModuleImport"}],type:"GeminiFeedStoryKeyUpdateFeedUnitContentStrategy",abstractKey:null}],storageKey:'content(supported:"20GvtT")'};E={alias:null,args:[{kind:"Literal",name:"supported",value:"67WoN"}],concreteType:null,kind:"LinkedField",name:"layout",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"GeminiFeedStoryLongReadPostContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"GeminiFeedStoryLongReadPostContentLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryDefaultLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryDefaultLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryPendingParticipationPostLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryPendingParticipationPostLayoutStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryLayoutMatchRenderer_story",fragmentName:"CometFeedStoryFullbleedContentLayoutStrategy_layout",fragmentPropName:"layout",kind:"ModuleImport"}],type:"CometStoryFullbleedContentLayoutStrategy",abstractKey:null}],storageKey:'layout(supported:"67WoN")'};K={alias:null,args:[{kind:"Literal",name:"supported",value:"2lQ7jN"}],concreteType:null,kind:"LinkedField",name:"copyright_violation_header",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCopyrightViolationHeaderSection_story",fragmentName:"CometFeedStoryCopyrightViolationHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCopyrightViolationHeaderStrategy",abstractKey:null}],storageKey:'copyright_violation_header(supported:"2lQ7jN")'};J={alias:null,args:[{kind:"Literal",name:"supported",value:"XP1YS"}],concreteType:null,kind:"LinkedField",name:"header",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupConflictAlertHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupsUnconnectedContentHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryGroupPendingQueueMemberPostApprovalHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryCrisisCloseListingHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryCrisisCloseListingHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAlbumHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAlbumHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStoryPostUpsellHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStoryPostUpsellHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFallbackHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFallbackHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStorySimpleStoryHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStorySimpleStoryHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryCommerceHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryCommerceHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometStorySocialLearningModuleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometStorySocialLearningModuleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"GeminiFeedEmailLandingStoryStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"GeminiFeedEmailLandingStoryStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupMemberWarningHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupMemberWarningHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryAdsNonProfitSocialContextHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryGroupPostLLMTitleHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryGroupPostLLMTitleHeaderStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryHeaderSection_story",fragmentName:"CometFeedStoryFailedScheduledPostHeaderStrategy_header",fragmentPropName:"header",kind:"ModuleImport"}],type:"CometFeedStoryFailedScheduledPostHeaderStrategy",abstractKey:null}],storageKey:'header(supported:"XP1YS")'};var M={alias:null,args:[{kind:"Literal",name:"supported",value:"4f12sh"}],concreteType:null,kind:"LinkedField",name:"aymt_footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAYMTFooterSection_story",fragmentName:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy_strategy",fragmentPropName:"strategy",kind:"ModuleImport"}],type:"CometFeedStoryAYMTProfessionalProfilePostFooterChannelStrategy",abstractKey:null}],storageKey:'aymt_footer(supported:"4f12sh")'},N={alias:null,args:[{kind:"Literal",name:"supported",value:"STIA9"}],concreteType:null,kind:"LinkedField",name:"feedback",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupConflictAlertUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupConflictAlertUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackMemoriesStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackMemoriesStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContentModerationQueueStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContentModerationQueueStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentDeletedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentDeletedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupDraftPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupDraftPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDelegationPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDelegationPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackPluginStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackPluginStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackIntegrationStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackIntegrationStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiFeedStoryFeedbackGroupDraftedForOthersStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackGroupDraftedForOthersStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPublishedPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPublishedPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventScheduledPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackScheduledPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupViewerContentPendingPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupViewerContentPendingPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupContextualProfileUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupContextualProfileUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackUFIStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometStoriesSingleBucketFeedUnitFeedbackStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoriesSingleBucketFeedUnitUFIStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupAdminAssistPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupAdminAssistPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackWorkLiveAMAStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryWorkLiveAMAStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackGroupModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackGroupModminReviewFolderPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPostStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"GeminiStoryFeedbackKeyUpdateFeedUnitPreviewStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryFeedbackSection_story",fragmentName:"CometFeedStoryFeedbackEventModminReviewFolderPostStrategy_feedback",fragmentPropName:"feedback",kind:"ModuleImport"}],type:"CometStoryFeedbackEventModminReviewFolderPostStrategy",abstractKey:null}],storageKey:'feedback(supported:"STIA9")'},O={alias:null,args:[{kind:"Literal",name:"supported",value:"3DS9GD"}],concreteType:null,kind:"LinkedField",name:"outer_footer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryMisinformationRelatedArticleStrategy_misinfoRelatedArticles",fragmentPropName:"misinfoRelatedArticles",kind:"ModuleImport"}],type:"CometStoryMisinformationRelatedArticleStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"GeminiFeedStoryPendingPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"GeminiFeedStoryPendingPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupConflictAlertOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupConflictAlertOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryGroupCommentRateLimitedOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryPendingParticipationPostOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryPendingParticipationPostOuterFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryViewThreadFooter_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryViewThreadFooterStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryOuterFooterSection_story",fragmentName:"CometFeedStoryJoinInVrOuterFooterStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometFeedStoryJoinInVrOuterFooterStrategy",abstractKey:null}],storageKey:'outer_footer(supported:"3DS9GD")'},P={alias:null,args:[{kind:"Literal",name:"supported",value:"4pc70y"}],concreteType:null,kind:"LinkedField",name:"call_to_action",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryCallToActionSection_story",fragmentName:"CometFeedStoryDefaultCallToActionStrategy_cta",fragmentPropName:"cta",kind:"ModuleImport"}],type:"CometStoryDefaultCallToActionStrategy",abstractKey:null}],storageKey:'call_to_action(supported:"4pc70y")'},Q={alias:null,args:[{kind:"Literal",name:"supported",value:"3t3kTK"}],concreteType:null,kind:"LinkedField",name:"post_inform_treatment",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryPostInformTreatmentSection_story",fragmentName:"CometFeedStoryPostCoverInformTreatmentStrategy_story",fragmentPropName:"story",kind:"ModuleImport"}],type:"CometStoryInformTreatmentPostCoverStrategy",abstractKey:null}],storageKey:'post_inform_treatment(supported:"3t3kTK")'};x={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[l,x,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:p,storageKey:null}],storageKey:null};var R={alias:null,args:null,kind:"ScalarField",name:"debug_info",storageKey:null},S={alias:null,args:null,concreteType:"WhatsAppStoryAdContext",kind:"LinkedField",name:"whatsapp_ad_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"action_link",storageKey:null}],storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"schema_context",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"click_tracking_linkshim_cb",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"encrypted_click_tracking",storageKey:null},W={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[B],storageKey:null};W={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null}],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[W,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"};G={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tombstone_is_loading",storageKey:null},G,{alias:null,args:null,kind:"ScalarField",name:"optimistic_loading_type",storageKey:null},{alias:null,args:null,concreteType:"OptimisticMediaAttachmentData",kind:"LinkedField",name:"optimistic_media_attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"entID",storageKey:null},C,{alias:null,args:null,kind:"ScalarField",name:"objectURL",storageKey:null},B,{alias:null,args:null,kind:"ScalarField",name:"useCDNPreview",storageKey:null},D],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"creation_session_id",storageKey:null}]};C=[{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"lbl_adv_iden",args:null,kind:"ScalarField",name:"ad_id",storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"brs_filter_setting",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"post_rendering_loggers",storageKey:null},k];B={alias:null,args:null,concreteType:"QuickPromotionFeedUnitItem",kind:"LinkedField",name:"quick_promotion_items",plural:!0,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"quick_promotion",plural:!1,selections:p,storageKey:null}],storageKey:null};D={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[L],storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i],kind:"Fragment",metadata:null,name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"groupsCometFetchStoryFragment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,a,c,d,h,f,g,i,{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsWorkUserrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FeedDeepDiveTopicPillThreadViewEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__IsMergQAPollsrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFIShareActionMigrationrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__GroupsCometGYSJFeedItemHeightrelayprovider"},{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider"}],kind:"Operation",name:"groupsCometFetchStoryQuery",selections:[{alias:null,args:j,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[k,{kind:"TypeDiscriminator",abstractKey:"__isNode"},l,{kind:"InlineFragment",selections:[m,n,o,r,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[q,{alias:"styles",args:[{kind:"Variable",name:"render_location",variableName:"renderLocation"},{kind:"Literal",name:"supported",value:"11Bf8y"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryNullAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentNullStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEmptyAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEmptyStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryLiveEventAnnouncementAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentLiveEventAnnouncementStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryBirthdayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentBirthdayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"XFBStoryAttachmentCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageRecommendationTagsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageRecommendationTagsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFunFactsPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFunFactsStackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFunFactsStackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGoodwillProductSystemCampaignAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGoodwillProductSystemCampaignStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumColumnAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumColumnStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumBannerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumBannerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumFrameAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumFrameStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumSaleItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumSaleItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVolunteeringEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVolunteeringEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVolunteeringEventActivityShiftAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVolunteeringEventActivityShiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisListingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisListingStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisMarkSafeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisMarkSafeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisHubShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisHubShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrisisDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrisisDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserDonateButtonAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserDonateButtonStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserFBSeedingGiftAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserFBSeedingGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserWithoutMediaAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserWithoutMediaStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryOffsiteFundraiserCompressedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentOffsiteFundraiserCompressedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLookingForPlayersAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLookingForPlayersStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMapAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMapStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAsset3DAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAsset3dStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryEventFooterOnlyAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentEventFooterOnlyStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShopAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShopStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupSellProductItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupSellProductItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryNoteAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentNoteStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryKnowledgeNoteAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentKnowledgeNoteStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryKnowledgeCollectionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentKnowledgeCollectionStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCoverPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCoverPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoSaleItemAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoSaleItemStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoReviewPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoReviewStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFileUploadAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFileUploadStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileIntroCardBioAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileIntroCardBioStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileMediaAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileMediaStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnimatedImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnonymousAuthorInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnonymousAuthorInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupAnonymousPendingPostDisclaimerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupAnonymousPendingPostDisclaimerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryC4GThreadCreationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentC4GThreadCreationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCMBThreadAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMBThreadStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityChatSuggestionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMThreadSuggestionStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryC4GMessageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentC4GMessageStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAnonymousPostContentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnonymousPostContentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareMediumAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareMediumStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySharePortraitAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSharePortraitStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareSevereAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareSevereStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryShareAdAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentShareAdStyleRender",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityPromptFooterAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityPromptFooterStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLinkToVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLinkToVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLifeEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLifeEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryLiveVideoRehearsalAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentLiveVideoRehearsalStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMultiShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMultiShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryTextPollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTextPollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryTextPollNonInteractiveAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTextPollNonInteractiveStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVisualPollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVisualPollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGamesInstantPlayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGamesInstantPlayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryInstantGamesTournamentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryElectionDayReminderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentElectionDayReminderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryElectionInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentElectionInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkWatchCollectionsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkWatchCollectionsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStory3DPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment3DPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStory360PhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachment360PhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUnavailableStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkLinkPreviewAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkLinkPreviewStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryWorkContentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentWorkContentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoLinkShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoLinkShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoLinkShareWithInstagramContextAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoLinkShareWithInstagramContextStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPlayWithFriendsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPlayWithFriendsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySimpleMusicAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSimpleMusicStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryQuarantinedVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQuarantinedVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"WorkFeedStoryWorkMajorEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentMajorEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"WorkFeedStoryChecklistAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentChecklistStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoMeetupLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoMeetupLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningPreviewPhotoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningPreviewPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAMAAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAMAStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAMACardsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAMACardsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningUnitCreatedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningUnitCreatedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningUnitCompletedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSocialLearningUnitCompletedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySocialLearningQuizAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupQuizStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryBreakingNewsShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentBreakingNewsShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommerceAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommerceAttachmentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryMarketplaceJobAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMarketplaceJobStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFluShotPledgeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFluShotPledgeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCovidVaccineFinderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCovidVaccineFinderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCovidVaccineFinderProviderAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCovidVaccineFinderProviderStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryReportedGroupEventAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentReportedGroupEventStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCrowdsourcingBadgeShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCrowdsourcingBadgeShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryQAApprovedAnswerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentQAApprovedAnswerStylerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryESHLLMSuggestionAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentESHLLMSuggestionStylerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingMetricsTopContributorRecognitionShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentRecruitingMetricsTopContributorRecognitionShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingGroupConsiderationShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentRecruitingGroupConsiderationShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"GeminiFeedStoryRecruitingGroupCandidateShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"WorkStoryAttachmentRecruitingGroupCandidateShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupWelcomePostAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupWelcomePostStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGratitudeMOGStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentMomentOfGratitudeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDiscussionPostAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDiscussionPostAttachmentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCustomUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCustomUnavailableStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFBReelsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFBReelsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStorySoundbiteShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSoundbiteCometFeedShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUSElectionDataAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUSElectionDataStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCommunityTaskSetJobPostingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityTaskSetJobPostingStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryDeprecatedAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDeprecatedStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryFundraiserCampaignDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFundraiserCampaignDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPublicChatLinkAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPublicChatLinkStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryCMBSideConversationsAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCMBSideConversationsStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryIGReelsXARAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentIGReelsXARStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryPhotoWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryAlbumWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAlbumWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryVideoWithEventMinutiaeAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoWithEventMinutiaeStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupCollabPromptAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupCollabPromptStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupOpenQuestionsUpsellAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupOpenQuestionsUpsellStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryGroupPostsHscrollAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentGroupPostsHscrollStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryUnifiedLightweightVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentUnifiedLightweightVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryAttachmentMatchRenderer_attachment",fragmentName:"CometFeedStoryProfileDirectoryUpdateAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentProfileDirectoryUpdateStyleRenderer",abstractKey:null}],storageKey:null}],storageKey:null},s,H,I,{alias:null,args:u,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[k,F,E,K,J,y,M,z,N,O,P,Q,{alias:null,args:[{kind:"Literal",name:"supported",value:"2rhVpW"}],concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupSellerActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupSellerProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupMemberActor_groupMemberProfileActionLink",fragmentPropName:"groupMemberProfileActionLink",kind:"ModuleImport"}],type:"GroupMemberProfileActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryActorLink_story",fragmentName:"CometFeedStoryTitleGroupAnonProfileActor_actionLink",fragmentPropName:"actionLink",kind:"ModuleImport"}],type:"GroupMemberAnonProfileActionLink",abstractKey:null}],storageKey:'action_link(supported:"2rhVpW")'},{alias:null,args:[{kind:"Literal",name:"supported",value:"3zfBNR"}],concreteType:null,kind:"LinkedField",name:"timestamp",plural:!1,selections:[k,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryBackdatedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryBackdatedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryScheduledTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryScheduledTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryLongerTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryLongerTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryMinimizedTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryMinimizedTimestampStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryTimestampSection_story",fragmentName:"CometFeedStoryTimestampStrategy_timestamp",fragmentPropName:"timestamp",kind:"ModuleImport"}],type:"CometFeedStoryTimestampStrategy",abstractKey:null}],storageKey:'timestamp(supported:"3zfBNR")'}],storageKey:null},A,t,v,x,R,S,T,U,V,{alias:null,args:null,kind:"ScalarField",name:"serialized_frtp_identifiers",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_menu",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[k,w,l,{kind:"TypeDiscriminator",abstractKey:"__isActor"},W],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[k,w,l,{kind:"InlineFragment",selections:[W],type:"Actor",abstractKey:"__isActor"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_is_repost",storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"work_reposted_story",plural:!1,selections:[k,l,m,n,o,r,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[q],storageKey:null},s,H,I,{alias:null,args:u,concreteType:"CometStorySections",kind:"LinkedField",name:"comet_sections",plural:!1,selections:[k,F,E,K,J,y,M,z,N,O,P,Q],storageKey:null},A,t,v,x,R,S,T,U,V,G],storageKey:null},G],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"context_actor_hovercard",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_story_civic",storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"InlineFragment",selections:[{condition:"__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBDubbedTrackMap",kind:"LinkedField",name:"dubbed_track_mapping",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_lang",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dubbing_type",storageKey:null}],storageKey:null}]}],type:"Video",abstractKey:null}],storageKey:null}],storageKey:null},{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:C,storageKey:null}]},{condition:"__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:"daspo_sto",args:null,concreteType:"SponsoredData",kind:"LinkedField",name:"sponsored_data",plural:!1,selections:C,storageKey:null}]}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitGoodwillMemoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GoodwillCometStory",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometPYMKQPFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"PaginatedPeopleYouMayKnowFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometReelsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"ShowcaseFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFriendRequestsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"FriendRequestsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[B,{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedUnitQuickPromotionStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"QuickPromotionNativeTemplateFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"GroupsCometGYSJFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupsYouShouldJoinFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometEndOfFeedUpsellStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"EndOfFeedUpsellFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometGroupRelatedGroupsFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"GroupRelatedGroupsFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometStoriesSingleBucketFeedUnitStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"StoriesSingleBucketInlineViewerFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedUnitContainerSection_feedUnit",fragmentName:"CometFeedCustomizedStoryStrategy_feedUnit",fragmentPropName:"feedUnit",kind:"ModuleImport"}],type:"CustomizedStory",abstractKey:null},{kind:"InlineFragment",selections:[m],type:"Cacheable",abstractKey:"__isCacheable"},{kind:"InlineFragment",selections:[D,{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_sorting_switcher",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_canSeeExpandedColor",fragmentName:"GroupsCometColorExpandedWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},l],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_see_expanded_color",plural:!1,selections:[{args:null,documentName:"GroupsCometColorWrapper_group_cannotSeeExpandedColor",fragmentName:"GroupsCometColorDefaultWrapper_group",fragmentPropName:"group",kind:"ModuleImport"},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_all_topic_text",storageKey:null},{alias:null,args:null,concreteType:"XFBGroupFlair",kind:"LinkedField",name:"group_flairs",plural:!0,selections:[k,l,{alias:null,args:null,kind:"ScalarField",name:"flair_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_report_link_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_report_topic_screen_header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topics_topic_settings_option_label",storageKey:null},{alias:null,args:[{kind:"Literal",name:"type",value:"EDIT_TOPICS"}],concreteType:null,kind:"LinkedField",name:"group_setting",plural:!1,selections:[k,D],storageKey:'group_setting(type:"EDIT_TOPICS")'}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeader",kind:"LinkedField",name:"story_header",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"style_infos",plural:!0,selections:[k,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"GroupFeedSortingSwitcher",kind:"LinkedField",name:"viewer_available_sorting_switchers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"option_description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"option_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sorting_setting",storageKey:null},k],storageKey:null}],type:"GroupsSectionHeaderStyleInfo",abstractKey:null}],storageKey:null}],storageKey:null}],type:"GroupsSectionHeaderUnit",abstractKey:null},{kind:"InlineFragment",selections:[B],type:"QuickPromotionFeedUnit",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TrackingData",kind:"LinkedField",name:"trackingdata",plural:!1,selections:p,storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewability_config",storageKey:null},{alias:null,args:null,concreteType:"CometClientViewConfig",kind:"LinkedField",name:"client_view_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_delay_log_impression",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_signal_imp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"use_banzai_vital_imp",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null}],type:"TrackableFeedUnit",abstractKey:"__isTrackableFeedUnit"}],type:"FeedUnit",abstractKey:"__isFeedUnit"}],storageKey:null}]},params:{id:b("groupsCometFetchStoryQuery_facebookRelayOperation"),metadata:{},name:"groupsCometFetchStoryQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:b("CometUFICommentAvatarStickerAnimatedImage.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:b("IsWorkUser.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:b("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:b("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__FeedDeepDiveTopicPillThreadViewEnabledrelayprovider:b("FeedDeepDiveTopicPillThreadViewEnabled.relayprovider"),__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:b("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:b("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:b("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:b("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:b("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider:b("FBReels_enable_meta_ai_label_gk.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:b("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:b("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:b("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:b("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:b("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:b("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider"),__relay_internal__pv__GroupsCometGYSJFeedItemHeightrelayprovider:b("GroupsCometGYSJFeedItemHeight.relayprovider"),__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider:b("StoriesShouldIncludeFbNotes.relayprovider")}}}}();e.exports=a}),null);
__d("groupsCometFetchStory",["CometRelay","groupsCometFetchStoryFragment.graphql","groupsCometFetchStoryQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;h!==void 0?h:h=b("groupsCometFetchStoryFragment.graphql");var j=i!==void 0?i:i=b("groupsCometFetchStoryQuery.graphql");function a(a,b){return d("CometRelay").fetchQuery(b,j,a).toPromise()}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("AsyncStorage",["Promise","WebAsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;a={getItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").getItem(a,function(a,c){d&&d(a,c),a!=null?e(a):b(c)})})},removeItem:function(a,d){return new(h||(h=b("Promise")))(function(b,e){c("WebAsyncStorage").removeItem(a,function(a){d&&d(a),a!=null?e(a):b()})})},setItem:function(a,d,e){return new(h||(h=b("Promise")))(function(b,f){c("WebAsyncStorage").setItem(a,d,function(a){e&&e(a),a!=null?f(a):b()})})}};d=a;g["default"]=d}),98);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[1]),d[0].set("from_timestamp_ms",a[2]),d[0].set("threads",a[3]),d[0].set("session_id",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxVerifyThreadsActivityStatusStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSVerifyThreadsActivityStatusStoredProcedure",["LSSynchronousPromise","LSVerifyThreadsActivityStatus","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSVerifyThreadsActivityStatus"),e.sessionId,e.serverMode,e.fromTimestampMs,e.threads);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h,i="maw_unsupported_browser_nux_dismissed",j="dismissed";a=function(){var a;return((a=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(i))===j};b=function(){var a;(a=(h||(h=c("WebStorage"))).getLocalStorage())==null||a.setItem(i,j)};g.getIsDismissed=a;g.setIsDismissed=b}),98);
__d("MAWUserVisibleErrorsNux.react",["ix","MAWLoggerUtils","MWXIconCautionTriangle","MWXQPCard.react","QPLUserFlow","gkx","qpl","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={hasNoMargin:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.hasNoMargin,f=a.icon,g=a.nuxBodyText,i=a.nuxButtonProps,m=a.nuxTitleText,n=a.onCloseButtonClick,o=a.ref;a=a.secondaryButtonProps;var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=d("MAWLoggerUtils").getInstanceKey(),b[0]=p):p=b[0];var q=p,r;b[1]!==m?(p=function(){c("QPLUserFlow").start(c("qpl")._(1056846286,"652"),{annotations:{string:{nuxTitleText:m.toString()}},instanceKey:q});return function(){return c("QPLUserFlow").endSuccess(c("qpl")._(1056846286,"652"),{instanceKey:q})}},r=[q,m],b[1]=m,b[2]=p,b[3]=r):(p=b[2],r=b[3]);k(p,r);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(p=c("gkx")("4425")?h("428841"):h("212797"),b[4]=p):p=b[4];r=p;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(p=c("gkx")("4425")?{props:{src:h("1745665")},type:"image"}:{props:{color:"negative",icon:c("MWXIconCautionTriangle"),size:24},type:"icon"},b[5]=p):p=b[5];p=p;b[6]!==f?(r=f!=null?f:c("gkx")("23219")?{props:{src:r},type:"image"}:p,b[6]=f,b[7]=r):r=b[7];p=e===!0?l.hasNoMargin:void 0;b[8]!==g||b[9]!==i||b[10]!==m||b[11]!==n||b[12]!==o||b[13]!==a||b[14]!==r||b[15]!==p?(f=j.jsx("div",{"data-testid":void 0,children:j.jsx(c("MWXQPCard.react"),{addOnPrimary:i,addOnSecondary:a,body:g,headline:m,icon:r,onClose:n,ref:o,xstyle:p})}),b[8]=g,b[9]=i,b[10]=m,b[11]=n,b[12]=o,b[13]=a,b[14]=r,b[15]=p,b[16]=f):f=b[16];return f}g["default"]=a}),98);
__d("MAWUserVisibleErrorsNuxWrapper.react",["fbt","CometPlaceholder.react","MAWIssueNewUserVisibleErrors","MAWUnsupportedIndexedDBNuxKey","cr:4216","cr:9767","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors","useMAWUnsupportedBrowserNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useState,l=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MAWUserVisibleErrorsNuxWrapper.react");function a(a){var e=d("react-compiler-runtime").c(23),f=a.children;a=a.hasNoMargin;var g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=d("MAWUnsupportedIndexedDBNuxKey").getIsDismissed(),e[0]=g):g=e[0];g=k(g);var i=g[0],n=g[1];if(e[1]===Symbol.for("react.memo_cache_sentinel")){g=(g=b("cr:4216").buildUri({cms_id:"597429858389632"}).setDomain("www.facebook.com"))==null||(g=g.setProtocol("https"))==null?void 0:g.toString();e[1]=g}else g=e[1];g=g;e[2]===Symbol.for("react.memo_cache_sentinel")?(g={label:h._(/*BTDS*/"Learn more"),linkProps:{target:"_blank",url:g}},e[2]=g):g=e[2];g=g;var o=d("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX();o=o.shouldShowQP;var p=k(!1),q=p[0],r=p[1];p=c("useMAWGetUserVisibleErrors")();var s=p[0],t=p[1];e[3]!==t||e[4]!==(s==null?void 0:s.errorExtraData)?(p=function(){c("promiseDone")(async function(){r(!0);if((s==null?void 0:s.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=await l.load();await a.handleEARKeychainError()}return t()}(),m,function(){r(!1)})},e[3]=t,e[4]=s==null?void 0:s.errorExtraData,e[5]=p):p=e[5];p=p;var u;e[6]!==(s==null?void 0:s.errorBodyText)?(u=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(s==null?void 0:s.errorBodyText),e[6]=s==null?void 0:s.errorBodyText,e[7]=u):u=e[7];u=u;var v;e[8]!==(s==null?void 0:s.errorTitleText)?(v=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(s==null?void 0:s.errorTitleText),e[8]=s==null?void 0:s.errorTitleText,e[9]=v):v=e[9];v=v;e[10]!==f||e[11]!==t||e[12]!==i||e[13]!==u||e[14]!==v||e[15]!==s||e[16]!==a||e[17]!==q||e[18]!==p||e[19]!==o?(g=b("cr:9767")&&o&&!i?j.jsx(b("cr:9767"),{hasNoMargin:a,nuxBodyText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsg,nuxButtonProps:g,nuxTitleText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsgTitle,onCloseButtonClick:function(){n(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):s&&b("cr:9767")&&v!=null&&u!=null?j.jsx(b("cr:9767"),{nuxBodyText:u,nuxButtonProps:{disabled:q,label:h._(/*BTDS*/"Refresh"),loading:q,onPress:p},nuxTitleText:v,onCloseButtonClick:function(){c("promiseDone")(t())}}):f,e[10]=f,e[11]=t,e[12]=i,e[13]=u,e[14]=v,e[15]=s,e[16]=a,e[17]=q,e[18]=p,e[19]=o,e[20]=g):g=e[20];e[21]!==g?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWUserVisibleErrorsNuxWrapper",children:g}),e[21]=g,e[22]=f):f=e[22];return f}function m(){window.location.reload(!0)}g.default=a}),226);
__d("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react",["cr:1266"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1266")}),98);
__d("MWEncryptedBackupsJewelNuxWrapper_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsJewelNuxWrapper_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"},{alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEncryptedBackupsJewelNuxWrapper_query",fragmentName:"MWEBNewUserOnboardingThreadListUpsellWrapper_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query"}]},{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup",selections:[{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null}],storageKey:null}],type:"XFBEncryptedBackup",abstractKey:null};e.exports=a}),null);
__d("useMWEncryptedBackupsGetVirtualDevicesPreloaded",["CometRelay","react","react-compiler-runtime","useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var c=d("react-compiler-runtime").c(4);a=a.encryptedBackup;var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup.graphql"),a);c[0]!==(e==null?void 0:e.virtual_devices)?(a=function(){var a=0,b=null;e==null||e.virtual_devices.forEach(function(c){bb13:switch(c.device_type){case"HSM":b=c.client_generated_id;break bb13;case"OFFLINE":a=a+1;a;break bb13;default:}});return{offlineDevicesCount:a,vestaClientID:b}},c[0]=e==null?void 0:e.virtual_devices,c[1]=a):a=c[1];e==null||e.virtual_devices;a=a;var f;c[2]!==a?(f={getVirtualDevices:a},c[2]=a,c[3]=f):f=c[3];return f}g["default"]=a}),98);
__d("MWEncryptedBackupsJewelNuxWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","HeroInteractionIgnoreWithDiv.react","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react","MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEBVirtualDevicesContextProvider.react","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsJewelNuxWrapper_query.graphql","MWEncryptedBackupsThreadListQPWrapper.react","cr:10269","cr:20045","cr:2046","cr:3562","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWEncryptedBackupsGetVirtualDevicesPreloaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEncryptedBackupsJewelNuxWrapper.react"));function a(a){var e,f,g=d("react-compiler-runtime").c(18),i=a.children;a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsJewelNuxWrapper_query.graphql"),a);var k;g[0]!==a?(k={entrypoint:c("MWEBEntrypointsKillswitch.enum").JEWEL_THREADLIST,query:a},g[0]=a,g[1]=k):k=g[1];k=c("useEncryptedBackupsProcessStatePreLoaded")(k);var m=a==null?void 0:a.xfb_backup,n;g[2]!==m?(n={encryptedBackup:m},g[2]=m,g[3]=n):n=g[3];m=c("useMWEncryptedBackupsGetVirtualDevicesPreloaded")(n);n=m.getVirtualDevices;g[4]!==n?(m=n(),g[4]=n,g[5]=m):m=g[5];n=m;m=n.offlineDevicesCount;n=n.vestaClientID;e=(e=a==null||(f=a.xfb_backup)==null?void 0:f.has_otc_eligible_devices)!=null?e:void 0;var o;g[6]!==k||g[7]!==i||g[8]!==a?(o=j.jsx(l,{backupState:k,children:i,fragment:a}),g[6]=k,g[7]=i,g[8]=a,g[9]=o):o=g[9];g[10]!==a.viewer||g[11]!==o?(k=j.jsx(d("MWEBVestaUserInfoContext.react").MWEBVestaUserInfoContextProvider,{viewer$key:a.viewer,children:o}),g[10]=a.viewer,g[11]=o,g[12]=k):k=g[12];g[13]!==m||g[14]!==e||g[15]!==k||g[16]!==n?(i=j.jsx(c("MWEBVirtualDevicesContextProvider.react"),{hasOtcEligibleDevicesInitialValue:e,offlineDevicesCountInitialValue:m,vestaClientIDInitialValue:n,children:k}),g[13]=m,g[14]=e,g[15]=k,g[16]=n,g[17]=i):i=g[17];return i}function l(a){var e=d("react-compiler-runtime").c(15),f=a.backupState,g=a.children;a=a.fragment;var h=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();h=h.virtualDeviceInfo;switch(f){case 3:if(b("cr:3562")!=null&&!h.isPINCodeRegistered){e[0]!==g?(f=j.jsx(b("cr:3562"),{bannerSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:g}),e[0]=g,e[1]=f):f=e[1];return f}return g;case 4:e[2]!==g||e[3]!==a?(h=b("cr:2046")||c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")?j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return g},children:c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react")!=null?j.jsx(c("MWEBRestoreJewelSoftblockPersistentBannerWrapperDeferred.withSegmentationCheck.react"),{trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g}):b("cr:2046")!=null&&j.jsx(b("cr:2046"),{fragmentKey:a,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL,children:g})})}):g,e[2]=g,e[3]=a,e[4]=h):h=e[4];return h;case 2:if(d("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS)return g;e[5]!==g?(f=b("cr:20045")?j.jsx(b("cr:20045"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:g}):g,e[5]=g,e[6]=f):f=e[6];var i=f;e[7]!==i?(h=function(){return i},e[7]=i,e[8]=h):h=e[8];e[9]!==i||e[10]!==a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells?(f=a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(d("CometRelay").MatchContainer,{match:a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,props:{bannerSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_PERSISTENT_BANNER,children:i,qpSource:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP}})}):b("cr:10269")?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWEncryptedBackupsJewelNuxWrapper.OnboardingThreadListQP",children:j.jsx(b("cr:10269"),{source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_QP,children:i})}):j.jsx(k,{fallback:i,props:{children:i,source:c("MWChatEncryptedBackupsQPLSource.enum").JEWEL_THREADLIST_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.JEWEL}}),e[9]=i,e[10]=a.viewer.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells,e[11]=f):f=e[11];e[12]!==h||e[13]!==f?(a=j.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:j.jsx(c("CometErrorBoundary.react"),{fallback:h,children:f})}),e[12]=h,e[13]=f,e[14]=a):a=e[14];return a;default:return g}}g["default"]=a}),98);
__d("MWEncryptedBackupsQPWithPinPlaceholder.react",["MWXColumn.react","MWXGlimmer.react","MWXRow.react","MWXRowItem.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("gkx")("23433"),k={logoGlimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",width:"xvy4d1p",$$css:!0},pinInputGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"xc9qbxq",$$css:!0},root:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",boxShadow:"xjf5wm9",boxSizing:"x9f619",minWidth:"xeuugli",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},textGlimmer:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",height:"x1qx5ct2",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={0:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x xw7yly9 x1ys307a x1yztbdb xyqm7xq x1l90r2v xyamay9"},1:{className:"xlhe6ec x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x972fbf x10w94by x1qhh985 x14e42zd xjf5wm9 x9f619 xeuugli x6ikm8r x10wlt62 x11lfxj5 x135b78x xw7yly9 x1ys307a x1yztbdb xyqm7xq x2lwn1j xsag5q8 xz9dl7a"}}[!!j<<0],a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.logoGlimmer})}),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsxs(c("MWXRow.react"),{spacingVertical:0,verticalAlign:"center",children:[e,i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})]}),a[2]=e):e=a[2];var f;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"x16ngw23 xwib8y2",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})})}),a[3]=f):f=a[3];var g;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(g=i.jsx(c("MWXRow.react"),{direction:"forward",wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXGlimmer.react"),{index:1,xstyle:k.pinInputGlimmer})})}),a[4]=g):g=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsxs(c("MWXColumn.react"),{spacing:8,style:k.root,children:[e,f,g,i.jsx(c("MWXRow.react"),{wrap:"none",children:i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("div",{className:"x18xe386 xpdvgm7 x1y1aw1k",children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:k.textGlimmer})})})})]})})),a[5]=b):b=a[5];return b}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query",selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MWEncryptedBackupsThreadListRestoreQPWrapper_query"}]}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useMWEBIsUpsellDeferred",["MWEncryptedBackupsDeferLocalStorageUpsell","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var b=d("react-compiler-runtime").c(18);a=a.upsellType;var e=(h||(h=c("useReStore")))(),g;b[0]!==a?(g=d("MWEncryptedBackupsDeferLocalStorageUpsell").getLocalStorageKeys(a),b[0]=a,b[1]=g):g=b[1];a=g;g=a;var i=g.countdownInMS,j=g.impressionsCountKey,k=g.lastImpressionTimeKey,l=g.maxImpressionLimit;b[2]!==i||b[3]!==e.tables.experiences_shared_state||b[4]!==k?(a=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(k).map(function(a){a=a.stateValue;return a!=null&&+a+i>Date.now()?!0:!1})},b[2]=i,b[3]=e.tables.experiences_shared_state,b[4]=k,b[5]=a):a=b[5];b[6]!==i||b[7]!==e||b[8]!==k?(g=[i,e,k],b[6]=i,b[7]=e,b[8]=k,b[9]=g):g=b[9];a=d("ReQLSuspense").useFirst(a,g,f.id+":41");b[10]!==e.tables.experiences_shared_state||b[11]!==j||b[12]!==l?(g=function(){return d("ReQL").fromTableAscending(e.tables.experiences_shared_state).getKeyRange(j).map(function(a){a=a.stateValue;return l===d("MWEncryptedBackupsDeferLocalStorageUpsell").INFINITE_IMPRESSIONS_LIMIT||+a<l?!1:!0})},b[10]=e.tables.experiences_shared_state,b[11]=j,b[12]=l,b[13]=g):g=b[13];var m;b[14]!==e||b[15]!==j||b[16]!==l?(m=[e,j,l],b[14]=e,b[15]=j,b[16]=l,b[17]=m):m=b[17];b=d("ReQLSuspense").useFirst(g,m,f.id+":56");return a===!0||b===!0}g["default"]=a}),98);
__d("useMWEncryptedBackupsIsUpsellDismissed",["MWEBVestaUserInfoContext.react","MWEBVirtualDevicesContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","react","react-compiler-runtime","useMWEBIsUpsellDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(5);a=a.upsellType;var e=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),f=i(!1),g=f[0];f=f[1];var h;b[0]!==a?(h={upsellType:a},b[0]=a,b[1]=h):h=b[1];h=c("useMWEBIsUpsellDeferred")(h);var j=d("MWEBVirtualDevicesContext.react").useMWEBVirtualDevices();j=j.virtualDeviceInfo;j=j.doesUserHaveOtcEligibleDevices;if(e&&a===d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL&&!j){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=[!0,f],b[2]=e):e=b[2];return e}a=h===!0||g;b[3]!==a?(j=[a,f],b[3]=a,b[4]=j):j=b[4];return j}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react",["CometPlaceholder.react","CometRelay","EncryptedBackupsSupportedPlatformUtils","MWEBVestaUserInfoContext.react","MWEncryptedBackupsDeferLocalStorageUpsell","MWEncryptedBackupsQPWithPinPlaceholder.react","MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferred","useHasRestoreInterstitialSoftblockBeenDismissed","useMWEBGetUpsellState","useMWEncryptedBackupsIsUpsellDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferred")("MWEncryptedBackupsThreadListRestoreQPWrapper.react").__setRef("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred.react")),l=c("gkx")("3952");function a(a){var e=d("react-compiler-runtime").c(15),f=a.children,g=a.fragmentKey;a=a.trigger;g=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEncryptedBackupsThreadListRestoreQPWrapperDeferred_query.graphql"),g);var i=d("MWEBVestaUserInfoContext.react").useMWEBIsCooldownOrLockOutState(),m=c("useMWEBGetUpsellState")();m=m.isRestoreUpsellsDismissed;var n;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(n={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_JEWEL},e[0]=n):n=e[0];n=c("useMWEncryptedBackupsIsUpsellDismissed")(n);var o=n[0];n=n[1];var p;e[1]===Symbol["for"]("react.memo_cache_sentinel")?(p={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.QP_WITH_PIN_JEWEL},e[1]=p):p=e[1];p=c("useMWEncryptedBackupsIsUpsellDismissed")(p);var q=p[0];p=p[1];var r;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(r={upsellType:d("MWEncryptedBackupsDeferLocalStorageUpsell").MWEncryptedBackupsDeferableUpsellType.PERSISTENT_BANNER_JEWEL},e[2]=r):r=e[2];r=c("useMWEncryptedBackupsIsUpsellDismissed")(r);var s=r[0];r=r[1];var t;e[3]!==i?(t={backupState:4,isCooldownOrLockOutState:i},e[3]=i,e[4]=t):t=e[4];i=c("useHasRestoreInterstitialSoftblockBeenDismissed")(t);t=d("EncryptedBackupsSupportedPlatformUtils").useMWEncryptedBackupsGetCurrentSupportedPlatform();o=o||q;if(m||o&&!l||o&&l&&s)return f;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MWEncryptedBackupsQPWithPinPlaceholder.react"),{}),e[5]=q):q=e[5];e[6]!==f||e[7]!==t||e[8]!==g||e[9]!==o||e[10]!==r||e[11]!==n||e[12]!==p||e[13]!==a?(m=j.jsx(c("CometPlaceholder.react"),{fallback:q,name:"MWEncryptedBackupsThreadListRestoreQPWrapperDeferred",children:j.jsx(k,{children:f,currentSupportedPlatform:t,fragmentKey:g,hasDismissedQps:o,setHasDismissedBanner:r,setHasDismissedQp:n,setHasDismissedQpWithPin:p,trigger:a})}),e[6]=f,e[7]=t,e[8]=g,e[9]=o,e[10]=r,e[11]=n,e[12]=p,e[13]=a,e[14]=m):m=e[14];s=m;switch(t){case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.INSTAGRAM_DIRECT_INBOX:return f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.MESSENGER_DOT_COM:case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_INBOX:return i?s:f;case d("EncryptedBackupsSupportedPlatformUtils").EncryptedBackupsSupportedPlatform.FACEBOOK_DOT_COM:return s}}g["default"]=a}),98);
__d("MWEncryptedBackupsThreadListRestoreQPWrapperDeferredWithEBCheck.react",["cr:9938"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9938")}),98);
__d("MessengerAsyncStorage",["AsyncStorage"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("AsyncStorage")}),98);
__d("useMWCMVerifyActivityStatusOnMountAndFocus",["FBLogger","I64","LSDict","LSFactory","LSVec","LSVerifyThreadsActivityStatusStoredProcedure","MessengerAsyncStorage","MetaConfig","ServerTime","VisibilityAPI","clearInterval","promiseDone","react","react-compiler-runtime","setInterval","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=i||d("react");b.useCallback;var k=b.useEffect;b.useMemo;var l=b.useRef,m=b.useState,n=1e3*60*60,o=n*3;function p(a){return(j||(j=d("I64"))).add(j.lsl_(j.of_float(a[0]),32),j.of_float(a[1]))}function q(a){return[(j||(j=d("I64"))).to_float(j.lsr_(a,32)),j.to_float(j.and_(a,j.of_int32(4294967295)))]}function a(a,b){var e=d("react-compiler-runtime").c(32),g=(h||(h=c("useReStore")))(),i=l(null),s="__"+a+".fromTimestampMs__",t;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()-o)),e[0]=t):t=e[0];t=t;t=m(t);var u=t[0],v=t[1],w=l(u),x;e[1]!==u?(t=function(){w.current=u},x=[u],e[1]=u,e[2]=t,e[3]=x):(t=e[2],x=e[3]);k(t,x);var y=l(!1);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(t=c("MetaConfig")._("55")?["JOINED_PUBLIC_CHANNELS"]:[],e[4]=t):t=e[4];x=t;e[5]!==a?(t=c("MetaConfig")._("95")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[],e[5]=a,e[6]=t):t=e[6];a=t;e[7]!==a?(t=[].concat(x,a),e[7]=a,e[8]=t):t=e[8];x=t;var z=x;e[9]!==g||e[10]!==s||e[11]!==z?(a=function(){z.length>0&&c("promiseDone")(c("MessengerAsyncStorage").getItem(s).then(function(a){if(a!=null){var b=JSON.parse(a);b!=null&&c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatusStoredProcedure")(c("LSFactory")(a),{fromTimestampMs:p(b),serverMode:c("LSVec").ofArray(z),threads:new(c("LSDict"))([])})},"readwrite",void 0,void 0,f.id+":98"))}})["catch"](r),function(){y.current=!0;var a=q((j||(j=d("I64"))).of_float(d("ServerTime").getMillis()));c("promiseDone")(c("MessengerAsyncStorage").setItem(s,JSON.stringify(a)),function(){v(a)})})},e[9]=g,e[10]=s,e[11]=z,e[12]=a):a=e[12];var A=a;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(){i.current!=null&&(c("clearInterval")(i.current),i.current=null)},e[13]=t):t=e[13];var B=t;e[14]!==A?(x=function(){if(i.current!=null)return;if(c("MetaConfig")._("96")){var a;i.current=c("setInterval")(A,(a=c("MetaConfig")._("43"))!=null?a:n)}},e[14]=A,e[15]=x):x=e[15];var C=x;e[16]!==C||e[17]!==A?(a=function(){var a=d("ServerTime").getMillis()-(j||(j=d("I64"))).to_float(p(w.current));i.current==null&&C();a>=((a=c("MetaConfig")._("43"))!=null?a:n)&&A()},e[16]=C,e[17]=A,e[18]=a):a=e[18];var D=a;e[19]!==D||e[20]!==b?(t=function(){d("VisibilityAPI").isVisibilityHidden()?B():b&&c("MetaConfig")._("97")&&D()},e[19]=D,e[20]=b,e[21]=t):t=e[21];var E=t;e[22]!==C||e[23]!==A||e[24]!==E?(x=function(){var a=null;y.current||(A(),d("VisibilityAPI").canUseVisibilityAPI&&(a=d("VisibilityAPI").onVisibilityChange(E)),C());return function(){a!=null&&d("VisibilityAPI").removeVisibiltyChangeListener(a),i.current!=null&&(c("clearInterval")(i.current),i.current=null)}},e[22]=C,e[23]=A,e[24]=E,e[25]=x):x=e[25];e[26]!==D||e[27]!==C||e[28]!==b||e[29]!==A||e[30]!==E?(a=[B,D,C,b,A,E],e[26]=D,e[27]=C,e[28]=b,e[29]=A,e[30]=E,e[31]=a):a=e[31];k(x,a)}function r(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to set timestamp for thread activity status")}g["default"]=a}),98);
__d("useMWInboxContextSwitcherFilterPreloaderCond",["cr:4651","emptyFunction","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=d("react-compiler-runtime").c(1);a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onHoverIn:c("emptyFunction"),onHoverOut:c("emptyFunction"),onPressIn:c("emptyFunction")},a[0]=b):b=a[0];return b}f=(e=b("cr:4651"))!=null?e:a;b=f;g["default"]=b}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","FDSPivotLinkTabs.react","I64","LSIntEnum","LSThreadRangeFilter","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","MWVerticalRhythm","Promise","gkx","promiseDone","react","react-compiler-runtime","useHasUnjoinedCMThreads","useMWCMVerifyActivityStatusOnMountAndFocus","useMWInboxContextSwitcherFilterPreloaderCond","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["filter","hasNewContentBadge","isShown","logClick","odsAction","overrideTabChange","ref"],j,k,l,m,n,o=n||(n=d("react")),p=n.useEffect,q={tabContainerWithFilters:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"xwn43p0",paddingInlineEnd:"x1x5flf6",paddingLeft:null,paddingRight:null,$$css:!0},tabWithFilters:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29),e=a.entryPoint,g=a.onTabChange,j=a.parentThreadKey,n=a.selectedFilterTab,t=a.showMessageRequests,u=a.showNestedFolderThreads,v=(k||(k=c("useReStore")))();c("useMWCMVerifyActivityStatusOnMountAndFocus")("ContextSwitcher",e==="inbox");var w;b[0]!==v?(a=function(){c("promiseDone")(v.runInTransaction(s,"readwrite",void 0,void 0,f.id+":83"))},w=[v],b[0]=v,b[1]=a,b[2]=w):(a=b[1],w=b[2]);p(a,w);var x=c("useHasUnjoinedCMThreads")();a=d("MWInboxPersistedUIState").usePersistedUIState(x,"__MWInboxContextSwitcher.hasViewedSuggestedChats__");var y=a[0],z=a[1];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(w=(l||(l=d("LSIntEnum"))).ofNumber(0),b[3]=w):w=b[3];a=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(w);w=a!=null&&a>0;a=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads();var A=x&&!y,B=e==="jewel"?"jewel_tray":"messenger_inbox",C=e==="inbox"?"jewel_inbox":"chats_inbox",D;b[4]!==C||b[5]!==B?(D={onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:C,source:"blended_threadlist_community_tab",surface:B})}},b[4]=C,b[5]=B,b[6]=D):D=b[6];D=c("useSinglePartialViewImpression")(D);var E;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(E=(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),b[7]=E):E=b[7];E=c("useMWInboxContextSwitcherFilterPreloaderCond")(v,j,E);E=E.onPressIn;var F;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(F=(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),b[8]=F):F=b[8];j=c("useMWInboxContextSwitcherFilterPreloaderCond")(v,j,F);F=j.onPressIn;if(b[9]!==e||b[10]!==x||b[11]!==A||b[12]!==a||b[13]!==w||b[14]!==y||b[15]!==D||b[16]!==E||b[17]!==F||b[18]!==g||b[19]!==C||b[20]!==n||b[21]!==z||b[22]!==t||b[23]!==u||b[24]!==B){j=[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").NONE),hasNewContentBadge:w,isShown:!0,label:h._(/*BTDS*/"All"),odsAction:"inbox_tab_click"},{filter:l.ofNumber(c("LSThreadRangeFilter").UNREAD_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Unread"),odsAction:"unread_tab_click",onPressIn:F},{filter:l.ofNumber(c("LSThreadRangeFilter").GROUPS_ONLY),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Groups"),odsAction:"groups_tab_click",onPressIn:E}].concat(c("gkx")("2165")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES),hasNewContentBadge:a||A,isShown:!0,label:h._(/*BTDS*/"Communities"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:C,source:"blended_threadlist_community_tab",surface:B})},odsAction:"communities_tab_click",ref:D}]:[],c("gkx")("6437")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").DRAFTS),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Drafts"),odsAction:"drafts_tab_click"}]:[],c("gkx")("17132")?[{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").MARKETPLACE),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Marketplace"),odsAction:"marketplace_tab_click",overrideTabChange:function(){u!=null&&u((l||(l=d("LSIntEnum"))).ofNumber(-12))}},{filter:(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").MESSAGE_REQUESTS),hasNewContentBadge:!1,isShown:!0,label:h._(/*BTDS*/"Message requests"),odsAction:"message_request_tab_click",overrideTabChange:function(){t==null||t()}}]:[]);j=j.filter(r).map(function(a,b){var f=a.filter;b=a.hasNewContentBadge;a.isShown;var h=a.logClick,j=a.odsAction,k=a.overrideTabChange,o=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,i);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){(m||(m=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))&&x&&!y&&z(!0);d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,j);h==null||h();if(k!=null){k();return}g(f)},ref:o,selected:(m||(m=d("I64"))).equal(f,n),testid:(m||(m=d("I64"))).equal(f,(l||(l=d("LSIntEnum"))).ofNumber(c("LSThreadRangeFilter").COMMUNITIES))?"communities_tab":void 0,xstyle:q.tabWithFilters})});b[9]=e;b[10]=x;b[11]=A;b[12]=a;b[13]=w;b[14]=y;b[15]=D;b[16]=E;b[17]=F;b[18]=g;b[19]=C;b[20]=n;b[21]=z;b[22]=t;b[23]=u;b[24]=B;b[25]=j}else j=b[25];A=j;if(A.length<=1){b[26]===Symbol["for"]("react.memo_cache_sentinel")?(a=o.jsx(c("MWVerticalRhythm"),{height:8}),b[26]=a):a=b[26];return a}b[27]!==A?(w=o.jsx(c("FDSPivotLinkTabs.react"),{linkType:"deemphasized",tabs:A,tabsContainerStyle:q.tabContainerWithFilters}),b[27]=A,b[28]=w):w=b[28];return w}function r(a){return a.isShown}function s(a){return(j||(j=b("Promise"))).resolve()}g["default"]=a}),226);
__d("useMWInboxContextSwitcherFilterPreloader",["MWPBaseThreadListHooks","MWPBaseThreadListUtils","react","react-compiler-runtime","useCometPreloader"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;b.useMemo;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g=d("MWPBaseThreadListHooks").useMWPBaseThreadListDefaultThreadsRange(a,b,e),h;f[0]!==a||f[1]!==g||f[2]!==e||f[3]!==b?(h=function(){g==null&&d("MWPBaseThreadListUtils").loadMoreThreadsForEmptyRangeDefault(a,b,e)},f[0]=a,f[1]=g,f[2]=e,f[3]=b,f[4]=h):h=f[4];h=h;h=c("useCometPreloader")("button",h,h);var i=h.onHighIntentPreloader,j=h.onHoverInPreloader,k=h.onHoverOutPreloader;h=h.onPressInPreloader;var l;f[5]!==i||f[6]!==j?(l=function(a){j(a),i(!0)},f[5]=i,f[6]=j,f[7]=l):l=f[7];var m;f[8]!==k||f[9]!==h||f[10]!==l?(m={onHoverIn:l,onHoverOut:k,onPressIn:h},f[8]=k,f[9]=h,f[10]=l,f[11]=m):m=f[11];k=m;return k}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("VideoPlayerDashPerformanceLoggerPayloadBuilder",[],(function(a,b,c,d,e,f){"use strict";var g={access_token:void 0,additional_buffered_ranges:void 0,append_target:void 0,appended_buffer_ms:void 0,bandwidth_estimate:void 0,client_time_begin:void 0,client_time_duration:void 0,client_time_end:void 0,code:void 0,concluder:void 0,connection_quality_level:void 0,content_length_header:void 0,device_pixel_ratio_float:void 0,dropped_frames:void 0,dynamic_bitrate:void 0,edge_hit_header:void 0,ended:void 0,error:void 0,event:void 0,expected_length:void 0,fbls_to_ply_dis_ms:void 0,initiator:void 0,is_drm:void 0,is_live:void 0,is_muted:void 0,is_online:void 0,is_p2p_playback:void 0,is_page_visible:void 0,is_prefetch:void 0,is_ring_buffer_sample:void 0,is_servable_via_fbms:void 0,is_templated_manifest:void 0,is_latency_catchup_enabled:void 0,last_buffered_end:void 0,last_buffered_start:void 0,last_buffering_event_end_time:void 0,last_buffering_event_start_time:void 0,last_playing_event_time:void 0,length:void 0,livehead_delta:void 0,livehead_seq_num_header:void 0,livehead_seq_num_mpd:void 0,logical_cpu_count:void 0,lowest_quality_representation_id:void 0,manifest_type:void 0,mediastream_event_count:void 0,mediasource_previous_duration:void 0,mediasource_new_duration:void 0,one_observed:void 0,one_req_wave:void 0,one_res_wave:void 0,origin_hit_header:void 0,parent_id:void 0,playback_fbms_param:void 0,playback_rate:void 0,player_height:void 0,player_instance_count:void 0,player_origin_caller_specified:void 0,player_suborigin:void 0,player_version:void 0,player_width:void 0,player_format:void 0,playhead:void 0,preload_time:void 0,previous_representation_id:void 0,priority_float:void 0,proxy_status_header:void 0,reason:void 0,representation_id:void 0,reschedule_count:void 0,resource:void 0,response_time_ms_header:void 0,result:void 0,script_path:void 0,segment_count:void 0,segment_end_time:void 0,segment_start_time:void 0,segment_time_gap:void 0,sequential_id:void 0,session:void 0,state:void 0,stream_switch_reason:void 0,time_between_bytes_max:void 0,time_since_main_thread_available:void 0,time_to_first_byte:void 0,time_to_last_byte:void 0,time_to_request_sent:void 0,time_to_request_start:void 0,total_frames:void 0,type:void 0,update_period:void 0,user_info:void 0,video_duration:void 0,video_id:void 0,video_playback_experience_issue:void 0,was_delayed:void 0,fna_hit_header:void 0,last_video_buffered_end:void 0,last_video_buffered_start:void 0,last_audio_buffered_end:void 0,last_audio_buffered_start:void 0,per_session_sampling_rate:void 0};function h(a){var b=a;typeof b==="string"&&(b=Number(a));return b!=null&&isFinite(b)?String(Math.floor(b)):null}a=function(){function a(){this.$1=babelHelpers["extends"]({},g)}var b=a.prototype;b.clear=function(){this.$1=babelHelpers["extends"]({},g);return this};b.getData=function(){return babelHelpers["extends"]({},this.$1)};b.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};b.setPerSessionSampleRate=function(a){this.$1.per_session_sampling_rate=h(a);return this};b.setAccessToken=function(a){this.$1.access_token=a;return this};b.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};b.setAppendTarget=function(a){this.$1.append_target=h(a);return this};b.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=h(a);return this};b.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=h(a);return this};b.setClientTimeBegin=function(a){this.$1.client_time_begin=h(a);return this};b.setClientTimeDuration=function(a){this.$1.client_time_duration=h(a);return this};b.setClientTimeEnd=function(a){this.$1.client_time_end=h(a);return this};b.setCode=function(a){this.$1.code=h(a);return this};b.setConcluder=function(a){this.$1.concluder=a;return this};b.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};b.setContentLengthHeader=function(a){this.$1.content_length_header=h(a);return this};b.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};b.setDroppedFrames=function(a){this.$1.dropped_frames=h(a);return this};b.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=h(a);return this};b.setFNAHitHeader=function(a){this.$1.fna_hit_header=a;return this};b.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};b.setEnded=function(a){this.$1.ended=a;return this};b.setError=function(a){this.$1.error=a;return this};b.setEvent=function(a){this.$1.event=a;return this};b.setExpectedLength=function(a){this.$1.expected_length=h(a);return this};b.setFblsToPlyDisMs=function(a){this.$1.fbls_to_ply_dis_ms=h(a);return this};b.setPreferredEdgeLatency=function(a){this.$1.preferred_edge_latency=h(a);return this};b.setInitiator=function(a){this.$1.initiator=a;return this};b.setIsDrm=function(a){this.$1.is_drm=a;return this};b.setIsLive=function(a){this.$1.is_live=a;return this};b.setIsMuted=function(a){this.$1.is_muted=a;return this};b.setIsOnline=function(a){this.$1.is_online=a;return this};b.setIsP2pPlayback=function(a){this.$1.is_p2p_playback=a;return this};b.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};b.setIsPrefetch=function(a){this.$1.is_prefetch=a;return this};b.setIsRingBufferSample=function(a){this.$1.is_ring_buffer_sample=a;return this};b.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};b.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$1.is_latency_catchup_enabled=a;return this};b.setPlayerFormat=function(a){this.$1.player_format=a;return this};b.setLastBufferedEnd=function(a){this.$1.last_buffered_end=h(a);return this};b.setLastBufferedStart=function(a){this.$1.last_buffered_start=h(a);return this};b.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=h(a);return this};b.setLastBufferingEventStartTime=function(a){this.$1.last_buffering_event_start_time=h(a);return this};b.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=h(a);return this};b.setLength=function(a){this.$1.length=h(a);return this};b.setLiveheadDelta=function(a){this.$1.livehead_delta=h(a);return this};b.setLiveheadSeqNumHeader=function(a){this.$1.livehead_seq_num_header=h(a);return this};b.setLiveheadSeqNumMpd=function(a){this.$1.livehead_seq_num_mpd=h(a);return this};b.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=h(a);return this};b.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};b.setManifestType=function(a){this.$1.manifest_type=a;return this};b.setIsMixedCodecManifest=function(a){this.$1.is_mixed_codec_manifest=a;return this};b.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=h(a);return this};b.setMediaSourceNewDuration=function(a){this.$1.mediasource_new_duration=a;return this};b.setMediaSourcePreviousDuration=function(a){this.$1.mediasource_previous_duration=a;return this};b.setOneObserved=function(a){this.$1.one_observed=a;return this};b.setOneReqWave=function(a){this.$1.one_req_wave=h(a);return this};b.setOneResWave=function(a){this.$1.one_res_wave=h(a);return this};b.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};b.setParentID=function(a){this.$1.parent_id=h(a);return this};b.setPlaybackFbmsParam=function(a){this.$1.playback_fbms_param=a;return this};b.setPlaybackRate=function(a){this.$1.playback_rate=a;return this};b.setPlayerHeight=function(a){this.$1.player_height=h(a);return this};b.setPlayerInstanceCount=function(a){this.$1.player_instance_count=h(a);return this};b.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};b.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};b.setPlayerVersion=function(a){this.$1.player_version=a;return this};b.setPlayerWidth=function(a){this.$1.player_width=h(a);return this};b.setPlayhead=function(a){this.$1.playhead=h(a);return this};b.setPreloadTime=function(a){this.$1.preload_time=h(a);return this};b.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};b.setPriorityFloat=function(a){this.$1.priority_float=a;return this};b.setProxyStatusHeader=function(a){this.$1.proxy_status_header=a;return this};b.setPushed=function(a){return this};b.setReason=function(a){this.$1.reason=a;return this};b.setRepresentationID=function(a){this.$1.representation_id=a;return this};b.setRescheduleCount=function(a){this.$1.reschedule_count=h(a);return this};b.setResource=function(a){this.$1.resource=a;return this};b.setResponseTimeMsHeader=function(a){this.$1.response_time_ms_header=h(a);return this};b.setResult=function(a){this.$1.result=a;return this};b.setScriptPath=function(a){this.$1.script_path=a;return this};b.setSegmentCount=function(a){this.$1.segment_count=h(a);return this};b.setSegmentEndTime=function(a){this.$1.segment_end_time=h(a);return this};b.setSegmentStartTime=function(a){this.$1.segment_start_time=h(a);return this};b.setSegmentTimeGap=function(a){this.$1.segment_time_gap=h(a);return this};b.setSequentialID=function(a){this.$1.sequential_id=h(a);return this};b.setSession=function(a){this.$1.session=a;return this};b.setState=function(a){this.$1.state=a;return this};b.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};b.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=h(a);return this};b.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=h(a);return this};b.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=h(a);return this};b.setTimeToLastByte=function(a){this.$1.time_to_last_byte=h(a);return this};b.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=h(a);return this};b.setTimeToRequestStart=function(a){this.$1.time_to_request_start=h(a);return this};b.setTotalFrames=function(a){this.$1.total_frames=h(a);return this};b.setType=function(a){this.$1.type=a;return this};b.setUpdatePeriod=function(a){this.$1.update_period=h(a);return this};b.setUserInfo=function(a){this.$1.user_info=a;return this};b.setVideoDuration=function(a){this.$1.video_duration=h(a);return this};b.setVideoID=function(a){this.$1.video_id=a;return this};b.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};b.setWasDelayed=function(a){this.$1.was_delayed=a;return this};b.setDynamicStatusHeader=function(a){this.$1.dynamic_status_header=a;return this};b.setLastAudioBufferedEnd=function(a){this.$1.last_audio_buffered_end=h(a);return this};b.setLastAudioBufferedStart=function(a){this.$1.last_audio_buffered_start=h(a);return this};b.setLastVideoBufferedEnd=function(a){this.$1.last_video_buffered_end=h(a);return this};b.setLastVideoBufferedStart=function(a){this.$1.last_video_buffered_start=h(a);return this};return a}();f.convertToInt64=h;f.VideoPlayerDashPerformanceLoggerPayloadBuilder=a}),66);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerDashPerformanceLoggerEventFalcoEvent","VideoPlayerDashPerformanceLoggerPayloadBuilder","VideoPlayerShakaPerformanceLoggerConfig","clearTimeout","gkx","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=999,i=(a=c("qex")._("2104"))!=null?a:12e4,j=[],k=0,l=!1,m=!1,n=null;b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);b.isEnabled=function(){return b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5()||b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6()};b.disable=function(){l=!1};b.enable=function(){l=!0};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7=function(a){a=j[a];if(a!=null){var c=new b();c.updateData(a).log()}};b.flushQueuedLogs=function(){k=k>h?0:k;if(!b.isEnabled()){m=!0;b.enable();for(var a=k;a<=h;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(a);for(a=0;a<k;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(a);j=[];k=0}m&&(n!=null&&c("clearTimeout")(n),n=c("setTimeout")(function(){n=null,m=!1,b.disable()},i))};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5=function(){return d("VideoPlayerShakaPerformanceLoggerConfig").isSampled};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6=function(){return l};var e=b.prototype;e.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8=function(){m&&this.setIsRingBufferSample(!0),this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9()};e.log=function(){b.isEnabled()||(this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4||0)>0?this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8():c("gkx")("26220")&&(k=k>h?0:k,j[k++]=this.getData())};e.setPerSessionSampleRate=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4=b;return a.prototype.setPerSessionSampleRate.call(this,b)};e.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1=b;return a.prototype.setState.call(this,b)};e.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1};e.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3=b;return a.prototype.setType.call(this,b)};e.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3};e.setIsRingBufferSample=function(b){a.prototype.setIsRingBufferSample.call(this,b);return this};e.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2=b;a.prototype.setSequentialID.call(this,b);return this};e.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2);return this};e.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9=function(){var a=this;c("VideoPlayerDashPerformanceLoggerEventFalcoEvent").log(function(){return a.getData()})};return b}(d("VideoPlayerDashPerformanceLoggerPayloadBuilder").VideoPlayerDashPerformanceLoggerPayloadBuilder);g["default"]=b}),98);
__d("InstreamVideoAdBreaksPlayerDeferred.react",["deferredLoadComponent","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferred")("InstreamVideoAdBreaksPlayerImpl.react").__setRef("InstreamVideoAdBreaksPlayerDeferred.react"));g["default"]=a}),98);
__d("InstreamVideoAdBreaksPlayerImpl_adBreaks$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"instream_placement",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"InstreamVideoAdBreaksPlayerImpl_adBreaks$normalization",selections:[{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"mid_rolls",plural:!0,selections:[a,b,{alias:null,args:null,kind:"ScalarField",name:"time_offset_in_ms",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InstreamVideoAdBreak",kind:"LinkedField",name:"pre_roll",plural:!1,selections:[a,b],storageKey:null}]}}();e.exports=a}),null);
__d("ShakaConstants",[],(function(a,b,c,d,e,f){a={abort_loading_delay:2e4,abr_abort_on_zero_stream_progress_below_threshold:-1,abr_abort_when_fetch_estimate_exceeds_buffer_factor:0,abr_abort_when_fetch_estimate_exceeds_time:0,append_window_end_fudge_factor:0,audio_request_pipeline_max_concurrent_requests:1,audio_request_pipeline_soothing_factor:1,audio_video_buffer_diff_threshold:14400,autoplay_start_video_interval:200,back_off_buffering_overflow_max:5,back_off_buffering_overflow_time_factor:2,back_off_buffering_overflow_time_window:2e3,bandwidth_downgrade_target:.9,bandwidth_penalty_decay_per_video:1,bandwidth_standard_deviation_penalty_factor:.1,buffer_downgrade_threshold:10,buffer_replacement_ahead_threshold:15,buffer_replacement_behind_threshold:5,buffer_target:-1,buffer_target_overflow_upgrade_aggressiveness:1,buffer_target_underflow_upgrade_aggressiveness:1,buffer_velocity_time_in_past_to_consider:0,buffering_count_threshold:5,buffering_spinner_delay_ms:0,buffering_underflow_threshold:.05,clear_buffer_on_constraint_change_offset:5,clear_buffer_on_constraint_change_paused_offset:5,clear_buffer_on_seek_back_delta:0,decouple_stream_on_update_loop_from_request_loop_int:0,fast_moving_average_half_life:3,frame_drop_penalty_factor:0,frame_drop_penalty_minimum_frame_count:0,global_scheduler_priority_downgrade_bufferahead_threshold:0,global_scheduler_priority_threshold:6,hvq_inline_upgrade_aggressiveness:1,hvq_upgrade_aggressiveness:1,initial_stream_buffer_size_for_blocked_autoplay:5.9335983320607,initial_stream_buffer_size_for_video_stream:0,jump_to_live_threshold:.5,live_bandwidth_downgrade_target:1,live_bitrate_estimates_half_life:1,live_bitrate_estimates_large_sample_weight_factor:10,live_bitrate_estimates_minimum_sample_count:1,live_buffering_underflow_threshold:.5,live_data_fetch_max_retries:0,live_dynamic_stream_buffer_size:12,live_hvq_inline_upgrade_aggressiveness:1,live_hvq_upgrade_aggressiveness:1,live_interruption_consecutive_updates_with_change:3,live_interruption_consecutive_updates_without_change:5,live_max_manifest_fetches_with_push:1,live_max_segments_to_push:1,live_playhead_idle_all_stream_threshold:4,live_playhead_idle_single_stream_threshold:5,live_pre_hvq_inline_upgrade_aggressiveness:1,live_pre_hvq_upgrade_aggressiveness:1,live_predictive_abr_down_buffer:5e3,live_predictive_abr_floor_swich_lanes:-2,live_predictive_abr_floor_ttfb_ratio:5,live_predictive_abr_ttfb_ratio:1.8,live_predictive_abr_up_buffer:9e3,live_predictive_abr_up_retry_interval:3e4,live_rewind_templated_last_x_segments_only:0,live_source_buffer_clear_max_retries:0,live_stream_end_slack:.5,live_stream_end_timeout:6e4,living_room_play_x_milliseconds_before_seek:0,living_room_playhead_catchup_interval:0,local_bitrate_segments_ahead:10,logging_log_event_limit:1e3,low_buffer_velocity_abr_interval:500,low_buffer_velocity_abr_interval_buffer_threshold:10,low_buffer_velocity_threshold:0,low_pri_task_min_bytes_to_yield:0,low_pri_task_yield_check_interval:0,low_pri_task_yields_per_task:0,max_bandwidth_update_interval:0,max_network_interrupted_time_before_seek:1e4,max_prefetch_request_num:0,max_prefetch_videos_num:2,max_recent_bandwidth_samples:25,maximum_bandwidth_bitrate_ratio:1.5,maximum_mos_to_decrease:3,min_mpd_refresh_interval:1e3,min_sample_count:1e4,minimum_sample_count_to_use_deviation_penalty:2,minimum_sample_count_to_use_new_estimator:0,minimum_samples_to_use_neural_estimate:1,minimum_weight_to_trust_local_bandwidth_estimate:.5,multiple_videos_queue_penalty_start_count:2,neural_estimate_weight:0,new_estimator_half_life:5,new_estimator_standard_deviation_exclusion_factor:2,pending_seek_while_playing_delay:2e3,pending_seek_while_playing_offset_from_livehead:4e3,playhead_fragmented_gap_diff_allowance:.1,pre_hvq_inline_upgrade_aggressiveness:1,pre_hvq_upgrade_aggressiveness:1,priority_precision:1,recursive_native_settimeout_delay:-1,recursive_ric_timeout:17,request_bounded_animation_frame_bound:50,request_pipeline_max_concurrent_requests:2,request_pipeline_soothing_factor:2,request_pipeline_timeout_ms:0,resolution_constraint_max_height:0,resolution_constraint_max_width:0,ric_autoplay_bound:50,rl_bandwidth_scale:1e6,rl_bitrate_reward:1,rl_buffer_scale:10,rl_max_number_of_bitrates:10,rl_model_id:0,rl_playback_scale:2e5,rl_request_timeout:1e3,rl_stall_count_penalty:30,rl_stall_time_penalty:0,rl_watch_time_reward:0,scheduled_videos_start_stream_buffer_size_threshold:0,scheduler_priority_update_interval:1e3,settimeout_polling_delay:17,shaka_default_ajax_request_timeout_ms:0,shaka_default_request_timeout_timescale:1e3,skip_manifest_gap_boundary_precision_ms:1e3,slow_moving_average_half_life:10,stream_maximum_onpause_buffer_size_multiplier:0,stream_onupdate_sampling:0,streaming_append_per_segment:3,templated_adjust_stream_limits_start_offset:0,templated_adjust_stream_limits_start_offset_int:10,templated_chunked_segment_update_limit_int:10,templated_ingest_throttle:0,templated_jump_to_live_sidx_end_offset:0,templated_quarantine_idle_references_threshold:0,templated_use_perf_test_segment_index_base_int:0,video_dash_prefetch_cache_retention_duration_ms:5e3};b={block_play_request_http_status_list:"410",defer_which_video_to_abort_loading_decisioning_logic:"live",feature_param:"",live_abr_audio_push_representation:"live-md-a",live_abr_initial_push_representation:"live-md-v",rl_smc_tier:"repomen_1",segment_update_helper_splice_path_entity_key:"",templated_perf_test_methods_under_test_csv_string:"all"};c={numbers:a,strings:b};f["default"]=c}),66);
__d("VideoPlayerMainThreadAvailability",["ShakaConstants","Visibility","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=window.__fbNativeSetTimeout,j=a.__fbNativeClearTimeout,k=window.requestIdleCallback,l=window.cancelIdleCallback,m=function(a,b){var c=function(){a(c,b)};return c};b=function(){function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var b=a.prototype;b.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};b.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(h||(h=c("performanceNow")))()-Number(this.$2):null};b.$8=function(){this.$2=c("Visibility").isHidden()?null:(h||(h=c("performanceNow")))()};b.$9=function(){this.$2=null,typeof this.$4==="number"&&(l(this.$4),this.$4=null),typeof this.$3==="number"&&(j(this.$3),this.$3=null)};b.$7=function(){this.$10()};b.$6=function(){var a=this,b;(b=c("Visibility")).addListener(b.VISIBLE,function(){a.$9(),a.$7()});b.addListener(b.HIDDEN,function(){a.$9()})};b.$10=function(){var a=this,b=c("ShakaConstants").numbers.settimeout_polling_delay;if(b>-1){var d=function(){a.$8(),a.$3=i(d,b)};i(d,b)}};b.$5=function(){return c("Visibility").isSupported()&&typeof k==="function"&&typeof l==="function"&&typeof i==="function"&&typeof j==="function"};b.maybeEnablePerformanceTest=function(){var a,b=c("ShakaConstants").numbers.recursive_ric_timeout;b>-1&&({timeout:b});b=c("ShakaConstants").numbers.recursive_native_settimeout_delay;b>-1&&typeof i==="function"&&(a=m(i,b));a&&a()};return a}();d=new b();g["default"]=d}),98);
__d("VideoPlayerScrubberDefaultPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberDefaultPreview_video",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberDefaultPreview.react",["CometRelay","VideoPlayerHooks","VideoPlayerScrubberDefaultPreview_video.graphql","VideoPlayerTimeIndicator.react","cr:6885","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=.1,m=60,n=120;function o(a,b,c,d,e,f){c=c*b;b=Math.floor(a%c/b);var g=Math.floor(b/d);b=b%d;d=b*e;b=g*f;e=Math.floor(a/c);return{spriteIndex:e,spriteX:d,spriteY:b}}function a(a){var e,f=d("react-compiler-runtime").c(48),g=a.timestampSec;a=a.video;var i=(j||(j=d("VideoPlayerHooks"))).useDimensions();a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberDefaultPreview_video.graphql"),a);a=a==null||(e=a.video)==null?void 0:e.scrubber_preview_thumbnail_information;var p=a==null?void 0:a.sprite_uris,q=a==null?void 0:a.thumbnail_width,r=a==null?void 0:a.thumbnail_height,s=a==null?void 0:a.has_preview_thumbnails,t=a==null?void 0:a.num_images_per_row,u=a==null?void 0:a.max_number_of_images_per_sprite;a=a==null?void 0:a.time_interval_between_image;if(p==null||q==null||r==null||s==null||t==null||u==null||a==null||!s){f[0]!==g?(s=k.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:g}),f[0]=g,f[1]=s):s=f[1];return s}f[2]!==u||f[3]!==t||f[4]!==r||f[5]!==q||f[6]!==a||f[7]!==g?(s=o(g,a,u,t,q,r),f[2]=u,f[3]=t,f[4]=r,f[5]=q,f[6]=a,f[7]=g,f[8]=s):s=f[8];u=s;t=u.spriteIndex;a=u.spriteX;s=u.spriteY;u=p[t];if(u==null||u===""){f[9]!==g?(p=k.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:g}),f[9]=g,f[10]=p):p=f[10];return p}t=q/r;p=i==null?m:Math.max(m,Math.min(n,i.height*l));i=p*t;if(b("cr:6885")!=null){f[11]===Symbol["for"]("react.memo_cache_sentinel")?(t="x4n7ey xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x4p5aij x1ccui7m x1j85h84 x18pi947 x1n2onr6",f[11]=t):t=f[11];var v=-i/2,w;f[12]!==p||f[13]!==i||f[14]!==v?(w={height:p,left:v,width:i},f[12]=p,f[13]=i,f[14]=v,f[15]=w):w=f[15];f[16]!==p||f[17]!==i||f[18]!==u||f[19]!==a||f[20]!==s||f[21]!==r||f[22]!==q?(v=k.jsx(b("cr:6885"),{previewHeight:p,previewWidth:i,spriteURI:u,spriteX:a,spriteY:s,thumbnailHeight:r,thumbnailWidth:q}),f[16]=p,f[17]=i,f[18]=u,f[19]=a,f[20]=s,f[21]=r,f[22]=q,f[23]=v):v=f[23];f[24]!==g?(q=k.jsx(c("VideoPlayerTimeIndicator.react"),{timestampSec:g}),f[24]=g,f[25]=q):q=f[25];f[26]!==w||f[27]!==v||f[28]!==q?(t=k.jsxs("div",{className:t,style:w,children:[v,q]}),f[26]=w,f[27]=v,f[28]=q,f[29]=t):t=f[29];return t}else{w=r/p;v="url("+u+")";q="-"+a/w+"px -"+s/w+"px";f[30]!==p||f[31]!==i||f[32]!==v||f[33]!==q?(t={backgroundImage:v,backgroundPosition:q,backgroundSize:"1000% 1000%",borderRadius:4,height:p,width:i},f[30]=p,f[31]=i,f[32]=v,f[33]=q,f[34]=t):t=f[34];r=t;u=-i/2;f[35]!==p||f[36]!==i||f[37]!==u?(a={height:p,left:u,width:i},f[35]=p,f[36]=i,f[37]=u,f[38]=a):a=f[38];s=a;f[39]===Symbol["for"]("react.memo_cache_sentinel")?(w="x4n7ey xjwep3j x1t39747 x1wcsgtt x1pczhz8 x78zum5 xl56j7k x4p5aij x1ccui7m x1j85h84 x18pi947 x1n2onr6",f[39]=w):w=f[39];f[40]!==r?(v=k.jsx("div",{style:r}),f[40]=r,f[41]=v):v=f[41];f[42]!==g?(q=k.jsx(c("VideoPlayerTimeIndicator.react"),{timestampSec:g}),f[42]=g,f[43]=q):q=f[43];f[44]!==s||f[45]!==v||f[46]!==q?(t=k.jsxs("div",{className:w,style:s,children:[v,q]}),f[44]=s,f[45]=v,f[46]=q,f[47]=t):t=f[47];return t}}g["default"]=a}),98);
__d("VideoPlayerScrubberDefaultPreview_video$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"VideoPlayerScrubberDefaultPreview_video$normalization",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$11(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.setIsP2pPlayback=function(a){this.$8=a;return this};b.setIsRingBufferSample=function(a){this.$9=a;return this};b.setPerSessionSampleRate=function(a){this.$10=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getIsP2pPlayback=function(){return this.$8};b.getIsRingBufferSample=function(){return this.$9};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$11(a);return a};b.createOperationLogger=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})};b.createLoggerProvider=function(){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})};b.$11=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()==="boolean"&&a.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()==="boolean"&&a.setIsRingBufferSample(this.getIsRingBufferSample())};return a}();g["default"]=a}),98);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","gkx","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzErrorUtils","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=3e5,i=200,j=4;c("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();var k=!1;a=function(a){function b(c){var d,e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger$p_13=!1;e.$VideoPlayerShakaPerformanceLogger$p_14=!0;e.$VideoPlayerShakaPerformanceLogger$p_26=0;e.$VideoPlayerShakaPerformanceLogger$p_27=0;e.$VideoPlayerShakaPerformanceLogger$p_28=[];e.$VideoPlayerShakaPerformanceLogger$p_38=new Map();e.$VideoPlayerShakaPerformanceLogger$p_25=c;e.$VideoPlayerShakaPerformanceLogger$p_2=c.videoID;e.$VideoPlayerShakaPerformanceLogger$p_4=c.video;e.$VideoPlayerShakaPerformanceLogger$p_1=c.uniqueID;e.$VideoPlayerShakaPerformanceLogger$p_3=0;e.$VideoPlayerShakaPerformanceLogger$p_11=c.isLive;e.$VideoPlayerShakaPerformanceLogger$p_12=c.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger$p_9=null;e.$VideoPlayerShakaPerformanceLogger$p_15=c.accessToken;e.$VideoPlayerShakaPerformanceLogger$p_16=c.playerOrigin;e.$VideoPlayerShakaPerformanceLogger$p_17=c.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger$p_18=c.playerVersion;e.$VideoPlayerShakaPerformanceLogger$p_29=c.getBandwidthEstimate;e.$VideoPlayerShakaPerformanceLogger$p_30=(d=c.getPlayerDimensions)!=null?d:null;e.$VideoPlayerShakaPerformanceLogger$p_31=(d=c.getPlayerFormat)!=null?d:null;e.setRepresentationID(c.representationId);e.$VideoPlayerShakaPerformanceLogger$p_33=c.isDrm;e.$VideoPlayerShakaPerformanceLogger$p_35={};e.$VideoPlayerShakaPerformanceLogger$p_36=(d=c.playerInstanceCount)!=null?d:null;b.maybeEnableMainThreadAvailabilityLogging();return e}babelHelpers.inheritsLoose(b,a);b.forceShouldSample=function(){k=!0,c("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable()};b.shouldInitialize=function(){return k||Boolean(d("VideoPlayerShakaPerformanceLoggerConfig").isSampled)||c("gkx")("26220")};b.flushQueuedLogs=function(){c("ExtendableVideoPlayerShakaPerformanceTypedLogger").flushQueuedLogs()};b.setVideoPlaybackExperienceIssue=function(a){b.$VideoPlayerShakaPerformanceLogger$p_32=a};b.isEnabled=function(){return c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()};b.maybeEnableMainThreadAvailabilityLogging=function(){d("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&c("VideoPlayerMainThreadAvailability").enable()};var e=b.prototype;e.$VideoPlayerShakaPerformanceLogger$p_39=function(a){var b=null;try{b=a.getBuffered()}catch(a){}if(b!=null&&b.length>0){a=b.length-1;return{lastBufferedStart:Math.round(b.start(a)*1e3),lastBufferedEnd:Math.round(b.end(a)*1e3)}}return null};e.$VideoPlayerShakaPerformanceLogger$p_40=function(a){a=a;var b=this.$VideoPlayerShakaPerformanceLogger$p_4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.end(d)*1e3);c.push([e,f])}c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));e=this.$VideoPlayerShakaPerformanceLogger$p_38.get("audio");if(e!=null){f=this.$VideoPlayerShakaPerformanceLogger$p_39(e);f!=null&&(a=a.setLastAudioBufferedStart(f.lastBufferedStart).setLastAudioBufferedEnd(f.lastBufferedEnd))}b=this.$VideoPlayerShakaPerformanceLogger$p_38.get("video");if(b!=null){d=this.$VideoPlayerShakaPerformanceLogger$p_39(b);d!=null&&(a=a.setLastVideoBufferedStart(d.lastBufferedStart).setLastVideoBufferedEnd(d.lastBufferedEnd))}return a};e.setType=function(a){this.$VideoPlayerShakaPerformanceLogger$p_24=a;return this};e.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger$p_25)};e.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger$p_9?Math.round((this.$VideoPlayerShakaPerformanceLogger$p_9-this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime)*1e3):null};e.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger$p_2};e.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger$p_13=a};e.setMediaSourceSourceBuffer=function(a,b){this.$VideoPlayerShakaPerformanceLogger$p_38.set(a,b);return this};e.unsetMediaSourceSourceBuffers=function(){this.$VideoPlayerShakaPerformanceLogger$p_38.clear();return this};e.addToLastErrorQueue=function(a){this.$VideoPlayerShakaPerformanceLogger$p_28.push(a),this.$VideoPlayerShakaPerformanceLogger$p_28.length>j&&this.$VideoPlayerShakaPerformanceLogger$p_28.shift()};e.getEventLogger=function(a){var e=this,f=Date.now(),g=new(c("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),h=this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime,i=this.$VideoPlayerShakaPerformanceLogger$p_4.duration,j=this.$VideoPlayerShakaPerformanceLogger$p_29(this.$VideoPlayerShakaPerformanceLogger$p_11),k=this.$VideoPlayerShakaPerformanceLogger$p_25.getApproximateFBLSToPlayerDisplayLatency(),l=this.$VideoPlayerShakaPerformanceLogger$p_30?this.$VideoPlayerShakaPerformanceLogger$p_30():null;this.$VideoPlayerShakaPerformanceLogger$p_40(g).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger$p_2).setDroppedFrames(d("VideoPlaybackQuality").getDroppedFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setTotalFrames(d("VideoPlaybackQuality").getTotalFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setEnded(this.$VideoPlayerShakaPerformanceLogger$p_4.ended).setIsMuted(this.$VideoPlayerShakaPerformanceLogger$p_4.muted).setPlaybackRate(this.$VideoPlayerShakaPerformanceLogger$p_4.playbackRate).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger$p_23).setPlayhead(Math.round(h*1e3)).setVideoDuration(Math.round(i*1e3)).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger$p_16).setScriptPath(d("ScriptPath").getScriptPath()).setPlayerHeight(l?l.height:null).setPlayerWidth(l?l.width:null).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger$p_17).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger$p_18).setPlayerFormat(this.$VideoPlayerShakaPerformanceLogger$p_31?this.$VideoPlayerShakaPerformanceLogger$p_31():null).setBandwidthEstimate(j==null?null:Math.round(j)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger$p_22).setIsLive(this.$VideoPlayerShakaPerformanceLogger$p_11).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger$p_12).setPlaybackFbmsParam(this.$VideoPlayerShakaPerformanceLogger$p_37).setIsPageVisible(!c("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger$p_13).setSession(this.$VideoPlayerShakaPerformanceLogger$p_1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger$p_20).setIsMixedCodecManifest(this.$VideoPlayerShakaPerformanceLogger$p_21).setLiveheadSeqNumMpd(this.$VideoPlayerShakaPerformanceLogger$p_10).setSequentialID(this.$VideoPlayerShakaPerformanceLogger$p_3++).setState(this.$VideoPlayerShakaPerformanceLogger$p_5).setLastBufferingEventStartTime(this.$VideoPlayerShakaPerformanceLogger$p_8).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger$p_7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger$p_6).setLiveheadDelta(this.getLiveheadDelta()).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger$p_15).setVideoPlaybackExperienceIssue(b.$VideoPlayerShakaPerformanceLogger$p_32).setClientTimeBegin(f).setClientTimeDuration(0).setClientTimeEnd(f).setIsDrm(this.$VideoPlayerShakaPerformanceLogger$p_33).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger$p_36).setFblsToPlyDisMs((k==null?void 0:k.latencyFromMpdUpdate)!=null?Math.round(k.latencyFromMpdUpdate*1e3):null).setPreferredEdgeLatency(this.$VideoPlayerShakaPerformanceLogger$p_19).setPerSessionSampleRate(this.$VideoPlayerShakaPerformanceLogger$p_25.perSessionSampleRate).setIsLatencyCachupEnabled(this.$VideoPlayerShakaPerformanceLogger$p_14).setIsOnline(this.$VideoPlayerShakaPerformanceLogger$p_34);switch(a){case"buffering":case"buffering_timeout":case"enter_buffering":case"unload":g.setError(this.$VideoPlayerShakaPerformanceLogger$p_28.join(" | "))}switch(a){case"leave_buffering":case"playing":this.$VideoPlayerShakaPerformanceLogger$p_28=[]}var m=this,n=g.setState;g.setState=function(a){this;a!==m.$VideoPlayerShakaPerformanceLogger$p_5&&a==="playing"?m.$VideoPlayerShakaPerformanceLogger$p_6=Date.now():a!=="playing"&&(m.$VideoPlayerShakaPerformanceLogger$p_6=null);m.$VideoPlayerShakaPerformanceLogger$p_5=a;return n.call(this,a)};g.updateState=function(a){return this.getState()==m.$VideoPlayerShakaPerformanceLogger$p_5?this.setState(a):this};var o=g.setError;g.setError=function(a){if(typeof a==="object"&&a!=null)if(d("oz-player/utils/OzErrorUtils").isOzError(a))this.setResult("failed"),this.setCode(a.getExtra().code),m.addToLastErrorQueue(a.getType()),o.call(this,a.getType());else{if(a.type==="aborted"||a.type==="delay")this.setResult("aborted");else if(a.type==="paused")this.setResult("paused");else{this.setResult("failed");if(a.type!=null&&a.type!=="")m.addToLastErrorQueue(a.type),o.call(this,a.type);else{var b=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};b=b(a.name+": "+a.message);m.addToLastErrorQueue(b);o.call(this,b)}}this.setCode(a.status||a.errorRawTransportStatus)}else a!=null&&m.addToLastErrorQueue(a),o.call(this,a);return this};var p=g.setManifestType;g.setManifestType=function(a){e.$VideoPlayerShakaPerformanceLogger$p_20=a;return p.call(g,a)};var q=g.setIsMixedCodecManifest;g.setIsMixedCodecManifest=function(a){e.$VideoPlayerShakaPerformanceLogger$p_21=a;return q.call(g,a)};var r=g.setPlaybackFbmsParam;g.setPlaybackFbmsParam=function(a){e.$VideoPlayerShakaPerformanceLogger$p_37=a;return r.call(g,a)};g.setLiveheadPosition=function(a){e.$VideoPlayerShakaPerformanceLogger$p_9=a;g.setLiveheadDelta(e.getLiveheadDelta());return g};var s=g.setLiveheadSeqNumMpd;g.setLiveheadSeqNumMpd=function(a){e.$VideoPlayerShakaPerformanceLogger$p_10=a;return s.call(g,a)};var t=g.setPreferredEdgeLatency;g.setPreferredEdgeLatency=function(a){e.$VideoPlayerShakaPerformanceLogger$p_19=a;return t.call(g,a)};var u=g.setIsTemplatedManifest;g.setIsTemplatedManifest=function(a){e.$VideoPlayerShakaPerformanceLogger$p_13=a!=null?a:!1;return u.call(g,a)};var v=g.setIsLatencyCachupEnabled;g.setIsLatencyCachupEnabled=function(a){e.$VideoPlayerShakaPerformanceLogger$p_14=a!=null?a:!1;return v.call(g,a)};var w=g.setDynamicBitrate;g.setDynamicBitrate=function(a){a=Number(a)||null;e.setDynamicBitrate(a);return w.call(g,a)};var x=g.setLowestQualityRepresentationID;g.setLowestQualityRepresentationID=function(a){e.$VideoPlayerShakaPerformanceLogger$p_22=a;return x.call(g,a)};var y=g.setIsOnline;g.setIsOnline=function(a){e.$VideoPlayerShakaPerformanceLogger$p_34=a;return y.call(g,a)};g.setMediaSourceSourceBuffer=function(a,b){e.setMediaSourceSourceBuffer(a,b);return g};g.unsetMediaSourceSourceBuffers=function(){e.unsetMediaSourceSourceBuffers();return g};g.setWasPrefetchCacheHit=function(a){return g};return g};e.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};e.createOperationLogger=function(a){var b=this.getEventLogger(a);b.setClientTimeEnd(null);b.setClientTimeDuration(null);var d=b.setResource;b.setResource=function(a){return d.call(b,a)};var e=b.log,f=this,g=!1,i=null;b.log=function(){var b=this;if(g)return;c("clearTimeout")(i);var d=Date.now(),h=b.getData().client_time_begin,j=b.getData().client_time_end;h=h!=null?Number(h):null;j=j!=null?Number(j):null;(h==null||h===0)&&(h=d,b.setClientTimeBegin(h));(j==null||j===0)&&(j=d,b.setClientTimeEnd(j));b.setClientTimeDuration(j-h);h=c("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();b.setTimeSinceMainThreadAvailable(h!=null?Math.round(h):null);f.$VideoPlayerShakaPerformanceLogger$p_41(h);f.$VideoPlayerShakaPerformanceLogger$p_26=d;a==="buffering"&&(f.$VideoPlayerShakaPerformanceLogger$p_7=j);g=!0;h=b.getType();h&&(f.$VideoPlayerShakaPerformanceLogger$p_35[h+a]=(f.$VideoPlayerShakaPerformanceLogger$p_35[h+a]||0)+1,b.setMediastreamEventCount(f.$VideoPlayerShakaPerformanceLogger$p_35[h+a]));return e.call(b)};b.start=function(){var d=Date.now();this.setClientTimeBegin(d);this.setClientTimeDuration(null);this.setClientTimeEnd(null);c("clearTimeout")(i);i=null;i=c("setTimeoutAcrossTransitions")(function(){c("clearTimeout")(i),i=null,b.setResult("timeout"),b.log()},h);a==="buffering"&&(f.$VideoPlayerShakaPerformanceLogger$p_8=Date.now());return b};return b};e.$VideoPlayerShakaPerformanceLogger$p_41=function(a){if(a==null||i===0||this.$VideoPlayerShakaPerformanceLogger$p_26===0||a<i||this.$VideoPlayerShakaPerformanceLogger$p_27<a){this.$VideoPlayerShakaPerformanceLogger$p_27=Number(a);return}var b=this.$VideoPlayerShakaPerformanceLogger$p_26,c=Math.round(b-this.$VideoPlayerShakaPerformanceLogger$p_27);this.getEventLogger("main_thread_blocked").setClientTimeBegin(c).setClientTimeDuration(b-c).setClientTimeEnd(b).log();this.$VideoPlayerShakaPerformanceLogger$p_27=Number(a)};e.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger$p_23=a!=null?Math.round(a):null};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger$p_32=null;g["default"]=a}),98);
__d("VideoPlayerShakaPerformanceLoggerBuilder",["VideoPlayerShakaPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.perSessionSampleRate}var b=a.prototype;b.build=function(a){return new(c("VideoPlayerShakaPerformanceLogger"))(babelHelpers["extends"]({},a,{perSessionSampleRate:this.$1}))};return a}();g["default"]=a}),98);
__d("useVideoPlayerShakaPerformanceLoggerBuilder_init$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerBuilder_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);
__d("useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"useVideoPlayerShakaPerformanceLoggerRelayImpl_init$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}]};e.exports=a}),null);/*FB_PKG_DELIM*/
__d("EBGetContactEpochHead",["EBMinosSecureMailboxKeysForContact","WAResultOrError"],(function(a,b,c,d,e,f,g){"use strict";async function a(a){a=a.rawContactId;if(a==null)return Promise.reject(d("WAResultOrError").makeError("invalid-arguments"));a=await d("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(a);return a==null?d("WAResultOrError").makeResult():d("WAResultOrError").makeResult({epochHead:a.epoch_head,epochHeadCreationTime:a.epoch_head_creation_time})}g.getContactEpochHead=a}),98);
__d("EBGetMessageKeys",["EBMinosDBDev","FBLogger","WAResultOrError","WebMps","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=async function(a,b){var c=await d("EBMinosDBDev").getEBMinosDevDb();c=await c.runInTransaction(["secure_minos_message_epoch_heads"],"readonly",function(c){return c.stores.secure_minos_message_epoch_heads.readIndex("[thread_id+message_id]",[a,b])},"LoadNewMinosMessageEpochHead");return c.length===0?null:{epochHead:c[0].epoch_head}};async function a(a){var b=a.messageId,e=a.threadId;try{if(b==null||e==null)return d("WAResultOrError").makeError("invalid-arguments");a=await d("WebMps").mps().loadMessage({config:{shouldFetchSupplementals:!0,strategy:"local-only"},debug:{purpose:"get-message-keys"},messageId:b,threadId:e});b=await i(e,b);if(b==null)return d("WAResultOrError").makeError("no-epoch-head-found");if(a.success===!1)return d("WAResultOrError").makeError(a.error);a=a.value;if(a==null)return d("WAResultOrError").makeError("no-message");var f=new Map();await Promise.all(Array.from(a.supplementalProtobufs).map(async function(a){var b=a[0];a=a[1];var c=await i(e,a.messageId);if(c==null)return d("WAResultOrError").makeError("no-epoch-head-found");f.set(b,babelHelpers.extends({},a,{senderEpochHead:c.epochHead}))}));b=babelHelpers.extends({},a.toplevelProtobuf,{senderEpochHead:b.epochHead});return d("WAResultOrError").makeResult(babelHelpers.extends({},a,{supplementalProtobufs:f,toplevelProtobuf:b}))}catch(a){c("FBLogger")("wmi_minos").catching(c("getErrorSafe")(a)).MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Runtime error in EBGetMessageKeys"])));throw a}}g.getMessageKeys=a}),98);
__d("EBMinosWriteKeyChangeAdminMessage",["EBMinosTypes","FBLogger","MAWAdminWriteUserDeviceMsgTxn","MAWBridge","MAWDbAppMeta","MAWDbThreadTxns","MAWDexieTable","MAWExternalId","MAWIndexedDb","MAWTransactionMode","MpsTypes","WAArmadilloTransportEvent.pb","WABuildMpsPayload","WADbContact","WAGlobals","WAJids","WAStanzaUtils","WebMps","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){return a.appMeta.get({key:d("MAWDbAppMeta").AppMetaKeysEnum.allowSecurityAlert}).then(function(a){return(a=a==null?void 0:a.value.allowSecurityAlert)!=null?a:!1})}function j(a,b){b=d("WAGlobals").getMyUserJid()===b;return!b&&a}async function k(a){var b=a.deviceChangeType;b=b===void 0?d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REPLACED:b;var e=a.epochHeadCreationTime;a=a.userJid;try{var f=d("MAWExternalId").generateExternalId();e=d("WABuildMpsPayload").buildMpsDeviceChangeAdminMessage(a,e,d("WAStanzaUtils").toStanzaId(f),b);f={directive:null,insertionSource:d("MpsTypes").InsertionSource.Receive,message:e};await d("WebMps").mps().saveNewMessages([f],{source:"eb-minos-device-change"});c("FBLogger")("wmi_minos").info("Sent device change transport event for user %s with type %s",a,String(b))}catch(b){e=c("getErrorSafe")(b);c("FBLogger")("wmi_minos").catching(e).mustfix("Failed to send device change transport event for user %s",a);throw e}}async function a(a){var b=a.contactId,e=a.epochHeadCreationTime,f=d("EBMinosTypes").userFbidToUserJid(b);if(f==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid userJid generated in writeKeyChangeAdminMessage"])));return Promise.resolve()}a=await d("MAWIndexedDb").makeMsgrTransactor({participants:d("MAWTransactionMode").READONLY,threads:d("MAWTransactionMode").READONLY},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDbThreadTxns").getAllThreadsForUsers(a,[f])}})();b=a.get(f);var g=await d("MAWBridge").getBridge().sendAndReceive("event","getLSDBUsersRelationships",{users:[f]});if(b==null||(b==null?void 0:b.length)===0)return Promise.resolve();var l=b.filter(function(a){a=d("WAJids").switchOnMsgrChatJidType(a.jid,{group:function(){return"group"},user:function(){return"one_to_one"}});return a==="one_to_one"});a=await Promise.all([k({deviceChangeType:d("WAArmadilloTransportEvent.pb").TransportEvent$Event$DeviceChange$Type.REPLACED,epochHeadCreationTime:e,userJid:f}),d("MAWIndexedDb").makeMsgrTransactor({appMeta:d("MAWTransactionMode").READONLY,ftsBackloggedMessages:d("MAWTransactionMode").READWRITE,groupInfo:d("MAWTransactionMode").READONLY,messages:d("MAWTransactionMode").READWRITE,threads:d("MAWTransactionMode").READWRITE},"writeKeyChangeAdminMessage",function(a){return function(){return d("MAWDexieTable").dexieAll(l.map(function(b){return i(a).then(function(c){j(c,f)&&g.get(f)===d("WADbContact").TWO_WAY_CONTACT?d("MAWAdminWriteUserDeviceMsgTxn").writeUserDeviceAdminMsg(a,f,b,"update",e):d("MAWDexieTable").dexieResolve()})}))}})()]);b=a[1];return b}g.saveDeviceChangeTransportEvent=k;g.writeMinosKeyChangeAdminMessage=a}),98);
__d("EBMinosWriteSecureStorageAlert",["EBMinosTypes","FBLogger","MAWDbAddDeviceChangeAlertsTxn","MAWDbDeviceChangeAlerts","MAWIndexedDb","MAWTransactionMode","MAWUnsafeCoerce","Promise","WAJids","WASignalOther"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var e=a.contactId,f=a.epochHead,g=a.epochHeadCreationTime,j=d("WAJids").validateDeviceJid(d("EBMinosTypes").userFbidToUserJid(d("EBMinosTypes").unsafeCastToUserFbId(e)));if(j==null){c("FBLogger")("wmi_minos").MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Invalid deviceJid generated in writeMinosSecureStorageAlert"])));return(i||(i=b("Promise"))).resolve()}return d("MAWIndexedDb").makeMsgrTransactor({deviceChangeAlerts:d("MAWTransactionMode").READWRITE},"writeMinosSecureStorageAlert",function(a){return function(){return d("MAWDbAddDeviceChangeAlertsTxn").addDeviceChangeAlertsTxn(a,{action:d("MAWDbDeviceChangeAlerts").KEY_CHANGE,deviceJid:j,epochHead:f,identity:d("MAWUnsafeCoerce").unsafeCoerce(d("WASignalOther").toBytes(f,32)),isArchived:!1,model:"secure_storage",platform:"Meta",ts:g})}})()}g.writeMinosSecureStorageAlert=a}),98);
__d("LSDataTraceCheckPoint",[],(function(a,b,c,d,e,f){a=Object.freeze({CLIENT_DB_OUTBOUND:1,CLIENT_NETWORK_OUTBOUND:2,CLIENT_NETWORK_INBOUND:10,CLIENT_DB_INBOUND:11,CLIENT_EVALUATE_DASM:12,CLIENT_APP_STATE_CHANGE:13,CLIENT_CREATE_TASK:20,CLIENT_RECIPIENT_PRESENCE:21,CLIENT_EVALUATE_DASM_BEGIN:22,MQTT_PUBLISH:30,MQTT_PUBLISH_ACK:31,MQTT_DISCONNECTED:32,MQTT_CONNECTING:33,MQTT_CONNECTED:34,MQTT_CONNECTION_ACKED:35,TINCAN_RECEIVE_MESSAGE:36,TINCAN_RECEIVE_DECRYPTION_COMPLETE:37,TINCAN_RECEIVE_DECRYPTION_FAILED:38,TINCAN_RECEIVE_DR_QUEUED:39,TINCAN_RECEIVE_DR_SENT_TO_NETWORK:40,TINCAN_RECEIVE_DR_PUBLISH_TO_MQTT:41,TINCAN_RECEIVE_DRMQTT_PUBACK:42,TINCAN_RECEIVE_BOUNCE_TASK_QUEUED:43,TINCAN_RECEIVE_BOUNCE_TASK_SENT_TO_NETWORK:44,TINCAN_RECEIVE_BOUNCE_TASK_PUBLISH_TO_MQTT:45,RICH_MEDIA_DOWNLOAD_START:50,RICH_MEDIA_DOWNLOAD_END:51,RICH_MEDIA_DOWNLOAD_ERROR:52,RICH_MEDIA_UPLOAD_START:53,ARMADILLO_ACT:60,ARMADILLO_ACT_TASK_PICK:61,ARMADILLO_ACT_SERIALIZE:62,ARMADILLO_ACT_GROUP_SEND:63,ARMADILLO_ACT_SEND_FAILURE:64,ARMADILLO_ACT_MESSAGE_SEND:65,NETWORK_DISCONNECTED:70,NETWORK_CONNECTED:71,NETWORK_UNKNOWN:72,FLOW_CREAT:80,FLOW_END:81,FLOW_INTERRUPTED:82,FLOW_CONNECT_ID:83,FLOW_END_AND_FLUSH:84,FLOW_END_FOR_FAILURE:85,TRACE_CREATED:98,CLIENT_READY_TO_FLUSH:99,PENDING_DELTA:100,NO_PENDING_DELTA:101,INIT_SYNC:102,RESNAPSHOT:103,CATCH_UP:104,PERIODIC_SYNC:105,CATCH_UP_FROM_REVISION:106,RESNAPSHOT_CONTINUE:107,RESNAPSHOT_END:108,PERIODIC_SYNC_CONTINUE:109,PERIODIC_SYNC_END:110,CONTACT_SYNC_OPTIMISTIC:111,CONTACT_SYNC_FROM_OMNISTORE:112,CONTACT_SYNC_TAM_OPTIMISTC:113,CONTACT_SYNC_TAM_FROM_OMNISTORE:114,CONTACT_SYNC_TAM_ERROR:115,VERIFY_USER_FOR_SYNC:116,SNAPSHOT_START:117,SNAPSHOT_CONTINUE:118,SNAPSHOT_END:119,FETCH_DELTA:120,DELTA_SUMMARY:130,RECEIVE_DELIVERY_RECEIPT:200,TASK_DESERIALIZATION_ERROR:201,OPTIMISIC_MESSAGE_FAILED:202,SEND_SERVER_AUTHORITATIVE:203,THREAD_RANGE_QUERY_COMPLETE:204,THREAD_RANGE_QUERY_FAILURE:205,THREAD_POINT_QUERY_COMPLETE:206,SEND_SERVER_PARTIAL:207,MARK_AS_OPTIMISTIC_SENT:208,XMS_TRANSPORT_MESSAGE_SEND_START:300,XMS_TRANSPORT_MESSAGE_SEND_FAIL:301,SKIP_TASK_DISPATCH:900,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_START:1200,ADVANCED_CRYPTO_MEM_ENCRYPT_TASK_COMPLETE:1201,ADVANCED_CRYPTO_MEM_WA_PUBLISH:1202,ADVANCED_CRYPTO_MEM_PUBLISH_ACK:1203,ADVANCED_CRYPTO_MEM_SEND_TASK_COMPLETE:1204,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED:1205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING:1206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED:1207,ADVANCED_CRYPTO_MEM_FAILURE:1208,ADVANCED_CRYPTO_MEM_SEND_SUCCESS_WITH_RETRY:1209,ADVANCED_CRYPTO_MEM_DELIVERY_RECEIPT_RECEIVED:1210,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_START:1211,ADVANCED_CRYPTO_REGISTRATION_CAT_DISK_FETCH_END:1212,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_START:1213,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_RETRYSTART:1214,ADVANCED_CRYPTO_REGISTRATION_CAT_NETWORK_FETCH_END:1215,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_START:1216,ADVANCED_CRYPTO_REGISTRATION_WA_REQUEST_SEND_END:1217,ADVANCED_CRYPTO_REGISTRATION_WCR_REGISTER:1218,ADVANCED_CRYPTO_REGISTRATION_SAVE_WA_DEVICE_ID_ERROR:1219,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_START:1220,ADVANCED_CRYPTO_MEM_DEVICE_FETCH_END:1221,ADVANCED_CRYPTO_MEM_ENCRYPTION_BEGIN:1222,ADVANCED_CRYPTO_MEM_ENCRYPTION_END:1223,ADVANCED_CRYPTO_MEM_ENCRYPTION_DEVICE_COUNT:1224,ADVANCED_CRYPTO_DUAL_SEND:1225,ADVANCED_CRYPTO_REGISTRATION_SERVER_SUCCESS:1226,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER:1227,ADVANCED_CRYPTO_REGISTRATION_CAT_NULL:1228,ADVANCED_CRYPTO_REGISTRATION_WCR_MANAGER_NULL:1229,ADVANCED_CRYPTO_REGISTRATION_RESPONSE_NULL:1230,ADVANCED_CRYPTO_REGISTRATION_SELF_NULL:1231,ADVANCED_CRYPTO_REGISTRATION_EMPTY_DEVICE_ID:1232,ADVANCED_CRYPTO_REGISTRATIONRETRY_REGISTER_FAILURE:1233,ADVANCED_CRYPTO_GROUP_DUAL_SEND:1234,RAVEN_IMAGE_MESSAGE:1235,RAVEN_VIDEO_MESSAGE:1236,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_CAT:1237,ADVANCED_CRYPTO_REGISTRATION_RETRY_REGISTER_NETWORK:1238,ADVANCED_CRYPTO_CAT_DISK_FETCH_CAT_INVALID:1239,ADVANCED_CRYPTO_RECONNECT_GENERIC_ERROR:1240,ADVANCED_CRYPTO_RECONNECT_CAT_INVALID:1241,ADVANCED_CRYPTO_RECONNECT_CAT_EXPIRED:1242,ADVANCED_CRYPTO_CAT_MEMORY_FETCH_NULL:1243,ADVANCED_CRYPTO_FIRST_CONNECTION_START:1244,LABYRINTH_INITIALIZE_BACKUP_SPROC:1400,LABYRINTH_INITIALIZE_BACKUP_SUCCESS_SPROC:1401,LABYRINTH_INITIALIZE_BACKUP_FAILURE:1402,LABYRINTH_CREATE_BACKUP_MAILBOX_SPROC:1403,LABYRINTH_HANDLE_CREATE_BACKUP_MAILBOX_SUCCESS_SPROC:1404,LABYRINTH_OPEN_EPOCH_SPROC:1405,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC:1406,LABYRINTH_HANDLER_OPEN_EPOCH_FAILURE_SPROC:1407,LABYRINTH_CREATE_VIRTUAL_DEVICE_SPROC:1410,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_SUCCESS_SPROC:1411,LABYRINTH_HANDLE_CREATE_VIRTUAL_DEVICE_FAILURE_SPROC:1412,LABYRINTH_ADD_DEVICE_SPROC:1413,LABYRINTH_ADD_DEVICE_FROM_VIRTUAL_SPROC:1414,LABYRINTH_HANDOLE_WRONG_RECOVERY_CODE_SPROC:1415,LABYRINTH_HANDLE_ADD_DEVICE_SUCCESS_SPROC:1416,LABYRINTH_HANDLE_ADD_DEVICE_FAILURE_SPROC:1417,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_ALREADY_PENDING:1600,LABYRINTH_ADD_DEVICE_SPROC_UPDATE_RECOVERY_DATA_TABLE_START:1601,LABYRINTH_ADD_DEVICE_SPROC_ADD_DEVICE_NO_VD_TABLE:1602,LABYRINTH_ADD_DEVICE_SPROC_GENERATE_RECOVERY_SECRETS_START:1603,LABYRINTH_ADD_DEVICE_SPROC_WRONG_RC:1604,LABYRINTH_ADD_DEVICE_SPROC_NULL_VD:1605,LABYRINTH_ADD_DEVICE_SPROC_NO_RC_STATUS_TABLE_FOUND:1606,LABYRINTH_ADD_DEVICE_SPROC_ISSUE_FETCH_VD_TASK:1607,LABYRINTH_ADD_DEVICE_SPROC_SUCCESS:1608,LABYRINTH_INITIALIZE_RESTORE_SPROC:1418,LABYRINTH_DECRYPT_THREADS_SPROC:1419,LABYRINTH_REQUEST_MESSAGES_FROM_THREADS_SPROC:1420,LABYRINTH_REQUEST_MESSAGES_FROM_RANGE_QUERY_SPROC:1421,LABYRINTH_DECRYPT_MESSAGES_SPROC:1422,LABYRINTH_DELETE_BACKUP_ON_CLIENT_SPROC:1423,LABYRINTH_DELETE_BACKUPS_SPROC:1424,LABYRINTH_HANDLE_DELETE_MAILBOX_SPROC:1425,LABYRINTH_ISSUE_DELETE_BACKUP_TASK_SPROC:1426,LABYRINTH_BACKUP_UPLOAD_BEGIN:1427,LABYRINTH_BACKUP_UPLOAD_SUCCESS_SPROC:1428,LABYRINTH_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC:1429,LABYRINTH_QR_INIT_ADD_DEVICE_SPROC:1430,LABYRINTH_QR_INIT_ADD_DEVICE_SUCCESS_SPROC:1431,LABYRINTH_QR_INIT_GET_SECRETS_SPROC:1433,LABYRINTH_QR_FINISH_ADD_PEER_DEVICE_SPROC:1434,LABYRINTH_SYNC_EPOCHS_STORED_PROCEDURE_SPROC:1436,LABYRINTH_SYNC_EPOCHS_SUCCESS_SPROC:1437,LABYRINTH_SYNC_EPOCHS_FORWARD_DERIVATION_END:1438,LABYRINTH_SYNC_EPOCHS_BACKWARD_DERIVATION_END:1439,LABYRINTH_SYNC_EPOCHS_OPEN_NEW_EPOCH:1440,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC:1441,LABYRINTH_PREPARE_OPEN_EPOCH_SUCCESS_SPROC:1442,LABYRINTH_MEB_MANAGER_ADD_DEVICE:1443,LABYRINTH_BACKUP_UPLOAD_FAIL:1450,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SPROC:1498,LABYRINTH_DECRYPT_SINGLE_MESSAGE_SUCCESS:1499,LABYRINTH_MEDIA_BACKUP_START:1455,LABYRINTH_MEDIA_BACKUP_SUCCESS:1456,LABYRINTH_MEDIA_BACKUP_FAILURE:1458,LABYRINTH_MEDIA_RESTORE_START:1459,LABYRINTH_MEDIA_RESTORE_SUCCESS:1460,LABYRINTH_MEDIA_RESTORE_FAILURE:1462,LABYRINTH_REMOVE_VIRTUAL_DEVICE_SPROC:1484,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_SUCCESS:1485,LABYRINTH_HANDLE_REMOVE_VIRTUAL_DEVICE_RESULT_FAILURE:1486,LABYRINTH_REMOVE_VIRTUAL_DEVICE_BACKUP_NOT_FOUND:1493,LABYRINTH_REMOVE_VIRTUAL_DEVICE_WRITE_TASK:1494,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_TASK_EXECUTER:1495,LABYRINTH_BACKUP_UPLOAD_ENQUEUE_SERIALIZER:1496,LABYRINTH_BACKUP_UPLOAD_SERIALIZE:1451,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_SUCCEED:1463,LABYRINTH_BACKUP_UPLOAD_SERIALIZE_FAIL:1464,LABYRINTH_UPDATE_BACKUP_TABLE_SPROC:1467,LABYRINTH_FETCH_BACKUP_IDS_SPROC:1468,LABYRINTH_PROCESS_BACKUP_IDS_SPROC:1487,LABYRINTH_BACKUP_STATUS_NO_INFO:1488,LABYRINTH_BACKUP_STATUS_FETCH_ERROR:1489,LABYRINTH_BACKUP_STATUS_NOT_ONBOARDED:1490,LABYRINTH_BACKUP_STATUS_ONBOARDED:1491,LABYRINTH_BACKUP_STATUS_NO_BACKUPS_PRESENT:1492,LABYRINTH_OPT_OUT_OF_BACKUP_SPROC:1469,LABYRINTH_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1470,LABYRINTH_HANDLE_TRIGGER_THIRD_PARTY_ID_GENERATION_SPROC:1471,LABYRINTH_FETCH_BACKUPS_METADATA_SPROC:1478,LABYRINTH_HANDLE_BACKUPS_METADATA_RESULT_SPROC:1480,LABYRINTH_RESTORE_THREADS_SUCCESS:1481,LABYRINTH_RESTORE_MESSAGES_SUCCESS:1482,LABYRINTH_POINT_QUERY_MESSAGE_RESTORE:2511,LABYRINTH_RESTORE_MESSAGE_NEWER_DIRECTION:2514,LABYRINTH_RESTORE_SURROUNDING_MESSAGES:2515,LABYRINTH_BACKUP_UPLOAD_GET_ECHO_DOC:1497,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE:1800,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_SUCCESS:1801,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_BACKUP_STATE_FAILURE:1802,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_CALLED:1803,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_SUCCESS:1804,LABYRINTH_MEBMANAGER_ADD_DEVICE_ADD_DEVICE_SPROC_RETURN_FAILURE:1805,LABYRINTH_MEBMANAGER_ADD_DEVICE_NOTOFICATION_TRIGGERED:1806,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATE:1807,LABYRINTH_MEBMANAGER_ADD_DEVICE_FETCH_ADD_DEVICE_STATEFAILURE:1808,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_CALLED:1809,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_SUCCESS:1810,LABYRINTH_MEBMANAGER_ADD_DEVICE_INIT_RESTORE_SPROC_RETURN_FAILURE:1811,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_CALLED:1812,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_SUCCESS:1813,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_SPROC_RETURN_FAILURE:1814,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_NOTIFICATION_TRIGGERRED:1815,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS:1816,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_FETCH_RECOVERY_CODE_STATUS_FAILURE:1817,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_SUCCESS:1818,LABYRINTH_MEBMANAGER_CREATE_EXTRA_VIRTUAL_DEVICE_CREATE_EXTRA_VIRTUAL_DEVICE_FAILURE:1819,LABYRINTH_MEBMANAGER_WRONG_RECOVERY_CODE:1823,LABYRINTH_ENCRYPT_MESSAGE_FAIL:1828,LABYRINTH_ENCRYPT_MESSAGE_GENERATED_PAYLOAD:1824,LABYRINTH_ENCODE_DOCUMENT:1820,LABYRINTH_ENCODE_DOCUMENT_FAIL:1821,LABYRINTH_ENCODE_DOCUMENT_SUCCESS:1822,LABYRINTH_UPLOAD_CANCEL:1850,LABYRINTH_DELETE_BACKUP_ON_CLIENT_STARTING_CANCEL:1851,LABYRINTH_DELETE_BACKUP_ON_CLIENT_DID_CANCEL:1852,LABYRINTH_DELETE_BACKUP_ON_CLIENT_FAILED_CANCEL:1853,LABYRINTH_BACKUP_RETRY_DELETE_MESSAGE_BACKUP_STATUS_ENTRY:1865,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN:1881,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_GOT_MESSAGE_IDS_FROM_ACT:1882,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_BEGIN_OCMF_OPE_OPERATIONS:1883,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_END_OCMF_OPE_OPERATIONS:1884,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_FETCH_MESSAGE_RANGE_ERROR:1885,LABYRINTH_MESSAGE_INTEGRITY_CHECKER_ISSUE_COMPARATOR_TASK:1886,LABYRINTH_CLEAR_BACKUP_TABLE_ON_CLIENT:1891,LABYRINTH_CLEAR_VIRTUAL_DEVICES_TABLE_ON_CLIENT:1892,LABYRINTH_CLEAR_BACKUP_METADATA_TABLE_ON_CLIENT:1893,SAP_VESTA_FETCH_VESTA_KEY_AND_SECRET_BEGIN:2400,LABYRINTH_PLUGIN_CALLING_GENERATE_RECOVERY_CODE:2401,SAP_FESTA_FETCH_KEY_AND_SECRET_COMPLETION:2402,SAP_VESTA_CALLING_VESTA_REGISTRATION:2403,SAP_VESTA_REGISTRATION_COMPLETION:2404,LABYRINTH_PLUGIN_CALLING_CREATE_EXTRA_VIRTUAL_DEVICE:2405,SAP_VESTA_NOTIFY_SECRET_STORED_COMPLETION:2406,SAP_VESTA_NOTIFY_CLIENT_ABOUT_VESTA_REGISTRATION:2407,SAP_VESTA_CALLING_VESTA_LOGIN:2411,SAP_VESTA_LOGIN_COMPLETION:2412,LABYRINTH_PLUGIN_CALLING_ADD_DEVICE:2413,LABYRINTH_PLUGIN_CALLING_INITIALIZE_BACKUP:2416,LABYRINTH_PIN_SETUP_BEGIN:2417,LABYRINTH_PIN_SETUP_SUCCESS:2418,LABYRINTH_PIN_SETUP_FAILURE:2419,LABYRINTH_PIN_RESTORE_BEGIN:2420,LABYRINTH_PIN_RESTORE_SUCCESS:2421,LABYRINTH_PIN_RESTORE_FAILURE:2422,LABYRINTH_PLUGIN_CALLING_INITIALIZE_RESTORE:2423,LABYRINTH_FETCH_THREAD_IDS_SPROC:2500,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_SUCCESS:2501,LABYRINTH_FETCH_THREAD_IDS_NATIVE_OP_FAILURE:2502,LABYRINTH_REQUEST_MESSAGES_FROM_FETCH_THREAD_IDS_SPROC:2503,LABYRINTH_REQUEST_MESSAGES_FROM_INIT_RESTORE_SPROC:2506,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_START:2512,LABYRINTH_POINT_QUERY_RESTORE_TASK_SPROC_END:2513,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_START:2800,LABYRINTH_VERSIONING_UPSERT_DEVICE_ENCRYPTION_VERSIONS_TO_CLIENT_SPROC_END:2801,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_ENCRYPTION_VERSION_DATA_SPROC:2802,LABYRINTH_VERSIONING_UPSERT_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2803,LABYRINTH_VERSIONING_SYNC_ENCRYPTION_VERSION_DATA_SPROC:2804,LABYRINTH_VERSIONING_VERSION_SUPPORTED:2805,LABYRINTH_VERSIONING_SYNC_UPDATE_VERSION_DATA:2806,LABYRINTH_VERSIONING_SYNC_NO_VERSION_DATA:2807,LABYRINTH_VERSIONING_VERSION_SELECTED:2808,LABYRINTH_VERSIONING_DELETE_AND_SYNC_DEVICE_DELETE_DEVICE_ENCRYPTION_VERSION_DATA:2809,LABYRINTH_VERSIONING_VERSION_NOT_SUPPORTED:2810,LABYRINTH_VERSIONING_UPSERT_DEVICE_INVALID_SIGNATURE:2811,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_ISSUE_REQUEST_ASSOC_DEVICES:2821,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_NO_BACKUP:2822,LABYRINTH_PREPARE_OPEN_EPOCH_FAILURE_FLOW_ALREADY_IN_PROGRES:2823,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC:2824,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_NUM_EDGES:2825,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_FROM:2826,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_PROCESS_EDGE_TO:2827,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_SOURCE:2828,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_SOURCE_EPOCH_LOADED:2829,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DERIVE_CHAINING_KEY_PSK:2830,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_FORWARD_EDGE_ENTROPY:2831,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_SUCCESS:2832,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_EDGE_DECRYPTION_FAIL:2833,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FORWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2834,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_SOURCE:2835,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_SOURCE_EPOCH_LOADED:2836,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_DECRYPT_BACKWARD_EDGE:2837,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DECRYPTION_SUCCESS:2838,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_EDGE_DERIVATION_FAIL:2839,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_BACKWARD_FAIL_TO_LOAD_SOURCE_EPOCH:2840,LABYRINTH_DERIVE_AND_STORE_EPOCHS_SPROC_FAILURE:2841,LABYRINTH_GET_OPEN_EPOCH_KEYS_SPROC:2842,LABYRINTH_GET_OPEN_EPOCH_KEYS_NO_EPOCHS_ON_CLIENT:2843,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_ALL_EPOCH_ANON_IDS:2844,LABYRINTH_GET_OPEN_EPOCH_KEYS_NUM_ANON_IDS:2845,LABYRINTH_GET_OPEN_EPOCHS_KEYS_EPOCH_ANON_ID_LIST_EMPTY:2846,LABYRINTH_GET_OPEN_EPOCH_KEYS_GET_KEYS_FOR_ANON_ID:2847,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NOT_FOUND:2848,LABYRINTH_SYNC_EPOCHS_SPROC_DOWNLOAD_EPOCHS_V2_WRITE_TASK:2849,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_INITIAL_EPOCH:2850,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_EPOCH_WITH_LAST_EPOCH_METADATA:2851,LABYRINTH_OPEN_EPOCH_SPROC_OPEN_AFTER_FIRST_EPOCH:2852,LABYRINTH_OPEN_EPOCH_SPROC_FAILURE_LAST_EPOCH_NOT_FOUND:2853,LABYRINTH_OPEN_EPOCH_SPROC_ERROR:2854,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_CLOSE_LAST_EPOCH:2855,LABYRINTH_PREPARE_OPEN_EPOCH_SPROC_DERIVE_AND_STORE_EPOCH:2856,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_DERIVE_AND_STORE:2857,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_AUTHORITY:2858,LABYRINTH_HANDLER_OPEN_EPOCH_SUCCESS_SPROC_UPDATE_EPOCH_ID:2859,LABYRINTH_INCLUDE_FALLBACK_KEY_DURING_ENCRYPTION:2860,LABYRINTH_DERIVE_FALLBACK_KEY:2861,LABYRINTH_FAILED_TO_INCLUDE_FALLBACK_KEY:2862,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_VALUE:2863,LABYRINTH_GET_OPEN_EPOCH_KEYS_ANON_ID_NULL_VALUE:2864,LABYRINTH_MESSAGE_RESTORE_EPOCH_ANON_ID_NULL:2865,LABYRINTH_WEB_EPOCH_ROTATION_ENABLED:2866,LABYRINTH_WEB_EPOCH_ROTATION_DISABLED:2867,LABYRINTH_MOBILE_EPOCH_ROTATION_ENABLED:2868,LABYRINTH_MOBILE_EPOCH_ROTATION_DISABLED:2869,LABYRINTH_DECRYPT_MESSAGE_SPROC_SINGLE_EPOCH_KEY:2870,LABYRINTH_DECRYPT_MESSAGE_SPROC_EPOCH_NOT_FOUND_ERROR:2871,LABYRINTH_DECRYPT_MESSAGE_SPROC_MULTIPLE_EPOCHS_ERROR:2872,LABYRINTH_WEB_ECHO_MESSAGE_RESTORE_BEGIN:3600,LABYRINTH_WEB_ISSUE_RESTORE_JOB_DONE:3601,LABYRINTH_WEB_INSERT_TO_BAKCUP_MESSAGE_TABLE_DONE:3602,LABYRINTH_WEB_RESTORE_WITH_SERIALIZER_START:3603,LABYRINTH_WEB_ISSUE_RESTORE_JOB_STARTED:3604,LABYRINTH_WEB_INSERT_TO_RESTORE_PAYLOAD_CONTEXT_TABLE_DONE:3605,LABYRINTH_WEB_XMA_RESTORE_STARTED:3606,LABYRINTH_WEB_XMA_RESTORE_ENDED:3607,LABYRINTH_WEB_XMA_RESTORE_MEDIAID_NULL:3608,LABYRINTH_WEB_XMA_RESTORE_DBXMA_NULL:3609,LABYRINTH_WEB_ISSUE_MESSAGE_RANGE_QUERY:3610,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST:3700,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_BEGIN:3701,LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_FAILURE:3702,LABYRINTH_WEB_UPLOAD_THREAD_NOT_PRESENT:3703,LABYRINTH_WEB_UPLOAD_THREAD_PRESENT:3704,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_UNSUCCESSFUL:3705,LABYRINTH_WEB_UPLOAD_GET_SENDER_INFO_SUCCESSFUL:3706,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NULL:3707,LABYRINTH_WEB_UPLOAD_CONTACT_NAME_NOT_NULL:3708,LABYRINTH_WEB_UPLOAD_GET_RECEIPT_STATUS_LIST_SUCCESSFUL:3709,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NULL:3710,LABYRINTH_WEB_UPLOAD_GET_SENDER_DISPLAY_NAME_FOR_QUOTED_MSG_NOT_NULL:3711,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_SUCCESSFUL:3712,LABYRINTH_WEB_UPLOAD_XMA_DATA_UPLOAD_UNSUCCESSFUL:3713,LABYRINTH_WEB_UPLOAD_INVALID_MSG_TYPE_FOR_MEDIA_TYPE:3714,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_TRUE:3715,LABYRINTH_WEB_UPLOAD_IS_MEDIA_MSG_FALSE:3716,LABYRINTH_WEB_UPLOAD_UNSUPPORTED_MEDIA_TYPE:3717,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ID_FOUND_IN_MEDIA_MSG:3718,LABYRINTH_WEB_UPLOAD_NO_MEDIA_ENTRY_FOR_MEDIA_ID:3719,LABYRINTH_WEB_UPLOAD_GET_REACTION_DATA_SUCCESSFUL:3720,LABYRINTH_WEB_UPLOAD_GET_QUOTE_MSG_SUCCESSFUL:3721,LABYRINTH_WEB_UPLOAD_GET_QUOTE_SENDER_NAME_SUCCESSFUL:3722,LABYRINTH_WEB_UPLOAD_FB_ID_NULL_FOR_XMA_MSG:3723,LABYRINTH_WEB_UPLOAD_GET_XMA_DATA_SUCCESSFUL:3724,LABYRINTH_WEB_UPLOAD_NO_XMA_DB_ENTRY_FOR_EXTERNAL_ID:3725,LABYRINTH_WEB_UPLOAD_ECHO_MESSAGE_CREATION_SUCCESSFUL:3726,LABYRINTH_WEB_UPLOAD_MISSING_MEDIA_DATA_FOR_MEDIA_MSG:3727,LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC:3728,LABYRINTH_WEB_UPLOAD_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3729,LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED:3730,LABYRINTH_WEB_GET_BACKUP_TENANCY:3731,LABYRINTH_WEB_UPLOAD_ERROR_OCCURRED_ON_ISSUE_MESSAGE_UPLOAD_UI_EVENT:3739,LABYRINTH_WEB_UPLOAD_XMA_NOT_FOUND_IN_IDB:3740,LABYRINTH_WEB_UPLOAD_MEDIA_NOT_FOUND_FOR_XMA_IN_IDB:3741,LABYRINTH_WEB_UPLOAD_INVALID_ECHO_MESSAGE_SERIALIZATION_RESPONSE:3742,LABYRINTH_WEB_UPLOAD_DUPLICATE_REQUEST:3743,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MSG:3744,LABYRINTH_WEB_RETROACTIVE_BACKUPS_START_UPLOAD_MEDIA:3745,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MSG_ERROR:3746,LABYRINTH_WEB_RETROACTIVE_BACKUPS_UPLOAD_MEDIA_ERROR:3747,LABYRINTH_WEB_UPLOAD_XMA_DATA_IS_NULL:3748,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_NOT_IN_DB:3749,LABYRINTH_WEB_UPLOAD_REPLIED_MESSAGE_IN_DB:3750,MQTT_STATE_DISCONNECTED_EVENT:10000001,MQTT_STATE_CONNECTED_EVENT:10000002,APP_STATEBACKGROUND:10000003,APP_STATEFOREGROUND:10000004,MQTT_STATE_CONNECTING_EVENT:10000005,GLOBAL_CONNECTIVITY_BANNER_DISPLAY:10000006,GLOBAL_CONNECTIVITY_BANNER_VANISH:10000007,SWITCH_ACCOUNT_EVENT:10000008,ADVANCED_CRYPTO_MEM_WA_CONNECTION_DISCONNECTED_EVENT:10001205,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTING_EVENT:10001206,ADVANCED_CRYPTO_MEM_WA_CONNECTION_CONNECTED_EVENT:10001207});f["default"]=a}),66);
__d("LSDataTraceType",[],(function(a,b,c,d,e,f){a=Object.freeze({TASK:1,SYNC:2,RECEIVE_MSG:3,RICH_MEDIA_SEND:4,RICH_MEDIA_DOWNLOAD:5,TASK_CLIENT_MODE:6,ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS:69,ENCRYPTED_BACKUPS_INIT:70,ENCRYPTED_BACKUPS_ADD_DEVICE:71,ENCRYPTED_BACKUPS_UPLOAD:72,ENCRYPTED_BACKUPS_RESTORE:73,ENCRYPTED_BACKUPS_DELETE_BACKUP:75,ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE:76,ENCRYPTED_BACKUPS_QR_ADD_DEVICE:77,ENCRYPTED_BACKUPS_SYNC_EPOCHS:78,ENCRYPTED_BACKUPS_OPEN_EPOCH:79,ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP:80,ENCRYPTED_BACKUPS_MEDIA_BACKUP:81,ENCRYPTED_BACKUPS_MEDIA_RESTORE:82,ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION:83,ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA:86,ENCRYPTED_BACKUPS_REMOVE_VIRTUAL_DEVICE:87,ENCRYPTED_BACKUPS_QR_ADD_DEVICE_RECEIVER:88,ENCRYPTED_BACKUPS_DERIVE_AND_STORE_EPOCHS:89,ENCRYPTED_BACKUPS_GET_OPEN_EPOCH_KEYS:90,ENCRYPTED_BACKUPS_END_TO_END_THREAD_RESTORE:190,SAP_VESTA_REGISTRATION:251,SAP_VESTA_LOGIN:252,ENCRYPTED_BACKUPS_SHADOW_FETCH_BACKUP_STATUS:197,ENCRYPTED_BACKUPS_SHADOW_INIT:198,ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE:199,ENCRYPTED_BACKUPS_SHADOW_UPLOAD:200,ENCRYPTED_BACKUPS_SHADOW_RESTORE:201,ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP:203,ENCRYPTED_BACKUPS_SHADOW_CREATE_EXTRA_VIRTUAL_DEVICE:204,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE:205,ENCRYPTED_BACKUPS_SHADOW_SYNC_EPOCHS:206,ENCRYPTED_BACKUPS_SHADOW_OPEN_EPOCH:207,ENCRYPTED_BACKUPS_SHADOW_QR_ADD_DEVICE_RECEIVER:216,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_UPSERT_VERSION_DATA:240,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_DELETE_VERSION_DATA:241,ENCRYPTED_BACKUPS_ENCRYPTION_VERSIONING_SYNC_VERSION_DATA:242,ENCRYPTED_BACKUPS_MESSAGE_INTEGRITY_CHECKER:243});f["default"]=a}),66);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743851");b=d("FalcoLoggerInternal").create("ls_data_trace",a);e=b;g["default"]=e}),98);
__d("LSDataTraceFlush",["ArmadilloDataTraceType","I64","LSDataTraceType","LSIntEnum","LsDataTraceFalcoEvent","ODS","ReQL","clearTimeout","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||(h=d("I64"))).of_string("120000"),l=h.of_string("600000"),m=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function n(a,b,c){var e=a.length;if(e===0)return[(h||(h=d("I64"))).neg_one,h.neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!=null});e=e==null?void 0:e.errorMessage;a=a[a.length-1|0];var f=(h||(h=d("I64"))).of_float(Date.now()),g=a.timestampMs,i=h.compare(h.sub(f,c),k)>=0;return!b&&i?[(h||(h=d("I64"))).sub(f,c),a.checkPointId,g,e,"trace expired"]:[h.sub(g,c),a.checkPointId,g,e,e]}function o(a){return a.reduce(function(a,b,c){var e,f=(h||(h=d("I64"))).to_string(b.checkPointId),g=b.timestampMs;e=h.to_string((e=b.syncChannel)!=null?e:(h||(h=d("I64"))).neg_one);b=b.tags;b=b!=null?","+b:"";if(c===0)a.pointsList="".concat("(",f,",",e,b,")");else{c=String((h||(h=d("I64"))).to_int32(h.sub(g,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",c,"-(",f,",",e,b,")")}a.lastCheckPointTimestamp=g;return a},{lastCheckPointTimestamp:(h||(h=d("I64"))).zero,pointsList:""}).pointsList}var p=h.of_string("2");function q(a){var b=a.traceType;b=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").TASK))?"send":(h||(h=d("I64"))).equal(b,d("ArmadilloDataTraceType").armadilloMessageSend)?"armadillo send":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":a.contextTwo;return b}function r(a,b){var e=b.traceId,f=b.shouldFlush,g=q(b),i=b.traceType,j=(h||(h=d("I64"))).equal(i,d("ArmadilloDataTraceType").armadilloMessageSend)?"tam_message_send":b.contextOne,k=(h||(h=d("I64"))).equal(b.traceType,p)?void 0:b.predefinedId,l=b.initTimestampMs;return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_addon.index("traceIdAddonId")).getKeyRange(e)).then(function(a){var b=n(a,f,l),i=b[0],m=b[1],p=b[3],q=b[4],r=a.length,s=o(a);c("LsDataTraceFalcoEvent").log(function(){return{check_point_count:(h||(h=d("I64"))).to_string(h.of_int32(r)),check_point_list:s,client_event_ts:h.to_string(h.of_float(Date.now())),cold_start_time:void 0,data_trace_id:e,database_id:j,delivered_messages:void 0,error_message:q,first_error_message:p,has_backgrounded:!1,last_check_point:h.to_string(m),latency:h.to_string(i),media_type:void 0,num_of_attachments:void 0,persisted_metadata:void 0,predefined_id:k,sent_rich_media_messages:void 0,sent_text_messages:void 0,start_time:h.to_string(l),trace_flow:g!=null?g:""}})}).then(function(){return a.data_trace_meta.delete(e)})}function a(a,b){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(b)).then(function(b){if(b!=null)return r(a,b);else return Promise.resolve()})}var s={contents:void 0};function t(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.data_trace_meta.index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:d("ReQL").key((h||(h=d("I64"))).sub(h.of_float(Date.now()),k))})).then(function(a){if(c("gkx")("23914")){var b=(h||(h=d("I64"))).of_float(Date.now());return a.filter(function(a){var c=q(a);if(c!=null&&m.has(c)){c=(h||(h=d("I64"))).compare(h.sub(b,a.initTimestampMs),l)>=0;return c}return!0})}return a})}async function u(a){var b=await t(a.tables);if(b.length===0)return;return a.runInTransaction(function(a){return t(a).then(function(b){return Promise.all(b.map(function(b){return r(a,b)}))})},"readwrite",void 0,void 0,f.id+":310")}function v(){var a=s.contents;if(a!=null){c("clearTimeout")(a);return}}function w(a){c("promiseDone")(u(a),function(){v();var b=c("setTimeout")(function(){w(a)},6e4);s.contents=b},function(){v(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_trace","error")});return v}b=a;e=w;a={flush:b,flushExpiredDataTraces:e};g.default=a}),98);
__d("LSEncryptedBackupsClientRestoreState",[],(function(a,b,c,d,e,f){a=Object.freeze({RESTORE_IN_PROGRESS:1,RESTORE_COMPLETE:2});f["default"]=a}),66);
__d("ReQLTable",[],(function(a,b,c,d,e,f){"use strict";async function a(a,b,c){var d=await a.get.apply(a,b);c=c(d);await a.upsert(b,c)}f.update=a}),66);
__d("updateAndFlushLSDataTrace",["FBLogger","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSFactory","LSIntEnum","Promise","ReQLTable","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=c("requireDeferred")("LSDataTraceFlush").__setRef("updateAndFlushLSDataTrace");function a(a,e){return e==null?(j||(j=b("Promise"))).resolve():c("LSAppendDataTraceAddonStoredProcedure")(c("LSFactory")(a),{checkPointId:(h||(h=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").CLIENT_READY_TO_FLUSH),dataTraceId:e,syncChannel:(i||(i=d("I64"))).neg_one}).then(function(){return d("ReQLTable").update(a.data_trace_meta,[e],function(a){if(a!=null)return{contextOne:a.contextOne,contextThree:a.contextThree,contextTwo:a.contextTwo,foregroundTimestampMs:a.foregroundTimestampMs,initTimestampMs:a.initTimestampMs,predefinedId:a.predefinedId,shouldFlush:!0,traceId:a.traceId,traceType:a.traceType};else throw c("FBLogger")("messenger_web").mustfixThrow('Data trace is missing, id: "%s"',e)}).then(function(){return k.load().then(function(b){return b.flush(a,e)})})})}g["default"]=a}),98);
__d("LSFlushDataTrace.nop",["MetaConfig","Promise","ReQL","updateAndFlushLSDataTrace"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(a,e,f){return!c("MetaConfig")._("62")?(h||(h=b("Promise"))).resolve():d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.data_trace_meta).getKeyRange(f)).then(function(d){if(d!=null)return c("updateAndFlushLSDataTrace")(a,f);else return(h||(h=b("Promise"))).resolve()})};a.__nop_name__="LSFlushDataTrace";g["default"]=a}),98);
__d("XmaEventsE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1399");b=d("FalcoLoggerInternal").create("xma_events_e2ee",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("BDSignalBufferData",[],(function(a,b,c,d,e,f){"use strict";a={};b=a;f["default"]=b}),66);
__d("SignalValueContext",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.cn=a}var b=a.prototype;b.getSignalValueContextName=function(){return this.cn};return a}();f["default"]=a}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.signalType=a}var b=a.prototype;b.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")};b.executeAsyncSignalCollection=async function(){var a=await this.executeSignalCollection();return a};a.getSanitizedURI=function(){var a=window.location.href,b=a.indexOf("?");return b<0?a:a.substring(0,b)};b.getContext=function(){return new(c("SignalValueContext"))(a.getSanitizedURI())};b.throwIfNotInitialized=function(){if(!(this.signalType in c("BDSignalBufferData")))throw new Error("Signal is not intialized")};return a}();g.default=a}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(a,b,c,d,e,f,g){"use strict";a="biometric_signal_collected";b=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.listenForSignals=function(){throw c("err")("Child class responsibility to implement listenForSignals")};d.executeSignalCollection=function(){throw c("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")};return b}(c("BDSignalCollectorBase"));g.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=a;g.BDBiometricSignalCollectorBase=b}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.signalFlags=a,this.signalType=b}var b=a.prototype;b.getSignalCollector=function(){return c("SignalCollectorMap").get(this.signalType)};b.getBufferConfig=function(){return c("BDSignalBufferData")[this.signalType]};return a}();g["default"]=a}),98);
__d("BDLoggingConstants",[],(function(a,b,c,d,e,f){"use strict";a={ERROR:"error",WARNING:"warning",INFO:"info"};b={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"};c="JS";f.LEVELS=a;f.OPERATIONS=b;f.COMPONENT_NAME=c}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").BASIC,a)};c.logVital=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,b("Banzai").VITAL,a)};c.logImmediately=function(a){b("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},a)};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setBdSessionID=function(a){this.$1.bd_session_id=a;return this};c.setComponent=function(a){this.$1.component=a;return this};c.setDurationUs=function(a){this.$1.duration_us=a;return this};c.setExceptionMessage=function(a){this.$1.exception_message=a;return this};c.setExceptionStackTrace=function(a){this.$1.exception_stack_trace=a;return this};c.setExceptionType=function(a){this.$1.exception_type=a;return this};c.setIntValue=function(a){this.$1.int_value=a;return this};c.setLevel=function(a){this.$1.level=a;return this};c.setOperation=function(a){this.$1.operation=a;return this};c.setOperationInfo=function(a){this.$1.operation_info=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setSessionlets=function(a){this.$1.sessionlets=b("GeneratedLoggerUtils").serializeVector(a);return this};return a}();c={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};f["default"]=a}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.INFO,b,c,e)}function b(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.WARNING,b,c,e)}function e(a,b,c,e){h(a,d("BDLoggingConstants").LEVELS.ERROR,b,c,e)}function h(a,b,e,f,g){f===void 0&&(f={});if(d("Random").coinflip(i(e))){if(f===null)throw new Error("opeartion info null");f.source=a;new(c("BDOperationTypedLogger"))().setLevel(b).setDurationUs(g).setOperation(e).setComponent(d("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(f).log()}}function i(a){var b=d("BDLoggingConstants").OPERATIONS;switch(a){case b.APPEND_SIGNAL:case b.HB_COLLECTED:case b.GET_LOCAL_STORAGE_ERROR:case b.WEB_STORAGE:case b.SIGNAL_NOT_IMPLEMENTED:case b.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}g.logInfo=a;g.logWarning=b;g.logError=e;g.log=h;g.getFlipSamplingByOperation=i}),98);
__d("SignalErrorValueTypeDef",[],(function(a,b,c,d,e,f){"use strict";var g="ec",h="en",i="es",j=500;a=function(){function a(a,b,c){this.$1=a,this.$2=b,c!=null&&(this.$3=c.substr(0,j))}var b=a.prototype;b.getErrorCode=function(){return this.$1};b.getErrorName=function(){return this.$2};b.getErrorDetails=function(){return this.$3};b.isEqual=function(a){return this.$1===a.getErrorCode()&&this.$3===a.getErrorDetails()&&this.$2===a.getErrorName()};b.toJSON=function(){var a={};a[g]=this.$1;switch(this.$1){case 0:a[h]=this.$2;a[i]=this.$3;break}return a};return a}();f.SignalErrorValueTypeDef=a}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalValueTypeDef",i="t",j="ctx",k="v",l="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"};a=function(){function a(a,b,c,d,e){this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e!=null?e:0}var b=a.prototype;b.getTimeStampMS=function(){return this.$1};b.getSignalContext=function(){return this.$2};b.getSignalValue=function(){return this.$3};b.getSignalValueType=function(){return this.$4};b.isEqual=function(a,b){if(a==null){d("BDOperationLogHelper").logWarning(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL);return!1}if(this.getSignalValueType()!==a.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&a.getSignalValueType()===m.ERROR)return this.equalValue(a);var c=!1;b.has(128)&&(c=this.equalValue(a));b.has(256)&&(c=c&&this.getSignalContext()!=null&&a.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===a.getSignalContext().getSignalValueContextName());b.has(512)&&(c=c&&Math.abs(this.getTimeStampMS()-a.getTimeStampMS())<=this.$5);return c};b.equalValue=function(a){if(this.isPrimitiveType())return this.getSignalValue()===a.getSignalValue();throw new Error("Must implement in the subclasses")};b.toJSON=function(a){var b={};a&&(b[i]=this.$1/1e3,this.$2!=null&&(b[j]=this.$2));this.$3==null?b[l]=new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(2):this.addValueOrErrorToJSON(b);return b};b.addValueOrErrorToJSON=function(a){if(this.isPrimitiveType())a[k]=this.$3;else throw new Error("Must implement in the subclasses")};b.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}};return a}();g.BD_VALUE=k;g.BD_ERROR=l;g.VALUE_TYPES=m;g.SignalValueTypeDef=a}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){if(navigator.connection!=null&&navigator.connection.rtt!=null){var a=navigator.connection.rtt;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.connection.rtt not supported"));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30004,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.equalValue=function(a){return this.getSignalValue().isEqual(a.getSignalValue())};c.addValueOrErrorToJSON=function(a){a[d("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()};return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("HeartbeatObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.isAppForeground=!0}var b=a.prototype;b.toJSON=function(){return{f:this.isAppForeground}};b.isEqual=function(a){return!1};return a}();f["default"]=a}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatObject"))());return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:38e3,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("KeyDownUpObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.action=null,this.key_code=null,this.action=a,this.key_code=b}var b=a.prototype;b.toJSON=function(){return{action:this.action,key_code:this.key_code}};b.isEqual=function(b){return b instanceof a?this.action===b.action&&this.key_code===b.key_code:!1};return a}();f["default"]=a}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){var a=this;c("gkx")("21049")&&(document.addEventListener("keydown",function(b){return a.collectSignals(2)}),document.addEventListener("keyup",function(b){return a.collectSignals(1)}))};e.collectSignals=function(a){a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("KeyDownUpObject"))(a,0));a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),i=null,j={signalType:30100,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("StringArrayObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.strings=[],this.strings=a}var b=a.prototype;b.toJSON=function(){return this.strings};b.isEqual=function(b){if(!(b instanceof a))return!1;if(b.strings===this.strings)return!0;if(b.strings.length!==this.strings.length)return!1;for(var c=0;c<this.strings.length;c++)if(this.strings[c]!==b.strings[c])return!1;return!0};return a}();f["default"]=a}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=[].concat(navigator.languages);a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("StringArrayObject"))(a));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30003,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.mimeTypes?navigator.mimeTypes.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30002,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h="BDTouchOrMouseSignalCollectorBase";a=function(a){function b(b,c,d){var e;e=a.call(this,b)||this;e.eventsToSubscribe=[];e.pauseTimeout=60*60*1e3;e.eventsToSubscribe=c;e.pauseTimeout=d;e.handler=function(a){return e.collectSignals(a)};return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.listenForSignals=function(){this.collectSignals(),this.addListeners()};e.addListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){try{document.addEventListener(b,a.handler)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{e:a})}})};e.pauseListeners=function(){var a=this;this.eventsToSubscribe.forEach(function(b){document.removeEventListener(b,a.handler)});window.setTimeout(function(){return a.addListeners()},this.pauseTimeout)};e.collectSignals=function(a){a=a!=null;a&&this.pauseListeners();a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);a={signalId:this.signalType,data:{valueOrError:a}};window.dispatchEvent(new CustomEvent(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))};return b}(d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);g["default"]=a}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(a){function b(){return a.call(this,k.signalType,["mousedown","mousemove"],h)||this}babelHelpers.inheritsLoose(b,a);return b}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30106,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,e){return a.call(this,b,c,e,d("SignalValueTypeDef").VALUE_TYPES.STRING)||this}babelHelpers.inheritsLoose(b,a);return b}(d("SignalValueTypeDef").SignalValueTypeDef);g["default"]=a}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.appVersion;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30013,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=navigator.hardwareConcurrency)!=null?a:0);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30018,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30093,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeAsyncSignalCollection=async function(){try{if(navigator.permissions){var a=await navigator.permissions.query({name:"notifications"});a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a.state)}else a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.permissions not supported"))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30008,get:function(){i==null&&(i=new h());return i}};a=j;g.default=a}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30015,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=function(a){function b(){return a.call(this,k.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){var a=null;try{var b=navigator.plugins?navigator.plugins.length:0,e=new Set();for(var f=0;f<b;f++){var g=navigator.plugins[f].filename;if(!g)continue;var i=g.indexOf(".");if(i==-1||i==g.length-1)continue;e.add(g.substr(i+1));if(e.size>=h)break}e.size&&(a=new(c("StringArrayObject"))(Array.from(e)))}catch(b){a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"navigator.plugins is not defined"))}return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),j=null,k={signalType:30019,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30094,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.vendor;a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30012,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.executeSignalCollection=function(){var a;window.Notification?a=new(c("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):a=new(c("ErrorSignalValueType"))(Date.now(),this.getContext(),new(d("SignalErrorValueTypeDef").SignalErrorValueTypeDef)(3,"Notification not supported"));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30007,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=navigator.plugins?navigator.plugins.length:-1;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a;a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),(a=new Date().getTimezoneOffset())!=null?a:999);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30040,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(a,b,c,d,e,f,g){"use strict";var h=60*60*1e3,i=function(a){function b(){return a.call(this,k.signalType,["touchstart","touchcancel"],h)||this}babelHelpers.inheritsLoose(b,a);return b}(c("BDTouchOrMouseSignalCollectorBase")),j=null,k={signalType:30107,get:function(){j==null&&(j=new i());return j}};a=k;g["default"]=a}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=!!navigator.webdriver;a=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:3e4,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=document.createElement("canvas"),b=null;try{b=a.getContext("webgl")||a.getContext("experimental-webgl")}catch(a){}a=Boolean(b);b=new(c("BooleanSignalValueType"))(Date.now(),this.getContext(),a);return{valueOrError:b}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30022,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30095,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("DimensionObject",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.width=null,this.height=null,this.width=a,this.height=b}var b=a.prototype;b.toJSON=function(){return{w:this.width,h:this.height}};b.isEqual=function(b){if(b instanceof a)return this.width===b.width&&this.height===b.height;else return!1};return a}();f["default"]=a}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=window.innerHeight,b=window.innerWidth;b=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("DimensionObject"))(b,a));return{valueOrError:b}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:30005,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(a,b,c,d,e,f,g){"use strict";a={get:function(a){switch(a){case 3e4:return c("BDWebdriverSignalCollector").get();case 30001:return c("BDPluginCountSignalCollector").get();case 30002:return c("BDMimeTypeCountSignalCollector").get();case 30003:return c("BDLanguagesSignalCollector").get();case 30004:return c("BDConnectionRTTSignalCollector").get();case 30005:return c("BDWindowOuterDimensionSignalCollector").get();case 30007:return c("BDNotificationPermissionSignalCollector").get();case 30008:return c("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return c("BDNavigatorVendorSignalCollector").get();case 30013:return c("BDNavigatorAppVersionSignalCollector").get();case 30015:return c("BDNavigatorPlatformSignalCollector").get();case 30018:return c("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return c("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return c("BDWebglSupportSignalCollector").get();case 30040:return c("BDTimezoneOffsetSignalCollector").get();case 30093:return c("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return c("BDNavigatorUserAgentSignalCollector").get();case 30095:return c("BDWindowHistoryLengthSignalCollector").get();case 30100:return c("BDKeyDownUpSignalCollector").get();case 30106:return c("BDMousePresenceSignalCollector").get();case 30107:return c("BDTouchPresenceSignalCollector").get();case 38e3:return c("BDHeartbeatSignalCollector").get();case 38001:return c("BDHeartbeatV2SignalCollector").get()}}};b=a;g["default"]=b}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;c.id="";c.id=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.toJSON=function(){return{f:this.isAppForeground,id:this.id}};return b}(c("HeartbeatObject"));g["default"]=a}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){function b(){return a.call(this,j.signalType)||this}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.executeSignalCollection=function(){var a=new(c("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(c("HeartbeatV2Object"))(c("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:a}};return b}(c("BDSignalCollectorBase")),i=null,j={signalType:38001,get:function(){i==null&&(i=new h());return i}};a=j;g["default"]=a}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(a,b,c,d,e,f,g){"use strict";var h="BDClientConfig",i=function(){function a(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map(),this.heartbeatSignal=new(c("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var b=a.prototype;b.setStaticSignalBufferSize=function(a){a>0?this.staticSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"s"});return this};b.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize};b.setDynamicSignalBufferSize=function(a){a>1?this.dynamicSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"d"});return this};b.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize};b.setBiometricSignalBufferSize=function(a){a>1?this.biometricSignalBufferSize=a:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:a.toString(),type:"b"});return this};b.setSID=function(a){this.sid=a;return this};b.setHeartbeatVersion=function(a){this.hbVersion=a;return this};b.getHeartbeatVersion=function(){return this.hbVersion};b.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize};b.setConfigGenerationTimeStamp=function(a){this.signalConfigGenerationTimeStampMs=a;return this};b.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs};b.setHeartbeatIntervalMinutes=function(a){this.heartbeatIntervalMs=a*60*1e3;return this};b.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs};b.setSuspiciousTiersFlushDurationMinutes=function(a){a>0?this.suspiciousTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fds"});return this};b.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs};b.setAllTiersFlushDurationMinutes=function(a){a>0?this.allTiersFlushDurationMs=a*60*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"fda"});return this};b.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs};b.addMultipleSignalsToClientConfig=function(a){var b=this;a.forEach(function(a){return b.addSignalToClientConfig(a)});return this};b.addSignalToClientConfig=function(a){var b=a.getSignalFlags(),d=a.getSignalId();if(d===38e3)return this;var e=new(c("BDSignalWrapper"))(b,d);if(d===38001){this.heartbeatSignal=e;return this}!b.includes(2)?this.staticSignals.push(e):b.includes(4)?this.biometricSignals.push(e):this.dynamicSignals.push(e);a.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[a.getSignalId()]=a.getBufferSize());return this};b.setPeriodicCollectionIntervalSeconds=function(a){a>0?this.periodicCollectionIntervalMs=a*1e3:d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:a.toString(),type:"pi"});return this};b.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs};b.getDynamicSignals=function(){return this.dynamicSignals};b.getStaticSignals=function(){return this.staticSignals};b.getBiometricSignals=function(){return this.biometricSignals};b.getBiometricSignalsMap=function(){this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(a,b){return a.set(b.signalType,b)},new Map()));return this.biometricSignalsMap};b.getHeartbeatSignal=function(){return this.heartbeatSignal};b.getBufferSizeBySignalId=function(a){return this.bufferSizeBySignalIdMap[a]};b.setParsingDone=function(a){this.parsingDone=a};b.isParsingDone=function(){return this.parsingDone};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g["default"]=b}),98);
__d("BDCollectionTypeEnum",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});f["default"]=a}),66);
__d("BotDetection_SignalFlags",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});f["default"]=a}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerSignalConfig";a=function(){function a(a,b,c){this.parsedSignalFlags=[],this.signalId=a,this.signalFlags=b,this.bufferSize=c}var b=a.prototype;b.getSignalId=function(){return this.signalId};b.getSignalFlags=function(){var a=this;if(this.parsedSignalFlags.length===0){var b=Object.keys(c("BotDetection_SignalFlags"));b.forEach(function(b){(c("BotDetection_SignalFlags")[b]&a.signalFlags)===c("BotDetection_SignalFlags")[b]&&a.parsedSignalFlags.push(c("BotDetection_SignalFlags")[b])})}this.parsedSignalFlags.length===0&&d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()});return this.parsedSignalFlags};b.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0};return a}();g["default"]=a}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="BDServerConfig";function a(a){var b=[];try{var e=JSON.parse(a.sc),f=new Map(e.c);f.forEach(function(a,d){return b.push(new(c("BDServerSignalConfig"))(d,a))});if(f.size===0){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}f=c("BDClientConfig").get();f.setPeriodicCollectionIntervalSeconds(a.i).addMultipleSignalsToClientConfig(b).setConfigGenerationTimeStamp(e.t).setAllTiersFlushDurationMinutes(a.fda).setSuspiciousTiersFlushDurationMinutes(a.fds).setHeartbeatIntervalMinutes(a.hbi).setStaticSignalBufferSize(a.sbs).setDynamicSignalBufferSize(a.dbs).setBiometricSignalBufferSize(a.bbs).setSID(a.sid).setHeartbeatVersion(a.hbv).setParsingDone(!0)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:a})}}g.parseConfig=a}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(a,b,c,d,e,f,g){"use strict";var h="BDSignalBuffer";function a(a,b,d){if(a in c("BDSignalBufferData"))return;var e=1;b!==void 0&&(e=b);c("BDSignalBufferData")[a]={values:[],max_buffer_size:e,signal_flags:d!=null?d:[]}}function i(a){if(a in c("BDSignalBufferData"))c("BDSignalBufferData")[a].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function b(a,b){if(a in c("BDSignalBufferData")){var e=c("BDSignalBufferData")[a],f=e.max_buffer_size;e.values.length>=f&&e.values.shift();e.values.push(b);d("BDOperationLogHelper").logInfo(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:a.toString()})}else{d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:a.toString()});throw new Error("Tried to append signal that was not intialized:")}}function e(){var a=c("BDClientConfig").get();a=a.getBiometricSignals();a.forEach(function(a){a.signalType in c("BDSignalBufferData")&&i(a.signalType)})}function f(a){var b;a=c("BDSignalBufferData")[a];var d=a==null||(b=a.values)==null?void 0:b.length;return d!=null&&d>0?a.values[d-1]:{valueOrError:void 0}}function j(a){return c("BDSignalBufferData")[a].values}function k(a){var b={};for(a of a)a in c("BDSignalBufferData")&&(b[a]=j(a).map(function(a){return a.valueOrError}));return b}function l(a){a=m(a);return JSON.stringify(k(a))}function m(a){var b=c("BDClientConfig").get(),d=[];a.forEach(function(a){switch(a){case c("BDCollectionTypeEnum").STATIC:d=[].concat(d,b.getStaticSignals());break;case c("BDCollectionTypeEnum").DYNAMIC:d=[].concat(d,b.getDynamicSignals());break;case c("BDCollectionTypeEnum").BIOMETRIC:d=[].concat(d,b.getBiometricSignals());break}});return d.map(function(a){return a.signalType})}g.initialize=a;g.clearBuffer=i;g.appendSignal=b;g.clearBiometricSignals=e;g.getLastSignalFormatBySignalId=f;g.retrieveSignal=j;g.retrieveSignals=k;g.getSignalsAsJSONString=l;g._getSignalIdsByCollectionType=m}),98);
__d("BDUtils",[],(function(a,b,c,d,e,f){"use strict";function a(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=Math.random()*16|0;a=a=="x"?b:b&3|8;return a.toString(16)})}f.uuid=a}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743095");b=d("FalcoLoggerInternal").create("bd_pdc_signals",a);e=b;g["default"]=e}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(a,b,c,d,e,f,g){"use strict";var h="SignalCollectionManager",i=function(){function a(){var a=this;this.$1=!1;this.$6=function(b){if(b instanceof CustomEvent&&b.detail!=null&&b.detail.data!=null){var d=c("BDClientConfig").get().getBiometricSignalsMap().get(b.detail.signalId);d!=null&&a.$4(b.detail.data,d)}}}var b=a.prototype;b.collectSignals=async function(a){var b=this,c=[];a.forEach(function(a){a.signalFlags.includes(4)?b.$2(a):c.push(b.$3(a))});await Promise.all(c)};b.isEqualToLastCollectedSignal=function(a,b){var c=d("BDSignalBuffer").getLastSignalFormatBySignalId(b.signalType);return c.valueOrError==void 0?!1:a.isEqual(c.valueOrError,new Set(b.signalFlags))};b.getCircularBufferSize=function(a){var b=c("BDClientConfig").get(),d=b.getBufferSizeBySignalId(a.signalType);if(d!=null&&b.getBufferSizeBySignalId(a.signalType)>0)return d;if(!a.signalFlags.includes(2))return b.getStaticSignalBufferSize();else if(a.signalFlags.includes(4))return b.getBiometricSignalBufferSize();else return b.getDynamicSignalBufferSize()};b.$3=async function(a){var b=a.getSignalCollector();if(b!=null)try{b=await b.executeAsyncSignalCollection();this.$4(b,a)}catch(a){d("BDOperationLogHelper").logError(h,d("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a})}};b.$2=function(a){this.$5();a=a.getSignalCollector();a!=null&&a instanceof d("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&a.listenForSignals()};b.$5=function(){if(this.$1)return;window.addEventListener(d("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6);this.$1=!0};b.$4=function(a,b){b.getBufferConfig()==null&&d("BDSignalBuffer").initialize(b.signalType,this.getCircularBufferSize(b),b.signalFlags),a.valueOrError&&!this.isEqualToLastCollectedSignal(a.valueOrError,b)&&d("BDSignalBuffer").appendSignal(b.signalType,a)};return a}(),j=null;a={get:function(){j==null&&(j=new i());return j}};b=a;g.default=b}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","javascript-blowfish"],(function(a,b,c,d,e,f,g){"use strict";var h,i="BDClientSignalCollectionTrigger",j="signal_flush_timestamp",k=!1,l=!1,m=!1,n=!1,o=0,p=0,q=0,r=30,s=5,t,u,v=d("BDUtils").uuid(),w=c("BDClientConfig").get(),x=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),y={startSignalCollection:async function(a){w.setSID(a.sid);if(!k){k=!0;d("BDServerConfig").parseConfig(a);if(!w.isParsingDone()){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(a)});k=!1;return}a!=null&&(p=a.hbcbc&&a.hbcbc>0?a.hbcbc:p,q=a.hbvbc&&a.hbvbc>0?a.hbvbc:q,r=a.hbbi&&a.hbbi>0?a.hbbi:r);y.startHeartbeatDelayed();u=new Promise(function(a,b){try{w.getDynamicSignals().length>0&&(y.collectDynamicSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),w.getBiometricSignals().length>0&&(y.collectBiometricSignals(),d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),a()}catch(a){b(a)}});await u;await y.startSignalPosting()}k&&!m&&!n&&s>0&&(s-=1,d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),y.startHeartbeatDelayed())},retrieveSignals:async function(){await u,await y.postSignals([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC,c("BDCollectionTypeEnum").STATIC])},postSignals:async function(a){await y.collectStaticSignals(),y._postSignalsHelper(d("BDSignalBuffer").getSignalsAsJSONString(a),x.NONE)&&y.setTimestampInStorage(Date.now(),j)},_postSignalsHelper:function(a,b){if(a.length<=2)return!1;var e=w.getConfigGenerationTimeStamp(),f=y.encryptDataUsingAsid(v,a);a=function(){return{asid:v,ct:e,sjd:f,sid:w.sid}};var g=!1;try{b===x.CRITICAL?c("BdPdcSignalsFalcoEvent").logCritical(a):b===x.VITAL?c("BdPdcSignalsFalcoEvent").logImmediately(a):c("BdPdcSignalsFalcoEvent").log(a),g=!0}catch(a){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,a),g=!1}finally{return g}},getInitialVector:function(a){if(a.length!==16){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_LENGTH);return""}var b="";for(var c=0;c<8;c++)b+=String.fromCharCode(a.charCodeAt(c)^a.charCodeAt(8+c));return b},encryptDataUsingAsid:function(a,b){if(a.length!==36){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.INVALID_GUID);return b}a=a.slice(19,23)+a.slice(24,36);var e=y.getInitialVector(a);a=new(c("javascript-blowfish"))(a,"cbc");return a.base64Encode(a.encrypt(b,e))},startSignalPosting:async function(){var a=y.getTimestampInStorage(j);a=Date.now()-a;a>=w.getAllTiersFlushDurationMs()?await y.postSignalsIntermittently():window.setTimeout(function(){y.postSignalsIntermittently()},w.getAllTiersFlushDurationMs()-a)},postSignalsIntermittently:function(){y.postSignals([c("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){y.postSignals([c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").BIOMETRIC])},w.getAllTiersFlushDurationMs())},setTimestampInStorage:function(a,b){var e=(h||(h=c("WebStorage"))).getLocalStorage();if(!e){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}e=h.setItemGuarded(e,b,a.toString());e!=null&&d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:e.message})},getTimestampInStorage:function(a){var b=(h||(h=c("WebStorage"))).getLocalStorage();if(!b){d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return 0}b=b.getItem(a);if(b==null)return 0;a=Number.parseInt(b,10);return Number.isFinite(a)?a:0},resetHeartbeatStartedForTest:function(){m=!1,n=!1},startHeartbeatDelayed:function(){if(m||n)return;var a=y.getTimestampInStorage(y.HEARTBEAT_TIMESTAMP_STORAGE_KEY);a=Date.now()-a;try{a>=w.getHeartbeatIntervalMs()?y.startHeartbeat():(window.setTimeout(function(){return y.startHeartbeat()},w.getHeartbeatIntervalMs()-a),n=!0)}catch(b){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:a.toString(),hbi:w.getHeartbeatIntervalMs().toString(),e:b})}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&w.getHeartbeatIntervalMs()>0&&(y.collectHeartbeatTimes(p,q),o!==0&&(window.clearInterval(o),d("BDOperationLogHelper").logWarning(i,d("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),o=window.setInterval(function(){return y.collectHeartbeatTimes(p,q)},w.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(a,b){if(a<=0&&b<=0)return;a>0&&y.collectHeartbeat(x.CRITICAL);b>0&&y.collectHeartbeat(x.VITAL);(a>1||b>1)&&window.setTimeout(function(){return y.collectHeartbeatTimes(a-1,b-1)},r*1e3)},collectHeartbeat:function(a){var b,c=w==null||(b=w.getHeartbeatSignal())==null||(b=b.getSignalCollector())==null?void 0:b.executeSignalCollection();if(c==null){d("BDOperationLogHelper").logError(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:a.toString()});return}else d("BDOperationLogHelper").logInfo(i,d("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:a.toString()});y.postHeartbeat(a,c)&&y.setTimestampInStorage(Date.now(),y.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(a,b){var c={};c[38001]=[b==null?void 0:b.valueOrError];b=JSON.stringify(c);return y._postSignalsHelper(b,a)},collectStaticSignals:async function(){await y.collectSignalsOneTime(w.getStaticSignals())},collectDynamicSignals:function(){y.stopDynamicSignalCollection(),t=window.setInterval(async function(){await y.collectSignalsOneTime(w.getDynamicSignals())},w.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){y.collectSignalsOneTime(w.getBiometricSignals())},stopDynamicSignalCollection:function(){t!=null&&(window.clearInterval(t),t=null)},collectSignalsOneTime:async function(a){await c("SignalCollectionManager").get().collectSignals(a)},startLoginTimeSignalCollection:async function(a){l||(l=!0,d("BDServerConfig").parseConfig(a),await y.collectSignalsOneTime(w.getDynamicSignals()),await y.collectSignalsOneTime(w.getBiometricSignals()),await y.collectSignalsOneTime(w.getStaticSignals()))},getSignalsAsJSONString:function(){return d("BDSignalBuffer").getSignalsAsJSONString([c("BDCollectionTypeEnum").DYNAMIC,c("BDCollectionTypeEnum").STATIC,c("BDCollectionTypeEnum").BIOMETRIC])}};a=y;g.default=a}),98);